(window["webpackJsonpsmartcharts"] = window["webpackJsonpsmartcharts"] || []).push([["chartiq"],{

/***/ "./chartiq/production/index.js":
/*!*************************************!*\
  !*** ./chartiq/production/index.js ***!
  \*************************************/
/*! exports provided: CIQ, SplinePlotter, timezoneJS, $$, $$$, createEngine, customCharts, drawing, easeMachine, equations, i18n, interaction, markers, market, movement, nameValueStore, quoteFeed, series, share, span, storage, studies, symbolLookupBase, theme, timezone, touch, visualization, medianPrice, momentum, priceRelative, vwap, zigzag, aggregations, drawingAdvanced, equationsAdvanced, highPerformanceMarkers, renderersAdvanced, accumulationDistribution, adx, alligator, aroon, atr, awesomeOscillator, balanceOfPower, bollinger, cci, centerOfGravity, chaikin, chande, choppiness, comparisonStudies, coppock, darvasBox, detrended, disparity, easeOfMovement, ehlerFisher, elder, fractalChaos, highLowStudies, ichimoku, intradayMomentum, keltner, klinger, linearRegression, macd, massIndex, moneyFlow, movingAverages, parabolicSAR, pivotPoints, prettyGoodOscillator, priceMomentumOscillator, priceVolumeOscillator, primeNumber, pring, projectedVolume, psychologicalLine, qstick, rainbow, randomWalk, relativeVigor, rsi, schaffTrendCycle, shinohara, stochastics, supertrend, swingIndex, trendIntensity, trix, twiggsMoneyFlow, typicalPrice, ulcerIndex, ultimateOscillator, valuationLines, volatilityIndex, volumeProfile, volumeStudies, vortex, williamsMFI, extendedHours, fullScreen, inactivityTimer, rangeSlider, shortcuts, tableView, tooltip, animation, continuousZoom, outliers, plotComplementer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/chartiq.js */ "./chartiq/production/js/chartiq.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CIQ", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SplinePlotter", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["SplinePlotter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timezoneJS", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["timezoneJS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$$", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$$"]; });

/* harmony import */ var _js_standard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/standard.js */ "./chartiq/production/js/standard.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createEngine", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["createEngine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "customCharts", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["customCharts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "drawing", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["drawing"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "easeMachine", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["easeMachine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "equations", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["equations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "i18n", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["i18n"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "interaction", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["interaction"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "markers", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["markers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "market", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["market"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "movement", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["movement"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "nameValueStore", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["nameValueStore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "quoteFeed", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["quoteFeed"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "series", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["series"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "share", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["share"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "span", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["span"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "storage", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["storage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "studies", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["studies"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "symbolLookupBase", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["symbolLookupBase"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "theme", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["theme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timezone", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["timezone"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "touch", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["touch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "visualization", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["visualization"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "medianPrice", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["medianPrice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "momentum", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["momentum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "priceRelative", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["priceRelative"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "vwap", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["vwap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "zigzag", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_1__["zigzag"]; });

/* harmony import */ var _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./js/advanced.js */ "./chartiq/production/js/advanced.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "aggregations", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["aggregations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "drawingAdvanced", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["drawingAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "equationsAdvanced", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["equationsAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "highPerformanceMarkers", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["highPerformanceMarkers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderersAdvanced", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["renderersAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "accumulationDistribution", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["accumulationDistribution"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "adx", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["adx"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "alligator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["alligator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "aroon", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["aroon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "atr", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["atr"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "awesomeOscillator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["awesomeOscillator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "balanceOfPower", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["balanceOfPower"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bollinger", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["bollinger"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cci", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["cci"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "centerOfGravity", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["centerOfGravity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chaikin", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["chaikin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chande", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["chande"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "choppiness", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["choppiness"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "comparisonStudies", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["comparisonStudies"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "coppock", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["coppock"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "darvasBox", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["darvasBox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "detrended", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["detrended"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "disparity", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["disparity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "easeOfMovement", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["easeOfMovement"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ehlerFisher", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["ehlerFisher"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "elder", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["elder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fractalChaos", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["fractalChaos"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "highLowStudies", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["highLowStudies"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ichimoku", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["ichimoku"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "intradayMomentum", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["intradayMomentum"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "keltner", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["keltner"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "klinger", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["klinger"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "linearRegression", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["linearRegression"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "macd", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["macd"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "massIndex", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["massIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "moneyFlow", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["moneyFlow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "movingAverages", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["movingAverages"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "parabolicSAR", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["parabolicSAR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pivotPoints", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["pivotPoints"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "prettyGoodOscillator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["prettyGoodOscillator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "priceMomentumOscillator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["priceMomentumOscillator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "priceVolumeOscillator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["priceVolumeOscillator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "primeNumber", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["primeNumber"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pring", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["pring"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "projectedVolume", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["projectedVolume"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "psychologicalLine", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["psychologicalLine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "qstick", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["qstick"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rainbow", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["rainbow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "randomWalk", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["randomWalk"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "relativeVigor", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["relativeVigor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rsi", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["rsi"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "schaffTrendCycle", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["schaffTrendCycle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "shinohara", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["shinohara"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stochastics", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["stochastics"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "supertrend", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["supertrend"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "swingIndex", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["swingIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trendIntensity", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["trendIntensity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trix", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["trix"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "twiggsMoneyFlow", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["twiggsMoneyFlow"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "typicalPrice", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["typicalPrice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ulcerIndex", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["ulcerIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ultimateOscillator", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["ultimateOscillator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "valuationLines", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["valuationLines"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "volatilityIndex", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["volatilityIndex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "volumeProfile", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["volumeProfile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "volumeStudies", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["volumeStudies"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "vortex", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["vortex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "williamsMFI", function() { return _js_advanced_js__WEBPACK_IMPORTED_MODULE_2__["williamsMFI"]; });

/* harmony import */ var _js_deprecated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./js/deprecated.js */ "./chartiq/production/js/deprecated.js");
/* empty/unused harmony star reexport *//* harmony import */ var _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./js/addOns.js */ "./chartiq/production/js/addOns.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extendedHours", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["extendedHours"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fullScreen", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["fullScreen"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inactivityTimer", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["inactivityTimer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rangeSlider", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["rangeSlider"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "shortcuts", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["shortcuts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tableView", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["tableView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tooltip", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["tooltip"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "animation", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["animation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "continuousZoom", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["continuousZoom"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "outliers", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["outliers"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "plotComplementer", function() { return _js_addOns_js__WEBPACK_IMPORTED_MODULE_4__["plotComplementer"]; });







/***/ }),

/***/ "./chartiq/production/js/addOns.js":
/*!*****************************************!*\
  !*** ./chartiq/production/js/addOns.js ***!
  \*****************************************/
/*! exports provided: extendedHours, fullScreen, inactivityTimer, rangeSlider, shortcuts, tableView, tooltip, animation, continuousZoom, outliers, plotComplementer, CIQ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extendedHours", function() { return __js_addons_standard_extendedHours_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fullScreen", function() { return __js_addons_standard_fullScreen_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inactivityTimer", function() { return __js_addons_standard_inactivityTimer_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rangeSlider", function() { return __js_addons_standard_rangeSlider_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shortcuts", function() { return __js_addons_standard_shortcuts_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tableView", function() { return __js_addons_standard_tableView_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tooltip", function() { return __js_addons_standard_tooltip_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animation", function() { return __js_addons_advanced_animation_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "continuousZoom", function() { return __js_addons_advanced_continuousZoom_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "outliers", function() { return __js_addons_advanced_outliers_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "plotComplementer", function() { return __js_addons_advanced_plotComplementer_; });
/* harmony import */ var _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/chartiq.js */ "./chartiq/production/js/chartiq.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CIQ", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"]; });

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/

/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/

/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */

/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */

/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */

/*************************************************************************************************************************/

/* eslint-disable no-extra-parens */


var __js_addons_standard_extendedHours_ = function __js_addons_standard_extendedHours_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Use this constructor to initialize filtering and visualization styles of extended hours by the use of shading and delimitation lines.
   *
   * Requires *addOns.js*.
   *
   * This visualization will only work if data for the corresponding sessions is provided from your quote feed and the market definitions have the corresponding entries.
   * See {@link CIQ.Market} for details on how to define extended (non-default) hours.
   *
   * By default all extended hour sessions are disabled unless explicitly enabled using {@link CIQ.ExtendedHours.prepare} or {@link CIQ.ExtendedHours.set}.
   *
   * All possible market sessions needed to be shaded at any given time should be enabled at once with this method.
   *
   * Your fetch should load the required data based on the `params.stx.layout.extended` and `params.stx.layout.marketSessions` settings.
   *
   * Remember that when `params.filter` is set to true, this module performs a filter of already loaded masterData when {@link CIQ.ExtendedHours.set} is invoked,
   * rather than calling {@link CIQ.ChartEngine#loadChart} to reload the data from the server every time you enable or disable this feature.
   * So you must always return all requested sessions on your fetch responses if this flag is set.
   *
   * CSS info:
   * - The styles for the shading of each session is determined by the corresponding CSS class in the form of "stx_market_session."+session_name (Example: `stx_market_session.pre`)
   * - The divider line is determined by the CSS class "stx_market_session.divider".
   *
   * **Important:** This module must be initialized before {@link CIQ.ChartEngine#importLayout} or the sessions will not be able to be restored.
   *
   * Example:
   * <iframe width="800" height="500" scrolling="no" seamless="seamless" align="top"
   *         style="float:top"
   *         src="https://jsfiddle.net/chartiq/g2vvww67/embedded/result,js,html/"
   *         allowfullscreen="allowfullscreen" frameborder="1">
   * </iframe>
   *
   * @param {object} params The constructor parameters.
   * @param {CIQ.ChartEngine} [params.stx] The chart object.
   * @param {boolean} [params.filter] Setting to true performs a filter of masterData when
   * 		{@link CIQ.ExtendedHours.set} is invoked, rather than calling
   * 		{@link CIQ.ChartEngine#loadChart} to reload the data from the server.
   * @param {string} [params.menuContextClass] A CSS class name used to query the menu DOM
   * 		element that contains the UI control for the extended hours add-on. In a multi-chart
   * 		document, the add-on is available only on charts that have a menu DOM element with
   * 		the value for `menuContextClass` as a class attribute.
   *
   * @constructor
   * @name CIQ.ExtendedHours
   * @since
   * - 06-2016-02
   * - 3.0.0 Changed argument to an object to support `filter`.
   * - 3.0.0 No longer necessary to explicitly call new Chart to reload data. Instead call {@link CIQ.ExtendedHours.set} function.
   * - 5.0.0 No longer necessary to explicitly set `stx.layout.marketSessions` or `1stx.layout.extended` to manage sessions; instead call {@link CIQ.ExtendedHours.prepare} or {@link CIQ.ExtendedHours.set}.
   * - 8.0.0 Added `params.menuContextClass`.
   *
   * @example
   * // Call this only once to initialize the market sessions display manager.
   * new CIQ.ExtendedHours({stx:stxx, filter:true});
   *
   * // By default all sessions are disabled unless explicitly enabled.
   * // This forces the extended hours sessions ["pre","post"] to be enabled when the chart is initially loaded.
   * stxx.extendedHours.prepare(true);
   *
   * // Now display your chart.
   * stxx.loadChart(stxx.chart.symbol, {}, function() {});
   *
   * @example
   * // Once your chart is displayed, you can call this from any UI interface to turn on extended hours.
   * stx.extendedHours.set(true);
   *
   * // Or call this from any UI interface to turn off extended hours.
   * stx.extendedHours.set(false);
   *
   * @example
   * // CSS entries for a session divider and sessions named "pre" and "post".
   * .stx_market_session.divider {
   *     background-color: rgba(0,255,0,0.8);
   *     width: 1px;
   * }
   * .stx_market_session.pre {
   *     background-color: rgba(255,255,0,0.1);
   * }
   * .stx_market_session.post {
   *     background-color: rgba(0,0,255,0.2);
   * }
   */

  CIQ.ExtendedHours = CIQ.ExtendedHours || function (params) {
    var stx = params.stx;
    this.filter = params.filter;

    if (!stx) {
      // backwards compatibility
      stx = params;
      this.filter = false;
    }

    var styles = {};
    this.stx = stx;
    this.stx.extendedHours = this;
    this.cssRequired = true;
    stx.addEventListener("theme", function (tObject) {
      // reinitialize the session colors after a theme change
      styles = {};

      for (var sess in stx.layout.marketSessions) {
        if (!styles.session) styles.session = {};
        styles.session[sess] = stx.canvasStyle("stx_market_session " + sess);
      }
    });
    stx.addEventListener("symbolChange", function (tObject) {
      // check if extended hours exists for this security
      if (tObject.action == "master" && stx.layout.extended && !(stx.chart.market.market_def && stx.chart.market.sessions.length)) {
        CIQ.alert("There are no Extended Hours for this instrument.");
      }
    });
    /**
     * Prepares the extended hours settings and classes for the session names enumerated in the arguments without actually displaying or loading the data.
     *
     * This method can be used to force a particular session to load by default by calling it before {@link CIQ.ChartEngine#loadChart}.
     * Otherwise the chart will be loaded with all sessions disabled until {@link CIQ.ExtendedHours.set} is invoked.
     *
     * {@link CIQ.ChartEngine#importLayout} will also call this method to ensure the sessions are restored as previously saved.
     *
     * @param  {boolean} enable Set to turn on/off the extended-hours visualization.
     * @param  {array} sessions The sessions to visualize when enable is true.  Any sessions previously visualized will be disabled.  If set to null, will default to ["pre","post"].
     * @memberof CIQ.ExtendedHours
     * @method prepare
     * @since 5.0.0
     */

    this.prepare = function (enable, sessions) {
      stx.layout.extended = enable;

      for (var sess in stx.layout.marketSessions) {
        styles.session = {};
        stx.chart.market.disableSession(sess);
      }

      stx.layout.marketSessions = {};

      if (enable) {
        if (!sessions) sessions = ["pre", "post"];

        if (sessions.length) {
          for (var s = 0; s < sessions.length; s++) {
            stx.layout.marketSessions[sessions[s]] = true;
          }
        } else {
          stx.layout.marketSessions = sessions;
        }
      }

      for (sess in stx.layout.marketSessions) {
        if (!styles.session) styles.session = {};
        styles.session[sess] = stx.canvasStyle("stx_market_session " + sess);
        stx.chart.market.disableSession(sess, true);
      }
    };
    /**
     * gathers and renders the extended hours for the preset session names enumerated in prepare().
     * @param  {function} cb Optional callback function to be invoked once chart is reloaded with extended hours data.
     * @memberof CIQ.ExtendedHours
     * @method complete
     * @private
     * @since 5.0.0
     */


    this.complete = function (cb) {
      stx.changeOccurred("layout");

      if (!stx.chart.market.market_def) {
        // possibly a 24 hours Market. Not necessarily an error but nothing to do for ExtendedHours
        if (cb) cb();
        return;
      }

      if (this.filter) {
        stx.createDataSet();
        stx.draw();
        if (cb) cb();
      } else {
        stx.loadChart(stx.chart.symbol, cb);
      }
    };
    /**
     * Turns on or off extended hours for the session names enumerated in the arguments.
     * @param  {boolean} enable Set to turn on/off the extended-hours visualization.
     * @param  {array} sessions The sessions to visualize when enable is true.  Any sessions previously visualized will be disabled.  If set to null, will default to ["pre","post"].
     * @param  {function} cb Optional callback function to be invoked once chart is reloaded with extended hours data.
     * @memberof CIQ.ExtendedHours
     * @method set
     */


    this.set = function (enable, sessions, cb) {
      this.prepare(enable, sessions);
      this.complete(cb);
    }; // This injection shades the after hours portion of the chart for each yaxis.
    // Only the panel to which the yaxis belongs will get shading.
    // This means yaxes of overlays will bypass the shading block.


    this.stx.append("drawYAxis", function (panel, parameters) {
      if (!this.layout.extended) return;
      if (panel.yAxis != parameters.yAxis || panel.shareChartXAxis === false || panel.hidden) return;
      var chart = panel.chart;
      if (CIQ.ChartEngine.isDailyInterval(this.layout.interval)) return;
      styles.divider = this.canvasStyle("stx_market_session divider");

      if (styles.session) {
        var m = chart.market;
        var ranges = [];
        var range = {};
        var nextBoundary, thisSession;

        for (var i = 0; i < chart.dataSegment.length; i++) {
          var ds = chart.dataSegment[i];
          if (!ds || !ds.DT) continue;
          var c = null;

          if (m.market_def) {
            if (!nextBoundary || nextBoundary <= ds.DT) {
              thisSession = m.getSession(ds.DT);
              var filterSession = thisSession !== "" && (!this.layout.marketSessions || !this.layout.marketSessions[thisSession]);
              nextBoundary = m[filterSession ? "getNextOpen" : "getNextClose"](ds.DT);
            }
          }

          var s = styles.session[thisSession];
          if (s) c = s.backgroundColor;

          if (range.color && range.color != c) {
            ranges.push({
              start: range.start,
              end: range.end,
              color: range.color
            });
            range = {};
          }

          if (c) {
            var cw = this.layout.candleWidth;
            if (ds.candleWidth) cw = ds.candleWidth;
            range.end = this.pixelFromBar(i, chart) + cw / 2;
            if (!range.start && range.start !== 0) range.start = range.end - cw + 1;
            range.color = c;
          } else {
            range = {};
          }
        }

        if (range.start || range.start === 0) ranges.push({
          start: range.start,
          end: range.end,
          color: range.color
        });
        var noDashes = CIQ.isTransparent(styles.divider.backgroundColor);
        var dividerLineWidth = styles.divider.width.replace(/px/g, "");
        var dividerStyle = {
          y0: panel.bottom,
          y1: panel.top,
          color: styles.divider.backgroundColor,
          type: "line",
          context: chart.context,
          confineToPanel: panel,
          pattern: "dashed",
          lineWidth: dividerLineWidth,
          deferStroke: true
        };
        this.startClip(panel.name);
        chart.context.beginPath();
        if (stx.highlightedDraggable) chart.context.globalAlpha *= 0.3;

        for (i = 0; i < ranges.length; i++) {
          chart.context.fillStyle = ranges[i].color;
          if (!noDashes && ranges[i].start > chart.left) this.plotLine(CIQ.extend({
            x0: ranges[i].start,
            x1: ranges[i].start
          }, dividerStyle));
          chart.context.fillRect(ranges[i].start, panel.top, ranges[i].end - ranges[i].start, panel.bottom - panel.top);
          if (!noDashes && ranges[i].end < chart.right) this.plotLine(CIQ.extend({
            x0: ranges[i].end,
            x1: ranges[i].end
          }, dividerStyle));
        }

        chart.context.stroke();
        this.endClip();
      }
    });
  };
};

var __js_addons_standard_fullScreen_ = function __js_addons_standard_fullScreen_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Creates an add-on that sets the chart UI to full-screen mode. In full-screen mode, a class
   * `full-screen` is added to the context element used for styling. In addition, elements with the
   * class `full-screen-hide` are hidden. Elements with the class `full-screen-show` that are
   * normally hidden are shown.
   *
   * Requires *addOns.js*.
   *
   * ![Full-screen display](./img-Full-Screen-Chart.png)
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} [params.stx] The chart object.
   *
   * @constructor
   * @name CIQ.FullScreen
   * @since 7.3.0
   *
   * @example
   * new CIQ.FullScreen({ stx: stxx });
   */

  CIQ.FullScreen = CIQ.FullScreen || function (params) {
    if (!params) params = {};

    if (!params.stx) {
      console.warn("The Full Screen addon requires an stx parameter");
      return;
    } // Check for loading within an iframe from another origin


    try {
      if (window.location.host !== window.top.location.host) throw new Error(window.location.host + " does not match " + window.top.location.host);
    } catch (exception) {
      console.warn("Full screen mode disabled.");
      return;
    }

    this.stx = params.stx;
    this.stx.fullScreen = this;
    this.fullScreenButton = null;
    this.fullScreenState = false; //Attaches FullScreen button to HTML DOM inside .chartSize element

    this.addFullScreenButton = function () {
      if (this.stx.registerChartControl) this.fullScreenButton = this.stx.registerChartControl("stx-full-screen", "Full Screen", function (self) {
        return function (e) {
          self.fullScreenToggle(e);
          e.stopPropagation();
        };
      }(this));
    }; //Click event handler for the Full Screen button.


    this.fullScreenToggle = function (e) {
      // First check for availability of the requestFullScreen function
      if (document.documentElement.requestFullscreen || document.documentElement.webkitRequestFullscreen || document.documentElement.mozRequestFullscreen || document.documentElement.msRequestFullscreen) {
        // Check if full screen is already enabled
        if (this.getFullScreenElement()) {
          if (document.exitFullscreen) document.exitFullscreen();else if (document.webkitExitFullscreen) document.webkitExitFullscreen();else if (document.mozCancelFullScreen) document.mozCancelFullScreen();else if (document.msExitFullscreen) document.msExitFullscreen();
        } else {
          // requestFullscreen methods need to be checked for again here because the browser will not allow the method to be stored in a local var
          if (document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();else if (document.documentElement.webkitRequestFullscreen) document.documentElement.webkitRequestFullscreen();else if (document.documentElement.mozRequestFullscreen) document.documentElement.mozRequestFullscreen();else if (document.documentElement.msRequestFullscreen) document.documentElement.msRequestFullscreen();
        }
      } else {
        //If the full screen api isn't available, manually trigger the fullScreen styling
        this.fullScreenState = !this.fullScreenState;
        this.fullScreenRender();
      }
    }; // Append/remove full-screen class to context or body and update button state


    this.fullScreenRender = function () {
      var containerElement = null;
      containerElement = this.stx.container.closest("*[cq-context], cq-context, body");

      if (containerElement) {
        if (this.fullScreenState === true) {
          if (this.fullScreenButton) this.fullScreenButton.classList.add("active");
          containerElement.classList.add("full-screen");
        } else {
          if (this.fullScreenButton) this.fullScreenButton.classList.remove("active");
          containerElement.classList.remove("full-screen");
        } // Trigger a resize event to update the chart size


        window.dispatchEvent(new Event("resize"));
      }
    }; //Handle full screen change


    this.onFullScreenChange = function () {
      if (this.getFullScreenElement()) {
        this.fullScreenState = true;
      } else {
        this.fullScreenState = false;
      }

      this.fullScreenRender();
    };

    this.getFullScreenElement = function () {
      return document.fullscreenElement || document.webkitCurrentFullScreenElement || document.mozFullScreenElement || document.msFullscreenElement;
    };

    document.addEventListener("fullscreenchange", this.onFullScreenChange.bind(this), false);
    document.addEventListener("webkitfullscreenchange", this.onFullScreenChange.bind(this), false);
    document.addEventListener("mozfullscreenchange", this.onFullScreenChange.bind(this), false);
    document.addEventListener("MSFullscreenChange", this.onFullScreenChange.bind(this), false); // Add the FullScreen button to chartControls

    this.addFullScreenButton();
  };
};

var __js_addons_standard_inactivityTimer_ = function __js_addons_standard_inactivityTimer_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Add-On that puts the chart into "sleep mode" after a period of inactivity.
   *
   * Requires *addOns.js*.
   *
   * In sleep mode, a class "ciq-sleeping" will be added to the body.  This will dim out the chart.
   * Sleep mode is ended when interaction with the chart is detected.
   *
   * @param {object} params Configuration parameters
   * @param {CIQ.ChartEngine} [params.stx] The chart object
   * @param {number} [params.minutes] Inactivity period in _minutes_.  Set to 0 to disable the sleep mode.
   * @param {number} [params.interval] Sleeping quote update interval in _seconds_.  During sleep mode, this is used for the update loop.
   * 									Set to non-zero positive number or defaults to 60.
   * @param {function} [params.wakeCB] Optional callback function after waking
   * @param {function} [params.sleepCB] Optional callback function after sleeping
   * @constructor
   * @name  CIQ.InactivityTimer
   * @since 3.0.0
   * @example
   * 	new CIQ.InactivityTimer({stx:stxx, minutes:30, interval:15});  //30 minutes of inactivity will put chart into sleep mode, updating every 15 seconds
   *
   */

  CIQ.InactivityTimer = CIQ.InactivityTimer || function (params) {
    if (!params.minutes) return;
    if (!params.interval || params.interval < 0) params.interval = 60;
    this.stx = params.stx;
    this.timeout = params.minutes;
    this.interval = params.interval;
    this.wakeCB = params.wakeCB;
    this.sleepCB = params.sleepCB;
    this.sleepTimer = null;
    this.sleeping = false;
    this.last = new Date().getTime();

    this.wakeChart = function () {
      clearTimeout(this.sleepTimer);
      this.last = new Date().getTime();

      if (this.sleeping) {
        if (this.stx.quoteDriver) this.stx.quoteDriver.updateChartLoop();
        this.sleeping = false;
        document.body.classList.remove("ciq-sleeping");
      }

      this.sleepTimer = setTimeout(this.sleepChart.bind(this), this.timeout * 60000);
      if (this.wakeCB) this.wakeCB();
    };

    this.sleepChart = function () {
      if (!this.sleeping) {
        if (this.stx.quoteDriver) this.stx.quoteDriver.updateChartLoop(this.interval);
        this.sleeping = true;
        document.body.classList.add("ciq-sleeping");
      }

      if (this.sleepCB) this.sleepCB();
    };

    var self = this;
    ["mousemove", "mousedown", "touchstart", "touchmove", "pointerdown", "pointermove", "keydown", "wheel"].forEach(function (ev) {
      document.body.addEventListener(ev, function (e) {
        self.wakeChart();
      });
    });
    this.wakeChart();
  };
};

var __js_addons_standard_rangeSlider_ = function __js_addons_standard_rangeSlider_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Add-on that puts a range slider under the chart.
   *
   * This allows the `dataSegment` to be selectable as a portion of the dataset.
   *
   * Requires *addOns.js*.
   *
   * It also requires additional CSS.
   *
   * Either add:
   * ```
   * <link rel="stylesheet" type="text/css" href="css/chartiq.css" media="screen" />
   * ```
   * Or explicitly include this CSS:
   * ```
   * .stx_range_slider.shading {
   *     background-color: rgba(128, 128, 128, 0.3);
   *     border: solid 2px #0090b7;
   *     width: 5px;
   * }
   * ```
   * Once instantiated, it can be displayed or hidden by simply setting the `rangeSlider` parameter
   * of the primary chart's **layout object**, and then issuing a layout change event to trigger the
   * new status. Make sure to use the callback to enable the slider on initial load to prevent
   * "out of sequence" issues. See examples for exact syntax.
   *
   * Remember, a range slider is simply just another chart. So you configure it and customize it
   * using the same parameters as you would the primary chart. The only difference is that the
   * slider object will be a sub element of the primary chart, living inside the `slider.slider`
   * object.
   *
   * For example, if you wanted to turn off the x-axis on the slider, assuming a chart instantiated
   * as `stxx`, you would execute:
   * ```
   * stxx.slider.slider.xaxisHeight = 0;
   * ```
   *
   * If using chartIQ web components, the slider needs to be created **before** the UI manager
   * (startUI) is called for custom themes to apply.
   *
   * It is important to note that the range slider chart container will create itself **under** the
   * primary chart container, not **inside**. As such, to ensure styling is shared between the two
   * containers and they match in look and feel, all the styling must be on a parent `div` container
   * rather than the primary chart container itself.
   *
   * For example, do this:
   * ```
   * <div class="all-charts">
   *     <div style="grid-column: span 6; grid-row: span 2;">
   *         <div class="chartwrap"> <!-- Beginning of wrapper with desired styling. -->
   *             <div class="chartContainer1" style="width:100%;height:100%;position:relative"></div>
   *             <!-- The slider will be added here. -->
   *         </div> <!-- End of wrapper. -->
   *     </div>
   * </div>
   * ```
   *
   * Not this:
   * ```
   * <div class="all-charts">
   *     <div class="chartwrap" style="grid-column: span 6; grid-row: span 2;">
   *         <div class="chartContainer1" style="width: 100%; height: 100%; position: relative"></div>
   *     </div>
   * </div>
   * ```
   *
   * Range slider working example:
   * <iframe width="800" height="350" scrolling="no" seamless="seamless" align="top"
   *         style="float:top" src="https://jsfiddle.net/chartiq/dtug29yx/embedded/result,js,html/"
   *         allowfullscreen="allowfullscreen" frameborder="1">
   * </iframe>
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} [params.stx] The chart object.
   * @param {number} [params.height="95px"] Height of the range slider panel. Must include a CSS
   * 		unit, such as "px".
   * @param {object} [params.yAxis] Y-axis parameters.
   * @param {number} [params.chartContainer] Handle to the main chart container. Defaults to
   * 		`stxx.container`.
   * @param {string} [params.menuContextClass] A CSS class name used to query the menu DOM element
   * 		that contains the UI control for the range slider add-on. In a multi-chart document, the
   * 		add-on is available only on charts that have a menu DOM element with the value for
   * 		`menuContextClass` as a class attribute.
   *
   * @constructor
   * @name CIQ.RangeSlider
   * @since
   * - 4.0.0
   * - 6.1.0 Added `params.yAxis`.
   * - 8.0.0 Added `params.menuContextClass`.
   *
   * @example
   * <caption>
   * 		Create a range slider and enable it by default using the <code>loadChart</code> callback.
   * </caption>
   * const stxx = new CIQ.ChartEngine({ container: document.querySelector(".chartContainer") });
   *
   * stxx.attachQuoteFeed(quoteFeedSimulator,{ refreshInterval: 1, bufferSize: 200 });
   *
   * // Instantiate a range slider.
   * new CIQ.RangeSlider({ stx: stxx });
   *
   * function displayChart(){
   *     stxx.loadChart("SPY", null, function() {
   *         // For smoother visualization, enable after the main chart has completed loading its data.
   *         stxx.layout.rangeSlider = true; // Show the slider.
   *         stxx.changeOccurred("layout"); // Signal the change to force a redraw.
   *     });
   * }
   *
   * @example
   * <caption>
   * 		Create a range slider and enable/disable it using commands to be triggered from a menu.
   * </caption>
   * const stxx = new CIQ.ChartEngine({ container: document.querySelector(".chartContainer") });
   *
   * // Instantiate a range slider.
   * new CIQ.RangeSlider({ stx: stxx });
   *
   * // To display the slider from a menu use:
   * stxx.layout.rangeSlider = true; // Show the slider.
   * stxx.changeOccurred("layout"); // Signal the change to force a redraw.
   *
   * // To hide the slider from a menu use:
   * stxx.layout.rangeSlider = false; // Hide the slider.
   * stxx.changeOccurred("layout"); // Signal the change to force a redraw.
   */

  CIQ.RangeSlider = CIQ.RangeSlider || function (params) {
    this.cssRequired = true;
    var stx = params.stx;
    stx.slider = this;
    var sliderHeight = params.height ? params.height : "95px";
    var chartContainer = params.chartContainer ? params.chartContainer : params.stx.container;
    var ciqSlider = document.createElement("div");
    ciqSlider.className = "ciq-chart";
    var sliderContainer = document.createElement("div");
    sliderContainer.className = "chartContainer";
    ciqSlider.appendChild(sliderContainer);
    chartContainer.parentElement.parentElement.insertBefore(ciqSlider, chartContainer.parentElement.nextSibling);
    Object.assign(ciqSlider.style, {
      height: sliderHeight,
      paddingTop: "5px",
      display: "none"
    });
    sliderContainer.style.height = "100%";
    sliderContainer.dimensionlessCanvas = true;
    var self = this.slider = new CIQ.ChartEngine({
      container: sliderContainer,
      preferences: {
        labels: false,
        whitespace: 0
      }
    });
    self.xaxisHeight = 30;
    self.manageTouchAndMouse = false;
    self.minimumCandleWidth = 0;
    self.chart.panel.subholder.style.cursor = "ew-resize";
    var yAxis = self.chart.panel.yAxis;
    yAxis.drawCurrentPriceLabel = false;
    Object.defineProperty(yAxis, "position", {
      get: function get() {
        return stx.slider.yAxisPosition || stx.chart.panel.yAxis.position;
      },
      set: function set(position) {
        stx.slider.yAxisPosition = position;
      }
    });

    var _Object$getOwnPropert = Object.getOwnPropertyDescriptor(CIQ.ChartEngine.YAxis.prototype, "width"),
        _get = _Object$getOwnPropert.get,
        _set = _Object$getOwnPropert.set;

    Object.defineProperty(yAxis, "width", {
      get: function get() {
        return Math.max(_get.call(yAxis), stx.chart.yAxis.width);
      },
      set: function set(width) {
        _set.call(yAxis, width);
      }
    });
    CIQ.extend(yAxis, params.yAxis);
    self.chart.baseline.userLevel = false;
    if (self.controls.home) self.controls.home.style.width = 0;
    self.initializeChart();
    var subholder = self.chart.panel.subholder;
    /**
     * Dynamically updates the styling of the range slider.
     *
     * This method can be used to update CSS styles if you are injecting stylesheets using
     * JavaScript.
     *
     * @param {string} obj The CSS selector for which a style property is changed.
     * @param {string} attribute The style property changed in the CSS selector rule-set.
     * @param {string} value The value to apply to the CSS property.
     *
     * @alias updateStyles
     * @memberof CIQ.RangeSlider.prototype
     * @since 8.0.0
     *
     * @example
     * // Set the shading of the range slider.
     * stxx.slider.updateStyles(
     *     'stx_range_slider shading',
     *     'backgroundColor',
     *     'rgba(200, 50, 50, 0.45)'
     * );
     *
     * @example
     * // Set the color of the bars of the range slider to red.
     * stxx.slider.updateStyles(
     *     'stx_range_slider shading',
     *     'borderTopColor',
     *     'rgba(255, 0, 0)'
     * );
     */

    this.updateStyles = function (obj, attribute, value) {
      stx.setStyle(obj, attribute, value);
      this.style = stx.canvasStyle("stx_range_slider shading");
    };

    this.display = function (on) {
      if (stx.layout.rangeSlider !== on) {
        // do this the way it was intended
        stx.layout.rangeSlider = on;
        stx.changeOccurred("layout");
        return;
      }

      ciqSlider.style.display = on ? "" : "none";
      stx.resizeChart();
      window.dispatchEvent(new Event("resize"));
      if (!on) return;
      self.resizeChart();
      self.initializeChart();
      self.draw();
      this.drawSlider();
    };

    this.setSymbol = function (symbol) {
      self.chart.panel.display = self.chart.symbol = symbol;
      self.setMainSeriesRenderer();
      self.resizeChart();
      this.adjustRange(stx.chart);
      self.draw();
      this.drawSlider();
    };

    this.acceptLayoutChange = function (layout) {
      var doDraw = false;

      if (self.layout.rangeSlider !== layout.rangeSlider) {
        stx.slider.display(layout.rangeSlider);
      }

      var relevantLayoutPropertiesForRedraw = ["chartType", "aggregationType", "periodicity", "interval", "timeUnit", "chartScale", "rangeSlider", "flipped", "extended", "marketSessions", "kagi", "rangebars", "renko", "priceLines", "pandf"];
      relevantLayoutPropertiesForRedraw.forEach(function (x) {
        if (!CIQ.equals(self.layout[x], layout[x])) {
          self.layout[x] = layout[x];
          doDraw = true;
        }
      });
      if (!CIQ.trulyVisible(ciqSlider)) return;

      if (doDraw) {
        self.setMainSeriesRenderer();
        self.draw();
        this.drawSlider();
      }
    };

    this.adjustRange = function (chart) {
      if (!chart.dataSet) return;
      if (!chart.endPoints || !chart.endPoints.begin) return;
      var myChart = self.chart;
      if (!myChart.width) return;
      var scrollOffset = 0,
          ticksOffset = 0;

      if (stx.quoteDriver) {
        var behaviorParams = {
          symbol: chart.symbol,
          symbolObject: chart.symbolObject,
          interval: stx.layout.interval
        };

        if ((behaviorParams.interval == "month" || behaviorParams.interval == "week") && !stx.dontRoll) {
          behaviorParams.interval = "day";
        }

        var behavior = stx.quoteDriver.getQuoteFeed(behaviorParams).behavior;

        if (behavior && behavior.bufferSize) {
          if (chart.moreAvailable) scrollOffset = behavior.bufferSize;
          if (stx.isHistoricalMode()) ticksOffset = behavior.bufferSize;
        }
      }

      myChart.baseline.defaultLevel = chart.baseline.actualLevel;
      myChart.scroll = Math.max(0, chart.dataSet.length - stx.tickFromDate(chart.endPoints.begin) - scrollOffset) + 1;
      myChart.maxTicks = myChart.scroll - ticksOffset + 1;
      self.layout.candleWidth = myChart.width / myChart.maxTicks;
    };

    this.copyData = function (chart) {
      if (!chart.dataSet) return;
      var myChart = self.chart;
      myChart.masterData = self.masterData = chart.masterData;
      myChart.dataSet = chart.dataSet;
      myChart.state = chart.state;
      self.draw();
      this.drawSlider();
    };

    this.calculateYAxisPosition = function () {
      var panel = self.chart.panel;
      var currentPosition = self.getYAxisCurrentPosition(panel.yAxis, panel);
      if (currentPosition != panel.yAxis.position) self.calculateYAxisPositions();
    };

    this.drawSlider = function () {
      if (!CIQ.trulyVisible(ciqSlider)) return;
      if (!stx.chart.dataSet || !stx.chart.dataSet.length) return;
      var style = this.style;
      if (!style) style = this.style = stx.canvasStyle("stx_range_slider shading");
      var chartPanel = stx.chart.panel,
          ctx = self.chart.context,
          segmentImage = self.chart.segmentImage || [],
          halfCandle = self.layout.candleWidth / 2;
      var left = self.tickLeft = Math.max(stx.tickFromPixel(chartPanel.left + halfCandle), 0);
      var right = self.tickRight = Math.min(stx.tickFromPixel(chartPanel.right - halfCandle), stx.chart.dataSet.length - 1);
      var pLeft = self.pixelLeft = self.pixelFromTick(left) - (segmentImage[left] ? segmentImage[left].candleWidth / 2 : halfCandle);
      var pRight = self.pixelRight = self.pixelFromTick(right) + (segmentImage[right] ? segmentImage[right].candleWidth / 2 : halfCandle);
      var leftBoundary = subholder.offsetLeft,
          rightBoundary = leftBoundary + subholder.offsetWidth;
      ctx.save();
      ctx.beginPath();
      ctx.fillStyle = style.backgroundColor;
      ctx.fillRect(leftBoundary, subholder.offsetTop, pLeft - leftBoundary, subholder.offsetHeight);
      ctx.fillRect(rightBoundary, subholder.offsetTop, pRight - rightBoundary, subholder.offsetHeight);
      ctx.strokeStyle = style.borderTopColor;
      ctx.lineWidth = parseInt(style.borderWidth, 10);
      ctx.moveTo(pLeft, subholder.offsetTop);
      ctx.lineTo(pLeft, subholder.offsetTop + subholder.offsetHeight);
      ctx.moveTo(pRight, subholder.offsetTop);
      ctx.lineTo(pRight, subholder.offsetTop + subholder.offsetHeight);
      ctx.stroke();
      ctx.beginPath();
      ctx.lineWidth = parseInt(style.width, 10);
      ctx.lineCap = "round";
      ctx.moveTo(pLeft, subholder.offsetTop + subholder.offsetHeight / 4);
      ctx.lineTo(pLeft, subholder.offsetTop + 3 * subholder.offsetHeight / 4);
      ctx.moveTo(pRight, subholder.offsetTop + subholder.offsetHeight / 4);
      ctx.lineTo(pRight, subholder.offsetTop + 3 * subholder.offsetHeight / 4);
      ctx.stroke();
      ctx.restore();
    };

    stx.addEventListener("layout", function (obj) {
      obj.stx.slider.acceptLayoutChange(obj.stx.layout);
    });
    stx.addEventListener("preferences", function (obj) {
      var language = obj.stx.preferences.language;

      if (CIQ.I18N && self.preferences.language != language) {
        CIQ.I18N.setLocale(self, language);
      }

      self.preferences.language = language;
      self.draw();
    });
    stx.addEventListener("symbolChange", function (obj) {
      if (obj.action == "master") obj.stx.slider.setSymbol(obj.symbol);
    });
    stx.addEventListener("symbolImport", function (obj) {
      if (obj.action == "master") obj.stx.slider.setSymbol(obj.symbol);
      obj.stx.slider.acceptLayoutChange(obj.stx.layout);
    });
    stx.addEventListener("theme", function (obj) {
      self.clearPixelCache();
      self.styles = {};
      self.chart.container.style.backgroundColor = "";

      if (CIQ.ThemeHelper) {
        var helper = new CIQ.ThemeHelper({
          stx: obj.stx
        });
        helper.params.stx = self;
        helper.update();
      }
    });
    stx.append("createDataSet", function () {
      this.slider.adjustRange(this.chart);
      this.slider.copyData(this.chart);
    });
    stx.append("draw", function () {
      if (!CIQ.trulyVisible(ciqSlider)) return;
      if (!self.chart.dataSet) return;
      this.slider.adjustRange(this.chart);
      this.slider.calculateYAxisPosition();
      self.draw();
      this.slider.drawSlider();
    });
    stx.prepend("resizeChart", function () {
      var ciqChart = chartContainer.parentElement,
          chartArea = ciqChart.parentElement;
      var heightOffset = parseFloat(getComputedStyle(ciqChart).height) - parseFloat(getComputedStyle(chartContainer).height);
      var totalHeightOfContainers = CIQ.elementDimensions(chartArea).height;
      var chartContainers = chartArea.querySelectorAll(".chartContainer");
      Array.from(chartContainers).forEach(function (container) {
        if (container !== chartContainer && CIQ.trulyVisible(container)) {
          totalHeightOfContainers -= CIQ.elementDimensions(container, {
            border: 1,
            padding: 1,
            margin: 1
          }).height;
        }
      });
      ciqChart.style.height = totalHeightOfContainers + "px";

      if (this.layout.rangeSlider) {
        if (self.chart.breakpoint !== this.chart.breakpoint) {
          self.notifyBreakpoint(this.chart.breakpoint);
        }

        ciqSlider.style.display = "";
        self.resizeChart();
        self.initializeChart();
        self.draw();
        this.slider.drawSlider();
      } else {
        ciqSlider.style.display = "none";
      }
    });
    ["mousedown", "touchstart", "pointerdown"].forEach(function (ev) {
      subholder.addEventListener(ev, function (e) {
        var start = self.backOutX(e.pageX);
        if (!start && start !== 0) return; // wrong event

        start -= e.target.offsetLeft;
        self.startDrag = start;
        self.startPixelLeft = self.pixelLeft;
        self.startPixelRight = self.pixelRight;
        var style = stx.slider.style;
        if (!style) style = stx.slider.style = stx.canvasStyle("stx_range_slider shading");
        var bw = parseInt(style.borderLeftWidth, 10);
        start += this.offsetLeft;
        if (start < self.pixelRight - bw) self.needsLeft = true;
        if (start > self.pixelLeft + bw) self.needsRight = true;
        if (CIQ.touchDevice) return;

        if (self.needsLeft && self.needsRight) {
          // change to grab only if drag started from viewport
          e.target.classList.add("stx-drag-chart");
        }
      }, {
        passive: false
      });
    });
    ["mouseup", "mouseover", "touchend", "pointerup"].forEach(function (ev) {
      subholder.addEventListener(ev, function (e) {
        var which = e.which,
            type = e.type;
        if (which === 1 && type !== "pointerup" && type !== "mouseup") return;
        e.target.classList.remove("stx-drag-chart");
        self.chart.panel.subholder.style.cursor = "ew-resize";
        self.startDrag = null;
        self.needsLeft = false;
        self.needsRight = false;
      });
    });
    ["mousemove", "touchmove", "pointermove"].forEach(function (ev) {
      subholder.addEventListener(ev, function (e) {
        var startDrag = self.startDrag;
        if (!startDrag && startDrag !== 0) return;
        var touches = e.touches;
        var movement = (touches && touches.length ? self.backOutX(touches[0].pageX) : self.backOutX(e.pageX)) - e.target.offsetLeft;
        if (!movement && movement !== 0) return; // wrong event

        movement -= startDrag;
        var tickLeft = self.tickLeft,
            tickRight = self.tickRight;
        var startPixelLeft = self.startPixelLeft,
            startPixelRight = self.startPixelRight;
        var needsLeft = self.needsLeft,
            needsRight = self.needsRight;

        if (needsLeft) {
          if (startPixelLeft + movement < self.chart.left) movement = self.chart.left - startPixelLeft;

          if (needsRight && startPixelRight + movement >= self.chart.right) {
            movement = self.chart.right - startPixelRight;
            if (!self.isHome()) movement += self.layout.candleWidth / 2; // force a right scroll
          }

          tickLeft = self.tickFromPixel(startPixelLeft + movement);
          if (needsRight) tickRight = tickLeft + self.tickRight - self.tickLeft;
        } else if (needsRight) {
          tickRight = Math.min(self.tickFromPixel(startPixelRight + movement), stx.chart.dataSet.length - 1);
        } else return;

        var newCandleWidth = stx.chart.width / (tickRight - tickLeft + 1);

        if (tickRight >= tickLeft && newCandleWidth >= stx.minimumCandleWidth) {
          self.tickLeft = tickLeft;
          self.tickRight = tickRight;
          stx.chart.scroll = stx.chart.dataSet.length - tickLeft;

          if (!needsLeft || !needsRight) {
            stx.setCandleWidth(newCandleWidth);
          }

          stx.micropixels = 0;
          stx.draw();
        }
      }, {
        passive: false
      });
    });
    this.adjustRange(stx.chart);
    this.copyData(stx.chart);
  };
};

var __js_addons_standard_shortcuts_ = function __js_addons_standard_shortcuts_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Displays a legend of keyboard shortcuts and the actions the shortcuts perform.
   *
   * Delegates display of the legend to the
   * [cq-floating-window]{@link WebComponents.cq-floating-window} web component by dispatching a
   * "floatingWindow" event (see
   * [floatingWindowEventListener]{@link CIQ.ChartEngine~floatingWindowEventListener}).
   *
   * Creates the legend from keyboard shortcut specifications contained in a configuration object;
   * for example, the default chart configuration object (see the {@tutorial Chart Configuration}
   * tutorial).
   *
   * Requires *addOns.js*.
   *
   * @param {object} params The constructor parameters.
   * @param {CIQ.ChartEngine} params.stx The chart engine instance for which the keyboard shortcuts
   * 		legend is created.
   * @param {object} params.config A configuration object that includes specifications for hot keys
   * 		and drawing tool keyboard shortcuts. Typically, this object is the chart configuration
   * 		object. See the {@tutorial Chart Configuration} tutorial for the data format for keyboard
   * 		shortcuts.
   * @param {number} [params.width="580"] The width of the floating window that contains the
   * 		keyboard shortcuts legend.
   * @param {boolean} [params.windowForEachChart=true] A flag that indicates whether each chart
   * 		instance in a multi-chart document has its own keyboard shortcuts legend. If false, all
   * 		charts share the same legend.
   *
   * @constructor
   * @name CIQ.Shortcuts
   * @since 8.2.0
   *
   * @example
   * new CIQ.Shortcuts(
   *     stx: stxx,
   *     config: {
   *         drawingTools: [{ label: "line", shortcut: "l" }],
   *         hotkeyConfig: {
   *             hotkeys: [{ label: "Pan chart up", action: "up", commands: ["ArrowUp", "Up"] }]
   *         }
   *     }
   * );
   */

  CIQ.Shortcuts = CIQ.Shortcuts || function () {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        stx = _ref.stx,
        _ref$width = _ref.width,
        width = _ref$width === void 0 ? 580 : _ref$width,
        _ref$windowForEachCha = _ref.windowForEachChart,
        windowForEachChart = _ref$windowForEachCha === void 0 ? true : _ref$windowForEachCha,
        config = _ref.config;

    if (!stx) {
      console.warn("The Shortcuts addon requires an stx parameter");
      return;
    }
    /**
     * The chart engine instance for which the keyboard shortcuts legend is created.
     *
     * @type {CIQ.ChartEngine}
     * @memberof CIQ.Shortcuts#
     * @alias stx
     * @since 8.2.0
     */


    this.stx = stx;
    /**
     * Width of the floating window that contains the keyboard shortcuts legend.
     *
     * @type {number}
     * @memberof CIQ.Shortcuts#
     * @alias width
     * @since 8.2.0
     */

    this.width = width;
    /**
     * In a multi-chart document, indicates whether each chart has its own keyboard shortcuts
     * legend. If false, all charts share the same legend.
     *
     * @type {boolean}
     * @memberof CIQ.Shortcuts#
     * @alias windowForEachChart
     * @since 8.2.0
     */

    this.windowForEachChart = windowForEachChart;
    this.content = this.getShortcutContent(config);
    this.enclosingContainer = stx.container.querySelector(".stx-subholder");
    this.ensureMessagingAvailable(stx);
    this.enableUI(stx);
    this.cssRequired = true;
    stx.shortcuts = this;
  };
  /**
   * Enables the keyboard shortcuts legend user interface.
   *
   * Adds a `showShortCuts` function to the {@link CIQ.UI.Layout} helper. The `showShortCuts`
   * function calls this class's [toggle]{@link CIQ.Shortcuts#toggle} function to show and hide the
   * keyboard shortcuts legend. Call `showShortCuts` in your application's user interface (see
   * example).
   *
   * This function is called when the add-on is instantiated.
   *
   * @param {CIQ.ChartEngine} stx The chart engine that provides the UI context for the keyboard
   * 		shortcuts legend.
   *
   * @memberof CIQ.Shortcuts
   * @since 8.2.0
   *
   * @example <caption>Create a button that shows and hides the keyboard shortcuts legend.</caption>
   * <div class="ciq-footer full-screen-hide">
   *     <div class="shortcuts-ui ciq-shortcut-button"
   *          stxtap="Layout.showShortcuts()"
   *          title="Toggle shortcut legend">
   *     </div>
   * </div>
   */


  CIQ.Shortcuts.prototype.enableUI = function (stx) {
    var _this = this;

    if (!(stx && CIQ.UI)) return;
    setTimeout(function () {
      var layout = stx.uiContext.getAdvertised("Layout");

      layout.showShortcuts = function (node, value) {
        return _this.toggle(value);
      };
    });
  };
  /**
   * Ensures that an instance of the [cq-floating-window]{@link WebComponents.cq-floating-window}
   * web component is available to handle event messaging and create the shortcuts legend floating
   * window.
   *
   * This function is called when the add-on is instantiated.
   *
   * @param {CIQ.ChartEngine} stx The chart engine that provides the UI context, which contains the
   * [cq-floating-window]{@link WebComponents.cq-floating-window} web component.
   *
   * @memberof CIQ.Shortcuts
   * @since 8.2.0
   */


  CIQ.Shortcuts.prototype.ensureMessagingAvailable = function (stx) {
    setTimeout(function () {
      var contextContainer = stx.uiContext.topNode;

      if (!contextContainer.querySelector("cq-floating-window")) {
        contextContainer.append(document.createElement("cq-floating-window"));
      }
    });
  };
  /**
   * Creates the contents of the keyboard shortcuts legend based on specifications contained in a
   * configuration object. The contents are displayed in a
   * [cq-floating-window]{@link WebComponents.cq-floating-window} web component.
   *
   * This function is called when the add-on is instantiated.
   *
   * @param {object} config A configuration object that includes specifications for drawing tool
   * 		keyboard shortcuts and hot keys. Typically, this object is the chart configuration object
   * 		(see the {@tutorial Chart Configuration} tutorial).
   * @return {string} The keyboard shortcuts legend as HTML.
   *
   * @memberof CIQ.Shortcuts
   * @since 8.2.0
   */


  CIQ.Shortcuts.prototype.getShortcutContent = function (config) {
    var drawingToolShortcuts = (config.drawingTools || []).filter(function (tool) {
      return tool.shortcut;
    }).map(function (_ref2) {
      var label = _ref2.label,
          shortcut = _ref2.shortcut;
      return "<div class=\"ciq-shortcut\">\n\t\t\t\t\t<div>".concat(label, "</div>\n\t\t\t\t\t<div><span>Alt</span> + <span>").concat(shortcut.toUpperCase(), "</span></div>\n\t\t\t\t</div>");
    }).join(""); // Alt + key combination produces unpredictable accent characters depending on keyboard mapping
    // default hotkeys include them for better coverage, avoid displaying them in legend

    var isAscii = function isAscii(str) {
      return str.charCodeAt(str.length - 1) < 127;
    };

    var wrapKeys = function wrapKeys(str) {
      return str === " + " ? "<span>+</span>" : str.split("+").map(function (el) {
        return el && el !== " " ? "<span>" + el + "</span>" : "";
      }).join(" + ");
    };

    var commandsToString = function commandsToString(commands) {
      return commands.map(function (command) {
        return command.replace(/Arrow|Key|Digit|^ | $/g, "");
      }).map(function (command) {
        return command.replace(/\+/, " + ");
      }).reduce(function (acc, command) {
        return !acc.includes(command) && isAscii(command) ? acc.concat(command) : acc;
      }, []).map(wrapKeys).join("<br>");
    };

    var container = this.stx.container.closest("cq-context");

    var extensionAvailable = function extensionAvailable(name) {
      return container.hasAttribute(name.toLowerCase() + "-active");
    };

    var hotkeys = (config.hotkeyConfig && config.hotkeyConfig.hotkeys || []).map(function (_ref3) {
      var label = _ref3.label,
          action = _ref3.action,
          commands = _ref3.commands,
          extension = _ref3.extension;

      if (extension && !extensionAvailable(extension)) {
        return "";
      }

      return "<div class=\"ciq-shortcut\"><div>".concat(label || action, "</div><div>").concat(commandsToString(commands), "</div></div>");
    }).join("");
    return "\n\t\t<div class=\"ciq-shortcut-container\">\n\t\t\t<div>\n\t\t\t\t<div><b>Drawing tools shortcuts</b></div>\n\t\t\t\t<div>".concat(drawingToolShortcuts, "</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div>\n\t\t\t\t<div><b>Hotkeys</b></div>\n\t\t\t\t<div>").concat(hotkeys, "</div>\n\t\t\t</div>\n\t\t</div>\n\t");
  };
  /**
   * Opens and closes the floating window that contains the keyboard shortcuts legend.
   *
   * @param {boolean} [value] If true, the window is opened. If false, the window is closed.
   * 		If not provided, the window state is toggled. That is, the window is opened if it is
   * 		currently closed; closed, if it is currently open.
   *
   * @memberof CIQ.Shortcuts
   * @since 8.2.0
   */


  CIQ.Shortcuts.prototype.toggle = function (value) {
    var _this2 = this;

    this.stx.dispatch("floatingWindow", {
      type: "shortcut",
      title: "Shortcuts",
      content: this.content,
      container: this.enclosingContainer,
      onClose: function onClose() {
        return _this2.closed = true;
      },
      width: this.width,
      status: value,
      tag: this.windowForEachChart ? undefined : "shortcut"
    });
  };
};

var __js_addons_standard_tableView_ = function __js_addons_standard_tableView_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Creates an overlay that displays the visible chart data segment as a table.
   *
   * The overlay includes controls that enable users to copy the table data to the clipboard or
   * download the data as a character-separated values (CSV) file. See
   * {@link TableViewBuilder.dataToCsv} for the default separator character.
   *
   * The table view can be opened using the Alt+K keystroke combination and closed using the Escape
   * key (see the `tableView` action in `hotkeyConfig.hotkeys` in *js/defaultConfiguration.js*).
   *
   * Requires *addOns.js*.
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} params.stx A reference to the chart engine that contains the chart for
   * 		which the table view is created.
   * @param {string} [params.minColumnWidth="84px"] The minimum width (including units) of the
   * 		table columns. **Note:** The units can be any CSS unit acceptable by the CSS `calc`
   * 		function.
   * @param {number} [params.coverUIMaxWidth=400] The chart width (in pixels) below which the table
   * 		view covers the entire chart, including user interface elements (symbol input field,
   * 		menus, etc.). For example, if the value of this parameter is 1000, the table view covers
   * 		the entire chart area if the chart width is <= 999 pixels.
   * @param {string} [params.coverContainer] A CSS selector used to obtain the DOM element that
   * 		ultimately contains the table view; for example, ".chartContainer".
   * @param {boolean} [params.usePreviousCloseForChange=true] Indicates whether the closing price of
   * 		the previous data point should be used instead of the opening price of the current data
   * 		point to determine the amount of change for the current data point; that is,
   * 		(current close - previous close) or (current close - current open).
   *
   * @constructor
   * @name CIQ.TableView
   * @since 8.1.0
   *
   * @example
   * new CIQ.TableView({ stx: stxx });
   */

  CIQ.TableView = CIQ.TableView || function () {
    var _this3 = this;

    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        stx = _ref4.stx,
        _ref4$minColumnWidth = _ref4.minColumnWidth,
        minColumnWidth = _ref4$minColumnWidth === void 0 ? "84px" : _ref4$minColumnWidth,
        _ref4$coverUIMaxWidth = _ref4.coverUIMaxWidth,
        coverUIMaxWidth = _ref4$coverUIMaxWidth === void 0 ? 400 : _ref4$coverUIMaxWidth,
        coverContainer = _ref4.coverContainer,
        _ref4$usePreviousClos = _ref4.usePreviousCloseForChange,
        usePreviousCloseForChange = _ref4$usePreviousClos === void 0 ? true : _ref4$usePreviousClos;

    if (!stx) {
      console.warn("The TableView addon requires an stx parameter");
      return;
    }
    /**
     * The chart engine instance that contains the chart for which the table view is created.
     *
     * @type CIQ.ChartEngine
     * @memberof CIQ.TableView#
     * @alias stx
     * @since 8.1.0
     */


    this.stx = stx;
    /**
     * Toggle to display and hide additional table view columns, such as % Change and Volume.
     *
     * **Note:** Data in the additional columns might not be present in the chart view because
     * the data is calculated (for example, % Change) or is not part of the standard chart
     * display (for example, Volume &mdash; which can be displayed with the
     * [Volume Chart]{@link CIQ.Studies.createVolumeChart} study).
     *
     * @type boolean
     * @memberof CIQ.TableView#
     * @alias viewAdditionalColumns
     * @since 8.1.0
     */

    this.viewAdditionalColumns = false;
    /**
     * Minimum width of the table view columns, including units. The units can be any CSS
     * unit acceptable by the CSS `calc` function.
     *
     * @type string
     * @memberof CIQ.TableView#
     * @alias minColumnWidth
     * @since 8.1.0
     */

    this.minColumnWidth = minColumnWidth;
    /**
     * The chart width in pixels below which the table view covers the entire chart, including
     * user interface elements, such as the menus and footer.
     *
     * @type number
     * @memberof CIQ.TableView#
     * @alias coverUIMaxWidth
     * @since 8.1.0
     */

    this.coverUIMaxWidth = coverUIMaxWidth;
    /**
     * A CSS selector used to obtain the DOM element that hosts the table view.
     *
     * @type string
     * @memberof CIQ.TableView#
     * @alias coverContainer
     * @since 8.1.0
     */

    this.coverContainer = coverContainer;
    /**
     * If true, the closing price of the previous data point is used instead of the opening
     * price of the current data point to determine the amount of change for the current data
     * point.
     *
     * @type boolean
     * @memberof CIQ.TableView#
     * @alias usePreviousCloseForChange
     * @since 8.1.0
     */

    this.usePreviousCloseForChange = usePreviousCloseForChange;
    /**
     * A reference to the {@link TableViewBuilder} namespace for access to the namespace
     * static methods.
     *
     * @type TableViewBuilder
     * @memberof CIQ.TableView#
     * @alias builder
     * @since 8.1.0
     */

    this.builder = TableViewBuilder;
    this.listeners = [];
    stx.tableView = this;
    this.cssRequired = true;

    if (CIQ.UI) {
      CIQ.UI.observeProperty("uiContext", stx, function (_ref5) {
        var uiContext = _ref5.value;
        if (!uiContext) return;
        setTimeout(function () {
          _this3.subscribeToChanges(uiContext); // Updated hotkey alias if available to action


          var tableViewKeyEntry = CIQ.getFromNS(uiContext.config, "hotkeyConfig.hotkeys", []).find(function (_ref6) {
            var action = _ref6.action;
            return action === "tableView";
          });

          if (tableViewKeyEntry) {
            tableViewKeyEntry.action = function () {
              var tableView = document.body.keystrokeHub.context.stx.tableView;

              if (tableView) {
                tableView.toggle();
                return true;
              }
            };
          }
        });
      });
    }
  };
  /**
   * Displays the table view.
   *
   * @param {object} [params] Configuration parameters.
   * @param {object} [params.config] Table column information.
   * @param {function} [params.onClose] Callback function to execute on closing the table view. The
   * 		callback enables synchronization of state in the application when the table view is
   * 		closed.
   *
   * @memberof CIQ.TableView
   * @since 8.1.0
   */


  CIQ.TableView.prototype.open = function (params) {
    var _this4 = this;

    if (params) {
      this.params = params;
    }

    var _ref7 = this.params || {},
        _ref7$config = _ref7.config,
        config = _ref7$config === void 0 ? {} : _ref7$config,
        onClose = _ref7.onClose;

    if (this.view) {
      this.close(false);
    }

    config.minColumnWidth = this.minColumnWidth;
    config.coverUIMaxWidth = this.coverUIMaxWidth;
    config.coverContainer = this.coverContainer;
    this.onClose = onClose;
    this.view = this.builder.createTable(this.stx, config);
    if (!this.view) return;
    if (CIQ.I18N) CIQ.I18N.translateUI(null, this.view);
    var stx = this.stx;
    var close = this.close.bind(this);
    setTimeout(function () {
      return _this4.removeCloseListener = getCloseListener(_this4);
    });
    var scrollbarStyling = CIQ.getFromNS(stx, "uiContext.config.scrollbarStyling");

    if (scrollbarStyling) {
      scrollbarStyling.refresh(this.view.querySelector("tbody"));
      scrollbarStyling.refresh(this.view.querySelector(".ciq-data-table-wrapper"), {
        suppressScrollY: true
      });
    }

    function getCloseListener(self) {
      var contextNode = stx.uiContext.topNode;

      var withinTable = function withinTable(el) {
        return el.closest(".ciq-data-table-container");
      };

      var closeHandler = function closeHandler(_ref8) {
        var target = _ref8.target;
        return !withinTable(target) && close();
      };

      contextNode.addEventListener("click", closeHandler);

      var handleKeydown = function handleKeydown(e) {
        if (e.code === "Escape") {
          var tableView = document.body.keystrokeHub.context.stx.tableView;

          if (tableView) {
            tableView.close();
            e.preventDefault();
          }
        }
      };

      document.body.addEventListener("keydown", handleKeydown); // Use modal functionality available in menu

      var uiManager = CIQ.getFn("UI.getUIManager")();

      if (uiManager) {
        // Menu item requires show and hide providing no-op functions
        self.view.show = self.view.hide = function () {};

        uiManager.openMenu(self.view, {});
      }

      return function () {
        contextNode.removeEventListener("click", closeHandler);
        document.body.removeEventListener("keydown", handleKeydown);
        if (uiManager) uiManager.closeMenu(self.view);
      };
    }
  };
  /**
   * Closes the table view.
   *
   * @param {boolean} [notify=true] Indicates whether the `onClose` callback function is set (see
   * 		[open]{@link CIQ.TableView#open}).
   *
   * @memberof CIQ.TableView
   * @since 8.1.0
   */


  CIQ.TableView.prototype.close = function () {
    var notify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

    if (this.view) {
      this.view.remove();
      this.view = null;
    }

    if (notify && this.onClose) {
      this.onClose();
    }

    if (this.removeCloseListener) {
      this.removeCloseListener();
      this.removeCloseListener = null;
    }
  };
  /**
   * Opens the table view if it is closed. Closes the table view if it is open.
   *
   * @memberof CIQ.TableView
   * @since 8.1.0
   */


  CIQ.TableView.prototype.toggle = function () {
    this[this.view ? "close" : "open"]();
  };
  /**
   * Subscribes to changes in the table view component communication channel, which enables other
   * components to open and close the table view.
   *
   * @param {CIQ.UI.Context} uiContext The user interface context of the table view. Provides the
   * 		communication channel path that identifies the table view channel.
   * @param {string} [channelPath] Specifies the channel path if the path is not available in the
   * 		context configuration provided by `uiContext`.
   *
   * @memberof CIQ.TableView
   * @since 8.1.0
   */


  CIQ.TableView.prototype.subscribeToChanges = function (uiContext) {
    var channelPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "channels.tableView";
    var _CIQ$UI$BaseComponent = CIQ.UI.BaseComponent.prototype,
        channelSubscribe = _CIQ$UI$BaseComponent.channelSubscribe,
        channelWrite = _CIQ$UI$BaseComponent.channelWrite;

    var _ref9 = uiContext.config || {},
        _ref9$channels = _ref9.channels;

    _ref9$channels = _ref9$channels === void 0 ? {} : _ref9$channels;
    var _ref9$channels$tableV = _ref9$channels.tableView,
        tableView = _ref9$channels$tableV === void 0 ? channelPath : _ref9$channels$tableV;
    var stx = this.stx;
    channelSubscribe(tableView, function (value) {
      if (value) {
        stx.tableView.open({
          onClose: function onClose() {
            channelWrite(tableView, false, stx);
          }
        });
      } else {
        stx.tableView.close();
      }
    }, stx);
  };
  /**
   * Namespace for {@link CIQ.TableView} creation&ndash;related properties and functions.
   *
   * @namespace
   * @name TableViewBuilder
   * @since 8.1.0
   */


  function TableViewBuilder() {}
  /**
   * The column header configuration for the table view.
   *
   * Can be used for rearranging the column order, removing columns, and updating labels.
   *
   * **Note:** Adding new columns has no effect.
   *
   * @type Object.<string, {label: string, cls: string|undefined}>
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.colHeaders = {
    date: {
      label: "Date"
    },
    open: {
      label: "Open"
    },
    high: {
      label: "High"
    },
    low: {
      label: "Low"
    },
    close: {
      label: "Close"
    },
    pctChange: {
      label: "% Change",
      cls: "ciq-extra"
    },
    pctChangeVsAvg: {
      label: "% Change vs Average",
      cls: "ciq-extra"
    },
    volume: {
      label: "Volume",
      cls: "ciq-extra"
    }
  };
  /**
   * Number of decimal places to display for percent formatted columns
   *
   * @type number
   * @memberof TableViewBuilder
   * @since 8.1.0
   */

  TableViewBuilder.percentDecimalPlaces = 2;
  /**
   * Creates a table view as an HTMLElement overlay over a chart container. The table view displays
   * a snapshot of the visible chart data segment.
   *
   * The overlay contains buttons for copying and saving the table data and for displaying
   * additional table columns.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart for which
   * 		the table view is created.
   * @param {object} [config] Configuration parameters.
   * @param {function} [config.dateFormatter] Formats table date fields.
   * @param {function} [config.valueFormatter] Formats table values.
   * @param {function} [config.volumeFormatter] Formats the table volume field.
   * @param {function} [config.fileNameFormatter] Formats the name of the file that contains the
   * 		downloaded table data.
   * @param {string} [config.minColumnWidth="84px"] The minimum width (including units) of the
   * 		table columns. **Note:** The units can be any CSS unit acceptable by the CSS `calc`
   * 		function.
   * @return {HTMLElement}
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */

  TableViewBuilder.createTable = function (stx) {
    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!stx.chart || !stx.chart.dataSegment) return;
    var builder = stx.tableView.builder;
    var getChartData = builder.getChartData,
        dataToHtml = builder.dataToHtml,
        dataToCsv = builder.dataToCsv,
        downloadCsv = builder.downloadCsv,
        getDateFormatter = builder.getDateFormatter,
        getValueFormatter = builder.getValueFormatter,
        getVolumeFormatter = builder.getVolumeFormatter,
        getFilenameFormatter = builder.getFilenameFormatter,
        getSeriesDataNames = builder.getSeriesDataNames,
        getStudyDataNames = builder.getStudyDataNames,
        getChartCover = builder.getChartCover;
    var colHeaders = Object.assign({}, this.colHeaders);

    if (!stx.chart.highLowBars) {
      delete colHeaders.open;
      delete colHeaders.high;
      delete colHeaders.low;
    }

    if (!stx.tableView.viewAdditionalColumns) {
      for (var key in colHeaders) {
        if (colHeaders[key].cls) {
          delete colHeaders[key];
        }
      }
    }

    var labels = Object.values(colHeaders).map(function (item) {
      return item.label;
    });
    var seriesNames = getSeriesDataNames(stx);
    seriesNames.forEach(function (item) {
      return colHeaders[item] = {
        label: item
      };
    });
    var studyNames = getStudyDataNames(stx);
    studyNames.forEach(function (item) {
      if (!labels.includes(item)) colHeaders[item] = {
        label: item
      };
    });
    var additionalDataFields = seriesNames.concat(studyNames);
    var _config$dateFormatter = config.dateFormatter,
        dateFormatter = _config$dateFormatter === void 0 ? getDateFormatter(stx) : _config$dateFormatter,
        _config$valueFormatte = config.valueFormatter,
        valueFormatter = _config$valueFormatte === void 0 ? getValueFormatter(stx) : _config$valueFormatte,
        _config$percentFormat = config.percentFormatter,
        percentFormatter = _config$percentFormat === void 0 ? getValueFormatter(stx, this.percentDecimalPlaces) : _config$percentFormat,
        _config$volumeFormatt = config.volumeFormatter,
        volumeFormatter = _config$volumeFormatt === void 0 ? getVolumeFormatter(stx) : _config$volumeFormatt,
        _config$fileNameForma = config.fileNameFormatter,
        fileNameFormatter = _config$fileNameForma === void 0 ? getFilenameFormatter(stx) : _config$fileNameForma,
        _config$minColumnWidt = config.minColumnWidth,
        minColumnWidth = _config$minColumnWidt === void 0 ? "84px" : _config$minColumnWidt;
    var arr = getChartData(stx, {
      dateFormatter: dateFormatter,
      valueFormatter: valueFormatter,
      percentFormatter: percentFormatter,
      volumeFormatter: volumeFormatter,
      additionalDataFields: additionalDataFields
    });
    var cover = getChartCover(stx, config);
    var _stx$chart = stx.chart,
        symbolDisplay = _stx$chart.symbolDisplay,
        symbol = _stx$chart.symbol;
    var toolbar = builder.getCoverToolbar({
      symbol: symbolDisplay || symbol,
      viewAdditionalColumns: stx.tableView.viewAdditionalColumns,
      copyFn: copyFn,
      downloadFn: downloadFn,
      toggleAdditionalColumnsFn: function toggleAdditionalColumnsFn() {
        var tableView = stx.tableView;
        tableView.viewAdditionalColumns = !tableView.viewAdditionalColumns;
        tableView.open();
      },
      closeFn: function closeFn() {
        return stx.tableView.close();
      }
    });
    cover.appendChild(toolbar);
    var htmlTable = dataToHtml(arr, {
      colHeaders: colHeaders,
      minColumnWidth: minColumnWidth
    });
    cover.appendChild(htmlTable);
    return cover;

    function copyFn() {
      var contentEl = document.createElement("textArea");
      document.body.appendChild(contentEl);
      contentEl.textContent = dataToCsv(arr, {
        colHeaders: colHeaders
      });
      contentEl.select();
      document.execCommand("copy");
      contentEl.remove();
      stx.dispatch("notification", "copytoclipboard");
    }

    function downloadFn() {
      var csvData = dataToCsv(arr, {
        colHeaders: colHeaders
      });
      var fileName = fileNameFormatter(csvData);
      downloadCsv(csvData, fileName);
    }
  };
  /**
   * Creates an HTML table containing the chart data and column headers (see
   * {@link TableViewBuilder.colHeaders}).
   *
   * @param {object[]} data The chart data.
   * @param {object} params Configuration parameters.
   * @param {Object.<string, {label: string, cls: string|undefined}>} params.colHeaders The column
   * 		headers as defined in {@link TableViewBuilder.colHeaders}.
   * @param {string} [params.minColumnWidth] The minimum width of the table columns, including units.
   * 		**Note:** The units can be any CSS unit acceptable by the CSS `calc` function.
   * @return {HTMLElement} A table containing the chart data and column headers.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.dataToHtml = function (data, _ref10) {
    var colHeaders = _ref10.colHeaders,
        minColumnWidth = _ref10.minColumnWidth;
    var keyLength = Object.keys(colHeaders).length;
    var colWidth = "calc((100% - ".concat(10 + keyLength * 4, "px ) / ").concat(keyLength, ")");
    var tableHeader = Object.entries(colHeaders).map(function (_ref11, index) {
      var _ref12 = _slicedToArray(_ref11, 2),
          label = _ref12[1].label;

      return "<th\n\t\t\tscope=\"col\"\n\t\t\tstyle=\"width: ".concat(colWidth, ";\"\n\t\t\t>").concat(label.replace("(", "  ("), "</th>");
    });
    var tableRows = data.map(function (row) {
      var htmlRow = Object.keys(colHeaders).map(function (key, index) {
        var value = row[key];
        return index === 0 ? "<th scope=\"row\"\n\t\t\t\t\t\t\t\tstyle=\"width: ".concat(colWidth, "\"\n\t\t\t\t\t\t\t\t>").concat(value, "</th>") : "<td style=\"width: ".concat(colWidth, "\">").concat(value, "</td>");
      }).join("");
      return "<tr>".concat(htmlRow, "</tr>");
    });
    var tableWrapper = document.createElement("div");
    tableWrapper.classList.add("ciq-data-table-wrapper");
    var minWidth = minColumnWidth ? "calc(".concat(keyLength, " * ").concat(minColumnWidth, ")") : "";
    tableWrapper.innerHTML = "\n\t\t<table class=\"header-fixed\"\t".concat(minWidth ? "style=\"min-width: ".concat(minWidth, "\"") : "", ">\n\t\t<thead>").concat(tableHeader.join(""), "</thead>\n\t\t<tbody>").concat(tableRows.join(""), "</tbody>\n\t\t</table>");
    return tableWrapper;
  };
  /**
   * Transforms the chart data into a character-separated values (CSV) file, including column headers.
   *
   * @param {object[]} data The chart data.
   * @param {object} params Configuration parameters.
   * @param {Object.<string, {label: string, cls: string|undefined}>} params.colHeaders The column
   * 		headers as defined in {@link TableViewBuilder.colHeaders}.
   * @param {string} params.colSeparator="\t" The column separator for the CSV format.
   * @return {string} The column headers and chart data as a CSV file.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.dataToCsv = function (data, _ref13) {
    var colHeaders = _ref13.colHeaders,
        _ref13$colSeparator = _ref13.colSeparator,
        colSeparator = _ref13$colSeparator === void 0 ? "\t" : _ref13$colSeparator;
    var tableHeader = Object.entries(colHeaders).map(function (_ref14) {
      var _ref15 = _slicedToArray(_ref14, 2),
          label = _ref15[1].label;

      return "\"".concat(label, "\"");
    }).join(colSeparator);
    var tableRows = data.map(function (row) {
      return Object.keys(colHeaders).map(function (key) {
        return "\"".concat(row[key], "\"");
      }).join(colSeparator);
    });
    return "".concat(tableHeader, "\n").concat(tableRows.join("\n"));
  };
  /**
   * Downloads the table view as a character-separated values (CSV) file.
   *
   * @param {string} csvString The table view in the form of character-separated data.
   * @param {string} filename The name given to the download file.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.downloadCsv = function (csvString) {
    var filename = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "filename";
    var blob = new Blob([csvString], {
      type: "text/csv;charset=utf-8;"
    });
    var a = document.createElement("a");
    a.href = window.URL.createObjectURL(blob, {
      type: "text/plain"
    });
    a.download = "".concat(filename, ".csv");
    a.style.display = "none";
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  };
  /**
   * Extracts OHLC (open, high, low, close) data from the chart.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart from which
   * 		the data is extracted.
   * @param {object} params Configuration parameters.
   * @param {function} [params.dateFormatter] Formats date fields.
   * @param {function} [params.valueFormatter] Formats OHLC and other values.
   * @param {function} [params.percentFormatter] Formats percent fields.
   * @param {function} [params.volumeFormatter] Formats the volume field.
   * @param {string[]} [params.additionalDataFields] An array of additional data field names for
   * 		comparison series and study data.
   * @return {object[]} The formatted chart data.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getChartData = function (stx, _ref16) {
    var dateFormatter = _ref16.dateFormatter,
        valueFormatter = _ref16.valueFormatter,
        percentFormatter = _ref16.percentFormatter,
        volumeFormatter = _ref16.volumeFormatter,
        additionalDataFields = _ref16.additionalDataFields;
    var data = stx.chart.dataSegment.filter(function (item) {
      return item !== null;
    });
    var usePreviousCloseForChange = stx.tableView.usePreviousCloseForChange;
    var out = [];
    var length = 0;
    var avgPctChange = data.reduce(function (acc, _ref17) {
      var Close = _ref17.Close,
          iqPrevClose = _ref17.iqPrevClose,
          Open = _ref17.Open;
      var Base = usePreviousCloseForChange ? iqPrevClose : Open;

      if (typeof Close === "undefined" || Number.isNaN(Close) || typeof Base === "undefined" || Number.isNaN(Base)) {
        return acc;
      }

      length++;
      return acc + (Close - Base) / Base;
    }, 0) / length;
    data.forEach(function (item, index) {
      var DT = item.DT,
          displayDate = item.displayDate,
          High = item.High,
          Low = item.Low,
          Open = item.Open,
          Close = item.Close,
          iqPrevClose = item.iqPrevClose,
          Volume = item.Volume;
      var Base = usePreviousCloseForChange ? iqPrevClose : Open;
      var pctChange = (Close - Base) / Base;
      var date = displayDate || (stx.displayZone ? CIQ.convertTimeZone(DT, stx.dataZone, stx.displayZone) : DT);
      var obj = {
        DT: DT,
        date: dateFormatter(date),
        open: valueFormatter(Open),
        close: valueFormatter(Close),
        change: valueFormatter(Close - Base),
        pctChange: percentFormatter(pctChange * 100),
        pctChangeVsAvg: percentFormatter((pctChange - avgPctChange) * 100),
        high: valueFormatter(High),
        low: valueFormatter(Low),
        volume: volumeFormatter(Volume)
      };
      additionalDataFields.forEach(function (fieldName) {
        var value = item[fieldName];

        if (value == null) {
          obj[fieldName] = "";
          return;
        }

        if (_typeof(value) === "object") {
          value = value.Close;
        }

        obj[fieldName] = valueFormatter(value);
      });
      out.push(obj);
    });
    out.sort(function (a, b) {
      return b.DT - a.DT;
    });
    return out;
  };
  /**
   * Creates a function that formats table view date fields.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart for which
   * 		the date fields are formatted.
   * @return {function} A date formatter.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getDateFormatter = function (stx) {
    return function (dt, panel) {
      if (!dt) return "";
      return CIQ.displayableDate(stx, stx.chart, dt, true);
    };
  };
  /**
   * Creates a function that formats table view value fields.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart for which
   * 		the value fields are formatted.
   * @param {number} [decimalPlaces] Number of decimal places to use, overrides any auto-detection of decimal places in data.
   * @return {function} A value formatter.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getValueFormatter = function (stx, decimalPlaces) {
    var _stx$chart2 = stx.chart,
        panel = _stx$chart2.panel,
        yAxis = _stx$chart2.yAxis,
        chartScale = stx.layout.chartScale;
    var formatValue;

    if (yAxis.originalPriceFormatter && yAxis.originalPriceFormatter.func) {
      formatValue = function formatValue(value) {
        return yAxis.originalPriceFormatter.func(stx, panel, value, decimalPlaces);
      };
    } else if (yAxis.priceFormatter && chartScale != "percent" && chartScale != "relative") {
      formatValue = function formatValue(value) {
        return yAxis.priceFormatter(stx, panel, value, decimalPlaces);
      };
    } else {
      formatValue = function formatValue(value) {
        return stx.formatYAxisPrice(value, panel, decimalPlaces);
      };
    }

    return function (value) {
      return formatValue(value).replace(/^-*0\.0*$/, "0");
    }; // display 0.00 as 0
  };
  /**
   * Creates a function that formats the table view volume field.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart for which
   * 		the volume field is formatted.
   * @return {function} A volume field formatter.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getVolumeFormatter = function (stx) {
    return function (num) {
      if (num == null) return "";

      if (stx.internationalizer) {
        return stx.internationalizer.priceFormatters[0].format(num);
      }

      var num_parts = num.toString().split(".");
      num_parts[0] = num_parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      return num_parts[0];
    };
  };
  /**
   * Creates a function that creates and formats a file name from the chart symbol and table view
   * data.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart whose
   * 		symbol and data is included in the file name.
   * @return {function} A function that creates and formats a file name.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getFilenameFormatter = function (stx) {
    return function (csvData) {
      var symbol = stx.chart.symbolDisplay || stx.chart.symbol;
      var firstDate, lastDate;

      if (csvData) {
        var rows = csvData.split("\n");

        if (rows.length > 1) {
          var _ref18 = rows[1].match(/^"([^"]*)"/) || [];

          var _ref19 = _slicedToArray(_ref18, 2);

          var _ref19$ = _ref19[1];
          firstDate = _ref19$ === void 0 ? "" : _ref19$;

          var _ref20 = rows[rows.length - 1].match(/^"([^"]*)"/) || [];

          var _ref21 = _slicedToArray(_ref20, 2);

          var _ref21$ = _ref21[1];
          lastDate = _ref21$ === void 0 ? "" : _ref21$;
          firstDate = firstDate.replace(/:/g, ".").replace(/\//g, "-");
          lastDate = lastDate.replace(/:/g, ".").replace(/\//g, "-");
        }
      }

      return "".concat(symbol).concat(firstDate ? " (".concat(firstDate, " _ ").concat(lastDate, ")") : "");
    };
  };
  /**
   * Creates and attaches an HTML container element to the DOM. The element covers the chart and
   * contains the table view.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart over which
   * 		the cover is placed.
   * @param {object} params Configuration parameters.
   * @param {number} [params.coverUIMaxWidth] The width of the chart (in pixels) below which the
   * 		cover element overlays the entire chart, including user interface elements.
   * @param {string} [params.coverContainer] A CSS selector used to obtain the DOM element that
   * 		serves as the parent element of the cover element; for example, ".chartContainer".
   * @return {HTMLElement} The cover element.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getChartCover = function (stx, _ref22) {
    var coverUIMaxWidth = _ref22.coverUIMaxWidth,
        coverContainer = _ref22.coverContainer;
    var parentElement = coverContainer && document.querySelector(coverContainer) || (stx.uiContext && stx.container.offsetWidth < coverUIMaxWidth ? stx.uiContext.topNode : stx.container.parentElement.parentElement);
    var cover = document.createElement("div");
    Object.assign(cover.style, {
      top: 0,
      left: 0,
      right: 0,
      bottom: 0
    });
    cover.classList.add("ciq-data-table-container");
    parentElement.appendChild(cover);
    return cover;
  };
  /**
   * Creates a toolbar containing the table title and controls used to copy and download the table
   * data and add additional table columns.
   *
   * @param {object} params Function parameters.
   * @param {string} params.symbol An instrument symbol, which is used as the table title in the
   * 		toolbar. Should be the symbol of the chart main series.
   * @param {boolean} params.viewAdditionalColumns Toggle that specifies whether the label for the
   * 		additional columns button should indicate that additional columns will be shown or hidden.
   * 		If this parameter is true, the label indicates additional table columns will be shown; if
   * 		false, hidden.
   * @param {function} [params.copyFn] Event handler for selection of the copy control.
   * @param {function} [params.downloadFn] Event handler for selection of the download control.
   * @param {function} [params.toggleAdditionalColumnsFn] Event handler for selection of the
   * 		additional column control.
   * @param {function} [params.closeFn] Event handler for selection of the table view close (X)
   * 		control.
   * @return {HTMLElement} The toolbar, containing title and controls.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getCoverToolbar = function (_ref23) {
    var symbol = _ref23.symbol,
        viewAdditionalColumns = _ref23.viewAdditionalColumns,
        copyFn = _ref23.copyFn,
        downloadFn = _ref23.downloadFn,
        toggleAdditionalColumnsFn = _ref23.toggleAdditionalColumnsFn,
        closeFn = _ref23.closeFn;
    var toolBar = document.createElement("div");
    toolBar.classList.add("ciq-data-table-toolbar");
    toolBar.innerHTML = "\n\t\t<div class=\"ciq-data-table-title\"></div>\n\t\t<button class=\"ciq-data-table-copy\">".concat(this.copyLabel, "</button>\n\t\t<button class=\"ciq-data-table-download\">").concat(this.downloadLabel, "</button>\n\t\t<button class=\"ciq-data-table-additionalColumns\">").concat(this.getAdditionalColumnLabel(viewAdditionalColumns), "</button>\n\t\t<cq-close />\n\t");
    var titleEl = toolBar.querySelector(".ciq-data-table-title");
    titleEl.textContent = symbol;
    var btnCopy = toolBar.querySelector(".ciq-data-table-copy");

    if (copyFn) {
      btnCopy.addEventListener("click", copyFn);
    } else {
      btnCopy.style.display = "none";
    }

    var btnDownload = toolBar.querySelector(".ciq-data-table-download");

    if (downloadFn) {
      btnDownload.addEventListener("click", function () {
        btnDownload.blur();
        downloadFn();
      });
    } else {
      btnDownload.style.display = "none";
    }

    var btnAdditionalColumns = toolBar.querySelector(".ciq-data-table-additionalColumns");

    if (toggleAdditionalColumnsFn) {
      btnAdditionalColumns.addEventListener("click", toggleAdditionalColumnsFn);
    } else {
      btnAdditionalColumns.style.display = "none";
    }

    toolBar.close = closeFn;
    return toolBar;
  };
  /**
   * Label for the copy button on the table view toolbar.
   *
   * @type string
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.copyLabel = "Copy";
  /**
   * Label for the download button on the table view toolbar.
   *
   * @type string
   * @memberof TableViewBuilder
   * @since 8.1.0
   */

  TableViewBuilder.downloadLabel = "Download";
  /**
   * Gets the label of the additional columns button on the table view toolbar.
   *
   * @param {boolean} viewingAdditionalColumns If this parameter is true, the label should indicate
   * 		additional table columns will be shown; if false, hidden.
   * @return {string} The button label.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */

  TableViewBuilder.getAdditionalColumnLabel = function (viewingAdditionalColumns) {
    return "<span>".concat(viewingAdditionalColumns ? "- " : "+ ", "</span>Additional columns");
  };
  /**
   * Obtains the names of all studies that have data in the chart's visible data segment.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the chart studies.
   * @return {string[]} The names of all studies that are in the visible portion of the chart.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getStudyDataNames = function (stx) {
    return Object.values(stx.layout.studies || {}).map(getDataNames).reduce(function (acc, item) {
      return acc.concat(item);
    }, []);

    function getDataNames(study) {
      return Object.keys(study.outputMap).filter(hasData);
    }

    function hasData(name) {
      return stx.chart.dataSegment.some(function (data) {
        return data && data[name];
      });
    }
  };
  /**
   * Obtains the symbols of all comparison series that have data in the chart's visible data
   * segment.
   *
   * @param {CIQ.ChartEngine} stx A reference to the chart engine that contains the comparison
   * 		series.
   * @return {string[]} The names (symbols) of all comparison series that are in the visible
   * 		portion of the chart.
   *
   * @memberof TableViewBuilder
   * @since 8.1.0
   */


  TableViewBuilder.getSeriesDataNames = function (stx) {
    return Object.values(stx.chart.seriesRenderers || {}).filter(function (item) {
      return item.params.name !== "_main_series";
    }).map(function (item) {
      return item.seriesParams.map(function (_ref24) {
        var symbol = _ref24.symbol;
        return symbol;
      });
    }).reduce(function (acc, item) {
      return acc.concat(item);
    }, []);
  };
  /**
   * CIQ.UI.Context interface placeholder to be augmented in *componentUI.js* with properties.
   *
   * @tsinterface CIQ.UI~Context
   */

};

var __js_addons_standard_tooltip_ = function __js_addons_standard_tooltip_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;

  if (!CIQ.Marker) {
    console.error("tooltip addon requires first activating markers feature.");
  } else {
    /**
     * Add-on that creates a detailed tooltip as the user's mouse hovers over data points on the
     * chart. The tooltip contains information such as the open, high, low, and close prices of
     * stock quotes.
     *
     * Tooltip example:
     * <iframe width="800" height="500" scrolling="no" seamless="seamless" align="top"
     *         style="float:top"
     *         src="https://jsfiddle.net/chartiq/5kux6j8p/embedded/result,js,html/"
     *         allowfullscreen="allowfullscreen" frameborder="1">
     * </iframe>
     *
     * **Note:** Prior to version 8.2.0, the tooltip was directly linked to the crosshairs. The
     * crosshairs had to be active for the tooltip to be displayed.
     *
     * Requires *addOns.js* and *markers.js*, or the bundle *standard.js*.
     *
     * There can be only one `CIQ.Tooltip` per chart.
     *
     * Color and layout can be customized by overriding the CSS rule-sets defined for the
     * `stx-hu-tooltip` and related type selectors in *stx-chart.css*. Do not modify
     * *stx-chart.css*; create a separate style sheet file that overrides *stx-chart.css* in the
     * CSS cascade. See the example below.
     *
     * `CIQ.Tooltip` automatically creates its own HTML inside the chart container. Here is an
     * example of the structure (there will be one field tag per displayed element):
     * ```
     * <stx-hu-tooltip>
     *     <stx-hu-tooltip-field>
     *         <stx-hu-tooltip-field-name></stx-hu-tooltip-field-name>
     *         <stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>
     *     </stx-hu-tooltip-field>
     * </stx-hu-tooltip>
     * ```
     * By default, the `stx-hu-tooltip-field` elements are inserted in the following order:
     * - DT
     * - Open
     * - High
     * - Low
     * - Close
     * - Volume
     * - series
     * - studies
     *
     * But the default layout can be changed. You can override the order of fields or change the
     * labels by manually inserting the HTML that the tooltip would otherwise have created for
     * that field. If no override HTML is found for a particular field, the default is used.
     * **Note:** This HTML must be placed inside the chart container.
     *
     * All of the code is provided in *addOns.js* and can be fully customized by copying the
     * source code from the library and overriding the functions with your changes. Be sure to
     * never modify a library file, as this will hinder upgrades.
     *
     * For example, concatenating the field name (e.g., "Jaw") with the study name (e.g.,
     * "Alligator" ) is the default behavior of the tooltip for displaying the value title. Feel
     * free to override this behavior by creating your own custom version of the `renderFunction()`
     * for the `CIQ.Tooltip`. To do this, copy the entire `CIQ.Tooltip` code (found in *addOns.js*)
     * and make the changes to your custom version. Load your custom version instead. Specifically,
     * look for the following code in the `renderFunction()` that pushes out the text for each
     * study field:
     * ```
     * let newFieldName = document.createElement("stx-hu-tooltip-field-name");
     * newFieldName.innerHTML = this.translateIf(fieldName);
     * newField.appendChild(newFieldName);
     * ```
     * Replace `fieldName` with anything you want to use as the field title and push that instead.
     *
     * Visual Reference:<br>
     * ![stx-hu-tooltip](stx-hu-tooltip.png "stx-hu-tooltip")
     *
     * @param {object} tooltipParams The constructor parameters.
     * @param {CIQ.ChartEngine} [tooltipParams.stx] The chart object.
     * @param {boolean} [tooltipParams.ohl] Set to true to show OHL data (Close is always shown).
     * @param {boolean} [tooltipParams.volume] Set to true to show Volume.
     * @param {boolean} [tooltipParams.series] Set to true to show value of series.
     * @param {boolean} [tooltipParams.studies] Set to true to show value of studies.
     * @param {boolean} [tooltipParams.showOverBarOnly] Set to true to show the tooltip only when
     * 		the mouse is over the primary line/bars.
     * @param {boolean} [tooltipParams.change] Set to true to show the change in daily value
     * 		when the internal chart periodicity is a daily interval (see
     * 		{@link CIQ.ChartEngine.isDailyInterval}).
     * @param {boolean} [tooltipParams.interpolation] Set to true to show the estimated value when
     * 		there is no data between bars. **Note:** A value of `null` is not considered missing
     * 		data.
     * @param {boolean} [tooltipParams.useDataZone] Set to true to show the date in the `dataZone`
     * 		time zone; false, to use the `displayZone` time zone (see
     * 		{@link CIQ.ChartEngine#setTimeZone}).
     * @param {boolean} [tooltipParams.showBarHighlight=true] Specifies whether the bar (data
     * 		point) the mouse is hovering over is highlighted. Applies to the floating tooltip only
     * 		(the dynamic tooltip points to the bar). If the crosshairs are active, this parameter
     * 		is ignored.
     *
     * @constructor
     * @name CIQ.Tooltip
     * @since
     * - 09-2016-19
     * - 5.0.0 Now `tooltipParams.showOverBarOnly` is available to show tooltip only when over the
     * 		primary line/bars.
     * - 5.1.1 `tooltipParams.change` set to true to show the change in daily value when
     * 		displaying a daily interval.
     * - 6.2.5 New `tooltipParams.interpolation` flag to show estimated value for missing series
     * 		data points.
     * - 7.0.0 New `tooltipParams.useDataZone` flag to show the date in either the `dataZone` or
     * 		`displayZone` date/time.
     * - 8.2.0 Decoupled `CIQ.Tooltip` from the crosshairs and added highlighting of the data
     * 		point (or bar) the mouse is hovering over. The new `tooltipParams.showBarHighlight`
     * 		parameter enables or disables the highlighting.
     *
     * @example <caption>Add a tooltip to a chart:</caption>
     * // First declare your chart engine.
     * const stxx = new CIQ.ChartEngine({ container: document.querySelector(".chartContainer")[0] });
     *
     * // Then link the tooltip to that chart.
     * // Note how we've enabled OHL, Volume, Series and Studies.
     * new CIQ.Tooltip({ stx: stxx, ohl: true, volume: true, series: true, studies: true });
     *
     * @example <caption>Customize the order, layout, or text in tooltip labels:</caption>
     * // In this example, we've rearranged the HTML to display the Close field first, then the DT.
     * // We are also labeling the DT 'Date/Time' and the Close 'Last'.
     * // The rest of the fields are displayed in their default order.
     *
     * <stx-hu-tooltip>
     *     <stx-hu-tooltip-field field="Close">
     *         <stx-hu-tooltip-field-name>Last</stx-hu-tooltip-field-name>
     *         <stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>
     *     </stx-hu-tooltip-field>
     *     <stx-hu-tooltip-field field="DT">
     *         <stx-hu-tooltip-field-name>Date/Time</stx-hu-tooltip-field-name>
     *         <stx-hu-tooltip-field-value></stx-hu-tooltip-field-value>
     *     </stx-hu-tooltip-field>
     * </stx-hu-tooltip>
     *
     * @example <caption>Customize the CSS for the tooltip (see <i>stx-chart.css</i>):</caption>
     * stx-hu-tooltip {
     *     position: absolute;
     *     left: -50000px;
     *     z-index: 30;
     *     white-space: nowrap;
     *     padding: 6px;
     *     border: 1px solid gray;
     *     background-color: rgba(42,81,208,.5);
     *     color: white;
     * }
     *
     * stx-hu-tooltip-field {
     *     display:table-row;
     * }
     *
     * stx-hu-tooltip-field-name {
     *     display:table-cell;
     *     font-weight:bold;
     *     padding-right:5px;
     * }
     *
     * stx-hu-tooltip-field-name:after {
     *     content:':';
     * }
     *
     * stx-hu-tooltip-field-value {
     *     display:table-cell;
     *     text-align:right;
     * }
     */
    CIQ.Tooltip = CIQ.Tooltip || function (tooltipParams) {
      if (!CIQ.Marker) {
        console.warn("CIQ.Tooltip addon requires CIQ.Marker module to be enabled.");
        return;
      }

      this.cssRequired = true;
      var stx = tooltipParams.stx,
          showOhl = tooltipParams.ohl,
          showChange = tooltipParams.change,
          showVolume = tooltipParams.volume,
          showSeries = tooltipParams.series,
          showStudies = tooltipParams.studies,
          showInterpolation = tooltipParams.interpolation,
          showOverBarOnly = tooltipParams.showOverBarOnly,
          _tooltipParams$showBa = tooltipParams.showBarHighlight,
          showBarHighlight = _tooltipParams$showBa === void 0 ? true : _tooltipParams$showBa,
          useDataZone = tooltipParams.useDataZone;
      var container = stx.chart.container;
      var node = container.querySelector("stx-hu-tooltip");

      if (!node) {
        node = document.createElement("stx-hu-tooltip");
        container.appendChild(node);
      }

      var highlightEl = container.querySelector(".stx-hu-tooltip-highlight");

      if (!highlightEl) {
        highlightEl = document.createElement("div");
        highlightEl.classList.add("stx-hu-tooltip-highlight");
        container.appendChild(highlightEl);
      }

      CIQ.Marker.Tooltip = function (params) {
        if (!this.className) this.className = "CIQ.Marker.Tooltip";
        this.highlightEl = highlightEl;
        params.label = "tooltip";
        CIQ.Marker.call(this, params);
      };

      CIQ.inheritsFrom(CIQ.Marker.Tooltip, CIQ.Marker, false);

      CIQ.Marker.Tooltip.sameBar = function (bar1, bar2) {
        if (!bar1 || !bar2) return false;
        if (+bar1.DT != +bar2.DT) return false;
        if (bar1.Close != bar2.Close) return false;
        if (bar1.Open != bar2.Open) return false;
        if (bar1.Volume != bar2.Volume) return false;
        return true;
      };

      CIQ.Marker.Tooltip.placementFunction = function (params) {
        if (hideIfDisabled()) return;
        var offset = 30;
        var stx = params.stx;

        for (var i = 0; i < params.arr.length; i++) {
          var marker = params.arr[i];
          var bar = stx.barFromPixel(stx.cx);
          var quote = stx.chart.dataSegment[bar];
          var goodBar;
          var overBar = true;
          var highPx, lowPx;

          if (quote != "undefined" && quote && quote.DT) {
            goodBar = true;
            if (quote.High) highPx = stx.pixelFromPrice(quote.High);
            if (quote.Low) lowPx = stx.pixelFromPrice(quote.Low);

            if (!stx.chart.highLowBars) {
              if (quote.Close) {
                highPx = stx.pixelFromPrice(quote.Close) - 15;
                lowPx = stx.pixelFromPrice(quote.Close) + 15;
              }
            }

            if (showOverBarOnly && !(stx.cy >= highPx && stx.cy <= lowPx)) overBar = false;
          }

          if (!(stx.insideChart && !stx.openDialog && !stx.activeDrawing && !stx.grabbingScreen && goodBar && overBar)) {
            highlightEl.style.display = "none";
            marker.node.style.left = "-50000px";
            marker.node.style.right = "auto";
            marker.lastBar = {};
            return;
          }

          if (CIQ.Marker.Tooltip.sameBar(stx.chart.dataSegment[bar], marker.lastBar) && bar != stx.chart.dataSegment.length - 1) {
            return;
          }

          marker.lastBar = stx.chart.dataSegment[bar];
          var cw = marker.lastBar.candleWidth || stx.layout.candleWidth;

          if (parseInt(getComputedStyle(marker.node).width, 10) + stx.chart.panel.left + offset + cw < stx.backOutX(CIQ.ChartEngine.crosshairX)) {
            marker.node.style.left = "auto";
            marker.node.style.right = Math.round(container.clientWidth - stx.pixelFromBar(bar) + offset) + "px";
          } else {
            marker.node.style.left = Math.round(stx.pixelFromBar(bar) + offset) + "px";
            marker.node.style.right = "auto";
          }

          var height = parseInt(getComputedStyle(marker.node).height, 10);
          var top = Math.round(CIQ.ChartEngine.crosshairY - stx.top - height / 2);
          if (top + height > stx.height) top = stx.height - height;
          if (top < 0) top = 0;
          marker.node.style.top = top + "px";

          if (showBarHighlight && !stx.layout.crosshair) {
            var candleWidth = marker.lastBar.candleWidth || stx.layout.candleWidth;
            var left = stx.pixelFromBar(bar) - candleWidth / 2;
            var width = candleWidth;

            if (left + width > stx.chart.width) {
              // adjust width of last bar so it does not highlight past the edge of the chart into the y axis
              width = stx.chart.width - left;
            }

            highlightEl.style.display = "block";
            highlightEl.style.left = left + "px";
            highlightEl.style.width = width + "px";
          } else {
            highlightEl.style.display = "none";
          }
        } // temporarily disable overXAxis, overYAxis so the crosshairs don't hide if touch device and over Y axis (this can happen
        // due to the offset which we apply)


        var overXAxis = stx.overXAxis,
            overYAxis = stx.overYAxis;
        stx.overXAxis = stx.overYAxis = false;
        stx.overXAxis = overXAxis;
        stx.overYAxis = overYAxis;
      };

      function hideIfDisabled() {
        var headsUp = stx.layout.headsUp;
        var instantiated = !!stx.huTooltip;
        var noLayoutObject = _typeof(headsUp) !== "object";
        var layoutFalse = headsUp === false; // backwards compatibility

        var enabled = headsUp && (headsUp === "floating" || headsUp.floating);

        if (instantiated && (!(enabled || noLayoutObject) || layoutFalse)) {
          var tt = stx.huTooltip;

          var _ref25 = tt || {},
              _node = _ref25.node;

          if (_node) {
            _node.style.left = "-50000px";
            _node.style.right = "auto";
            tt.lastBar = {};
            if (tt.highlightEl) tt.highlightEl.style.display = "none";
          }

          return true;
        }

        return false;
      }

      function renderFunction() {
        // the tooltip has not been initialized with this chart.
        if (hideIfDisabled()) return;
        var bar = this.barFromPixel(this.cx),
            data = this.chart.dataSegment[bar];

        if (!data) {
          this.positionMarkers();
          return;
        }

        if (CIQ.Marker.Tooltip.sameBar(data, this.huTooltip.lastBar) && bar != this.chart.dataSegment.length - 1) {
          return;
        }

        var node = this.huTooltip.node;
        Array.from(node.parentElement.querySelectorAll("[auto]")).forEach(function (i) {
          i.remove();
        });
        Array.from(node.parentElement.querySelectorAll("stx-hu-tooltip-field-value")).forEach(function (i) {
          i.innerHTML = "";
        });
        var panel = this.chart.panel;
        var yAxis = panel.yAxis;
        var dupMap = {};
        var fields = [];
        fields.push({
          member: "DT",
          display: "DT",
          panel: panel,
          yAxis: yAxis
        });
        fields.push({
          member: "Close",
          display: "Close",
          panel: panel,
          yAxis: yAxis
        });
        dupMap.DT = dupMap.Close = 1;

        if (showChange && CIQ.ChartEngine.isDailyInterval(this.layout.interval)) {
          fields.push({
            member: "Change",
            display: "Change",
            panel: panel,
            yAxis: yAxis
          });
        }

        if (showOhl) {
          fields.push({
            member: "Open",
            display: "Open",
            panel: panel,
            yAxis: yAxis
          });
          fields.push({
            member: "High",
            display: "High",
            panel: panel,
            yAxis: yAxis
          });
          fields.push({
            member: "Low",
            display: "Low",
            panel: panel,
            yAxis: yAxis
          });
          dupMap.Open = dupMap.High = dupMap.Low = 1;
        }

        if (showVolume) {
          fields.push({
            member: "Volume",
            display: "Volume",
            panel: null,
            yAxis: null
          }); // null yAxis use raw value

          dupMap.Volume = 1;
        }

        if (showSeries) {
          var renderers = this.chart.seriesRenderers;

          for (var renderer in renderers) {
            var rendererToDisplay = renderers[renderer];
            if (rendererToDisplay === this.mainSeriesRenderer) continue;
            panel = this.panels[rendererToDisplay.params.panel];
            yAxis = rendererToDisplay.params.yAxis;
            if (!yAxis && rendererToDisplay.params.shareYAxis) yAxis = panel.yAxis;

            for (var id = 0; id < rendererToDisplay.seriesParams.length; id++) {
              var seriesParams = rendererToDisplay.seriesParams[id]; // if a series has a symbol and a field then it maybe a object chain

              var sKey = seriesParams.symbol;
              var subField = seriesParams.field;
              if (!sKey) sKey = subField;else if (subField && sKey != subField) sKey = CIQ.createObjectChainNames(sKey, subField)[0];
              var display = seriesParams.display || seriesParams.symbol || seriesParams.field;

              if (sKey && !dupMap[display]) {
                fields.push({
                  member: sKey,
                  display: display,
                  panel: panel,
                  yAxis: yAxis,
                  isSeries: true
                });
                dupMap[display] = 1;
              }
            }
          }
        }

        if (showStudies) {
          for (var study in this.layout.studies) {
            var sd = this.layout.studies[study];
            panel = this.panels[sd.panel];
            yAxis = panel && sd.getYAxis(this);

            for (var output in this.layout.studies[study].outputMap) {
              if (output && !dupMap[output]) {
                fields.push({
                  member: output,
                  display: output,
                  panel: panel,
                  yAxis: yAxis
                });
                dupMap[output] = 1;
              }
            }

            if (!dupMap[study + "_hist"]) {
              fields.push({
                member: study + "_hist",
                display: study + "_hist",
                panel: panel,
                yAxis: yAxis
              });
              fields.push({
                member: study + "_hist1",
                display: study + "_hist1",
                panel: panel,
                yAxis: yAxis
              });
              fields.push({
                member: study + "_hist2",
                display: study + "_hist2",
                panel: panel,
                yAxis: yAxis
              });
              dupMap[study + "_hist"] = 1;
            }
          }
        }

        for (var f = 0; f < fields.length; f++) {
          var obj = fields[f];
          var name = obj.member;
          var displayName = obj.display;
          var isRecordDate = name == "DT";
          if (isRecordDate && !useDataZone && !CIQ.ChartEngine.isDailyInterval(stx.layout.interval)) name = "displayDate"; // display date is timezone adjusted

          panel = obj.panel;
          yAxis = obj.yAxis;
          var labelDecimalPlaces = null;

          if (yAxis) {
            if (!panel || panel !== panel.chart.panel) {
              // If a study panel, use yAxis settings to determine decimal places
              if (yAxis.decimalPlaces || yAxis.decimalPlaces === 0) labelDecimalPlaces = yAxis.decimalPlaces;else if (yAxis.maxDecimalPlaces || yAxis.maxDecimalPlaces === 0) labelDecimalPlaces = yAxis.maxDecimalPlaces;
            } else {
              // If a chart panel, then always display at least the number of decimal places as calculated by masterData (panel.chart.decimalPlaces)
              // but if we are zoomed to high granularity then expand all the way out to the y-axis significant digits (panel.yAxis.printDecimalPlaces)
              labelDecimalPlaces = Math.max(yAxis.printDecimalPlaces, panel.chart.decimalPlaces); //	... and never display more decimal places than the symbol is supposed to be quoting at

              if (yAxis.maxDecimalPlaces || yAxis.maxDecimalPlaces === 0) labelDecimalPlaces = Math.min(labelDecimalPlaces, yAxis.maxDecimalPlaces);
            }
          }

          var dsField = null; // account for object chains

          var tuple = CIQ.existsInObjectChain(data, name);
          if (tuple) dsField = tuple.obj[tuple.member];else if (name == "Change") dsField = data.Close - data.iqPrevClose;
          var fieldName = displayName.replace(/^(Result )(.*)/, "$2");

          if (showInterpolation && fields[f].isSeries && (dsField === null || typeof dsField == "undefined")) {
            // do this only for additional series and not the main series
            var seriesPrice = this.valueFromInterpolation(bar, fieldName, "Close", panel, yAxis);
            if (seriesPrice === null) break;
            dsField = seriesPrice;
          }

          if ((dsField || dsField === 0) && (isRecordDate || _typeof(dsField) !== "object" || dsField.Close || dsField.Close === 0)) {
            var fieldValue = "";
            if (dsField.Close || dsField.Close === 0) dsField = dsField.Close;

            if (dsField.constructor == Number) {
              if (!yAxis) {
                // raw value
                fieldValue = dsField;
              } else if (yAxis.originalPriceFormatter && yAxis.originalPriceFormatter.func) {
                // in comparison mode with custom formatter
                fieldValue = yAxis.originalPriceFormatter.func(this, panel, dsField, labelDecimalPlaces);
              } else if (yAxis.priceFormatter && yAxis.priceFormatter != CIQ.Comparison.priceFormat) {
                // using custom formatter
                fieldValue = yAxis.priceFormatter(this, panel, dsField, labelDecimalPlaces);
              } else {
                fieldValue = this.formatYAxisPrice(dsField, panel, labelDecimalPlaces, yAxis);
              }
            } else if (dsField.constructor == Date) {
              if (isRecordDate && this.controls.floatDate && this.controls.floatDate.innerHTML) {
                if (this.chart.xAxis.noDraw) fieldValue = "N/A";else fieldValue = CIQ.displayableDate(this, panel.chart, dsField);
              } else {
                fieldValue = CIQ.yyyymmdd(dsField);

                if (!CIQ.ChartEngine.isDailyInterval(this.layout.interval)) {
                  fieldValue += " " + dsField.toTimeString().substr(0, 8);
                }
              }
            } else {
              fieldValue = dsField;
            }

            var dedicatedField = node.querySelector('stx-hu-tooltip-field[field="' + fieldName + '"]');

            if (dedicatedField) {
              dedicatedField.querySelector("stx-hu-tooltip-field-value").innerHTML = fieldValue;
              var fieldNameField = dedicatedField.querySelector("stx-hu-tooltip-field-name");
              if (fieldNameField.innerHTML === "") fieldNameField.innerHTML = this.translateIf(fieldName);
            } else {
              var newField = document.createElement("stx-hu-tooltip-field");
              newField.setAttribute("auto", true);
              var newFieldName = document.createElement("stx-hu-tooltip-field-name");
              newFieldName.innerHTML = this.translateIf(fieldName);
              newField.appendChild(newFieldName);
              var newFieldValue = document.createElement("stx-hu-tooltip-field-value");
              newFieldValue.innerHTML = fieldValue;
              newField.appendChild(newFieldValue);
              node.appendChild(newField);
            }
          } else {
            var naField = node.querySelector('stx-hu-tooltip-field[field="' + fieldName + '"]');

            if (naField) {
              var naFieldNameField = naField.querySelector("stx-hu-tooltip-field-name");
              if (naFieldNameField.innerHTML !== "") naField.querySelector("stx-hu-tooltip-field-value").innerHTML = "n/a";
            }
          }
        }

        this.huTooltip.render();
      }

      stx.append("deleteHighlighted", function () {
        this.huTooltip.lastBar = {};
        this.headsUpHR();
      });
      stx.append("headsUpHR", renderFunction);
      stx.append("createDataSegment", renderFunction);
      stx.huTooltip = new CIQ.Marker.Tooltip({
        stx: stx,
        xPositioner: "bar",
        chartContainer: true,
        node: node
      });
    };
  }
};

var __js_addons_advanced_animation_ = function __js_addons_advanced_animation_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Add-On that animates the chart.
   *
   * Requires *addOns.js*.
   *
   * The chart is animated in three ways:
   * 1.  The current price pulsates
   * 2.  The current price appears to move smoothly from the previous price
   * 3.  The chart's y-axis smoothly expands/contracts when a new high or low is reached
   *
   * The following chart types are supported: line, mountain, baseline_delta.
   *
   * Chart aggregations such as Kagi, Renko, Range Bars, etc. are not supported.
   *
   * **Animation displays more gracefully when updates are sent into the chart one at a time using {@link CIQ.ChartEngine#updateChartData}
   * instead of in batches using a [QuoteFeed]{@link CIQ.ChartEngine#attachQuoteFeed}. Sending data in batches will produce a ‘jumping’ effect.**
   *
   * By default, there will be a flashing beacon created using a canvas circle. If instead you want to use a custom animation beacon, you will be able to extend the functionality yourself as follows:
   * - In js/addOns.js, at the bottom of the CIQ.Animation function, there is an stx.append("draw") function.
   * - Make a copy of this function so you can override the behavior.
   * - In there you will see it determine var x and y, which are the coordinates for the center of the beacon.
   * - At the bottom of this append function, we draw the beacon by using the Canvas arc() function to draw a circle and then fill() to make the circle solid.
   * - You can replace  the canvas circle with an image using [CanvasRenderingContext2D.drawImage()](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D#Drawing_images) .
   * - Example:
   *
   *   ```
   *   var image = document.getElementById('beacon'); // include a hidden image on your HTML
   *   context.drawImage(image, x-10, y-10, 20, 20); // add the image on the canvas. Offset the x and y values by the radius of the beacon.
   *   ```
   *
   * Animation Example <iframe width="800" height="500" scrolling="no" seamless="seamless" align="top" style="float:top" src="https://jsfiddle.net/chartiq/6fqw652z/embedded/result,js,html/" allowfullscreen="allowfullscreen" frameborder="1"></iframe>
   *
   * You can disable animation after each different [chart type is activated]{@link CIQ.ChartEngine#setChartType} by calling:
   * ```
   * stxx.mainSeriesRenderer.supportsAnimation=false;
   * ```
   * Keep in mind that changing to a different chart type, may once again enable animation. You can override this by [adding an event listener]{@link CIQ.ChartEngine#addEventListener} on [layout changes]{@link CIQ.ChartEngine~layoutEventListener}.
   *
   * @param {object} config The constructor parameters
   * @param {CIQ.ChartEngine} config.stx The chart object
   * @param {object} [config.animationParameters] Configuration parameters
   * @param {boolean} [config.animationParameters.stayPut=false] Set to true for last tick to stay in position it was scrolled and have rest of the chart move backwards as new ticks are added instead of having new ticks advance forward and leave the rest of the chart in place.
   * @param {number} [config.animationParameters.ticksFromEdgeOfScreen=5] Number of ticks from the right edge the chart should stop moving forward so the last tick never goes off screen (only applicable if stayPut=false)
   * @param {number} [config.animationParameters.granularity=1000000] Set to a value that will give enough granularity for the animation.  The larger the number the smaller the price jump between frames, which is good for charts that need a very slow smooth animation either because the price jumps between ticks are very small, or because the animation was set up to run over a large number of frames when instantiating the CIQ.EaseMachine.
   * @param {number} [config.animationParameters.tension=null] Splining tension for smooth curves around data points (range 0-1).
   * @param {CIQ.EaseMachine} config.easeMachine Override the default easeMachine.  Default is `new CIQ.EaseMachine(Math.easeOutCubic, 1000);`
   * @constructor
   * @name  CIQ.Animation
   * @since
   * - 3.0.0 Now part of *addOns.js*. Previously provided as a standalone *animation.js* file.
   * - 4.0.0 Beacon only flashes for line charts. On candles or bars, it is suppressed as it produces an unnatural effect.
   * - 7.0.2 Now takes one configuration object as its constructor. Must have a reference to a chart engine.
   * @example
   * 	new CIQ.Animation({stx: stxx, animationParameters: {tension:0.3}});  //Default animation with splining tension of 0.3
   *
   */

  CIQ.Animation = CIQ.Animation || function (config) {
    if (!config) throw new Error("Invalid constructor arguments.");
    var stx, animationParameters, easeMachine;

    if (config instanceof CIQ.ChartEngine) {
      // legacy constructor
      stx = arguments[0];
      animationParameters = arguments[1];
      easeMachine = arguments[2];
    } else {
      stx = config.stx;
      animationParameters = config.animationParameters;
      easeMachine = config.easeMachine;
    }

    if (!stx) return console.warn("No CIQ.ChartEngine provided. Cannot properly create CIQ.Animation instance");
    var params = {
      stayPut: false,
      ticksFromEdgeOfScreen: 5,
      granularity: 1000000
    };
    animationParameters = CIQ.extend(params, animationParameters);
    if (params.tension) stx.chart.tension = animationParameters.tension;
    stx.tickAnimator = easeMachine || new CIQ.EaseMachine(Math.easeOutCubic, 1000);
    var scrollAnimator = new CIQ.EaseMachine(Math.easeInOutCubic, 1000);
    var flashingColors = ["#0298d3", "#19bcfc", "#5dcffc", "#9ee3ff"];
    var flashingColorIndex = 0;
    var flashingColorThrottle = 20;
    var flashingColorThrottleCounter = 0;
    var filterSession = false;
    var nextBoundary = null;

    function initMarketSessionFlags() {
      filterSession = false;
      nextBoundary = null;
    }

    stx.addEventListener(["symbolChange", "layout"], function (obj) {
      initMarketSessionFlags();
    });
    stx.prepend("updateCurrentMarketData", function (data, chart, symbol, params) {
      if (!chart) chart = this.chart;

      if (params && params.fromTrade && (chart.closePendingAnimation || chart.closePendingAnimation === 0)) {
        params.finalClose = chart.closePendingAnimation;
      }
    });
    stx.prepend("updateChartData", function (appendQuotes, chart, params) {
      var self = this;

      if (!chart) {
        chart = self.chart;
      }

      if (!chart || !chart.defaultChartStyleConfig || chart.defaultChartStyleConfig == "none") return;

      if (params !== undefined) {
        if (params.animationEntry || params.secondarySeries) return;
      }

      if (!chart.dataSegment) return;

      function completeLastBar(record) {
        if (!chart.masterData) return;

        for (var md = chart.masterData.length - 1; md >= 0; md--) {
          var bar = chart.masterData[md];

          if (bar.Close || bar.Close === 0) {
            bar.Close = record.Close;
            if (record.LastSize) bar.LastSize = record.LastSize;
            if (record.LastTime) bar.LastTime = record.LastTime;
            self.updateCurrentMarketData({
              Close: bar.Close,
              DT: bar.DT,
              LastSize: bar.LastSize,
              LastTime: bar.LastTime
            });
            self.createDataSet(null, null, {
              appending: true
            });
            return;
          }
        }
      }

      function unanimateScroll() {
        if (chart.animatingHorizontalScroll) {
          chart.animatingHorizontalScroll = false;
          self.micropixels = self.nextMicroPixels = self.previousMicroPixels; // <-- Reset self.nextMicroPixels here

          chart.lastTickOffset = 0;
        }

        if (chart.closePendingAnimation !== null) {
          var close = chart.closePendingAnimation;
          chart.closePendingAnimation = null;
          completeLastBar({
            Close: close
          });
        }
      }

      var tickAnimator = self.tickAnimator; // These chart types are the only types supported by animation

      var supportedChartType = this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation;

      if (supportedChartType) {
        if (!tickAnimator) {
          console.warn("Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js");
          return;
        } // If symbol changes then reset all of our variables


        if (this.prevSymbol != chart.symbol) {
          this.prevQuote = 0;
          chart.closePendingAnimation = null;
          this.prevSymbol = chart.symbol;
        }

        unanimateScroll();
        tickAnimator.stop();

        if (appendQuotes.length > 2) {
          return;
        }
      }

      var newParams = CIQ.clone(params);
      if (!newParams) newParams = {};
      newParams.animationEntry = true;
      newParams.bypassGovernor = true;
      newParams.noCreateDataSet = false;
      newParams.appending = true; //newParams.allowReplaceOHL = true;

      newParams.firstLoop = true;
      var symbol = this.chart.symbol;
      var period = this.layout.periodicity;
      var interval = this.layout.interval;
      var timeUnit = this.layout.timeUnit;

      function cb(quote, prevQuote, chartJustAdvanced) {
        return function (newData) {
          var newClose = newData.Close;

          if (!chart.dataSet.length || symbol != chart.symbol || period != self.layout.periodicity || interval != self.layout.interval || timeUnit != self.layout.timeUnit) {
            //console.log ("---- STOP animating: Old",symbol,' New : ',chart.symbol, Date())
            tickAnimator.stop();
            unanimateScroll();
            return; // changed symbols mid animation
          }

          var q = CIQ.clone(quote);
          q.Adj_Close = null; // Don't use this, it will mess up our calculated close

          q.Close = Math.round(newClose * animationParameters.granularity) / animationParameters.granularity; //<<------ IMPORTANT! Use 1000000 for small price increments, otherwise animation will be in increments of .0001
          //q.Close = Math.round(newClose*chart.roundit)/chart.roundit; // to ensure decimal points don't go out too far for interim values

          if (chartJustAdvanced) {
            if (!q.Open && q.Open !== 0) q.Open = q.Close;
            if (!q.High && q.High !== 0) q.High = Math.max(q.Open, q.Close);
            if (!q.Low && q.Low !== 0) q.Low = Math.min(q.Open, q.Close);
          } else {
            if (quote.Close > prevQuote.High) q.High = q.Close;
            if (quote.Close < prevQuote.Low) q.Low = q.Close;
          }

          if (chart.animatingHorizontalScroll) {
            self.micropixels = newData.micropixels;
            chart.lastTickOffset = newData.lineOffset;
          }

          newParams.updateDataSegmentInPlace = !tickAnimator.hasCompleted; //console.log("animating: Old",symbol,' New : ',chart.symbol);

          var updateQuotes = [q]; // Don't include previous quote if tick mode. It will append, duplicating the quote

          if (chartJustAdvanced && self.layout.interval !== "tick") updateQuotes.unshift(prevQuote);
          self.updateChartData(updateQuotes, chart, newParams);
          newParams.firstLoop = false;

          if (tickAnimator.hasCompleted) {
            //console.log( 'animator has completed') ;
            //self.pendingScrollAdvance=false;
            //var possibleYAxisChange = chart.animatingHorizontalScroll;
            unanimateScroll();
            /*if (possibleYAxisChange) { // <---- Logic no longer necessary
             // After completion, one more draw for good measure in case our
             // displayed high and low have changed, which would trigger
             // the y-axis animation
             setTimeout(function(){
             self.draw();
             }, 0);
             }*/
          }
        };
      }

      if (supportedChartType) {
        var quote = appendQuotes[appendQuotes.length - 1];
        this.prevQuote = this.currentQuote(); // <---- prevQuote logic has been changed to prevent forward/back jitter when more than one tick comes in between animations

        var chartJustAdvanced = false; // When advancing, we need special logic to deal with the open

        var dontScroll = false;

        if (period == 1 && appendQuotes.length == 2) {
          // Don't do this if consolidating
          this.prevQuote = appendQuotes[0];
          var dataSetLength = chart.dataSet.length;
          completeLastBar(this.prevQuote);
          if (dataSetLength == chart.dataSet.length) dontScroll = true;
        }

        if (!quote || !quote.Close || !this.prevQuote || !this.prevQuote.Close) return false;

        if (this.extendedHours && chart.market.market_def) {
          // Filter out unwanted sessions
          var dtToFilter = quote.DT;

          if (CIQ.ChartEngine.isDailyInterval(interval)) {
            filterSession = !chart.market.isMarketDate(dtToFilter);
          } else {
            if (!nextBoundary || nextBoundary <= dtToFilter) {
              var session = chart.market.getSession(dtToFilter);
              filterSession = session !== "" && (!this.layout.marketSessions || !this.layout.marketSessions[session]);
              nextBoundary = chart.market[filterSession ? "getNextOpen" : "getNextClose"](dtToFilter);
            }
          }

          if (filterSession) {
            this.draw();
            return false;
          }
        }

        var barSpan = period;
        if (interval == "second" || timeUnit == "second") barSpan *= 1000;else if (interval == "minute" || timeUnit == "minute") barSpan *= 60000;
        if (!isNaN(interval)) barSpan *= interval;
        if (interval == "day" || timeUnit == "day") chartJustAdvanced = quote.DT.getDate() != this.prevQuote.DT.getDate();else if (interval == "week" || timeUnit == "week") chartJustAdvanced = quote.DT.getDate() >= this.prevQuote.DT.getDate() + 7;else if (interval == "month" || timeUnit == "month") chartJustAdvanced = quote.DT.getMonth() != this.prevQuote.DT.getMonth();else chartJustAdvanced = quote.DT.getTime() >= this.prevQuote.DT.getTime() + barSpan;
        var linearChart = !this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars;
        var beginningOffset = 0;

        if (chartJustAdvanced) {
          if (this.animations.zoom.hasCompleted) {
            var candleWidth = this.layout.candleWidth;

            if (chart.scroll <= chart.maxTicks) {
              while (this.micropixels > 0) {
                // If micropixels is larger than a candle then scroll back further
                chart.scroll++;
                this.micropixels -= candleWidth;
              }
            }

            if (chart.scroll <= chart.maxTicks) {
              this.previousMicroPixels = this.micropixels;
              this.nextMicroPixels = this.micropixels + candleWidth;
              beginningOffset = candleWidth * -1;

              if (chart.dataSegment.length < chart.maxTicks - animationParameters.ticksFromEdgeOfScreen && !animationParameters.stayPut) {
                this.nextMicroPixels = this.micropixels;
                chart.scroll++;
              }

              chart.animatingHorizontalScroll = linearChart; // When the chart advances we also animate the horizontal scroll by incrementing micropixels

              chart.previousDataSetLength = chart.dataSet.length;
            } else {
              if (!dontScroll) chart.scroll++;
            }
          } else {
            return false;
          }
        }

        chart.closePendingAnimation = quote.Close;
        var start = chartJustAdvanced && !linearChart ? quote.Open : this.prevQuote.Close;
        tickAnimator.run(cb(quote, CIQ.clone(this.prevQuote), chartJustAdvanced), {
          Close: start,
          micropixels: this.nextMicroPixels,
          lineOffset: beginningOffset
        }, {
          Close: quote.Close,
          micropixels: this.micropixels,
          lineOffset: 0
        });
        return true; // bypass default behavior in favor of animation
      }
    });
    stx.prepend("renderYAxis", function (chart) {
      if (this.grabbingScreen || !this.isHome()) return; // When display style doesn't support animation

      var supportedChartType = this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation;
      if (!supportedChartType) return;
      var panel = chart.panel;
      var yAxis = panel.yAxis;
      if (CIQ.Comparison && yAxis.priceFormatter == CIQ.Comparison.priceFormat) return; // too difficult to animate y-axis change when it changes on every tick due to percentage axis on comparison

      function closure(self) {
        return function (values) {
          chart.animatedLow = values.low;
          chart.animatedHigh = values.high;
          self.draw();
        };
      } // initialize prev values


      if (!chart.prevLowValue && chart.prevLowValue !== 0) {
        chart.prevLowValue = chart.animatedLow = chart.lowValue;
      }

      if (!chart.prevHighValue && chart.prevHighValue !== 0) {
        chart.prevHighValue = chart.animatedHigh = chart.highValue;
      } // check for a change, if so we will spin off an animation


      if (!scrollAnimator.running) chart.animatingVerticalScroll = false;

      if (chart.prevLowValue >= chart.lowValue && chart.prevHighValue <= chart.highValue) {
        if (chart.animatingVerticalScroll) {
          yAxis.highValue = chart.animatedHigh;
          yAxis.lowValue = chart.animatedLow;
        }

        return;
      }

      if (scrollAnimator.running) scrollAnimator.stop();
      if (!chart.lowValue && !chart.highValue) return; // chart just reset, don't animate yet

      var prevLow = chart.prevLowValue,
          prevHigh = chart.prevHighValue;
      chart.prevLowValue = chart.lowValue;
      chart.prevHighValue = chart.highValue;
      chart.animatingVerticalScroll = true;
      scrollAnimator.run(closure(this), {
        low: prevLow,
        high: prevHigh
      }, {
        low: chart.lowValue,
        high: chart.highValue
      });
      yAxis.lowValue = chart.animatedLow;
      yAxis.highValue = chart.animatedHigh;
    });
    /*stx.prepend("draw", function() {
    	if(this.chart.animatingVerticalScroll) {
    		this.renderYAxis(this.chart);
    		return true;
    	}
    });*/

    stx.append("draw", function () {
      if (filterSession) return;

      if (this.chart.dataSet && this.chart.dataSet.length && this.mainSeriesRenderer && this.mainSeriesRenderer.supportsAnimation) {
        if (flashingColorThrottleCounter % flashingColorThrottle === 0) {
          flashingColorIndex++;
          flashingColorThrottleCounter = 0;
        }

        flashingColorThrottleCounter++;
        var context = this.chart.context;
        var panel = this.chart.panel;
        var currentQuote = this.currentQuote();
        if (!currentQuote) return;
        var price = currentQuote.Close;
        var x = this.pixelFromTick(currentQuote.tick, this.chart);
        if (this.chart.lastTickOffset) x = x + this.chart.lastTickOffset;
        var y = this.pixelFromPrice(price, panel);

        if (this.chart.yAxis.left > x && this.chart.yAxis.top <= y && this.chart.yAxis.bottom >= y) {
          if (flashingColorIndex >= flashingColors.length) flashingColorIndex = 0;
          context.beginPath();
          context.moveTo(x, y);
          context.arc(x, y, 2 + flashingColorIndex * 1.07, 0, Math.PI * 2, false);
          context.fillStyle = flashingColors[flashingColorIndex];
          context.fill();
        }
      }
    });
  };
  /**
   * CIQ.EaseMachine interface placeholder to be augmented in *standard.js* with properties.
   *
   * @tsinterface CIQ~EaseMachine
   */

};

var __js_addons_advanced_continuousZoom_ = function __js_addons_advanced_continuousZoom_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Add-on that responds to the chart zoom action, changing periodicities as the number of ticks and/or candle width
   * hits a set boundary.
   *
   * Although this feature is available for all chart styles, it shows best on continuous renderings
   * such as lines and mountains vs. candles and bars. This is because some users may find the
   * changes in candle width that take place as the same range is displayed in a different
   * periodicity, inappropriate. The effect can be mitigated by increasing the number of boundaries
   * so periodicities change more often, preventing large candle width changes, and by using the
   * periodicity roll up feature instead of fetching new data from a quote feed. See examples.
   *
   * See {@link CIQ.ChartEngine#setPeriodicity} and {@link CIQ.ChartEngine#createDataSet}
   *
   * Requires *addOns.js*.
   *
   * The feature will not work without supplying at least one element within the periodicities array
   * and at least one property within the boundaries object.
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} params.stx The chart object.
   * @param {array} params.periodicities Set this array with eligible periodicities in any order.
   * 		These will be the periodicities which will be used by the continuous zooming once a
   * 		boundary is hit. The periodicities are objects with `period`, `interval`, and optional
   * 		`timeUnit` properties (see {@link CIQ.ChartEngine#setPeriodicity}).
   * @param {object} params.boundaries Optional boundary cases to trigger the periodicity change.
   * 		Hitting a maximum boundary switches to the next larger periodicity; hitting a minimum
   * 		boundary switches to the next smaller periodicity.
   * @param {number} [params.boundaries.maxCandleWidth] Largest size of candle in pixels to display
   * 		before switching periodicity.
   * @param {number} [params.boundaries.minCandleWidth] Smallest size of candle in pixels to display
   * 		before switching periodicity.
   * @param {number} [params.boundaries.maxTicks] Most number of ticks to display before switching
   * 		periodicity.
   * @param {number} [params.boundaries.minTicks] Least number of ticks to display before switching
   * 		periodicity.
   *
   * @constructor
   * @name CIQ.ContinuousZoom
   * @since 7.0.0
   *
   * @example
   * new CIQ.ContinuousZoom({
   *     stx: stxx,
   *     periodicities: [
   *         { period:1, interval:"month" },
   *         { period:1, interval:"day" },
   *         { period:2, interval:30 },
   *         { period:1, interval:5 },
   *         { period:15, interval:1, timeUnit:"second" },
   *         { period:1, interval:1, timeUnit:"second" }
   *     ],
   *     boundaries: {
   *         maxCandleWidth: 100,
   *         minCandleWidth: 3,
   *         maxTicks: 500,
   *         minTicks: 10
   *     }
   * });
   *
   * @example
   * // Smother periodicity change by rolling daily into weekly and monthly.
   * // Also try reusing the same interval data and have the chart roll it instead of fetching new data.
   * stxx.dontRoll = false;
   * new CIQ.ContinuousZoom({
   *     stx: stxx,
   *     periodicities: [
   *         // Daily interval data
   *         {period:1, interval:"month"},
   *         {period:2, interval:"week"},
   *         {period:1, interval:"week"},
   *         {period:3, interval:"day"},
   *         {period:1, interval:"day"},
   *         // 30 minute interval data
   *         {period:16, interval:30},
   *         {period:8, interval:30},
   *         {period:4, interval:30},
   *         {period:2, interval:30},
   *         // one minute interval data
   *         {period:30, interval:1},
   *         {period:15, interval:1},
   *         {period:10, interval:1},
   *         {period:5, interval:1},
   *         {period:2, interval:1},
   *         {period:1, interval:1},
   *         // One second interval data
   *         {period:30,interval:1, timeUnit:"second"},
   *         {period:15,interval:1, timeUnit:"second"},
   *         {period:5, interval:1, timeUnit:"second"},
   *         {period:2, interval:1, timeUnit:"second"},
   *         {period:1, interval:1, timeUnit:"second"},
   *     ],
   *     boundaries: {
   *         maxCandleWidth: 15,
   *         minCandleWidth: 3
   *    }
   * });
   */

  CIQ.ContinuousZoom = CIQ.ContinuousZoom || function (params) {
    this.cssRequired = true;
    this.update(params);
    this.stx.continuousZoom = this; //Attaches SmartZoom button to HTML DOM inside .chartSize element

    this.addSmartZoomButton = function () {
      // Don't add a button if one already exists
      var smartZoomButton = this.stx.registerChartControl && this.stx.registerChartControl("stx-smart-zoom", "SmartZoom (Alt + 0)", function (self) {
        return function (e) {
          self.smartZoomToggle(e);
          e.stopPropagation();
        };
      }(this));

      if (smartZoomButton) {
        // Listen for a layout changed event and refresh the toggle state of the button
        this.stx.addEventListener("layout", function (event) {
          if (event.stx.layout.smartzoom === true) {
            smartZoomButton.classList.add("active");
          } else {
            smartZoomButton.classList.remove("active");
          }
        }); // Piggyback off of symbolImport event to detect smartzoom set to false from layout import

        this.stx.addEventListener("symbolImport", function (event) {
          if (event.stx.layout.smartzoom === false) smartZoomButton.classList.remove("active");
        });
      }
    }; //Click event handler for the Smart Zoom button. Sets smartzoom property of layout to its inverse


    this.smartZoomToggle = function (e) {
      this.smartZoomEnable(!this.stx.layout.smartzoom);
    }; //Sets smartzoom property of layout and notifies attached ChartEngine of change


    this.smartZoomEnable = function (state) {
      this.stx.layout.smartzoom = state;
      this.stx.changeOccurred("layout");
    }; // Add the SmartZoom button to chartControls


    this.addSmartZoomButton(); // Enable SmartZoom by default

    this.smartZoomEnable(true);
  };
  /**
   * Updates continuous zoom parameters
   * @param  {object} params Configuration parameters.  See constructor for details
   * @memberof CIQ.ContinuousZoom
   * @since 7.0.0
   * @private
   */


  CIQ.ContinuousZoom.prototype.update = function (params) {
    if (!params) params = {};
    this.stx = params.stx;
    this.periodicities = params.periodicities;
    this.boundaries = params.boundaries;
  };
  /**
   * Potentially performs a continuous zoom after a zoom event
   * @param  {boolean} [zoomOut] True for a zoomOut operation, otherwise zoomIn
   * @memberof CIQ.ContinuousZoom
   * @since 7.0.0
   * @private
   */


  CIQ.ContinuousZoom.prototype.execute = function (zoomOut) {
    // assign a weight to a periodicity setting, the higher the length, the higher the weight
    function valuate(periodicity) {
      var period = periodicity.period || periodicity.periodicity,
          interval = periodicity.interval,
          timeUnit = periodicity.timeUnit || "minute";

      if (isNaN(interval)) {
        timeUnit = interval;
        interval = 1;
      }

      switch (timeUnit) {
        case "month":
          interval *= 4.35;

        /* falls through */

        case "week":
          interval *= 7;

        /* falls through */

        case "day":
          interval *= 1440;

        /* falls through */

        case "minute":
          interval *= 60;

        /* falls through */

        case "second":
          break;

        case "millisecond":
          interval /= 1000;
          break;

        default:
          return null;
      }

      return period * interval;
    }

    if (!this.stx || !this.stx.layout.smartzoom) return;
    var periodicities = this.periodicities,
        boundaries = this.boundaries,
        stx = this.stx,
        layout = stx.layout,
        chart = stx.chart;
    if (!periodicities || !boundaries) return;

    if (!zoomOut && boundaries.maxCandleWidth && layout.candleWidth > boundaries.maxCandleWidth || zoomOut && boundaries.minCandleWidth && layout.candleWidth < boundaries.minCandleWidth || !zoomOut && boundaries.minTicks && chart.maxTicks < boundaries.minTicks || zoomOut && boundaries.maxTicks && chart.maxTicks > boundaries.maxTicks) {
      var next = {
        value: zoomOut ? Number.MAX_VALUE : 0
      };
      var myValue = valuate(layout);

      for (var p = 0; p < periodicities.length; p++) {
        var value = valuate(periodicities[p]);

        if (value > myValue && value < next.value && zoomOut || value < myValue && value > next.value && !zoomOut) {
          next = {
            value: value,
            periodicity: periodicities[p]
          };
        }
      }

      var newPeriodicity = next.periodicity;

      if (newPeriodicity) {
        stx.setRange({
          dtLeft: chart.xaxis[0].DT,
          dtRight: chart.xaxis[chart.xaxis.length - 1].DT,
          dontSaveRangeToLayout: true,
          periodicity: newPeriodicity
        });
      }
    }
  };
};

var __js_addons_advanced_outliers_ = function __js_addons_advanced_outliers_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Creates the outliers add-on which scales the y-axis to the main trend, hiding outlier
   * values. Markers are placed at the location of the outlier values enabling the user to
   * restore the full extent of the y-axis by selecting the markers.
   *
   * Requires *addOns.js*.
   *
   * ![Chart with hidden outliers](./img-Chart-with-Hidden-Outliers.png "Chart with hidden outliers")
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} [params.stx] A reference to the chart object.
   * @param {number} [params.multiplier=3] Sets the threshold for outliers by multiplying the
   * 		normal data range. The default value hides only extreme outliers.
   * @param {Array} [params.altColors] An array of hexadecimal color values used to style
   * 		outlier markers when multiple y-axes share the same panel. Markers for the first
   * 		additional y-axis are styled with the value at index 0; markers for the second
   * 		additional y-axis, the value at index 1; and so forth. If not provided, a default
   * 		array of colors is assigned.
   * @param {string} [params.menuContextClass] A CSS class name used to query the menu DOM element
   * 		that contains the UI control for the outliers add-on. In a multi-chart document, the
   * 		add-on is available only on charts that have a menu DOM element with the value for
   * 		`menuContextClass` as a class attribute.
   *
   * @constructor
   * @name CIQ.Outliers
   * @since
   * - 7.5.0
   * - 8.0.0 Added `params.altColors` and `params.menuContextClass`.
   *
   * @example
   * new CIQ.Outliers({ stx: stxx });
   */

  CIQ.Outliers = CIQ.Outliers || function (params) {
    if (!params) params = {};

    if (!params.stx) {
      console.warn("The Outliers addon requires an stx parameter");
      return;
    } // Set default marker colors


    if (!Array.isArray(params.altColors)) {
      params.altColors = ["#323390", "#66308f", "#0073ba", "#f4932f", "#0056a4", "#00a99c", "#00a553", "#ea1d2c", "#e9088c", "#fff126", "#912a8e", "#ee652e", "#00afed", "#8ec648"];
    }

    this.stx = params.stx;
    this.stx.outliers = this;
    this.cssRequired = true;
    this.multiplier = params.multiplier || 3; // Default to 3 for extreme outliers

    this.altColors = params.altColors;
    this.axisData = {}; // Listen for a layout changed event and reset the markers

    this.stx.addEventListener("layout", function (event) {
      Object.keys(event.stx.outliers.axisData).forEach(function (key) {
        this.removeAllMarkers(this.axisData[key]);
        delete this.axisData[key];
      }.bind(event.stx.outliers));
    });
    /**
     * Checks for outlier values in `dataSet`, and adds outlier markers (data point markers
     * and axis markers) to `axis`.
     *
     * @param {Array} dataSet An array of objects of the form `{value: Number, quote: Object}`.
     * 		Each object contains a value and its associated quote. The value is checked to
     * 		determine whether it is an outlier of the data set. When checking more than one
     * 		value for a quote (such as an OHLC quote), each value is included in a separate
     * 		object; for example, `[{value: open, quote: quote}, {value: high, quote: quote},
     * 		{value: low, quote: quote}, {value: close, quote: quote}...]`.
     * @param {object} panel The panel where `dataSet` is rendered.
     * @param {object} axis The y-axis against which `dataSet` is rendered. **Note:** Charts
     * 		and panels can have multiple y-axes; each y-axis has its own set of outlier
     * 		markers based on the data rendered on the axis.
     * @return {Array} A tuple consisting of the outlier minimum and maximum &mdash; or trend
     * 		minimum and maximum, if no outliers are found &mdash; to be handled by the
     * 		{@link CIQ.ChartEngine#determineMinMax} method. See the return value of the
     * 		[find]{@link CIQ.Outliers#find} function for a description of outlier and trend
     * 		minimum and maximum.
     *
     * @alias processDataSet
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */

    this.processDataSet = function (dataSet, panel, axis) {
      if (!dataSet.length || dataSet.length <= 1) return false;
      var result = [0, 0]; // Min/Max axis values to return
      // Create an axis reference if one does not exist

      if (!this.axisData[axis.name]) {
        var markerColor = "";
        var axisDepth = -1; // Check for another axis using this panel

        Object.keys(this.axisData).forEach(function (key) {
          if (this.axisData[key].panel.name == panel.name) {
            axisDepth++;
          }
        }.bind(this));
        if (axisDepth > -1 && axisDepth < this.altColors.length) markerColor = this.altColors[axisDepth];
        this.axisData[axis.name] = {
          axis: axis,
          panel: panel,
          displayState: "none",
          isFlipped: false,
          originalZoom: axis.zoom,
          markerColor: markerColor,
          markers: {},
          axisMarkers: {}
        };
      }

      var currentAxis = this.axisData[axis.name]; // Attach the min/max values to the current axis data

      Object.assign(currentAxis, this.find(dataSet)); // Update/add necessary markers

      this.refreshMarkerArray(currentAxis); // Update marker display and labels

      this.refreshMarkers(currentAxis); // Return either trendMin or outlierMin based on the axis displayState

      if ((currentAxis.displayState === "low" || currentAxis.displayState === "all") && currentAxis.outlierMin !== null) result[0] = currentAxis.outlierMin;else result[0] = currentAxis.trendMin; // Return either trendMax or outlierMax based on the axis displayState

      if ((currentAxis.displayState === "high" || currentAxis.displayState === "all") && currentAxis.outlierMax !== null) result[1] = currentAxis.outlierMax;else result[1] = currentAxis.trendMax;
      return result;
    };
    /**
     * Finds the outliers contained in `dataSet`.
     *
     * **Note:** This function may be overridden to provide a custom algorithm for finding
     * outliers.
     *
     * @param {Array} dataSet An array of objects of the form `{value: Number, quote: Object}`.
     * 		Each object contains a value and its associated quote. The value is checked to
     * 		determine whether it is an outlier of the data set. When checking more than one
     * 		value for a quote (such as an OHLC quote), each value is included in a separate
     * 		object; for example, `[{value: open, quote: quote}, {value: high, quote: quote},
     * 		{value: low, quote: quote}, {value: close, quote: quote}...]`.
     * @return {object} An object of the form:
     * ```
     * {
     * 	// Minimum and maximum threshold values of dataSet to be considered an outlier.
     * 	minValue: null,
     * 	maxValue: null,
     * 	// Mininum and maximum values of dataSet that are not considered outliers.
     * 	// Will be the least and greatest values in dataSet if no outliers are found.
     * 	trendMin: null,
     * 	trendMax: null,
     * 	// Minimum and maximum values of dataSet that are considered outliers.
     * 	// Will remain null if no outliers are found.
     * 	outlierMin: null,
     * 	outlierMax: null,
     * 	// Array of individual outlier information for marker placement, in the format {DT:DateTime, value:Number, position:String}
     * 	// (position is either 'high' or 'low').
     * 	activeOutliers: []
     * }
     * ```
     *
     * @alias find
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added return value.
     */


    this.find = function (dataSet) {
      if (!dataSet.length || dataSet.length <= 0) return;

      var createMarkerPlaceholder = function createMarkerPlaceholder(data, position) {
        return {
          quote: data.quote,
          DT: data.quote.DT,
          value: data.value,
          position: position
        };
      }; // The minimum and maximum threshold values to be considered an outlier.


      var minValue = null;
      var maxValue = null; // min/max values of available data that are not considered outliers. Will be the least and greatest values in the available data if no outliers are found.

      var trendMin = null;
      var trendMax = null; // min/max values of available data that are considered outliers. Will remain null if no outlier is found.

      var outlierMin = null;
      var outlierMax = null; // Array of outlier information in the format
      // {DT:DateTime, value:Number, position:String}

      var activeOutliers = [];
      var dataSorted = dataSet.slice();
      dataSorted.sort(function (a, b) {
        return a.value - b.value;
      });
      var dataLength = dataSorted.length; // Outlier threshold values are defined as more than the interquartile range above the third quartile
      // or below the first quartile, of the sorted dataSet, multiplied by the value of the
      // stxx.outlierMultiplier property.

      var q1 = dataSorted[Math.floor(dataLength / 4)].value;
      var q3 = dataSorted[Math.floor(dataLength * (3 / 4))].value;
      var iqr = q3 - q1;
      minValue = q1 - iqr * this.multiplier;
      maxValue = q3 + iqr * this.multiplier; // Loop through the sorted data and find the outliers as well as the trend min/max

      for (var idx = 0; idx < dataLength; idx++) {
        // Attack the array from both ends
        var dataLow = dataSorted[idx];
        var dataHigh = dataSorted[dataLength - (idx + 1)]; // Find and mark outliers. Existing merkers will be refreshed in setMarker.

        if (dataLow.value <= minValue) activeOutliers.push(createMarkerPlaceholder(dataLow, "low"));
        if (dataHigh.value >= maxValue) activeOutliers.push(createMarkerPlaceholder(dataHigh, "high")); // Find the first low value that's less than or equal to outlier threshold min

        if (outlierMin === null && dataLow.value <= minValue) outlierMin = dataLow.value; // Find the first high value that's greater than or equal to outlier threshold max

        if (outlierMax === null && dataHigh.value >= maxValue) outlierMax = dataHigh.value; // Find the first low value that's greater than the outlier threshold min

        if (trendMin === null && dataLow.value > minValue) trendMin = dataLow.value; // Find the first high value that's less than the outlier threshold max

        if (trendMax === null && dataHigh.value < maxValue) trendMax = dataHigh.value; // No need to loop through the entire array. Once the trend min/max are found we're done.

        if (trendMin !== null && trendMax !== null) break;
      }

      return {
        minValue: minValue,
        maxValue: maxValue,
        trendMin: trendMin,
        trendMax: trendMax,
        outlierMin: outlierMin,
        outlierMax: outlierMax,
        activeOutliers: activeOutliers
      };
    };
    /**
     * Updates the freshness status of outlier markers belonging to `targetAxis`.
     *
     * Sets the status to fresh if the markers represent data points in the `activeOutliers`
     * list of `targetAxis` or a marker is an axis marker for high or low outliers and high or
     * low outliers exist. (See the return value of the [find]{@link CIQ.Outliers#find}
     * function for a description of the `activeOutliers` list.)
     *
     * Adds new markers to `targetAxis` for data points in the `activeOutliers` list not
     * already represented by a marker (see [markOutlier]{@link CIQ.Outliers#markOutlier}).
     * Adds new axis markers if the data set rendered on `targetAxis` contains high or low
     * outliers and the respective axis marker does not exist (see
     * [markAxis]{@link CIQ.Outliers#markAxis}).
     *
     * Sets the status of all other markers belonging to `targetAxis` to stale, or unfresh
     * (these markers are ultimately removed).
     *
     * @param {object} targetAxis The y-axis for which the markers are refreshed.
     * 		**Note:** Charts and panels can have multiple y-axes, each with its own array of
     * 		outlier markers.
     *
     * @alias refreshMarkerArray
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */


    this.refreshMarkerArray = function (targetAxis) {
      this.deprecateMarkers(targetAxis); // If a marker isn't refreshed below, it will be deleted in the next call

      var targetMarkers = targetAxis.markers;
      targetAxis.activeOutliers.forEach(function (outlier) {
        var quoteTime = outlier.DT.getTime().toString(); // Add a quote marker if there isn't one already

        if (!targetMarkers[quoteTime]) {
          targetMarkers[quoteTime] = {
            isFresh: true,
            type: "quote",
            value: outlier.value,
            marker: this.markOutlier(outlier, outlier.position, targetAxis)
          };
        } // Always refresh the status of the marker


        targetMarkers[quoteTime].isFresh = true;
      }.bind(this));

      if (targetAxis.outlierMax !== null) {
        // Add the high axis marker if there isn't one
        if (!targetMarkers.axisHigh) {
          targetMarkers.axisHigh = {
            isFresh: true,
            type: "axis",
            value: targetAxis.outlierMax,
            marker: this.markAxis("high", targetAxis)
          };
        } // Always refresh the status of the marker


        targetMarkers.axisHigh.isFresh = true;
      }

      if (targetAxis.outlierMin !== null) {
        // Add the low axis marker if there isn't one
        if (!targetMarkers.axisLow) {
          targetMarkers.axisLow = {
            isFresh: true,
            type: "axis",
            value: targetAxis.outlierMin,
            marker: this.markAxis("low", targetAxis)
          };
        } // Always refresh the status of the marker


        targetMarkers.axisLow.isFresh = true;
      }
    };
    /**
     * Sets the outlier display state, which determines whether to display outlier markers.
     *
     * @param {string} newState The intended display state; should be one of:
     * <ul>
     *		<li>"high" &mdash; Show high outliers; hide high outlier markers.</li>
     *		<li>"low" &mdash; Show low outliers; hide low outlier markers.</li>
     *		<li>"all" &mdash; Show high and low outliers; hide high and low outlier markers.</li>
     *		<li>"none" &mdash; Hide high and low outliers; show high and low outlier markers.</li>
     * </ul>
     * If none of the above is provided, "none" is assumed.
     * @param {object} targetAxis The y-axis on which the outlier state is set. **Note:** A
     * 		chart or panel can have multiple y-axes.
     *
     * @alias setDisplayState
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `targetAxis` parameter.
     */


    this.setDisplayState = function (newState, targetAxis) {
      if (newState != "high" && newState != "low" && newState != "all") newState = "none";
      var displayState = newState; // Set the value of displayState to show the intended state, based on its existing state. This
      // allows the markers to toggle between states without concern for what is currently displayed.
      // For example: if the current display state is showing low outlier only, and the intent is to
      // now display high outliers as well, then the display state will change to 'all'.
      // This will toggle the high/low state off as well.

      if (targetAxis.displayState == "all" && newState == "high") displayState = "low";else if (targetAxis.displayState == "all" && newState == "low") displayState = "high";else if (targetAxis.displayState == "high" && newState == "low") displayState = "all";else if (targetAxis.displayState == "low" && newState == "high") displayState = "all";else if (targetAxis.displayState == newState) displayState = "none";
      targetAxis.displayState = displayState; // Reset the axis zoom state

      targetAxis.axis.zoom = targetAxis.originalZoom;
      this.refreshMarkers(targetAxis);
      this.stx.draw();
    };
    /**
     * Removes all markers from `targetAxis` that are no longer fresh; that is, markers that
     * do not represent data points in the current data set, or axis markers that are
     * irrelevant because high or low outliers no longer exist. Sets the status of all
     * remaining outlier markers to stale, or not fresh (the freshness status should
     * subsequently be reevaluated).
     *
     * @param {object} targetAxis The y-axis for which the markers are deprecated. **Note:**
     * 		A chart or panel can have multiple y-axes; each y-axis has its own outlier
     * 		markers based on the data rendered on the axis.
     *
     * @alias deprecateMarkers
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `targetAxis` parameter.
     */


    this.deprecateMarkers = function (targetAxis) {
      var removeMarker = function removeMarker(marker) {
        if (marker.marker && !marker.isFresh) {
          if (marker.marker.remove) marker.marker.remove();
          marker.marker = null;
        } else {
          marker.isFresh = false;
        }
      }; // Handle the outlier markers


      Object.keys(targetAxis.markers).forEach(function (key) {
        removeMarker(this.markers[key]); // Remove the marker property if its marker has been removed

        if (!this.markers[key].marker) {
          delete this.markers[key];
        }
      }.bind(targetAxis));
    };
    /**
     * Removes all outlier markers from `targetAxis`, including data point markers and y-axis
     * markers.
     *
     * @param {object} targetAxis The y-axis from which the markers are removed. **Note:**
     * 		Charts and panels can have multiple y-axes, each with its own outlier markers.
     *
     * @alias removeAllMarkers
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `targetAxis` parameter.
     */


    this.removeAllMarkers = function (targetAxis) {
      Object.keys(targetAxis.markers).forEach(function (key) {
        var targetMarker = targetAxis.markers[key].marker;

        if (targetMarker) {
          if (targetMarker.remove) targetMarker.remove();
          targetMarker = null;
        } // Remove the marker property if its marker has been removed


        if (!targetMarker) {
          delete targetAxis.markers[key];
        }
      });
    };
    /**
     * Shows or hides outlier markers based on the display state.
     *
     * See [setDisplayState]{@link CIQ.Outliers#setDisplayState}.
     *
     * @alias updateMarkerVisibility
     * @memberOf CIQ.Outliers.prototype
     * @since 7.5.0
     */


    this.updateMarkerVisibility = function () {
      Object.keys(this.markers).forEach(function (key) {
        if (this.displayState == "all" || this.markers[key].marker.node.classList.contains(this.displayState)) this.markers[key].marker.node.style.display = "none";else this.markers[key].marker.node.style.display = "block";
      }.bind(this));
    };
    /**
     * Updates the position of the axis outlier marker represented by `node`.
     *
     * @param {HTMLElement} node The axis marker to position.
     * @param {object} targetAxis The y-axis on which the axis marker is positioned.
     *
     * @alias refreshAxisMarkers
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `targetAxis` parameter.
     */


    this.refreshAxisMarkers = function (node, targetAxis) {
      var isHigh = false;
      var positionClass = "low";

      if (node.classList.contains("high")) {
        isHigh = true;
        positionClass = "high";
      }

      var posTop = targetAxis.axis.top; // Set the low marker of reverse the value if the axis is flipped

      if (!targetAxis.isFlipped && !isHigh || targetAxis.isFlipped && isHigh) {
        posTop = targetAxis.axis.bottom - 50;
      } // Overlap the markers in the center for nano size because it's all or nothing at that size.


      if (node.classList.contains("nano")) {
        posTop = targetAxis.axis.top + targetAxis.axis.height / 2 - 22;
      }

      var xFormLeft = Math.floor(targetAxis.axis.left).toString() + "px";
      var xFormTop = Math.floor(posTop).toString() + "px"; // Use the vlaue property instead

      var labelPrice = isHigh ? targetAxis.outlierMax : targetAxis.outlierMin; // Set marker positioning relative to the y-axis

      node.style.transform = "translate(" + xFormLeft + ", " + xFormTop + ")";
      node.querySelector(".outlier-value").innerText = this.stx.formatYAxisPrice(labelPrice); // Apply .right class when axis is on the left to right position child elements

      if (xFormLeft === "0px") node.classList.add("right");else node.classList.remove("right");
    };
    /**
     * Updates the display styles of all outlier markers belonging to `targetAxis`, including
     * data point markers and axis markers. Shows the markers if outliers are hidden and the
     * marked outliers exceed the bounds of `targetAxis`. Flips the markers if `targetAxis`
     * has been inverted (see [flipMarkers]{@link CIQ.Outliers#flipMarkers}).
     *
     * @param {object} targetAxis The y-axis on which the markers are refreshed. **Note:**
     * 		Charts and panels can have multiple y-axes, each with its own outlier markers.
     *
     * @alias refreshMarkers
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */


    this.refreshMarkers = function (targetAxis) {
      Object.keys(targetAxis.markers).forEach(function (targetAxis, key) {
        var targetMarker = targetAxis.markers[key].marker;
        var targetValue = targetAxis.markers[key].value;
        var targetType = targetAxis.markers[key].type; // Check the marker value against the actual axis min/max. This accounts for yaxis scaling
        // in addition to the outlier display state.

        if (targetValue > targetAxis.trendMax && targetAxis.axis.high >= targetValue || targetValue < targetAxis.trendMin && targetAxis.axis.low <= targetValue) {
          if (targetType == "quote") {
            targetMarker.node.style.display = "none";
          } else if (targetType == "axis") {
            targetMarker.node.classList.add("compress");
          }
        } else {
          if (targetType == "quote") {
            targetMarker.node.style.display = "block";
          } else if (targetType == "axis") {
            targetMarker.node.classList.remove("compress");
          }
        }

        if (targetType == "axis") {
          this.refreshAxisMarkers(targetMarker.node, targetAxis);
        } // Update the marker responsive style


        if (targetAxis.axis.height < 100) targetMarker.node.classList.add("nano");else targetMarker.node.classList.remove("nano");
        if (targetAxis.axis.height < 250) targetMarker.node.classList.add("micro");else targetMarker.node.classList.remove("micro");
      }.bind(this, targetAxis)); // Check for a change in the flipped state of the axis

      if (targetAxis.isFlipped !== targetAxis.axis.flipped) this.flipMarkers(targetAxis);
    };
    /**
     * Places markers on the y-axis when high or low outliers exist.
     *
     * @param {string} position The position of the marker; either "high" or "low". If the
     * 		position is "high", the marker is placed at the top of the axis; if "low", at the
     * 		bottom of the axis.
     * @param {object} targetAxis The y-axis on which the markers are placed. **Note:**
     * 		Charts and panels can have multiple y-axes, each with its own outlier markers.
     * @return {CIQ.Marker} The axis outlier marker, which is added to the display.
     *
     * @alias markAxis
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `position` and `targetAxis` parameters and return value.
     */


    this.markAxis = function (position, targetAxis) {
      // Create a marker positioned on the Y axis and return it.
      var axisMarker = document.createElement("div");
      axisMarker.classList.add("outlier-sticker", "axis", "mini", position);
      axisMarker.innerHTML = '<div class="expansion"><div class="pill"><div class="icon"></div></div><div class="tick"></div><span class="outlier-value"></div><div class="compression"><div class="pill"><div class="icon"></div></div></div></span>';
      this.matchYAxisStyle(axisMarker);
      this.setMarkerColor(axisMarker, targetAxis.markerColor);
      var activate = this.handleMarkerClick.bind(this, position, targetAxis, axisMarker);
      axisMarker.addEventListener("click", activate);
      axisMarker.addEventListener("touchend", activate);
      return new CIQ.Marker({
        stx: this.stx,
        xPositioner: "none",
        yPositioner: "none",
        label: "expand",
        permanent: true,
        chartContainer: true,
        node: axisMarker
      });
    };
    /**
     * Adds an outlier marker to a tick (data point).
     *
     * @param {object} data Represents the tick that is marked as an outlier. Contains the
     * 		outlier value and its associated quote; for example,
     * 		`{value: Number, quote: Object}`.
     * @param {string} position The position of the marker; either "high" or "low". If the
     * 		position is "high", the marker is placed at the top of the chart; if "low", at the
     * 		bottom of the chart.
     * @param {object} targetAxis The y-axis to which the marker is added. **Note:** A chart
     * 		or panel can have multiple y-axes; each y-axis has its own outlier markers.
     * @return {CIQ.Marker} The outlier marker, which is added to the display.
     *
     * @alias markOutlier
     * @memberOf CIQ.Outliers.prototype
     * @since
     * - 7.5.0
     * - 8.0.0 Added `targetAxis` parameter.
     */


    this.markOutlier = function (data, position, targetAxis) {
      if (!data) return;
      if (!targetAxis) targetAxis = {
        panel: this.stx.panels.chart
      };
      position = position || "high"; // Create a marker

      var outlierMarker = document.createElement("div");
      outlierMarker.classList.add("outlier-sticker", "quote", "mini", position);
      outlierMarker.innerHTML = '<div class="pill"><div class="icon"></div></div><span class="outlier-value">' + this.stx.formatYAxisPrice(data.value, targetAxis.panel) + "</span>";
      this.matchYAxisStyle(outlierMarker);
      this.setMarkerColor(outlierMarker, targetAxis.markerColor);
      var activate = this.handleMarkerClick.bind(this, position, targetAxis, outlierMarker);
      outlierMarker.addEventListener("click", activate);
      outlierMarker.addEventListener("touchend", activate);
      return new CIQ.Marker({
        stx: this.stx,
        xPositioner: "date",
        yPositioner: position == "high" ? "top" : "bottom",
        x: data.quote.DT,
        panelName: targetAxis.panel.name,
        node: outlierMarker
      });
    };
    /**
     * Calls [setDisplayState]{@link CIQ.Outliers#setDisplayState} in response to selecting an
     * outlier marker.
     *
     * @param {string} position The position of the marker; either "high" or "low".
     * @param {object} targetAxis The y-axis that contains the selected marker. **Note:**
     * 		Charts and panels can have multiple y-axes; each y-axis has its own outlier
     * 		markers.
     * @param {HTMLElement} targetNode The selected outlier marker DOM node.
     *
     * @alias handleMarkerClick
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */


    this.handleMarkerClick = function (position, targetAxis, targetNode) {
      if (targetNode.classList.contains("nano")) position = "all"; // not concerned about differentiation between high and low at the nano size

      this.setDisplayState(position, targetAxis);
      this.stx.draw();
    };
    /**
     * Sets the CSS style properties of the y-axis outlier marker to match the CSS styling of
     * the y-axis itself.
     *
     * @param {HTMLElement} node The y-axis marker to style.
     *
     * @alias matchYAxisStyle
     * @memberOf CIQ.Outliers.prototype
     * @since 7.5.0
     */


    this.matchYAxisStyle = function (node) {
      // Apply styles from the yAxis
      if (this.stx.styles.stx_yaxis) {
        var styles = this.stx.styles.stx_yaxis;
        node.style.fontSize = styles.fontSize;
        node.style.fontFamily = styles.fontFamily;
        node.style.color = styles.color;
        node.style.borderColor = styles.color;
      }
    };
    /**
     * Applies a background color to an outlier data point marker.
     *
     * @param {HTMLElement} node The outlier marker DOM node to which the background color is
     * 		applied.
     * @param {string} color The hexadecimal color value set as the node background color.
     *
     * @alias setMarkerColor
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */


    this.setMarkerColor = function (node, color) {
      if (color == "") return; //Set marker color

      var markerPills = node.querySelectorAll(".pill");

      for (var markerIdx = 0; markerIdx < markerPills.length; markerIdx++) {
        markerPills[markerIdx].style.backgroundColor = color;
      }
    };
    /**
     * Repositions outlier markers from the top of the display to the bottom (or vice versa)
     * when the associated y-axis has been flipped (inverted).
     *
     * @param {object} targetAxis The y-axis that has been flipped.
     *
     * @alias flipMarkers
     * @memberOf CIQ.Outliers.prototype
     * @since 8.0.0
     */


    this.flipMarkers = function (targetAxis) {
      targetAxis.isFlipped = targetAxis.axis.flipped;
      Object.keys(targetAxis.markers).forEach(function (targetAxis, key) {
        var targetMarker = targetAxis.markers[key].marker;
        var targetValue = targetAxis.markers[key].value;
        var targetType = targetAxis.markers[key].type; // Check for flipped state and add/remove flipped class

        if (targetAxis.isFlipped) {
          targetMarker.node.classList.add("flipped");
        } else {
          targetMarker.node.classList.remove("flipped");
        } // Set Y positioning of quote markers


        if (targetType == "quote") {
          if (targetValue > targetAxis.trendMax) {
            // High marker
            if (targetAxis.isFlipped) targetMarker.params.yPositioner = "bottom";else targetMarker.params.yPositioner = "top";
          } else if (targetValue < targetAxis.trendMin) {
            // Low marker
            if (targetAxis.isFlipped) targetMarker.params.yPositioner = "top";else targetMarker.params.yPositioner = "bottom";
          }
        }
      }.bind(this, targetAxis));
    };

    var originalDetermineMinMax = CIQ.ChartEngine.prototype.determineMinMax.bind(this.stx);
    /**
     * Overrides the default `CIQ.ChartEngine.prototype.determineMinMax` function when the
     * Outliers add-on is active. Injects the local {@link CIQ.Outliers#processDataSet}
     * function as a data filter and passes the filter along to the original `determineMinMax`
     * function (see below).
     *
     * @param {Array} quotes The array of quotes (typically
     * 		`CIQ.ChartEngine.chart.dataSegment`) to evaluate for minimum and maximum values.
     * @param {Array} fields A list of fields to compare.
     * @param {boolean|Array} [sum] If true, then compute maximum sum rather than the maximum
     * 		single value across all fields. If an array, compute sum over just the fields in
     * 		the array.
     * @param {boolean} [bypassTransform] If true, bypass any transformations.
     * @param {number} [length] Specifies how many elements of the quotes array to process.
     * @param {boolean} [checkArray] If true, the type of the value used to determine the
     * 		min/max is checked to ascertain whether it is an array; if so, the first element
     * 		of the array is retrieved for use in the min/max determination.
     * @param {CIQ.ChartEngine.Panel} [panel] A reference to the panel rendering the quotes.
     * @param {CIQ.ChartEngine.YAxis} [axis] A reference to the y-axis rendered for the quotes.
     * @param {Array} [filters] Array of functions to process the min/max values before
     * 	returning. Filter functions must return a valid min/max tuple or false.
     * @return {function} A reference to the original
     * 		`CIQ.ChartEngine.prototype.determineMinMax` library function.
     *
     * @memberof CIQ.ChartEngine
     * @since
     * - 7.5.0
     * - 8.0.0 Allow the `sum` parameter to be an array of valid fields to sum over.
     * 		Added the `panel`, `axis`, and `filters` parameters.
     * @private
     */

    CIQ.ChartEngine.prototype.determineMinMax = function (quotes, fields, sum, bypassTransform, length, checkArray, panel, axis, filters) {
      if (!filters) filters = [];
      if (panel && axis && this.layout.outliers) filters.push(this.outliers.processDataSet.bind(this.outliers));
      return originalDetermineMinMax(quotes, fields, sum, bypassTransform, length, checkArray, panel, axis, filters);
    };
  };
  /**
   * CIQ.Marker interface placeholder to be augmented in *standard.js* with properties.
   *
   * @tsinterface CIQ~Marker
   */

};

var __js_addons_advanced_plotComplementer_ = function __js_addons_advanced_plotComplementer_(_exports) {
  /* global _CIQ, _timezoneJS, _SplinePlotter */
  var CIQ = typeof _CIQ !== "undefined" ? _CIQ : _exports.CIQ;
  /**
   * Creates an add-on that enables a series to complement another series.
   *
   * ![Plot Complementer](./img-Data-Forecasting.png)
   *
   * The complementary series is a permanent fixture of the series which it complements. It moves
   * in tandem with the series, and gets removed with the series. In all other respects, though, it
   * behaves like its own series. It shows separately in the panel legend and plots using its own
   * renderer.
   *
   * Charts can have multiple `PlotComplementer` instances. Each instance is attached to the chart
   * engine as a member of a `PlotComplementer` collection.
   *
   * Multiple `PlotComplementer` instances can be associated with a time series. To link a
   * `PlotComplementer` to a series, specify the series instrument in the `params.filter` function.
   * See `[setQuoteFeed]{@link CIQ.PlotComplementer#setQuoteFeed}`.
   *
   * **Note:** The series created by this add-on is not exported with the layout, since it is
   * created in tandem with the series it complements. Currently, this feature works only with
   * non-comparison series.
   *
   * Requires *addOns.js*.
   *
   * @param {object} params Configuration parameters.
   * @param {CIQ.ChartEngine} params.stx The chart object.
   * @param {string} [params.id] Unique key used by the add-on to identify itself. If not supplied,
   * 		a random key is chosen.
   * @param {object} [params.quoteFeed] Attaches the quote feed to the quote driver to satisfy any
   * 		quote requests for any series created by the add-on.
   * @param {object} [params.behavior] Used as the behavior for the quote feed supplied in this
   * 		parameter list.
   * @param {function} [params.filter] Used as the filter for the quote feed supplied in this
   * 		parameter list. See `[setQuoteFeed]{@link CIQ.PlotComplementer#setQuoteFeed}`.
   * @param {object} [params.decorator] Container object for the `symbol` and `display` properties.
   * 		The `decorator` provides the label (`symbol`) for the complementary series and a short
   * 		description (`display`) that is appended to the label; for example:
   * ```
   * decorator: {symbol:"_fcst", display:" Forecast"}
   * ```
   * @param {string} [params.decorator.symbol] Adds this string onto the ID when creating the
   * 		complementary series. Otherwise, a unique ID is used.
   * @param {string} [params.decorator.display] Customizes the display value of the series.
   * @param {object} [params.renderingParameters={chartType: "line", width: 1, opacity: 0.5}] A
   * 		collection of parameters that override the default rendering parameters. The
   * 		`renderingParameters` object can be set or changed at any time. The default parameters
   * 		can be restored by calling {@link CIQ.PlotComplementer#resetRenderingParameters}.
   * 		<p>Here are a few examples of rendering parameters:</p>
   * ```
   * // Assuming a PlotComplementer declared as "forecaster":
   * forecaster.renderingParameters = {chartType:"scatterplot", opacity:0.5, field:"Certainty"}
   * forecaster.renderingParameters = {chartType:"histogram", border_color:"transparent", opacity:0.3}
   * forecaster.renderingParameters = {chartType:"channel", opacity:0.5, pattern:"dotted"}
   * forecaster.renderingParameters = {chartType:"candle", opacity:0.5, color:"blue", border_color:"blue"}
   * ```
   *
   * @constructor
   * @name CIQ.PlotComplementer
   * @since 7.3.0
   *
   * @example <caption>Forecasting</caption>
   * let forecaster = new CIQ.PlotComplementer({
   *     stx:stxx,
   *     id:"forecast",
   *     quoteFeed: fcstFeed.quoteFeedForecastSimulator,
   *     behavior: {refreshInterval:60},
   *     decorator: {symbol:"_fcst", display:" Forecast"},
   *     renderingParameters: {chartType:"channel", opacity:0.5, pattern:"dotted"}
   * });
   */

  CIQ.PlotComplementer = CIQ.PlotComplementer || function (params) {
    var stx = params.stx;
    var unique = CIQ.uniqueID();
    if (!params.decorator) params.decorator = {};
    var symbolDecorator = params.decorator.symbol || "_" + unique;
    var displayDecorator = params.decorator.display || " (addl)";
    if (!stx.plotComplementers) stx.plotComplementers = [];
    stx.plotComplementers.push(this);
    this.id = params.id || unique;
    this.defaultRenderingParameters = {
      chartType: "line",
      width: 1,
      opacity: 0.5
    };
    if (params.renderingParameters) this.defaultRenderingParameters = params.renderingParameters;
    var self = this;

    function addSeries(stx, symbol, parameters, id) {
      function verifyQuoteFeed(stx) {
        if (!stx.quoteDriver) return;
        if (!params.quoteFeed) return;

        for (var qf = 0; qf < stx.quoteDriver.quoteFeeds.length; qf++) {
          if (stx.quoteDriver.quoteFeeds[qf].engine == params.quoteFeed) return;
        }

        return "err";
      }

      if (verifyQuoteFeed(stx) == "err") return;
      if (!id) id = symbol;
      if (stx.isEquationChart(symbol)) return;
      if (!parameters) parameters = {};
      if (parameters.isComparison) return;

      if (id && id.indexOf(symbolDecorator) == -1) {
        var fId = id + symbolDecorator,
            fSymbol = symbol + symbolDecorator;
        var masterRenderer = stx.getRendererFromSeries(id);
        var myParms = CIQ.extend({
          display: symbol + displayDecorator,
          name: fId,
          symbol: fSymbol,
          symbolObject: {
            symbol: fSymbol,
            generator: self.id,
            masterSymbol: symbol
          },
          overChart: false,
          gapDisplayStyle: true,
          permanent: true,
          panel: parameters.panel,
          yAxis: parameters.yAxis,
          shareYAxis: true,
          loadData: !!self.quoteFeed,
          dependentOf: masterRenderer ? masterRenderer.params.name : stx.mainSeriesRenderer.params.name
        }, self.renderingParameters);
        if (!myParms.color) myParms.color = parameters.color || "auto";
        stx.addSeries(fId, myParms, function (error, obj) {
          if (error) stx.removeSeries(fId, stx.chart);

          if (stx.chart.seriesRenderers[fId]) {
            stx.chart.seriesRenderers[fId].params.display = myParms.display;
          }
        });
      }
    }

    function removeSeries(stx, id, chart) {
      if (id && id.indexOf(symbolDecorator) == -1) stx.removeSeries(id + symbolDecorator, chart);
    }

    function symbolChange(obj) {
      if (obj.action == "master") {
        if (!obj.prevSymbol) obj.prevSymbol = obj.symbol;
        removeSeries(obj.stx, obj.prevSymbol, obj.stx.chart);
        addSeries(obj.stx, obj.symbol);
      } else if (obj.action == "add-series") {
        removeSeries(obj.stx, obj.id, obj.stx.chart);
        addSeries(obj.stx, obj.symbol, obj.parameters, obj.id);
      } else if (obj.action == "remove-series") {
        removeSeries(obj.stx, obj.id, obj.stx.chart);
      }
    }

    stx.addEventListener("symbolChange", symbolChange);
    stx.addEventListener("symbolImport", symbolChange);
    /**
     * Resets the `PlotComplementer` rendering values to the default settings.
     *
     * Default settings can be provided in the parameters passed to the `PlotComplementer` constructor. If no settings are
     * provided to the constructor, `PlotComplementer` uses the following defaults: `{ chartType:"line", width:1, opacity:0.5 }`.
     *
     * The rendering parameters may be set anytime after creating `PlotComplementer`; for example, to set an ad-hoc rendering
     * right before adding a series.
     *
     * @alias resetRenderingParameters
     * @memberof CIQ.PlotComplementer.prototype
     * @since 7.3.0
     */

    this.resetRenderingParameters = function () {
      this.renderingParameters = this.defaultRenderingParameters;
    };
    /**
     * Sets a quote feed for the `PlotComplementer`.
     *
     * Automatically called when a quote feed is provided in the constructor argument. If a
     * quote feed or `behavior` object is not specified in `params`, this function returns
     * without doing anything.
     *
     * @param {object} params Configuration parameters.
     * @param {object} params.quoteFeed Quote feed to attach to the quote driver to satisfy
     * 		any quote requests for any series created by the add-on. This quote feed is like
     * 		any time series quote feed object. See the
     * 		[Data Integration Overview]{@tutorial DataIntegrationOverview}.
     * @param {object} params.behavior Behavior for the quote feed supplied in this parameter
     * 		list. This object is like any `behavior` object associated with a quote feed.
     * 		See {@link CIQ.ChartEngine#attachQuoteFeed} for more information on `behavior`
     * 		objects.
     * @param {function} [params.filter] Filters the quote feed supplied in this parameter
     * 		list. The filter function takes as an argument an object typically containing
     * 		`symbolObject`, `symbol`, and `interval` properties. The properties associate the
     * 		`PlotComplementer` with an instrument. If the `filter` function returns true, the
     * 		`PlotComplementer` quote feed is used for the instrument.
     * 		<p>This `filter` function is like the `filter` in basic quote feeds.
     * 		See {@link CIQ.ChartEngine#attachQuoteFeed} for more information on quote feed
     * 		`filter` functions.</p>
     * @alias setQuoteFeed
     * @memberof CIQ.PlotComplementer.prototype
     * @since 7.3.0
     */


    this.setQuoteFeed = function (params) {
      if (!params.quoteFeed || !params.behavior) return;
      var behavior = CIQ.clone(params.behavior);
      behavior.generator = this.id;
      var existingFilter = params.filter;

      var filter = function filter(params) {
        if (existingFilter && !existingFilter(params)) return false;
        return params.symbolObject.generator == behavior.generator;
      };

      stx.attachQuoteFeed(params.quoteFeed, behavior, filter);
      this.quoteFeed = params.quoteFeed;
    };

    this.setQuoteFeed(params);
    this.resetRenderingParameters();
  };
};

var _exports = {
  CIQ: _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"]
};












/* global __TREE_SHAKE__ */

if (typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__) {
  _exports.CIQ.activateImports(__js_addons_standard_extendedHours_, __js_addons_standard_fullScreen_, __js_addons_standard_inactivityTimer_, __js_addons_standard_rangeSlider_, __js_addons_standard_shortcuts_, __js_addons_standard_tableView_, __js_addons_standard_tooltip_, __js_addons_advanced_animation_, __js_addons_advanced_continuousZoom_, __js_addons_advanced_outliers_, __js_addons_advanced_plotComplementer_, null);
}

/***/ }),

/***/ "./chartiq/production/js/advanced.js":
/*!*******************************************!*\
  !*** ./chartiq/production/js/advanced.js ***!
  \*******************************************/
/*! exports provided: aggregations, drawingAdvanced, equationsAdvanced, highPerformanceMarkers, renderersAdvanced, accumulationDistribution, adx, alligator, aroon, atr, awesomeOscillator, balanceOfPower, bollinger, cci, centerOfGravity, chaikin, chande, choppiness, comparisonStudies, coppock, darvasBox, detrended, disparity, easeOfMovement, ehlerFisher, elder, fractalChaos, highLowStudies, ichimoku, intradayMomentum, keltner, klinger, linearRegression, macd, massIndex, moneyFlow, movingAverages, parabolicSAR, pivotPoints, prettyGoodOscillator, priceMomentumOscillator, priceVolumeOscillator, primeNumber, pring, projectedVolume, psychologicalLine, qstick, rainbow, randomWalk, relativeVigor, rsi, schaffTrendCycle, shinohara, stochastics, supertrend, swingIndex, trendIntensity, trix, twiggsMoneyFlow, typicalPrice, ulcerIndex, ultimateOscillator, valuationLines, volatilityIndex, volumeProfile, volumeStudies, vortex, williamsMFI, CIQ, SplinePlotter, timezoneJS, $$, $$$ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "aggregations", function() { return Z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "drawingAdvanced", function() { return X; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equationsAdvanced", function() { return W; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "highPerformanceMarkers", function() { return Q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderersAdvanced", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accumulationDistribution", function() { return I; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "adx", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "alligator", function() { return N; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "aroon", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "atr", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "awesomeOscillator", function() { return Y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "balanceOfPower", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bollinger", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cci", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "centerOfGravity", function() { return K5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "chaikin", function() { return z0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "chande", function() { return z$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "choppiness", function() { return w8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "comparisonStudies", function() { return S3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "coppock", function() { return f_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "darvasBox", function() { return M8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "detrended", function() { return q3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disparity", function() { return c7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easeOfMovement", function() { return w2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ehlerFisher", function() { return J9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elder", function() { return r7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fractalChaos", function() { return N0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "highLowStudies", function() { return Y5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ichimoku", function() { return k5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "intradayMomentum", function() { return O6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keltner", function() { return G_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "klinger", function() { return X0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linearRegression", function() { return Z_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "macd", function() { return i$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "massIndex", function() { return L$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moneyFlow", function() { return t6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "movingAverages", function() { return u5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parabolicSAR", function() { return l1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pivotPoints", function() { return i0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prettyGoodOscillator", function() { return P4; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "priceMomentumOscillator", function() { return i9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "priceVolumeOscillator", function() { return e1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "primeNumber", function() { return Y0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pring", function() { return e3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "projectedVolume", function() { return U7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "psychologicalLine", function() { return f6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "qstick", function() { return q8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rainbow", function() { return c0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomWalk", function() { return x7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "relativeVigor", function() { return J3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rsi", function() { return H8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "schaffTrendCycle", function() { return d8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shinohara", function() { return T5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stochastics", function() { return C2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supertrend", function() { return P1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "swingIndex", function() { return r9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trendIntensity", function() { return G6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trix", function() { return g9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "twiggsMoneyFlow", function() { return H7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "typicalPrice", function() { return P6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ulcerIndex", function() { return B7; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ultimateOscillator", function() { return k3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "valuationLines", function() { return K9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "volatilityIndex", function() { return M_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "volumeProfile", function() { return A9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "volumeStudies", function() { return G2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vortex", function() { return L3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "williamsMFI", function() { return c3; });
/* harmony import */ var _js_standard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/standard.js */ "./chartiq/production/js/standard.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CIQ", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SplinePlotter", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["SplinePlotter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timezoneJS", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["timezoneJS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["$$"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$$", function() { return _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["$$$"]; });

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/

/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/

/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */

/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */

/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */

/*************************************************************************************************************************/

/* eslint-disable no-extra-parens */

/* eslint-disable */

/* jshint ignore:start */

/* ignore jslint start */
g9BGt[356525] = function () {
  var D1t = 2;

  for (; D1t !== 9;) {
    switch (D1t) {
      case 1:
        return globalThis;
        break;

      case 5:
        var S2K;

        try {
          var x05 = 2;

          for (; x05 !== 6;) {
            switch (x05) {
              case 9:
                delete S2K["M3xzI"];
                var F_x = Object["prototype"];
                delete F_x["n$kDW"];
                x05 = 6;
                break;

              case 3:
                throw "";
                x05 = 9;
                break;

              case 4:
                x05 = typeof M3xzI === "undefined" ? 3 : 9;
                break;

              case 5:
                S2K["M3xzI"] = S2K;
                x05 = 4;
                break;

              case 2:
                Object["defineProperty"](Object["prototype"], "n$kDW", {
                  '\x67\x65\x74': function get() {
                    var k0R = 2;

                    for (; k0R !== 1;) {
                      switch (k0R) {
                        case 2:
                          return this;
                          break;
                      }
                    }
                  },
                  '\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65': true
                });
                S2K = n$kDW;
                x05 = 5;
                break;
            }
          }
        } catch (C4k) {
          S2K = window;
        }

        return S2K;
        break;

      case 2:
        D1t = (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis)) === "object" ? 1 : 5;
        break;
    }
  }
}();

J$Y(g9BGt[356525]);

g9BGt.X$L = function () {
  return typeof g9BGt[459327].Z7m4YCh === 'function' ? g9BGt[459327].Z7m4YCh.apply(g9BGt[459327], arguments) : g9BGt[459327].Z7m4YCh;
};

g9BGt.O90 = function () {
  return typeof g9BGt[459327].Z7m4YCh === 'function' ? g9BGt[459327].Z7m4YCh.apply(g9BGt[459327], arguments) : g9BGt[459327].Z7m4YCh;
};

g9BGt.i7j = function () {
  return typeof g9BGt[50848].w4xZ2A7 === 'function' ? g9BGt[50848].w4xZ2A7.apply(g9BGt[50848], arguments) : g9BGt[50848].w4xZ2A7;
};

g9BGt.D8z = function () {
  return typeof g9BGt[459327].q52sdNp === 'function' ? g9BGt[459327].q52sdNp.apply(g9BGt[459327], arguments) : g9BGt[459327].q52sdNp;
};

g9BGt[106140] = 646;
g9BGt[220353] = 446;

g9BGt[150036] = function () {
  var M4_ = 2;

  for (; M4_ !== 9;) {
    switch (M4_) {
      case 3:
        return y8s[3];
        break;

      case 2:
        var y8s = [arguments];
        y8s[6] = undefined;
        y8s[3] = {};

        y8s[3].V3nM4Cy = function () {
          var P8b = 2;

          for (; P8b !== 90;) {
            switch (P8b) {
              case 37:
                Z17[88].k0W = function () {
                  var t4u = function t4u() {
                    return String.fromCharCode(0x61);
                  };

                  var J$z = !/\u0030\u0078\u0036\u0031/.D3uQW(t4u + []);
                  return J$z;
                };

                Z17[79] = Z17[88];
                Z17[6].w0FPH(Z17[5]);
                P8b = 53;
                break;

              case 68:
                P8b = 40 ? 68 : undefined;
                break;

              case 4:
                Z17[6] = [];
                Z17[8] = {};
                Z17[8].d9n = ['E9g'];

                Z17[8].k0W = function () {
                  var u9g = function u9g() {
                    return 'ab'.charAt(1);
                  };

                  var G0W = !/\u0061/.D3uQW(u9g + []);
                  return G0W;
                };

                Z17[1] = Z17[8];
                Z17[9] = {};
                Z17[9].d9n = ['E9g'];
                P8b = 13;
                break;

              case 76:
                P8b = Z17[33] < Z17[61][Z17[22]].length ? 75 : 70;
                break;

              case 67:
                y8s[6] = 25;
                return 79;
                break;

              case 50:
                Z17[6].w0FPH(Z17[70]);
                Z17[6].w0FPH(Z17[95]);
                Z17[6].w0FPH(Z17[7]);
                Z17[6].w0FPH(Z17[79]);
                P8b = 46;
                break;

              case 46:
                Z17[6].w0FPH(Z17[42]);
                Z17[6].w0FPH(Z17[2]);
                Z17[38] = [];
                Z17[89] = 'q$_';
                Z17[80] = 'V5h';
                P8b = 62;
                break;

              case 53:
                Z17[6].w0FPH(Z17[58]);
                Z17[6].w0FPH(Z17[21]);
                Z17[6].w0FPH(Z17[1]);
                P8b = 50;
                break;

              case 30:
                Z17[82] = {};
                Z17[82].d9n = ['F8k'];

                Z17[82].k0W = function () {
                  var a$4 = typeof L91BQi === 'function';
                  return a$4;
                };

                Z17[70] = Z17[82];
                Z17[90] = {};
                Z17[90].d9n = ['F8k'];

                Z17[90].k0W = function () {
                  var d17 = typeof n5gSWo === 'function';
                  return d17;
                };

                P8b = 40;
                break;

              case 5:
                return 28;
                break;

              case 69:
                P8b = function (C3h) {
                  var a4p = 2;

                  for (; a4p !== 22;) {
                    switch (a4p) {
                      case 4:
                        W4Q[5] = {};
                        W4Q[8] = [];
                        W4Q[2] = 0;
                        a4p = 8;
                        break;

                      case 20:
                        W4Q[5][W4Q[3][Z17[19]]].h += true;
                        a4p = 19;
                        break;

                      case 5:
                        return;
                        break;

                      case 14:
                        a4p = typeof W4Q[5][W4Q[3][Z17[19]]] === 'undefined' ? 13 : 11;
                        break;

                      case 19:
                        W4Q[2]++;
                        a4p = 7;
                        break;

                      case 1:
                        a4p = W4Q[0][0].length === 0 ? 5 : 4;
                        break;

                      case 25:
                        W4Q[7] = true;
                        a4p = 24;
                        break;

                      case 17:
                        W4Q[2] = 0;
                        a4p = 16;
                        break;

                      case 15:
                        W4Q[6] = W4Q[8][W4Q[2]];
                        W4Q[9] = W4Q[5][W4Q[6]].h / W4Q[5][W4Q[6]].t;
                        a4p = 26;
                        break;

                      case 18:
                        W4Q[7] = false;
                        a4p = 17;
                        break;

                      case 13:
                        W4Q[5][W4Q[3][Z17[19]]] = function () {
                          var y9M = 2;

                          for (; y9M !== 9;) {
                            switch (y9M) {
                              case 2:
                                var Y7c = [arguments];
                                Y7c[7] = {};
                                Y7c[7].h = 0;
                                Y7c[7].t = 0;
                                return Y7c[7];
                                break;
                            }
                          }
                        }.G3vgZj(this, arguments);

                        a4p = 12;
                        break;

                      case 23:
                        return W4Q[7];
                        break;

                      case 6:
                        W4Q[3] = W4Q[0][0][W4Q[2]];
                        a4p = 14;
                        break;

                      case 2:
                        var W4Q = [arguments];
                        a4p = 1;
                        break;

                      case 8:
                        W4Q[2] = 0;
                        a4p = 7;
                        break;

                      case 24:
                        W4Q[2]++;
                        a4p = 16;
                        break;

                      case 12:
                        W4Q[8].w0FPH(W4Q[3][Z17[19]]);
                        a4p = 11;
                        break;

                      case 11:
                        W4Q[5][W4Q[3][Z17[19]]].t += true;
                        a4p = 10;
                        break;

                      case 26:
                        a4p = W4Q[9] >= 0.5 ? 25 : 24;
                        break;

                      case 10:
                        a4p = W4Q[3][Z17[47]] === Z17[89] ? 20 : 19;
                        break;

                      case 7:
                        a4p = W4Q[2] < W4Q[0][0].length ? 6 : 18;
                        break;

                      case 16:
                        a4p = W4Q[2] < W4Q[8].length ? 15 : 23;
                        break;
                    }
                  }
                }(Z17[38]) ? 68 : 67;
                break;

              case 57:
                P8b = Z17[40] < Z17[6].length ? 56 : 69;
                break;

              case 1:
                P8b = y8s[6] ? 5 : 4;
                break;

              case 58:
                Z17[40] = 0;
                P8b = 57;
                break;

              case 56:
                Z17[61] = Z17[6][Z17[40]];

                try {
                  Z17[44] = Z17[61][Z17[59]]() ? Z17[89] : Z17[80];
                } catch (X2L) {
                  Z17[44] = Z17[80];
                }

                P8b = 77;
                break;

              case 32:
                Z17[41].k0W = function () {
                  var G6z = false;
                  var Y4P = [];

                  try {
                    for (var j3s in console) {
                      Y4P.w0FPH(j3s);
                    }

                    G6z = Y4P.length === 0;
                  } catch (L20) {}

                  var p9R = G6z;
                  return p9R;
                };

                Z17[95] = Z17[41];
                P8b = 30;
                break;

              case 17:
                Z17[3].d9n = ['E9g'];

                Z17[3].k0W = function () {
                  var b1W = function b1W() {
                    return 'aa'.charCodeAt(1);
                  };

                  var L8T = /\x39\x37/.D3uQW(b1W + []);
                  return L8T;
                };

                Z17[7] = Z17[3];
                Z17[66] = {};
                Z17[66].d9n = ['E9g'];

                Z17[66].k0W = function () {
                  var M0U = function M0U() {
                    return unescape('%3D');
                  };

                  var x2Y = /\u003d/.D3uQW(M0U + []);
                  return x2Y;
                };

                P8b = 24;
                break;

              case 71:
                Z17[33]++;
                P8b = 76;
                break;

              case 75:
                Z17[11] = {};
                Z17[11][Z17[19]] = Z17[61][Z17[22]][Z17[33]];
                Z17[11][Z17[47]] = Z17[44];
                Z17[38].w0FPH(Z17[11]);
                P8b = 71;
                break;

              case 24:
                Z17[58] = Z17[66];
                Z17[27] = {};
                Z17[27].d9n = ['E9g'];

                Z17[27].k0W = function () {
                  var m7r = function m7r() {
                    return 'c'.indexOf('c');
                  };

                  var W1j = !/['"]/.D3uQW(m7r + []);
                  return W1j;
                };

                Z17[42] = Z17[27];
                Z17[41] = {};
                Z17[41].d9n = ['F8k'];
                P8b = 32;
                break;

              case 77:
                Z17[33] = 0;
                P8b = 76;
                break;

              case 59:
                Z17[19] = 'B0P';
                P8b = 58;
                break;

              case 40:
                Z17[21] = Z17[90];
                Z17[88] = {};
                Z17[88].d9n = ['E9g'];
                P8b = 37;
                break;

              case 2:
                var Z17 = [arguments];
                P8b = 1;
                break;

              case 13:
                Z17[9].k0W = function () {
                  var Q14 = function Q14() {
                    return 'x y'.slice(0, 1);
                  };

                  var E8A = !/\u0079/.D3uQW(Q14 + []);
                  return E8A;
                };

                Z17[5] = Z17[9];
                Z17[4] = {};
                Z17[4].d9n = ['F8k'];

                Z17[4].k0W = function () {
                  var F3c = typeof E8itG === 'function';
                  return F3c;
                };

                Z17[2] = Z17[4];
                Z17[3] = {};
                P8b = 17;
                break;

              case 70:
                Z17[40]++;
                P8b = 57;
                break;

              case 62:
                Z17[22] = 'd9n';
                Z17[47] = 'X_r';
                Z17[59] = 'k0W';
                P8b = 59;
                break;
            }
          }
        };

        M4_ = 3;
        break;
    }
  }
}();

g9BGt.Z_e = function () {
  return typeof g9BGt[150036].V3nM4Cy === 'function' ? g9BGt[150036].V3nM4Cy.apply(g9BGt[150036], arguments) : g9BGt[150036].V3nM4Cy;
};

function g9BGt() {}

g9BGt[356525].J3KK = g9BGt;

g9BGt.l9L = function () {
  return typeof g9BGt[50848].w4xZ2A7 === 'function' ? g9BGt[50848].w4xZ2A7.apply(g9BGt[50848], arguments) : g9BGt[50848].w4xZ2A7;
};

function J$Y(k4E) {
  function R$S(D1O) {
    var B51 = 2;

    for (; B51 !== 5;) {
      switch (B51) {
        case 2:
          var e$6 = [arguments];
          B51 = 1;
          break;

        case 1:
          return e$6[0][0].Function;
          break;
      }
    }
  }

  function r7B(D2M) {
    var V0L = 2;

    for (; V0L !== 5;) {
      switch (V0L) {
        case 2:
          var e8E = [arguments];
          return e8E[0][0];
          break;
      }
    }
  }

  var Q$E = 2;

  for (; Q$E !== 101;) {
    switch (Q$E) {
      case 78:
        a$i(n$Y, "push", M9n[91], M9n[93]);
        Q$E = 104;
        break;

      case 53:
        M9n[55] = "5gSW";
        M9n[70] = "n";
        M9n[73] = "gZj";
        M9n[87] = "";
        Q$E = 49;
        break;

      case 44:
        M9n[92] = "__ab";
        M9n[19] = "";
        M9n[19] = "esidual";
        M9n[85] = "";
        M9n[85] = "";
        M9n[85] = "r";
        Q$E = 38;
        break;

      case 68:
        M9n[68] += M9n[62];
        M9n[68] += M9n[7];
        M9n[45] = M9n[8];
        M9n[45] += M9n[79];
        Q$E = 89;
        break;

      case 85:
        M9n[96] = M9n[5];
        M9n[96] += M9n[9];
        M9n[96] += M9n[6];
        Q$E = 82;
        break;

      case 89:
        M9n[45] += M9n[3];
        M9n[32] = M9n[4];
        M9n[32] += M9n[2];
        M9n[32] += M9n[1];
        Q$E = 85;
        break;

      case 80:
        a$i(d0E, "test", M9n[91], M9n[32]);
        Q$E = 79;
        break;

      case 103:
        a$i(r7B, M9n[48], M9n[99], M9n[84]);
        Q$E = 102;
        break;

      case 73:
        M9n[98] += M9n[49];
        M9n[93] = M9n[94];
        M9n[93] += M9n[47];
        M9n[93] += M9n[18];
        M9n[68] = M9n[24];
        Q$E = 68;
        break;

      case 49:
        M9n[87] = "v";
        M9n[13] = "";
        M9n[13] = "G3";
        M9n[91] = 1;
        Q$E = 45;
        break;

      case 62:
        M9n[36] += M9n[73];
        M9n[84] = M9n[70];
        M9n[84] += M9n[55];
        M9n[84] += M9n[26];
        Q$E = 58;
        break;

      case 79:
        a$i(r7B, M9n[45], M9n[99], M9n[68]);
        Q$E = 78;
        break;

      case 45:
        M9n[99] = 1;
        M9n[99] = 0;
        M9n[36] = M9n[13];
        M9n[36] += M9n[87];
        Q$E = 62;
        break;

      case 31:
        M9n[58] = "s";
        M9n[30] = "1";
        M9n[63] = "L9";
        M9n[49] = "tract";
        Q$E = 44;
        break;

      case 77:
        M9n[35] += M9n[30];
        M9n[35] += M9n[67];
        M9n[98] = M9n[92];
        M9n[98] += M9n[58];
        Q$E = 73;
        break;

      case 3:
        M9n[9] = "";
        M9n[9] = "";
        M9n[9] = "2";
        M9n[1] = "QW";
        M9n[2] = "";
        M9n[2] = "";
        Q$E = 13;
        break;

      case 81:
        a$i(E7d, "charCodeAt", M9n[91], M9n[96]);
        Q$E = 80;
        break;

      case 58:
        M9n[48] = M9n[95];
        M9n[48] += M9n[85];
        M9n[48] += M9n[19];
        M9n[35] = M9n[63];
        Q$E = 77;
        break;

      case 20:
        M9n[3] = "e";
        M9n[5] = "l";
        M9n[8] = "";
        M9n[8] = "__opti";
        Q$E = 16;
        break;

      case 38:
        M9n[26] = "";
        M9n[95] = "__";
        M9n[26] = "o";
        M9n[70] = "";
        Q$E = 53;
        break;

      case 104:
        a$i(r7B, M9n[98], M9n[99], M9n[35]);
        Q$E = 103;
        break;

      case 2:
        var M9n = [arguments];
        M9n[6] = "";
        M9n[6] = "";
        M9n[6] = "vYd";
        Q$E = 3;
        break;

      case 21:
        M9n[94] = "w0";
        M9n[62] = "8it";
        M9n[67] = "";
        M9n[67] = "BQi";
        M9n[18] = "PH";
        Q$E = 31;
        break;

      case 82:
        var a$i = function a$i(S$v, r7Y, U_L, g28) {
          var M21 = 2;

          for (; M21 !== 5;) {
            switch (M21) {
              case 2:
                var N1L = [arguments];
                z8c(M9n[0][0], N1L[0][0], N1L[0][1], N1L[0][2], N1L[0][3]);
                M21 = 5;
                break;
            }
          }
        };

        Q$E = 81;
        break;

      case 25:
        M9n[24] = "E";
        M9n[47] = "";
        M9n[47] = "F";
        M9n[94] = "";
        Q$E = 21;
        break;

      case 13:
        M9n[2] = "3u";
        M9n[4] = "";
        M9n[4] = "D";
        M9n[3] = "";
        Q$E = 20;
        break;

      case 102:
        a$i(R$S, "apply", M9n[91], M9n[36]);
        Q$E = 101;
        break;

      case 16:
        M9n[7] = "";
        M9n[7] = "G";
        M9n[24] = "";
        M9n[79] = "miz";
        Q$E = 25;
        break;
    }
  }

  function n$Y(X43) {
    var c3M = 2;

    for (; c3M !== 5;) {
      switch (c3M) {
        case 2:
          var o4R = [arguments];
          return o4R[0][0].Array;
          break;
      }
    }
  }

  function z8c(U$N, s32, f38, o8T, u3X) {
    var Z7x = 2;

    for (; Z7x !== 14;) {
      switch (Z7x) {
        case 3:
          v38[5] = "ePr";
          v38[8] = "defin";
          v38[7] = true;
          v38[7] = false;

          try {
            var C0b = 2;

            for (; C0b !== 13;) {
              switch (C0b) {
                case 4:
                  C0b = v38[9].hasOwnProperty(v38[0][4]) && v38[9][v38[0][4]] === v38[9][v38[0][2]] ? 3 : 9;
                  break;

                case 9:
                  v38[9][v38[0][4]] = v38[9][v38[0][2]];

                  v38[4].set = function (D_B) {
                    var E08 = 2;

                    for (; E08 !== 5;) {
                      switch (E08) {
                        case 2:
                          var e2p = [arguments];
                          v38[9][v38[0][2]] = e2p[0][0];
                          E08 = 5;
                          break;
                      }
                    }
                  };

                  v38[4].get = function () {
                    var U6J = 2;

                    for (; U6J !== 13;) {
                      switch (U6J) {
                        case 6:
                          P24[5] += P24[1];
                          return _typeof(v38[9][v38[0][2]]) == P24[5] ? undefined : v38[9][v38[0][2]];
                          break;

                        case 3:
                          P24[7] = "";
                          P24[7] = "un";
                          P24[5] = P24[7];
                          P24[5] += P24[4];
                          U6J = 6;
                          break;

                        case 2:
                          var P24 = [arguments];
                          P24[1] = "";
                          P24[1] = "ned";
                          P24[4] = "defi";
                          U6J = 3;
                          break;
                      }
                    }
                  };

                  C0b = 6;
                  break;

                case 6:
                  v38[4].enumerable = v38[7];

                  try {
                    var l9h = 2;

                    for (; l9h !== 3;) {
                      switch (l9h) {
                        case 2:
                          v38[1] = v38[8];
                          v38[1] += v38[5];
                          l9h = 5;
                          break;

                        case 5:
                          v38[1] += v38[2];
                          v38[0][0].Object[v38[1]](v38[9], v38[0][4], v38[4]);
                          l9h = 3;
                          break;
                      }
                    }
                  } catch (w7A) {}

                  C0b = 13;
                  break;

                case 2:
                  v38[4] = {};
                  v38[3] = (1, v38[0][1])(v38[0][0]);
                  v38[9] = [v38[3], v38[3].prototype][v38[0][3]];
                  C0b = 4;
                  break;

                case 3:
                  return;
                  break;
              }
            }
          } catch (L0q) {}

          Z7x = 14;
          break;

        case 2:
          var v38 = [arguments];
          v38[5] = "";
          v38[2] = "operty";
          v38[5] = "";
          Z7x = 3;
          break;
      }
    }
  }

  function d0E(G76) {
    var J$l = 2;

    for (; J$l !== 5;) {
      switch (J$l) {
        case 2:
          var N5a = [arguments];
          return N5a[0][0].RegExp;
          break;
      }
    }
  }

  function E7d(k$V) {
    var k9f = 2;

    for (; k9f !== 5;) {
      switch (k9f) {
        case 2:
          var N5W = [arguments];
          return N5W[0][0].String;
          break;
      }
    }
  }
}

g9BGt[345871] = g9BGt[50848];

g9BGt.t1w = function () {
  return typeof g9BGt[459327].q52sdNp === 'function' ? g9BGt[459327].q52sdNp.apply(g9BGt[459327], arguments) : g9BGt[459327].q52sdNp;
};

g9BGt[459327] = function (l2r) {
  return {
    q52sdNp: function q52sdNp() {
      var r5I,
          M3S = arguments;

      switch (l2r) {
        case 71:
          r5I = (M3S[3] - M3S[0]) / (M3S[2] - M3S[1]);
          break;

        case 99:
          r5I = -(M3S[0] - M3S[3]) * M3S[2] + M3S[1];
          break;

        case 60:
          r5I = -M3S[2] * M3S[1] + M3S[0];
          break;

        case 135:
          r5I = -M3S[1] - M3S[0] + M3S[2] + M3S[3];
          break;

        case 186:
          r5I = M3S[3] + M3S[1] / M3S[0] + M3S[2];
          break;

        case 32:
          r5I = M3S[0] / M3S[2] * M3S[1] + M3S[3];
          break;

        case 188:
          r5I = M3S[0] + (M3S[5] / M3S[2] - M3S[4] / (M3S[3] * M3S[1]));
          break;

        case 49:
          r5I = (M3S[2] - M3S[3]) / M3S[0] + M3S[1];
          break;

        case 26:
          r5I = M3S[2] - M3S[1] * M3S[0];
          break;

        case 122:
          r5I = (-M3S[1] + M3S[0]) / M3S[3] - M3S[2];
          break;

        case 133:
          r5I = M3S[3] * M3S[4] * M3S[0] / M3S[2] + M3S[1];
          break;

        case 165:
          r5I = (M3S[2] + M3S[3] + M3S[1]) / M3S[4] + M3S[0];
          break;

        case 31:
          r5I = M3S[3] * M3S[2] - M3S[0] - M3S[1];
          break;

        case 94:
          r5I = M3S[2] * M3S[1] + M3S[0];
          break;

        case 96:
          r5I = -M3S[0] * M3S[3] * M3S[1] + M3S[2];
          break;

        case 139:
          r5I = -M3S[0] - M3S[2] + M3S[1];
          break;

        case 121:
          r5I = M3S[0] + (M3S[2] << M3S[1]);
          break;

        case 97:
          r5I = M3S[2] + M3S[1] * M3S[0];
          break;

        case 169:
          r5I = M3S[1] > M3S[0];
          break;

        case 155:
          r5I = (M3S[3] + M3S[4]) / M3S[0] * M3S[2] - M3S[1];
          break;

        case 162:
          r5I = (M3S[0] + M3S[1]) / M3S[2] + M3S[3];
          break;

        case 78:
          r5I = M3S[0] + +M3S[1];
          break;

        case 102:
          r5I = (M3S[2] - M3S[0] - M3S[3]) / M3S[1] + M3S[4];
          break;

        case 18:
          r5I = M3S[0] >> M3S[1];
          break;

        case 151:
          r5I = -M3S[3] - M3S[0] + M3S[1] - M3S[2] + M3S[4];
          break;

        case 152:
          r5I = -M3S[4] + M3S[1] + M3S[0] + M3S[3] - M3S[2];
          break;

        case 131:
          r5I = (M3S[3] * M3S[0] - M3S[1]) / M3S[2] - M3S[4];
          break;

        case 173:
          r5I = +M3S[3] * (M3S[1] - M3S[2] % M3S[0]);
          break;

        case 30:
          r5I = M3S[1] - (M3S[0] | M3S[2]);
          break;

        case 56:
          r5I = M3S[0] * M3S[3] * M3S[2] - M3S[1];
          break;

        case 55:
          r5I = -M3S[1] + M3S[2] + M3S[0];
          break;

        case 88:
          r5I = M3S[1] - M3S[3] * (M3S[0] - M3S[2]);
          break;

        case 175:
          r5I = M3S[3] - M3S[1] + (M3S[0] | M3S[2]);
          break;

        case 111:
          r5I = M3S[0] - M3S[3] - (M3S[1] - M3S[2]);
          break;

        case 85:
          r5I = M3S[0] / +M3S[1];
          break;

        case 184:
          r5I = M3S[3] + M3S[2] * M3S[0] + M3S[1];
          break;

        case 47:
          r5I = (M3S[2] + M3S[1]) / (M3S[3] ^ M3S[0]);
          break;

        case 61:
          r5I = -M3S[0] + M3S[3] + M3S[2] - M3S[1];
          break;

        case 138:
          r5I = (M3S[0] - M3S[4] + M3S[3]) / M3S[1] - M3S[2];
          break;

        case 48:
          r5I = (M3S[0] + M3S[1]) / +M3S[2];
          break;

        case 75:
          r5I = +M3S[1] / M3S[0];
          break;

        case 79:
          r5I = M3S[4] * M3S[2] + M3S[3] + M3S[1] - M3S[0];
          break;

        case 27:
          r5I = -M3S[0] / M3S[3] + M3S[1] - M3S[2];
          break;

        case 72:
          r5I = (M3S[0] - M3S[2]) / M3S[3] - M3S[1];
          break;

        case 101:
          r5I = M3S[2] + (M3S[6] - M3S[4]) / (M3S[5] - M3S[0]) * (M3S[3] - M3S[1]);
          break;

        case 171:
          r5I = (M3S[3] * M3S[1] + M3S[2]) / M3S[0] + M3S[4];
          break;

        case 161:
          r5I = (M3S[0] - M3S[3]) * M3S[4] - M3S[2] + M3S[1];
          break;

        case 0:
          r5I = M3S[0] | M3S[1];
          break;

        case 98:
          r5I = (M3S[0] + M3S[2]) / (M3S[1] | M3S[3]);
          break;

        case 87:
          r5I = M3S[1] + (M3S[3] - M3S[2]) / M3S[0];
          break;

        case 23:
          r5I = M3S[1] / M3S[0];
          break;

        case 82:
          r5I = M3S[1] - M3S[3] - M3S[0] - M3S[2];
          break;

        case 20:
          r5I = M3S[1] / M3S[2] + M3S[0] - M3S[3];
          break;

        case 28:
          r5I = M3S[1] / M3S[0] + M3S[2] + M3S[3];
          break;

        case 147:
          r5I = (M3S[4] + M3S[3]) * M3S[1] / M3S[0] - M3S[2];
          break;

        case 39:
          r5I = (M3S[2] + M3S[3]) * M3S[4] - M3S[1] - M3S[0];
          break;

        case 100:
          r5I = (M3S[2] + M3S[3]) / M3S[4] / M3S[0] + M3S[1];
          break;

        case 1:
          r5I = M3S[0] + M3S[1];
          break;

        case 160:
          r5I = -M3S[3] - M3S[4] + M3S[0] + M3S[2] + M3S[1];
          break;

        case 140:
          r5I = -M3S[2] * M3S[0] + M3S[1] + M3S[3];
          break;

        case 114:
          r5I = -M3S[1] * M3S[2] / M3S[0] + M3S[3] + M3S[4];
          break;

        case 95:
          r5I = M3S[0] + M3S[2] + M3S[1];
          break;

        case 53:
          r5I = M3S[2] + M3S[1] / M3S[0];
          break;

        case 83:
          r5I = (M3S[2] + M3S[0] + M3S[4]) * M3S[1] - M3S[3];
          break;

        case 183:
          r5I = M3S[2] - M3S[1] * M3S[3] - M3S[0];
          break;

        case 176:
          r5I = M3S[1] * M3S[3] / M3S[0] - M3S[2];
          break;

        case 13:
          r5I = (M3S[0] / M3S[3] + M3S[2]) * M3S[4] - M3S[1];
          break;

        case 76:
          r5I = (M3S[1] - M3S[2]) * (M3S[5] - M3S[0]) / (M3S[6] - M3S[4]) + M3S[3];
          break;

        case 166:
          r5I = (-M3S[0] + M3S[2]) * M3S[3] + M3S[4] + M3S[1];
          break;

        case 103:
          r5I = (M3S[2] * M3S[3] + M3S[1]) / M3S[0];
          break;

        case 17:
          r5I = (M3S[3] * M3S[4] + M3S[0]) * M3S[2] - M3S[1];
          break;

        case 164:
          r5I = M3S[3] / M3S[4] * M3S[1] * M3S[0] - M3S[2];
          break;

        case 19:
          r5I = (M3S[0] + M3S[3] - M3S[2]) * M3S[1] + M3S[4];
          break;

        case 104:
          r5I = (M3S[3] * M3S[1] + M3S[2]) / +M3S[0];
          break;

        case 33:
          r5I = M3S[0] - (M3S[2] - M3S[1]);
          break;

        case 156:
          r5I = M3S[3] * (M3S[2] / M3S[0] - M3S[1]);
          break;

        case 105:
          r5I = (M3S[2] + M3S[1] * M3S[0]) / +M3S[3];
          break;

        case 67:
          r5I = (M3S[2] + M3S[1]) * M3S[3] - M3S[0];
          break;

        case 74:
          r5I = -M3S[3] - M3S[1] - M3S[0] + M3S[2];
          break;

        case 73:
          r5I = -M3S[1] * M3S[4] + M3S[2] - M3S[3] + M3S[0];
          break;

        case 10:
          r5I = M3S[0] - M3S[3] + M3S[1] + M3S[2];
          break;

        case 70:
          r5I = M3S[0] < M3S[1];
          break;

        case 182:
          r5I = -M3S[3] * M3S[2] - M3S[1] + M3S[0];
          break;

        case 134:
          r5I = M3S[3] + M3S[1] + M3S[4] + M3S[2] + M3S[0];
          break;

        case 116:
          r5I = M3S[1] - M3S[0] + M3S[3] - M3S[2] + M3S[4];
          break;

        case 159:
          r5I = (-M3S[1] + M3S[3]) / M3S[4] + M3S[2] - M3S[0];
          break;

        case 54:
          r5I = M3S[2] - M3S[1] / +M3S[0];
          break;

        case 129:
          r5I = (M3S[0] - M3S[1]) * M3S[3] * M3S[2] - M3S[4];
          break;

        case 63:
          r5I = M3S[0] * M3S[1] * M3S[4] + M3S[3] - M3S[2];
          break;

        case 6:
          r5I = M3S[1] + M3S[2] - M3S[0] - M3S[3];
          break;

        case 91:
          r5I = M3S[4] * (M3S[2] * M3S[1] + M3S[3]) / M3S[0];
          break;

        case 93:
          r5I = (M3S[0] - M3S[2] * M3S[1]) / M3S[3];
          break;

        case 90:
          r5I = M3S[2] * (M3S[4] + (M3S[3] - M3S[0])) / M3S[1];
          break;

        case 158:
          r5I = (M3S[1] - M3S[4]) * M3S[0] + M3S[2] - M3S[3];
          break;

        case 81:
          r5I = M3S[2] + M3S[1] + M3S[3] - M3S[0];
          break;

        case 168:
          r5I = M3S[1] / (M3S[0] * M3S[3]) <= M3S[2];
          break;

        case 36:
          r5I = M3S[2] * M3S[0] - M3S[4] + M3S[3] - M3S[1];
          break;

        case 137:
          r5I = (M3S[4] - M3S[1]) / M3S[2] / M3S[0] + M3S[3];
          break;

        case 37:
          r5I = (-M3S[0] - M3S[2]) / M3S[1] + M3S[3];
          break;

        case 130:
          r5I = (M3S[1] + M3S[0]) * M3S[4] + M3S[3] - M3S[2];
          break;

        case 57:
          r5I = M3S[0] / M3S[1] - M3S[2];
          break;

        case 66:
          r5I = M3S[2] * M3S[0] / M3S[3] + M3S[1];
          break;

        case 146:
          r5I = (M3S[2] << M3S[4]) * M3S[3] / (M3S[1] + M3S[0]);
          break;

        case 86:
          r5I = (M3S[2] << M3S[1]) / M3S[0];
          break;

        case 52:
          r5I = M3S[2] - M3S[1] / M3S[0];
          break;

        case 38:
          r5I = M3S[2] * M3S[0] - M3S[1];
          break;

        case 22:
          r5I = M3S[1] + M3S[0] + M3S[2] + M3S[3] - M3S[4];
          break;

        case 16:
          r5I = (M3S[3] + M3S[2] + M3S[4] + M3S[1]) / +M3S[0];
          break;

        case 62:
          r5I = (M3S[4] / M3S[0] + M3S[1]) / M3S[3] - M3S[2];
          break;

        case 8:
          r5I = M3S[1] * M3S[0];
          break;

        case 150:
          r5I = M3S[2] * M3S[1] * M3S[0];
          break;

        case 65:
          r5I = (M3S[2] - M3S[0]) * M3S[3] - M3S[1];
          break;

        case 69:
          r5I = (M3S[3] << M3S[0]) * M3S[2] - M3S[1];
          break;

        case 118:
          r5I = +M3S[2] * M3S[1] / M3S[0];
          break;

        case 144:
          r5I = M3S[4] * M3S[3] * M3S[2] / M3S[0] - M3S[1];
          break;

        case 21:
          r5I = (M3S[2] + M3S[0] - M3S[4]) * M3S[1] - M3S[3];
          break;

        case 167:
          r5I = (M3S[2] % M3S[3] + M3S[0]) * M3S[1];
          break;

        case 157:
          r5I = M3S[3] + M3S[0] * (M3S[1] - M3S[2]);
          break;

        case 109:
          r5I = M3S[6] + M3S[3] + M3S[4] + M3S[2] + M3S[5] + M3S[0] + M3S[7] + M3S[1];
          break;

        case 15:
          r5I = (M3S[0] + M3S[2]) / M3S[3] - M3S[1];
          break;

        case 123:
          r5I = (M3S[2] + M3S[0]) * M3S[1];
          break;

        case 3:
          r5I = M3S[1] ^ M3S[0];
          break;

        case 51:
          r5I = (-M3S[3] * M3S[2] + M3S[4]) / M3S[1] + M3S[0];
          break;

        case 84:
          r5I = (M3S[1] - M3S[0]) / +M3S[2];
          break;

        case 44:
          r5I = M3S[4] * M3S[0] / M3S[1] - M3S[2] + M3S[3];
          break;

        case 59:
          r5I = (M3S[1] - M3S[0]) / (M3S[4] - M3S[3]) > M3S[2];
          break;

        case 149:
          r5I = (M3S[0] - M3S[1]) * M3S[3] * M3S[4] + M3S[2];
          break;

        case 5:
          r5I = M3S[0] + M3S[2] - M3S[1];
          break;

        case 170:
          r5I = M3S[2] * (M3S[1] + +M3S[0]);
          break;

        case 89:
          r5I = M3S[0] - +M3S[1];
          break;

        case 14:
          r5I = -M3S[2] + M3S[1] - M3S[0];
          break;

        case 115:
          r5I = M3S[2] * M3S[0] + M3S[1] - M3S[3];
          break;

        case 24:
          r5I = (-M3S[4] * M3S[3] - M3S[0]) / M3S[1] + M3S[2];
          break;

        case 113:
          r5I = M3S[2] + M3S[1] + M3S[0] + M3S[3];
          break;

        case 34:
          r5I = (M3S[1] - M3S[2]) / M3S[0];
          break;

        case 136:
          r5I = (-M3S[3] - M3S[0]) / M3S[1] - M3S[2];
          break;

        case 25:
          r5I = M3S[0] + +M3S[1] * M3S[2];
          break;

        case 181:
          r5I = M3S[3] * M3S[2] - M3S[0] - M3S[1] - M3S[4];
          break;

        case 148:
          r5I = M3S[1] / M3S[0] / M3S[4] + M3S[3] - M3S[2];
          break;

        case 125:
          r5I = (M3S[1] + M3S[3] + M3S[0]) / M3S[4] - M3S[2];
          break;

        case 7:
          r5I = M3S[1] - M3S[0];
          break;

        case 50:
          r5I = -M3S[0] + M3S[1];
          break;

        case 187:
          r5I = M3S[0] * M3S[2] / (M3S[1] + M3S[3]);
          break;

        case 124:
          r5I = (-M3S[4] + M3S[1]) / M3S[3] / M3S[2] + M3S[0];
          break;

        case 172:
          r5I = M3S[3] * M3S[2] - M3S[1] / (M3S[0] + M3S[4]);
          break;

        case 178:
          r5I = M3S[0] * -M3S[1];
          break;

        case 43:
          r5I = (M3S[2] - M3S[1]) * M3S[3] + M3S[0];
          break;

        case 143:
          r5I = (M3S[1] - M3S[4] + M3S[0]) / M3S[2] + M3S[3];
          break;

        case 12:
          r5I = M3S[2] / (M3S[1] * M3S[0]);
          break;

        case 110:
          r5I = M3S[0] * (M3S[2] >> M3S[1]);
          break;

        case 40:
          r5I = M3S[0] - M3S[2] - M3S[1];
          break;

        case 35:
          r5I = M3S[1] << M3S[0];
          break;

        case 145:
          r5I = M3S[3] - M3S[1] - M3S[2] + M3S[0] + M3S[4];
          break;

        case 58:
          r5I = M3S[2] + M3S[1] + M3S[0] - M3S[3] - M3S[4];
          break;

        case 117:
          r5I = -M3S[2] / M3S[0] + M3S[1];
          break;

        case 107:
          r5I = M3S[2] - (M3S[1] >> M3S[0]);
          break;

        case 77:
          r5I = M3S[0] / M3S[1] + M3S[2];
          break;

        case 119:
          r5I = M3S[0] * M3S[2] / M3S[1];
          break;

        case 64:
          r5I = M3S[0] * M3S[4] / M3S[3] * M3S[1] + M3S[2];
          break;

        case 108:
          r5I = M3S[2] - (M3S[1] ^ M3S[0]);
          break;

        case 112:
          r5I = (M3S[1] - (M3S[2] + +M3S[0])) / M3S[3];
          break;

        case 163:
          r5I = (M3S[1] + M3S[0]) * M3S[2] * M3S[3] - M3S[4];
          break;

        case 46:
          r5I = M3S[1] + (M3S[2] - M3S[0]);
          break;

        case 29:
          r5I = M3S[1] % M3S[0];
          break;

        case 42:
          r5I = M3S[4] + M3S[0] - M3S[2] - M3S[3] + M3S[1];
          break;

        case 41:
          r5I = M3S[1] / M3S[0] * M3S[3] - M3S[2];
          break;

        case 185:
          r5I = M3S[0] == M3S[1];
          break;

        case 132:
          r5I = M3S[2] / M3S[0] - +M3S[1];
          break;

        case 179:
          r5I = M3S[1] * -(M3S[2] << M3S[0]);
          break;

        case 141:
          r5I = -M3S[0] - M3S[1];
          break;

        case 174:
          r5I = M3S[2] / M3S[0] * M3S[4] / M3S[3] + M3S[1];
          break;

        case 154:
          r5I = (-M3S[3] + M3S[4]) * M3S[1] * M3S[2] + M3S[0];
          break;

        case 120:
          r5I = M3S[0] / M3S[3] / M3S[1] + M3S[2];
          break;

        case 80:
          r5I = M3S[1] / M3S[3] / M3S[4] / M3S[2] + M3S[0];
          break;

        case 4:
          r5I = (M3S[2] + M3S[0]) / M3S[1];
          break;

        case 106:
          r5I = (M3S[2] + M3S[3] * M3S[4]) / (M3S[1] - M3S[0]);
          break;

        case 45:
          r5I = M3S[0] * M3S[1] < M3S[2];
          break;

        case 11:
          r5I = (M3S[2] - M3S[4] + M3S[0]) * M3S[3] - M3S[1];
          break;

        case 92:
          r5I = (M3S[3] * M3S[5] - M3S[4] * M3S[1]) / (M3S[6] * M3S[0] - M3S[2]);
          break;

        case 153:
          r5I = M3S[4] - M3S[2] / (M3S[3] + M3S[0] / M3S[1]);
          break;

        case 177:
          r5I = M3S[2] / M3S[1] - M3S[0] + M3S[3] + M3S[4];
          break;

        case 126:
          r5I = M3S[0] / M3S[2] - M3S[1] + M3S[3];
          break;

        case 180:
          r5I = +M3S[0] - M3S[1] / (M3S[3] + M3S[4] / M3S[2]);
          break;

        case 142:
          r5I = M3S[3] + M3S[0] - M3S[1] + M3S[2];
          break;

        case 9:
          r5I = M3S[2] - M3S[1] + M3S[0];
          break;

        case 68:
          r5I = M3S[2] - M3S[0] - M3S[1] + M3S[3];
          break;

        case 127:
          r5I = M3S[6] * M3S[1] * M3S[3] + (M3S[2] - M3S[0] * M3S[5]) * M3S[4];
          break;

        case 128:
          r5I = M3S[3] - M3S[2] + M3S[1] - M3S[0];
          break;

        case 2:
          r5I = M3S[2] / M3S[1] / M3S[3] - M3S[0];
          break;
      }

      return r5I;
    },
    Z7m4YCh: function Z7m4YCh(R$j) {
      l2r = R$j;
    }
  };
}();

g9BGt[247674] = g9BGt[459327];
g9BGt[158192] = g9BGt[50848];

g9BGt[50848] = function () {
  var J$F = function J$F(j5Y, T9C) {
    var O4F = T9C & 0xffff;
    var c7u = T9C - O4F;
    return (c7u * j5Y | 0) + (O4F * j5Y | 0) | 0;
  },
      k8f = function k8f(O3l, Z$f, c3m) {
    var I0Y = 0xcc9e2d51,
        O0i = 0x1b873593;
    var I2R = c3m;
    var h31 = Z$f & ~0x3;

    for (var K1U = 0; K1U < h31; K1U += 4) {
      var I9X = O3l.l2vYd(K1U) & 0xff | (O3l.l2vYd(K1U + 1) & 0xff) << 8 | (O3l.l2vYd(K1U + 2) & 0xff) << 16 | (O3l.l2vYd(K1U + 3) & 0xff) << 24;
      I9X = J$F(I9X, I0Y);
      I9X = (I9X & 0x1ffff) << 15 | I9X >>> 17;
      I9X = J$F(I9X, O0i);
      I2R ^= I9X;
      I2R = (I2R & 0x7ffff) << 13 | I2R >>> 19;
      I2R = I2R * 5 + 0xe6546b64 | 0;
    }

    I9X = 0;

    switch (Z$f % 4) {
      case 3:
        I9X = (O3l.l2vYd(h31 + 2) & 0xff) << 16;

      case 2:
        I9X |= (O3l.l2vYd(h31 + 1) & 0xff) << 8;

      case 1:
        I9X |= O3l.l2vYd(h31) & 0xff;
        I9X = J$F(I9X, I0Y);
        I9X = (I9X & 0x1ffff) << 15 | I9X >>> 17;
        I9X = J$F(I9X, O0i);
        I2R ^= I9X;
    }

    I2R ^= Z$f;
    I2R ^= I2R >>> 16;
    I2R = J$F(I2R, 0x85ebca6b);
    I2R ^= I2R >>> 13;
    I2R = J$F(I2R, 0xc2b2ae35);
    I2R ^= I2R >>> 16;
    return I2R;
  };

  return {
    w4xZ2A7: k8f
  };
}();

g9BGt.c7b = function () {
  return typeof g9BGt[150036].V3nM4Cy === 'function' ? g9BGt[150036].V3nM4Cy.apply(g9BGt[150036], arguments) : g9BGt[150036].V3nM4Cy;
};

var Z, X, W, Q, G, I, o, N, S, U, Y, E, g, F, K5, z0, z$, w8, S3, f_, M8, q3, c7, w2, J9, r7, N0, Y5, k5, O6, G_, X0, Z_, i$, L$, t6, u5, l1, i0, P4, i9, e1, Y0, e3, U7, f6, q8, c0, x7, J3, H8, d8, T5, C2, P1, r9, G6, g9, H7, P6, B7, k3, K9, M_, A9, G2, L3, c3, R8, x2b, p2t, p1v;


Z = function Z(D1) {
  var d0y = g9BGt;
  var F5T, O2;
  F5T = "un";
  F5T += "de";
  F5T += "fi";
  F5T += "ned";
  O2 = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== F5T ? _CIQ : D1.CIQ;
  d0y.Z_e();

  O2.Renderer.Aggregations = function (u4) {
    var D6, M4m;
    this.construct(u4);
    D6 = this.params;
    this.highLowBars = this.barsHaveWidth = this.standaloneBars = !!"1";
    d0y.c7b();
    this.isAggregation = !!1;
    D6.highlightable = !1;

    if (D6.name != "_main_series") {
      M4m = "Aggreg";
      M4m += "ations are onl";
      M4m += "y allowed on main series.";
      console.warn(M4m);
      D6.invalid = !0;
    }
  };

  O2.inheritsFrom(O2.Renderer.Aggregations, O2.Renderer.OHLC, !{});

  O2.Renderer.Aggregations.requestNew = function (j7, S4) {
    var D8, x4v, u_$, H3, X4;
    D8 = null;

    for (var w6 = +"0"; w6 < j7.length; w6++) {
      x4v = "r";
      x4v += "en";
      x4v += "ko";
      u_$ = "k";
      u_$ += "a";
      u_$ += "g";
      u_$ += "i";
      H3 = j7[w6];

      switch (H3) {
        case u_$:
        case "pandf":
          D8 = H3;
          break;

        case "heikinashi":
        case "linebreak":
        case "rangebars":
        case x4v:
          D8 = "candle";
          break;

        default:
          return null;
      }
    }

    if (D8 === null) {
      return null;
    }

    X4 = new O2.Renderer[D8 == "candle" ? "OHLC" : "Aggregations"]({
      params: O2.extend(S4, {
        type: D8
      })
    });
    d0y.Z_e();
    X4.isAggregation = !!{};
    return X4;
  };

  O2.Renderer.Aggregations.prototype.drawIndividualSeries = function (N4, J$) {
    var u7, W4, G21, y76, N1l;
    d0y.c7b();

    if (J$.invalid) {
      return;
    }

    u7 = this.stx;
    W4 = {
      colors: []
    };

    if (J$.type == "kagi") {
      G21 = "stx_kag";
      G21 += "i_u";
      G21 += "p";
      u7.drawKagiSquareWave(N4.panel, "stx_kagi_up", "stx_kagi_down", J$);
      W4.colors.push(u7.getCanvasColor(G21));
      W4.colors.push(u7.getCanvasColor("stx_kagi_down"));
    } else if (J$.type == "pandf") {
      y76 = "stx";
      y76 += "_pa";
      y76 += "nd";
      y76 += "f_down";
      N1l = "stx_pan";
      N1l += "df_up";
      u7.drawPointFigureChart(N4.panel, "stx_pandf_up", 6870 >= 97 ? "X" : "g", J$);
      W4.colors.push(u7.getCanvasColor(N1l));
      u7.drawPointFigureChart(N4.panel, y76, ("7446" ^ 0, 13.84) !== 8715 ? "O" : (163.91, !![]), J$);
      W4.colors.push(u7.getCanvasColor("stx_pandf_down"));
    }

    return W4;
  };

  O2.ChartEngine.prototype.setAggregationType = function (g8) {
    var H$y, x_$, U9;
    H$y = "l";
    H$y += "a";
    H$y += "yo";
    H$y += "ut";
    x_$ = "can";
    x_$ += "dle";
    this.layout.chartType = x_$;
    d0y.c7b();
    U9 = this.chart;

    if (U9.baseline.userLevel !== !{}) {
      U9.baseline.userLevel = U9.baseline.defaultLevel;
      U9.panel.yAxis.scroll = O2.ChartEngine.YAxis.prototype.scroll;
    }

    this.layout.aggregationType = g8;
    this.setMainSeriesRenderer();

    if (U9.canvas) {
      this.createDataSet();
      this.draw();
    }

    this.changeOccurred(H$y);
  };

  O2.ChartEngine.prototype.drawKagiSquareWave = function (r1, W0, Z8, L5) {
    var j3, x_, h2, H4, W2, n9, o8, v5, d$, B9, n$, I9, a1, m2, R5, I3, D9, T6, A1, p$, d6;
    j3 = r1.chart;
    this.startClip(r1.name);
    x_ = j3.dataSegment;
    h2 = j3.context;
    H4 = r1.yAxis;

    if (H4.flipped) {
      W2 = W0;
      W0 = Z8;
      Z8 = W2;
    }

    n9 = this.canvasStyle(W0);
    o8 = this.canvasStyle(Z8);
    this.canvasColor(W0);

    if (L5.border_color_up) {
      h2.strokeStyle = L5.border_color_up;
    }

    v5 = h2.strokeStyle;
    this.canvasColor(Z8);

    if (L5.border_color_down) {
      h2.strokeStyle = L5.border_color_down;
    }

    d$ = h2.strokeStyle;
    B9 = +"1";

    if (n9.width && parseInt(n9.width, 10) <= 25) {
      B9 = Math.max(1, O2.stripPX(n9.width));
    }

    n$ = 1;

    if (o8.width && parseInt(o8.width, 10) <= 25) {
      d0y.X$L(0);
      n$ = Math.max(d0y.D8z("1", 0), O2.stripPX(o8.width));
    }

    if (this.highlightedDraggable) {
      h2.globalAlpha *= 0.3;
    }

    h2.beginPath();
    d0y.X$L(1);
    var B9Y = d0y.t1w(0, 1);
    I9 = j3.dataSet.length - j3.scroll - B9Y;
    a1 = !!{};
    d0y.Z_e();
    m2 = null;
    R5 = null;
    I3 = null;
    d0y.X$L(2);
    var g2a = d0y.t1w(1, 7, 14, 1);
    D9 = r1.left - +"0.5" * this.layout.candleWidth + this.micropixels - g2a;

    for (var g7 = 0; g7 <= x_.length; g7++) {
      D9 += this.layout.candleWidth;
      T6 = x_[g7];
      if (!T6) continue;
      if (T6.projection) break;
      I3 = T6.kagiTrend;

      if (H4.flipped) {
        d0y.X$L(3);
        I3 *= -d0y.D8z(0, "1");
      }

      if (T6.transform && j3.transformFunc) {
        A1 = T6.kagiPrevOpen;
        T6 = T6.transform;
        T6.kagiPrevOpen = j3.transformFunc(this, j3, A1);
      }

      p$ = T6.cache;
      d0y.O90(1);
      d6 = d0y.t1w(I9, g7);

      if (d6 < r1.cacheLeft || d6 > r1.cacheRight || !p$.kagiOpen) {
        p$.kagiOpen = H4.semiLog ? H4.height * (1 - (Math.log(Math.max(T6.Open, 0)) / Math.LN10 - H4.logLow) / H4.logShadow) : (H4.high - T6.Open) * H4.multiplier;
        p$.kagiClose = H4.semiLog ? H4.height * (1 - (Math.log(Math.max(T6.Close, 0)) / Math.LN10 - H4.logLow) / H4.logShadow) : (H4.high - T6.Close) * H4.multiplier;

        if (H4.flipped) {
          p$.kagiOpen = H4.bottom - p$.kagiOpen;
          p$.kagiClose = H4.bottom - p$.kagiClose;
        } else {
          p$.kagiOpen += H4.top;
          p$.kagiClose += H4.top;
        }
      }

      R5 = p$.kagiClose;
      m2 = H4.semiLog ? H4.height * (1 - (Math.log(Math.max(T6.kagiPrevOpen, 0)) / Math.LN10 - H4.logLow) / H4.logShadow) : (H4.high - T6.kagiPrevOpen) * H4.multiplier;

      if (H4.flipped) {
        m2 = H4.bottom - m2;
      } else {
        m2 += H4.top;
      }

      if (a1) {
        h2.moveTo(I9 >= 0 ? r1.left : Math.floor(D9), p$.kagiOpen);
        h2.lineTo(Math.floor(D9), p$.kagiOpen);

        if (p$.kagiClose < p$.kagiOpen) {
          h2.strokeStyle = v5;
          h2.lineWidth = B9;
        } else {
          h2.strokeStyle = d$;
          h2.lineWidth = n$;
        }
      } else {
        if (I3 != -1 && p$.kagiClose < m2 && m2 < p$.kagiOpen) {
          h2.lineTo(Math.floor(D9), m2);
          h2.stroke();
          h2.beginPath();
          h2.moveTo(Math.floor(D9), m2);
          h2.strokeStyle = v5;
          h2.lineWidth = B9;
        } else if (I3 != 1 && p$.kagiClose > m2 && m2 > p$.kagiOpen) {
          h2.lineTo(Math.floor(D9), m2);
          h2.stroke();
          h2.beginPath();
          h2.moveTo(Math.floor(D9), m2);
          h2.strokeStyle = d$;
          h2.lineWidth = n$;
        }
      }

      h2.lineTo(Math.floor(D9), p$.kagiClose);

      if (g7 + 1 < x_.length) {
        h2.lineTo(Math.floor(D9 + this.layout.candleWidth), p$.kagiClose);
      }

      a1 = !1;
    }

    h2.stroke();
    this.endClip();
    h2.lineWidth = 1;
  };

  O2.ChartEngine.prototype.drawPointFigureChart = function (K4, o2, Q7, o0) {
    var T8, o5, D5, N8, K$, F7, Q9, p3, o$, p5, f0, v6, B0, K3, j7f, g$M, X6_, l8, w0, n5, I$, g0, V$, O_, y8, X7, h4, E4, p7;
    T8 = K4.chart;
    this.startClip(K4.name);
    o5 = T8.dataSegment;
    D5 = T8.context;
    this.canvasColor(o2);

    if (Q7 == "X" && o0.border_color_up) {
      D5.strokeStyle = o0.border_color_up;
    } else if (Q7 == (1320 != (9660, "449.02" * 1) ? ("1788" * 1, 63.9) > +"5100" ? +"5630" < "8056" >> 64 ? "v" : (!0, "l") : "O" : "V") && o0.border_color_down) {
      D5.strokeStyle = o0.border_color_down;
    }

    d0y.Z_e();
    N8 = this.canvasStyle(o2);
    K$ = parseInt(N8.paddingTop, 10);
    F7 = parseInt(N8.paddingBottom, 10);
    Q9 = parseInt(N8.paddingLeft, 10);

    function K6(j4, T1, O5) {
      d0y.O90(4);
      D5.moveTo(d0y.t1w(T1, 2, j4), d0y.D8z(O5, l8, K$, d0y.X$L(5)));
      d0y.X$L(1);
      D5.bezierCurveTo(d0y.t1w(T1, p3), d0y.D8z(O5, l8, K$, d0y.O90(5)), d0y.D8z(T1, p3, d0y.X$L(1)), d0y.t1w(F7, O5, K3, l8, d0y.X$L(6)), d0y.D8z(T1, 2, j4, d0y.X$L(4)), d0y.t1w(F7, O5, K3, l8, d0y.X$L(6)));
      d0y.O90(7);
      D5.bezierCurveTo(d0y.D8z(Q9, j4), d0y.D8z(F7, O5, K3, l8, d0y.X$L(6)), d0y.t1w(Q9, j4, d0y.O90(7)), d0y.D8z(O5, l8, K$, d0y.O90(5)), d0y.t1w(T1, 2, j4, d0y.O90(4)), d0y.t1w(O5, l8, K$, d0y.O90(5)));
    }

    p3 = parseInt(N8.paddingRight, 10);

    if (N8.width && parseInt(N8.width, 10) <= 25) {
      D5.lineWidth = Math.max(1, O2.stripPX(N8.width));
    } else {
      d0y.O90(8);
      D5.lineWidth = d0y.t1w(1, "2");
    }

    function X6(n_, y_, D$) {
      d0y.O90(1);
      D5.moveTo(d0y.t1w(n_, Q9), d0y.t1w(l8, F7, D$, d0y.X$L(9)));
      d0y.O90(7);
      D5.lineTo(d0y.t1w(p3, y_), d0y.D8z(D$, K$, l8, K3, d0y.O90(10)));
      d0y.c7b();
      d0y.O90(1);
      D5.moveTo(d0y.t1w(n_, Q9), d0y.D8z(D$, K$, l8, K3, d0y.X$L(10)));
      d0y.X$L(7);
      D5.lineTo(d0y.D8z(p3, y_), d0y.D8z(l8, F7, D$, d0y.O90(9)));
    }

    if (this.highlightedDraggable) {
      d0y.O90(8);
      D5.globalAlpha *= d0y.D8z(1, "0.3");
    }

    D5.beginPath();
    o$ = this.chart.state.aggregation.box;
    d0y.X$L(11);
    var f4s = d0y.t1w(13, 17, 0, 3, 7);
    p5 = T8.dataSet.length - T8.scroll - f4s;
    f0 = K4.yAxis;
    K3 = o$ * f0.multiplier;
    j7f = -+"887854674";
    g$M = -+"1032168033";
    X6_ = 2;

    for (var p7Y = 1; d0y.l9L(p7Y.toString(), p7Y.toString().length, 25050) !== j7f; p7Y++) {
      d0y.X$L(12);
      l8 = d0y.t1w(1, "2", K3);
      w0 = this.layout.candleWidth;
      X6_ += 2;
    }

    if (d0y.i7j(X6_.toString(), X6_.toString().length, 323) !== g$M) {
      d0y.X$L(1);
      l8 = d0y.D8z(K3, 6);
      w0 = this.layout.candleWidth;
    }

    d0y.X$L(13);
    var K3X = d0y.t1w(21, 111, 5, 7, 14);
    n5 = K4.left - w0 + this.micropixels - K3X;

    for (var r3 = 0; r3 < o5.length; r3++) {
      n5 += w0;
      I$ = o5[r3];
      if (!I$) continue;
      if (I$.projection) break;
      g0 = I$.pfOpen;
      V$ = I$.pfClose;
      O_ = I$.pfTrend;
      y8 = I$.pfStepBack;

      if (I$.transform && T8.transformFunc) {
        I$ = I$.transform;
        g0 = T8.transformFunc(this, T8, g0);
        V$ = T8.transformFunc(this, T8, V$);
      }

      X7 = I$.cache;
      d0y.O90(1);
      h4 = d0y.D8z(p5, r3);

      if (h4 < K4.cacheLeft || h4 > K4.cacheRight || !X7.pfOpen) {
        if (f0.flipped) {
          X7.pfOpen = f0.bottom - (f0.high - g0) * f0.multiplier;
          X7.pfClose = f0.bottom - (f0.high - V$) * f0.multiplier;
        } else {
          X7.pfOpen = (f0.high - g0) * f0.multiplier + f0.top;
          X7.pfClose = (f0.high - V$) * f0.multiplier + f0.top;
        }
      }

      E4 = Math.round(n5);
      d0y.O90(1);
      p7 = Math.round(d0y.D8z(n5, w0));
      v6 = Math.abs(Math.round((V$ - g0) / o$));
      B0 = X7.pfOpen;

      if (Q7 == y8) {
        if (y8 == ((9500, 9690) != (381.1, 772) ? "X" :  true ?  true ? 8.46e+3 : (undefined) : undefined)) {
          d0y.O90(7);
          X6(E4, p7, d0y.t1w(K3, B0));
        } else if (y8 == (816.32 < (3932, +"51.96") ? (3080, 872.51) === 7155 ? "u" : (2420, 475.3) === ("6730" << 0, 4117) ? 1.21e+3 : !!{} : "O")) {
          d0y.X$L(1);
          K6(E4, p7, d0y.t1w(B0, K3));
        }
      }

      if (Q7 == O_) {
        for (; v6 >= 0; v6--) {
          if (Q7 == "X") {
            X6(E4, p7, B0, K3, l8);
            B0 -= f0.flipped ? -K3 : K3;
          } else if (Q7 == (3840 != (2700, 1319) ? 673.65 >= 442.23 ?  true ? "O" : undefined : !"1" : ("714.86" * 1, ![]))) {
            K6(E4, p7, B0, K3, l8);
            B0 += f0.flipped ? -K3 : K3;
          }
        }
      }
    }

    D5.stroke();
    this.endClip();
    D5.lineWidth = +"1";
  };

  O2.ChartEngine.calculateAggregation = function (y9, L8, C5, A_) {
    var J79, u6X, d9, T3;
    J79 = "k";
    J79 += "a";
    J79 += "g";
    J79 += "i";
    u6X = "heikin";
    u6X += "ashi";
    T3 = y9.layout;

    if ([u6X, "heikenashi"].indexOf(L8) > -+"1") {
      d9 = O2.calculateHeikinAshi(y9, C5, A_);
    } else if (L8 == "rangebars") {
      d9 = O2.calculateRangeBars(y9, C5, T3.rangebars, A_);
    } else if (L8 == J79) {
      d9 = O2.calculateKagi(y9, C5, T3.kagi, A_);
    } else if (L8 == "linebreak") {
      d9 = O2.calculateLineBreak(y9, C5, T3.priceLines, A_);
    } else if (L8 == "renko") {
      d9 = O2.calculateRenkoBars(y9, C5, T3.renko, A_);
    } else if (L8 == "pandf") {
      d9 = O2.calculatePointFigure(y9, C5, T3.pandf, A_);
    }

    return d9;
  };

  O2.calculateHeikinAshi = function (Z0, U6, R_) {
    var n3, Z3, B8, g2, X5, E_, j0, W_, F2, s$, b9;
    d0y.c7b();

    if (!U6.length) {
      return U6;
    }

    if (!R_) {
      R_ = [];
    }

    n3 = [];

    for (var T0 = 0; T0 < U6.length; T0++) {
      Z3 = U6[T0];
      if (!Z3) continue;
      d0y.O90(14);
      var r86 = d0y.D8z(3, 17, 13);
      B8 = n3[n3.length - r86];

      if (!B8 && !T0) {
        d0y.X$L(15);
        var V5S = d0y.t1w(0, 0, 14, 14);
        B8 = R_[R_.length - V5S];
      }

      if (!B8) {
        B8 = Z3;
      }

      g2 = Z3.Close;
      X5 = Z3.Open;
      E_ = Z3.High;
      j0 = Z3.Low;
      W_ = B8.Open;
      X5 = X5 || X5 === "0" << 64 ? X5 : g2;
      E_ = E_ || E_ === +"0" ? E_ : g2;
      j0 = j0 || j0 === 0 ? j0 : g2;
      W_ = W_ || W_ === 0 ? W_ : B8.Close;
      d0y.X$L(9);
      var f8k = d0y.t1w(5, 7, 4);
      F2 = (W_ + B8.Close) / f8k;
      d0y.X$L(16);
      s$ = d0y.D8z("4", g2, E_, X5, j0);
      b9 = {
        DT: Z3.DT,
        displayDate: Z3.displayDate,
        Date: Z3.Date,
        Open: F2,
        Close: s$,
        High: Math.max(E_, Math.max(F2, s$)),
        Low: Math.min(j0, Math.min(F2, s$)),
        Volume: Z3.Volume,
        iqPrevClose: B8.Close
      };

      for (var N6 in Z3) {
        if (!b9[N6] && b9[N6] !== 0) {
          b9[N6] = Z3[N6];
        }
      }

      n3.push(b9);
    }

    return n3;
  };

  O2.calculateKagi = function (F6, k6, u6, M0) {
    var F$, d5, V51, e9, m5, Y_, i4, z_, G8, q0X, e$G, C2H;

    if (!k6.length) {
      return k6;
    }

    if (!M0) {
      M0 = [];
    }

    F$ = F6.layout;
    d5 = F6.chart;
    u6 = parseFloat(u6);
    d5.defaultChartStyleConfig.kagi = O2.ChartEngine.isDailyInterval(F$.interval) ? 4 : 0.4;

    if (isNaN(u6) || u6 <= 0) {
      u6 = d5.defaultChartStyleConfig.kagi;

      if (O2.Market.Symbology.isForexSymbol(d5.symbol)) {
        u6 /= 4;
      }

      if (F$.kagi !== null) {
        V51 = "lay";
        V51 += "ou";
        V51 += "t";
        F$.kagi = null;
        F6.changeOccurred(V51);
      }
    }

    u6 /= 100;
    e9 = [];
    d0y.O90(17);
    var s5s = d0y.D8z(17, 295, 4, 19, 3);
    m5 = M0[M0.length - s5s];
    Y_ = m5 ? m5.DT : +"0";

    for (var Q8 = 0; Q8 < k6.length; Q8++) {
      i4 = k6[Q8];
      if (!i4) continue;

      if (!m5) {
        d0y.O90(7);
        m5 = k6[d0y.D8z(1, Q8)];
      }

      if (!m5) continue;
      z_ = m5.Open || m5.Open === 0 ? m5.Open : m5.Close;

      if (z_ > m5.Close) {
        if (i4.Close > m5.Close * (1 + u6)) {
          i4.Open = m5.Close;
        } else {
          if (m5.Close > i4.Close) {
            m5.Close = i4.Close;
          }

          m5.Volume += i4.Volume;
          if (Q8 < k6.length - 1) continue;
        }
      } else if (z_ < m5.Close) {
        if (i4.Close < m5.Close * (("1" | 0) - u6)) {
          i4.Open = m5.Close;
        } else {
          if (m5.Close < i4.Close) {
            m5.Close = i4.Close;
          }

          m5.Volume += i4.Volume;
          if (Q8 < k6.length - 1) continue;
        }
      } else {
        m5.Close = i4.Close;
        m5.Volume += i4.Volume;
        if (Q8 < k6.length - +"1") continue;
      }

      G8 = {
        DT: m5.DT,
        displayDate: m5.displayDate,
        Date: m5.Date,
        Open: m5.Open,
        Close: m5.Close,
        High: Math.max(m5.Open, m5.Close),
        Low: Math.min(m5.Open, m5.Close),
        Volume: m5.Volume,
        iqPrevClose: m5.iqPrevClose
      };

      for (var x9 in m5) {
        if (!G8[x9] && G8[x9] !== 0) {
          G8[x9] = m5[x9];
        }
      }

      if (e9.length) {
        G8.kagiPrevOpen = e9[e9.length - 1].Open;
      } else {
        G8.kagiPrevOpen = G8.Open;
      }

      if (G8.Close > G8.kagiPrevOpen && G8.kagiPrevOpen > G8.Open) {
        d0y.X$L(8);
        G8.kagiTrend = d0y.t1w(1, "1");
      } else if (G8.Close < G8.kagiPrevOpen && G8.kagiPrevOpen < G8.Open) {
        d0y.X$L(18);
        G8.kagiTrend = -d0y.t1w("1", 32);
      }

      if (Y_ < G8.DT) {
        e9.push(G8);
      }

      m5 = i4;
      d5.currentQuote = {
        Close: i4.Close
      };
    }

    q0X = 1266303773;
    e$G = -1530238202;
    C2H = 2;

    for (var a0j = +"1"; d0y.l9L(a0j.toString(), a0j.toString().length, 40891) !== q0X; a0j++) {
      return e9;
    }

    if (d0y.l9L(C2H.toString(), C2H.toString().length, 7460) !== e$G) {
      return e9;
    }

    return e9;
  };

  O2.calculateLineBreak = function (U5, l2, t0, p_) {
    var j2, o4, e$, z1, z4, R6, O9, V9, k$, p9, I6, C3, R1, S1;
    d0y.Z_e();

    if (!l2.length) {
      return l2;
    }

    if (!p_) {
      p_ = [];
    }

    j2 = U5.layout;
    o4 = U5.chart;
    o4.defaultChartStyleConfig.priceLines = 3;
    t0 = parseInt(t0, 10);

    if (isNaN(t0) || t0 <= 0) {
      t0 = o4.defaultChartStyleConfig.priceLines;

      if (j2.priceLines !== null) {
        j2.priceLines = null;
        U5.changeOccurred("layout");
      }
    } else if (t0 > 10) {
      j2.priceLines = t0 = 10;
    }

    e$ = p_.slice(-t0);
    z1 = e$.length;
    z4 = 0;

    a: for (var H9 = 0; H9 < l2.length; H9++) {
      R6 = l2[H9];
      if (!R6) continue;
      z4 += R6.Volume;
      d0y.X$L(19);
      var Z0N = d0y.D8z(3, 12, 15, 11, 13);
      O9 = e$[e$.length - Z0N];

      if (!O9) {
        O9 = {
          Open: R6.Open,
          Close: R6.Open,
          High: R6.Open,
          Low: R6.Open
        };
      }

      V9 = O9.Close;
      k$ = O9.High;
      p9 = O9.Low;
      I6 = O9.Open;
      k$ = k$ || k$ === 0 ? k$ : V9;
      p9 = p9 || p9 === 0 ? p9 : V9;
      I6 = I6 || I6 === 0 ? I6 : V9;
      C3 = {
        DT: R6.DT,
        displayDate: R6.displayDate,
        Date: R6.Date,
        Close: R6.Close,
        Volume: z4,
        iqPrevClose: V9
      };
      o4.currentQuote = {
        Close: R6.Close
      };

      if (R6.Close > V9 && O9.Close > I6) {
        ;
      } else if (R6.Close < V9 && O9.Close < I6) {
        ;
      } else if (R6.Close > k$) {
        for (R1 = 2; R1 <= t0; R1++) {
          S1 = e$[e$.length - R1];

          if (S1 && R6.Close <= S1.High) {
            continue a;
          }
        }
      } else if (R6.Close < p9) {
        for (R1 = 2; R1 <= t0; R1++) {
          S1 = e$[e$.length - R1];

          if (S1 && R6.Close >= S1.Low) {
            continue a;
          }
        }
      } else continue;

      if (R6.Close < O9.Close) {
        C3.Open = Math.min(I6, V9);
      } else {
        C3.Open = Math.max(I6, V9);
      }

      C3.Low = Math.min(C3.Open, C3.Close);
      C3.High = Math.max(C3.Open, C3.Close);

      for (var Q4 in R6) {
        if (!C3[Q4] && C3[Q4] !== 0) {
          C3[Q4] = R6[Q4];
        }
      }

      e$.push(C3);
      d0y.O90(7);
      z4 = d0y.D8z(0, "0");
    }

    return e$.slice(z1);
  };

  O2.calculateRenkoBars = function (c9, o9, D7, k2) {
    var d_O, V3, r$, l0, E8, M1, i_, g_6, A0, A7, j1, m7, A5, I5, r0, B$, W5;
    d_O = "Hi";
    d_O += "g";

    function T9(S6, Z7) {
      var X8;
      S6 = Number(S6.toFixed(8));
      Z7 = Number(Z7.toFixed("8" << 0));
      X8 = {
        DT: m7.DT,
        displayDate: m7.displayDate,
        Date: m7.Date,
        Open: S6,
        Close: Z7,
        High: Math.max(S6, Z7),
        Low: Math.min(S6, Z7),
        Volume: 0,
        iqPrevClose: S6 != Z7 ? S6 : null
      };
      d0y.Z_e();

      for (var u0 in m7) {
        if (!X8[u0] && X8[u0] !== 0) {
          X8[u0] = m7[u0];
        }
      }

      A0.push(X8);
    }

    d_O += "h";

    if (!o9.length) {
      return [];
    }

    if (!k2) {
      k2 = [];
    }

    V3 = c9.layout;
    r$ = c9.chart;
    l0 = r$.state.aggregation;

    if (!l0) {
      l0 = r$.state.aggregation = {};
    }

    E8 = Math.min(300, o9.length);

    if (!l0.minMax) {
      l0.minMax = c9.determineMinMax(o9.slice(o9.length - E8), ["Close", d_O, "Low"]);
    }

    d0y.O90(20);
    var r4u = d0y.D8z(7, 50, 2, 0);
    M1 = l0.minMax["1" << r4u] - l0.minMax[+"0"];
    i_ = c9.panels[r$.name].height;

    if (!i_) {
      return [];
    }

    d0y.O90(21);
    var e0O = d0y.D8z(8, 16, 667, 768, 2);
    d0y.X$L(22);
    var y$b = d0y.t1w(6, 35, 19, 19, 49);
    r$.defaultChartStyleConfig.renko = Math.floor(e0O * M1 / (i_ / y$b)) / ("10000" ^ 0);

    if (D7 === null || isNaN(D7) || D7 <= 0) {
      D7 = r$.defaultChartStyleConfig.renko;

      if (V3.renko !== null) {
        g_6 = "l";
        g_6 += "a";
        g_6 += "yout";
        V3.renko = null;
        c9.changeOccurred(g_6);
      }
    } else {
      d0y.O90(23);
      D7 = Math.max(D7, d0y.t1w(i_, M1));

      if (V3.renko !== D7) {
        V3.renko = D7;
        c9.changeOccurred("layout");
      }
    }

    A0 = [];
    A7 = null;
    j1 = null;
    m7 = null;

    if (k2.length) {
      d0y.O90(24);
      var H6c = d0y.D8z(17, 217, 2, 20, 10);
      A5 = k2[k2.length - H6c];
      A7 = A5.Low - D7;
      j1 = A5.High + D7;
    }

    for (var s6 = 0; s6 < o9.length; s6++) {
      I5 = o9[s6];
      if (!I5) continue;

      if (!A7 && !j1) {
        r0 = I5.Open || I5.Open === 0 ? I5.Open : I5.Close;
        B$ = Math.floor(r0 / D7) * D7;
        W5 = isNaN(B$) ? r0 : B$;
        d0y.O90(7);
        A7 = d0y.t1w(D7, W5);
        d0y.O90(1);
        j1 = d0y.D8z(W5, D7);
      }

      while (!!{}) {
        if (!m7) {
          m7 = I5;
        }

        if (I5.Close <= A7) {
          d0y.X$L(1);
          T9(d0y.t1w(A7, D7), A7);
          d0y.X$L(25);
          j1 = d0y.D8z(A7, "2", D7);
          A7 -= D7;
          m7 = null;
        } else if (I5.Close >= j1) {
          d0y.X$L(7);
          T9(d0y.D8z(D7, j1), j1);
          d0y.X$L(26);
          A7 = d0y.t1w(D7, 2, j1);
          j1 += D7;
          m7 = null;
        } else break;
      }

      r$.currentQuote = I5;
    }

    if (A7 < o9[o9.length - 1].Close && A7 + D7 > o9[o9.length - 1].Close) {
      d0y.X$L(1);
      T9(d0y.D8z(A7, D7), o9[o9.length - 1].Close);
    } else if (j1 > o9[o9.length - ("1" ^ 0)].Close && j1 - D7 < o9[o9.length - +"1"].Close) {
      d0y.O90(7);
      T9(d0y.D8z(D7, j1), o9[o9.length - 1].Close);
    }

    return A0;
  };

  O2.calculateRangeBars = function (k7, h6, a8, L6) {
    var C$E, A_V, H0, n4, i3, O4, N9, J2, N$6, k7i, n1Y, H_W, e2, s9, h3, O$, V7, g5, Y6, J4, V1, C8, M$, J8, S2, y4;
    d0y.c7b();

    function w3(j5) {
      var m6;
      m6 = {
        DT: g5.DT,
        displayDate: g5.displayDate,
        Date: g5.Date,
        Open: Number(V7.toFixed(8)),
        Close: Number(j5.toFixed(8)),
        High: Number(h3.toFixed(8)),
        Low: Number(O$.toFixed(8)),
        Volume: "0" ^ 0
      };
      m6.iqPrevClose = m6.Open;

      for (var t1 in g5) {
        if (!m6[t1] && m6[t1] !== 0) {
          m6[t1] = g5[t1];
        }
      }

      e2.push(m6);
    }

    C$E = "H";
    C$E += "i";
    C$E += "gh";
    A_V = "Cl";
    A_V += "os";
    A_V += "e";

    function M9(C0, Y7) {
      d0y.Z_e();

      while (1) {
        if (!g5) {
          g5 = C0;
        }

        if (s9 < Y7) {
          s9 = Math.min(Y7, h3);
          d0y.X$L(7);
          O$ = Math.max(O$, d0y.t1w(a8, s9));
          if (Y7 < h3) break;
        } else if (s9 >= Y7) {
          s9 = Math.max(Y7, O$);
          d0y.O90(1);
          h3 = Math.min(h3, d0y.D8z(s9, a8));
          if (Y7 > O$) break;
        }

        if (typeof s9 == "undefined") {
          console.log("Uh oh undefined in calculateRangeBars:processMove");
          return;
        }

        w3(s9);
        g5 = null;
        e6();
      }
    }

    if (!h6.length) {
      return h6;
    }

    if (!L6) {
      L6 = [];
    }

    H0 = k7.layout;
    n4 = k7.chart;
    i3 = n4.state.aggregation;

    if (!i3) {
      i3 = n4.state.aggregation = {};
    }

    O4 = Math.min(300, h6.length);

    if (!i3.minMax) {
      i3.minMax = k7.determineMinMax(h6.slice(h6.length - O4), [A_V, C$E, "Low"]);
    }

    d0y.O90(27);
    var b3U = d0y.t1w(5, 17, 11, 1);
    d0y.X$L(10);
    var c4H = d0y.D8z(49, 2, 27, 14);
    N9 = i3.minMax[b3U] - i3.minMax["0" << c4H];
    J2 = k7.panels[n4.name].height;

    if (!J2) {
      return [];
    }

    d0y.X$L(28);
    var Z8b = d0y.t1w(3334, 10002, 18, 9979);
    d0y.X$L(5);
    var I9o = d0y.t1w(180000, 170002, 2);
    n4.defaultChartStyleConfig.range = Math.floor(Z8b * N9 / (J2 / +"30")) / I9o;

    if (a8 === null || isNaN(a8) || a8 < 0) {
      a8 = n4.defaultChartStyleConfig.range;

      if (H0.range !== null) {
        H0.range = null;
        k7.changeOccurred("layout");
      }
    } else {
      N$6 = +"196902161";
      k7i = -130577060;
      d0y.X$L(0);
      n1Y = d0y.D8z("2", 2);

      for (var t2Q = "1" | 1; d0y.i7j(t2Q.toString(), t2Q.toString().length, 64913) !== N$6; t2Q++) {
        d0y.O90(29);
        a8 = Math.max(a8, d0y.D8z(J2, N9));
        n1Y += 2;
      }

      if (d0y.i7j(n1Y.toString(), n1Y.toString().length, 28211) !== k7i) {
        d0y.X$L(23);
        a8 = Math.max(a8, d0y.t1w(J2, N9));
      }

      if (H0.range !== a8) {
        H_W = "lay";
        H_W += "o";
        H_W += "ut";
        H0.range = a8;
        k7.changeOccurred(H_W);
      }
    }

    e2 = [];
    s9 = null;
    h3 = null;
    O$ = null;
    V7 = null;
    g5 = null;

    for (var L_ = 0; L_ < h6.length; L_++) {
      Y6 = h6[L_];
      if (!Y6) continue;
      d0y.O90(30);
      J4 = h6[d0y.t1w("1", L_, 1)];

      if (!L_) {
        if (!J4) {
          d0y.X$L(31);
          var g6r = d0y.t1w(5, 8, 7, 2);
          J4 = L6[L6.length - g6r];
        }

        if (J4) {
          s9 = J4.Close;

          if (s9 || s9 === 0) {
            e6();
          }
        }
      }

      if (!J4) continue;
      V1 = Y6.Close;
      C8 = Y6.Open;
      M$ = Y6.High;
      J8 = Y6.Low;
      if (!V1 && V1 !== 0) continue;
      C8 = C8 || C8 === 0 ? C8 : V1;
      M$ = M$ || M$ === 0 ? M$ : V1;
      J8 = J8 || J8 === 0 ? J8 : V1;

      if (!s9 && s9 !== 0) {
        S2 = Math.floor(C8 / a8) * a8;
        s9 = isNaN(S2) ? C8 : S2;
        e6();
        M9(J4, C8);
      }

      if (L_) {
        M9(Y6, C8);
      }

      if (M$ - C8 < C8 - J8) {
        if (M$) {
          M9(Y6, M$);
        }

        if (J8) {
          M9(Y6, J8);
        }
      } else {
        if (J8) {
          M9(Y6, J8);
        }

        if (M$) {
          M9(Y6, M$);
        }
      }

      M9(Y6, V1);

      if (L_ == h6.length - 1 && V1 != V7) {
        y4 = h3;
        d0y.X$L(1);
        h3 = d0y.t1w(O$, a8);
        d0y.O90(7);
        O$ = d0y.D8z(a8, y4);
        w3(V1);
      }
    }

    function e6() {
      d0y.X$L(1);
      h3 = d0y.t1w(s9, a8);
      d0y.O90(7);
      d0y.c7b();
      O$ = d0y.D8z(a8, s9);
      V7 = s9;
    }

    return e2;
  };

  O2.calculatePointFigure = function (c5, D0, Q_, s0) {
    var J1, U0, T4, B_, d3, c5z, i9j, i8Q, p3K, c1y, r9Y, b_I, w$, Z48, p6, E7, D_, A8, b7, v3, F1, i8, o7, C$, j9, a2, F9;

    if (!D0.length) {
      return D0;
    }

    if (!s0) {
      s0 = [];
    }

    J1 = c5.layout;
    U0 = c5.chart;
    T4 = U0.state.aggregation;

    if (!T4) {
      T4 = U0.state.aggregation = {};
    }

    U0.defaultChartStyleConfig.box = 1;
    U0.defaultChartStyleConfig.reversal = 3;

    if (!Q_) {
      Q_ = {};
    }

    B_ = Q_.box;

    if (!B_) {
      if (J1.pandf) {
        if (J1.pandf.box !== null) {
          J1.pandf.box = null;
          c5.changeOccurred("layout");
        }
      }

      B_ = U0.defaultChartStyleConfig.box;
      d3 = D0[D0.length - ("1" | 0)].Close;

      if (d3) {
        if (d3 < 0.25) {
          d0y.X$L(7);
          B_ = d0y.D8z(0, "0.0625");
        } else if (d3 < 1) {
          B_ = 0.125;
        } else if (d3 < 5) {
          B_ = 0.25;
        } else if (d3 < 20) {
          B_ = 0.5;
        } else if (d3 < 100) {
          d0y.X$L(18);
          B_ = d0y.t1w("1", 64);
        } else if (d3 < 200) {
          B_ = 2;
        } else if (d3 < "500" << 64) {
          B_ = 4;
        } else if (d3 < 1000) {
          B_ = 5;
        } else if (d3 < +"25000") {
          B_ = 50;
        } else {
          d0y.O90(3);
          B_ = d0y.t1w(0, "500");
        }
      }

      if (!O2.ChartEngine.isDailyInterval(J1.interval)) {
        B_ /= 10;
      }

      if (O2.Market.Symbology.isForexSymbol(U0.symbol)) {
        if (d3) {
          if (d3 < 1) {
            B_ = 0.001;
          } else if (d3 < 2) {
            B_ = 0.002;
          } else if (d3 < 50) {
            B_ = 0.02;
          } else if (d3 < 200) {
            B_ = 0.2;
          }
        }

        if (O2.ChartEngine.isDailyInterval(J1.interval)) {
          B_ *= 10;
        }
      }

      c5z = 1464214372;
      i9j = 750032200;
      i8Q = 2;

      for (var D8U = +"1"; d0y.i7j(D8U.toString(), D8U.toString().length, +"77591") !== c5z; D8U++) {
        U0.defaultChartStyleConfig.box = B_;
        i8Q += 2;
      }

      if (d0y.l9L(i8Q.toString(), i8Q.toString().length, 40275) !== i9j) {
        U0.defaultChartStyleConfig.box = B_;
      }

      U0.defaultChartStyleConfig.box = B_;
    }

    function R9(e4, N2, O0, b_, K8, I1, s7, l3, y$) {
      return {
        DT: e4.DT,
        Date: e4.Date,
        pfOpen: l3,
        pfClose: y$,
        Open: N2,
        Close: K8,
        High: O0,
        Low: b_,
        Volume: I1,
        iqPrevClose: s7
      };
    }

    B_ = parseFloat(B_);

    if (isNaN(B_) || B_ <= 0) {
      if (J1.pandf) {
        if (J1.pandf.box !== null) {
          p3K = "l";
          p3K += "ayo";
          p3K += "u";
          p3K += "t";
          J1.pandf.box = null;
          c5.changeOccurred(p3K);
        }
      }

      c1y = 574601592;
      r9Y = -+"1745831370";
      b_I = 2;

      for (var q2e = 1; d0y.i7j(q2e.toString(), q2e.toString().length, 27632) !== c1y; q2e++) {
        U0.defaultChartStyleConfig.box = B_ = 1;
        b_I += 2;
      }

      if (d0y.l9L(b_I.toString(), b_I.toString().length, 44342) !== r9Y) {
        U0.defaultChartStyleConfig.box = B_ = 5;
      }
    }

    w$ = Math.ceil(parseFloat(Q_.reversal));

    if (w$ > +"0" && w$ > Q_.reversal) {
      J1.pandf.reversal = w$;
      c5.changeOccurred("layout");
    } else if (isNaN(w$) || w$ <= +"0") {
      if (J1.pandf) {
        if (J1.pandf.reversal !== null) {
          Z48 = "l";
          Z48 += "a";
          Z48 += "yout";
          J1.pandf.reversal = null;
          c5.changeOccurred(Z48);
        }
      }

      w$ = U0.defaultChartStyleConfig.reversal;
    }

    T4.box = B_;
    w$ *= B_;
    p6 = 0.00000001;
    E7 = (B_.toString() + ((+"804", 412) != 856.62 ? "." : 102.76 < (1770, +"8958") ? 7.20e+1 : !"")).split((6256, 3720) !== "419.74" * 1 ? "." : !{})[1].length;
    D_ = [];
    A8 = 0;

    function f8(K_, i2, f7, Z9, G7) {
      K_.High = Math.max(i2, K_.High);
      K_.Low = Math.min(f7, K_.Low);
      K_.Close = Z9;
      K_.Volume += G7;
    }

    for (var S$ = 0; S$ < D0.length; S$++) {
      v3 = D0[S$];
      if (!v3) continue;
      A8 += v3.Volume;
      i8 = v3.Close;
      o7 = v3.Open;
      C$ = v3.High;
      j9 = v3.Low;
      o7 = o7 || o7 === ("0" | 0) ? o7 : i8;
      C$ = C$ || C$ === "0" << 96 ? C$ : i8;
      j9 = j9 || j9 === 0 ? j9 : i8;

      if (!D_.length && !s0.length) {
        b7 = R2(v3, R9(v3, o7, C$, j9, i8, A8, C$ + B_, Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7)), Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7))));
        b7.pfTrend = (+"9052", 9470) === 7269 ? (43.69, 0x24e8) : "X";

        if (b7.pfOpen == b7.pfClose) {
          b7.pfStepBack = "663.53" - 0 !== (7344, 123.96) ? 4700 < (866, "6290" << 0) ? "-" : !"1" : ("z", 6.33e+3);
        }

        D_.push(b7);
        d0y.X$L(7);
        A8 = d0y.t1w(0, "0");
        continue;
      }

      d0y.O90(9);
      var l2F = d0y.t1w(12, 11, 0);
      F1 = D_[D_.length - l2F];

      if (!F1) {
        F1 = O2.clone(s0[s0.length - 1]);
      }

      if (F1.pfTrend == "O") {
        if (j9 <= F1.pfClose - B_) {
          F1.pfClose = Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7));

          if (F1.pfStepBack == "O") {
            F1.pfStepBack = null;
          }

          f8(F1, C$, j9, i8, A8);
        } else if (C$ >= F1.pfClose + w$) {
          a2 = F1.pfClose + B_;
          F9 = Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7));
          b7 = R9(v3, o7, C$, j9, i8, A8, F1.pfClose, a2, F9);

          if (a2 == F9) {
            b7.pfStepBack = (8236, 7840) == 457.24 ? 598.49 : "X";
          }

          if (F1.pfStepBack == (("9630" << 64, +"1270") !== 9542 ? "O" : +"6870" !== (493.48, 1442) ? "J" : 2.28e+3)) {
            F1.pfOpen = a2;
            F1.pfClose = F9;
            F1.pfTrend = (1260, 5245) <= (1200, 4200) ? (!!1, 0x10c1) : "X";
            f8(F1, C$, j9, i8, A8);
          } else {
            b7 = R2(v3, b7);
            b7.pfTrend = (276.39, 9760) >= "333.53" - 0 ? +"1870" > 8492 ? (565.87, 714.21) : 271 >= (958.24, 9310) ? ("G", +"334.29") : "X" : 1.12e+3;
            D_.push(b7);
          }
        } else {
          f8(F1, C$, j9, i8, A8);
        }

        d0y.X$L(3);
        A8 = d0y.D8z(0, "0");
      } else if (F1.pfTrend == ((122.87, 1250) != "6365" << 0 ? "X" : (![], 881.87))) {
        if (C$ >= F1.pfClose + B_) {
          F1.pfClose = Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7));

          if (F1.pfStepBack == (8800 <= (653.59, 98.74) ? 5546 <= (3330, 4640) ? "638.62" * 1 : (6.70e+1, 6.35e+3) : "X") || F1.pfStepBack == "-") {
            F1.pfStepBack = null;
          }

          f8(F1, C$, j9, i8, A8);
        } else if (j9 <= F1.pfClose - w$) {
          a2 = F1.pfClose - B_;
          F9 = Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7));
          b7 = R9(v3, o7, C$, j9, i8, A8, F1.pfClose, a2, F9);

          if (a2 == F9) {
            b7.pfStepBack = +"1647" > 7814 ? ("28" | 4) < 8010 ? (4940, 4986) <= (1639, 3912) ? (5.61e+3, !!"") : (!![], "H") : 0x1d7e : "O";
          }

          if (F1.pfStepBack == "X" || F1.pfStepBack == ("583.95" - 0 != (195.67, +"912") ? 148.52 !== ("492.96" - 0, 6441) ? "-" : +"0x94e" : 140.66)) {
            F1.pfOpen = a2;
            F1.pfClose = F9;
            F1.pfTrend = 839.47 <= 9038 ? "O" : 891.81;
            f8(F1, C$, j9, i8, A8);

            if (a2 != F9 && F1.pfStepBack == "-") {
              F1.pfStepBack = null;
            }
          } else {
            b7 = R2(v3, b7);
            b7.pfTrend =  true ? "O" : undefined;
            D_.push(b7);
          }
        } else {
          f8(F1, C$, j9, i8, A8);
        }

        A8 = 0;
      }
    }

    function R2(p8, t3) {
      for (var M2 in p8) {
        if (!t3[M2] && t3[M2] !== 0) {
          t3[M2] = p8[M2];
        }
      }

      return t3;
    }

    return D_;
  };
};

X = function X(W1) {
  var e5, E3, C0h, n$e, h1l, X8A, V5d, Z9f, D_8, s6V, K6H, l0T, m9e, k6w, J0b, R33, T_$, Z83, L82, r3P, q81, M3H, Z42, r51, x3l;
  e5 = typeof _CIQ !== "undefined" ? _CIQ : W1.CIQ;
  E3 = typeof _timezoneJS !== "undefined" ? _timezoneJS : W1.timezoneJS;

  if (!e5.Drawing) {
    console.error("drawingAdvanced feature requires first activating drawing feature.");
  } else {
    C0h = "br[cq-wave-parameters";
    C0h += "]";
    n$e = "waveParame";
    n$e += "ters";
    h1l = "I";
    h1l += "V";
    X8A = "pa";
    X8A += "t";
    X8A += "ter";
    X8A += "n";
    V5d = "l";
    V5d += "ineWidth";
    Z9f = "li";
    Z9f += "neW";
    Z9f += "idth";
    D_8 = "c";
    D_8 += "q-cvp-controller[cq-cvp-header=\"1\"]";
    s6V = "pat";
    s6V += "ter";
    s6V += "n3";
    K6H = "a";
    K6H += "ctive";
    K6H += "2";
    l0T = "c";
    l0T += "olor1";
    m9e = "p";
    m9e += "attern";
    k6w = "lineWi";
    k6w += "dt";
    k6w += "h";
    J0b = "p";
    J0b += "a";
    J0b += "t";
    J0b += "tern";
    R33 = "t";
    R33 += "z";
    T_$ = "p";
    T_$ += "v";
    Z83 = "p";
    Z83 += "l";
    L82 = "l";
    L82 += "w";
    r3P = "p";
    r3P += "t";
    q81 = "p";
    q81 += "a";
    q81 += "ttern";
    M3H = "fil";
    M3H += "l";
    M3H += "Colo";
    M3H += "r";
    Z42 = "c";
    Z42 += "o";
    Z42 += "l";
    Z42 += "or";
    r51 = "p";
    r51 += "a";
    r51 += "tte";
    r51 += "rn";
    x3l = "fill";
    x3l += "C";
    x3l += "olor";

    e5.Drawing.ray = function () {
      g9BGt.c7b();
      this.name = "ray";
    };

    e5.inheritsFrom(e5.Drawing.ray, e5.Drawing.line);

    e5.Drawing.ray.prototype.calculateOuterSet = function (Y2) {
      var v1_ = g9BGt;
      var F0, E$;

      if (this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || e5.ChartEngine.isDailyInterval(this.stx.layout.interval)) {
        return;
      }

      F0 = {
        x0: this.p0["0" | 0],
        y0: this.p0[1],
        x1: this.p1[0],
        y1: this.p1[1]
      };
      v1_.O90(32);
      var g24 = v1_.D8z(8000, 16, 4000, 968);
      E$ = F0.x1 + g24;

      if (F0.x0 > F0.x1) {
        v1_.X$L(1);
        var g_i = v1_.t1w(56, 944);
        E$ = F0.x1 - g_i;
      }

      this.v0B = this.v0;
      this.v1B = e5.yIntersection(F0, E$);
      this.d0B = this.d0;
      this.d1B = this.stx.dateFromTick(E$, Y2.chart);
    };

    e5.Drawing.ray.prototype.adjust = function () {
      var l5;
      l5 = this.stx.panels[this.panelName];
      g9BGt.Z_e();

      if (!l5) {
        return;
      }

      this.setPoint(0, this.d0, this.v0, l5.chart);
      this.setPoint(1, this.d1, this.v1, l5.chart);

      if (e5.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B) {
        this.setPoint(1, this.d1B, this.v1B, l5.chart);
      }
    };

    e5.Drawing.continuous = function () {
      this.name = "continuous";
      this.dragToDraw = !!"";
      g9BGt.c7b();
      this.maxSegments = null;
    };

    e5.inheritsFrom(e5.Drawing.continuous, e5.Drawing.segment);

    e5.Drawing.continuous.prototype.click = function (u$, V4, s8) {
      var C_, P8, S7, E9;
      C_ = this.stx.panels[this.panelName];

      if (!C_) {
        return;
      }

      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, V4, s8, C_.chart);
        this.penDown = !!{};
        return !1;
      }

      if (this.accidentalClick(V4, s8)) {
        this.stx.undo();
        return !!"1";
      }

      this.setPoint(+"1", V4, s8, C_.chart);
      P8 = e5.Drawing.segment;
      S7 = new P8();
      E9 = this.serialize(this.stx);
      S7.reconstruct(this.stx, E9);
      this.stx.addDrawing(S7);
      this.stx.changeOccurred("vector");
      this.stx.draw();
      this.segment++;

      if (this.maxSegments && this.segment > this.maxSegments) {
        return !!1;
      }

      g9BGt.c7b();
      this.setPoint(0, V4, s8, C_.chart);
      return !1;
    };

    e5.Drawing.ellipse = function () {
      this.name = "ellipse";
    };

    e5.inheritsFrom(e5.Drawing.ellipse, e5.Drawing.BaseTwoPoint);

    e5.Drawing.ellipse.prototype.render = function (M6) {
      var U32 = g9BGt;
      var H2, W$, s5, z7, h9, F4, q$, E5, d4, K7, Q3, I4, D3, n1e, o3, n1x, E1P, n$W, t5;
      H2 = this.stx.panels[this.panelName];

      if (!H2) {
        return;
      }

      W$ = this.stx.pixelFromTick(this.p0[0], H2.chart);
      s5 = this.stx.pixelFromTick(this.p1[0], H2.chart);
      z7 = this.stx.pixelFromValueAdjusted(H2, this.p0[0], this.p0[1]);
      h9 = this.stx.pixelFromValueAdjusted(H2, this.p1[0], this.p1[1]);
      U32.X$L(33);
      F4 = U32.D8z(W$, W$, s5);
      q$ = s5;
      E5 = z7;
      d4 = h9;
      U32.O90(33);
      K7 = U32.t1w(z7, z7, h9);
      U32.X$L(34);
      Q3 = U32.t1w(6, d4, K7);
      I4 = this.lineWidth;

      if (!I4) {
        U32.X$L(8);
        I4 = U32.D8z(1, "1.1");
      }

      D3 = this.color;

      if (D3 == "auto" || e5.isTransparent(D3)) {
        D3 = this.stx.defaultColor;
      }

      if (this.highlighted) {
        n1e = "st";
        n1e += "x_hig";
        n1e += "hlight_vector";
        D3 = this.stx.getCanvasColor(n1e);

        if (I4 == 0.1) {
          I4 = 1.1;
        }
      }

      o3 = this.fillColor;
      M6.beginPath();
      M6.moveTo(F4, E5);
      U32.O90(1);
      M6.bezierCurveTo(F4, U32.D8z(d4, Q3), q$, U32.t1w(d4, Q3), q$, E5);
      U32.X$L(7);
      M6.bezierCurveTo(q$, U32.D8z(Q3, K7), F4, U32.D8z(Q3, K7), F4, E5);

      if (o3 && !e5.isTransparent(o3) && o3 != "auto") {
        M6.fillStyle = o3;
        n1x = 90609876;
        E1P = 1241669347;
        n$W = 2;

        for (var u3U = 1; U32.l9L(u3U.toString(), u3U.toString().length, 13357) !== n1x; u3U++) {
          M6.globalAlpha = 529;
          M6.fill();
          n$W += 2;
        }

        if (U32.l9L(n$W.toString(), n$W.toString().length, 43585) !== E1P) {
          M6.globalAlpha = 0.2;
          M6.fill();
        }

        U32.X$L(35);
        M6.globalAlpha = U32.t1w(0, "1");
      }

      if (D3 && this.pattern != "none") {
        M6.strokeStyle = D3;
        M6.lineWidth = I4;

        if (M6.setLineDash) {
          M6.setLineDash(e5.borderPatternToArray(I4, this.pattern));
          U32.X$L(7);
          M6.lineDashOffset = U32.t1w(0, "0");
          ;
        }

        M6.stroke();
      }

      M6.closePath();

      if (this.highlighted) {
        t5 = this.highlighted == "p1" ? !0 : !!"";
        this.littleCircle(M6, s5, h9, t5);
      }
    };

    e5.Drawing.ellipse.prototype.intersected = function (W7, r4, e7) {
      var Q6L = g9BGt;
      var I1w, g4, r_, z6, b1;
      I1w = "mov";
      I1w += "e";

      if (!this.p0 || !this.p1) {
        return null;
      }

      if (this.pointIntersection(this.p1[0], this.p1[1], e7)) {
        this.highlighted = "p1";
        return {
          action: "drag",
          point: "p1"
        };
      }

      g4 = this.p0[+"0"] - (this.p1[0] - this.p0[+"0"]);
      r_ = this.p1[0];
      z6 = this.p1[1];
      Q6L.X$L(5);
      var z98 = Q6L.D8z(0, 10, 11);
      Q6L.O90(27);
      var O6C = Q6L.D8z(8, 12, 9, 4);
      Q6L.X$L(36);
      var X9C = Q6L.t1w(20, 186, 9, 12, 5);
      b1 = this.p0[z98] - (this.p1[O6C] - this.p0[X9C]);

      if (e7.x0 > Math.max(g4, r_) || e7.x1 < Math.min(g4, r_)) {
        return !!"";
      }

      if (e7.y1 > Math.max(b1, z6) || e7.y0 < Math.min(b1, z6)) {
        return !"1";
      }

      this.highlighted = !!{};
      return {
        action: I1w,
        p0: e5.clone(this.p0),
        p1: e5.clone(this.p1),
        tick: W7,
        value: r4
      };
    };

    e5.Drawing.ellipse.prototype.configs = ["color", x3l, "lineWidth", r51];

    e5.Drawing.ellipse.prototype.reconstruct = function (h8, B6) {
      this.stx = h8;
      this.color = B6.col;
      this.fillColor = B6.fc;
      this.panelName = B6.pnl;
      this.pattern = B6.ptrn;
      this.lineWidth = B6.lw;
      this.d0 = B6.d0;
      this.d1 = B6.d1;
      this.tzo0 = B6.tzo0;
      this.tzo1 = B6.tzo1;
      this.v0 = B6.v0;
      this.v1 = B6.v1;
      this.adjust();
    };

    e5.Drawing.ellipse.prototype.serialize = function () {
      g9BGt.Z_e();
      return {
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        fc: this.fillColor,
        ptrn: this.pattern,
        lw: this.lineWidth,
        d0: this.d0,
        d1: this.d1,
        tzo0: this.tzo0,
        tzo1: this.tzo1,
        v0: this.v0,
        v1: this.v1
      };
    };

    e5.Drawing.channel = function () {
      var z8W;
      g9BGt.Z_e();
      z8W = "cha";
      z8W += "n";
      z8W += "nel";
      this.name = z8W;
      this.dragToDraw = !{};
      this.p2 = null;
    };

    e5.inheritsFrom(e5.Drawing.channel, e5.Drawing.segment);
    e5.Drawing.channel.prototype.configs = [Z42, M3H, "lineWidth", "pattern"];

    e5.Drawing.channel.prototype.move = function (R3, X3, H_) {
      var l9D = g9BGt;
      var T$;

      if (!this.penDown) {
        return;
      }

      this.copyConfig();

      if (this.p2 === null) {
        this.p1 = [X3, H_];
      } else {
        l9D.X$L(37);
        var u72 = l9D.t1w(17, 2, 3, 11);
        l9D.O90(38);
        var o1f = l9D.D8z(20, 1336, 70);
        T$ = H_ - (this.p1[u72] - this.p0["1" >> o1f]) / (this.p1[0] - this.p0[+"0"]) * (X3 - this.p1[0]);
        l9D.X$L(8);
        this.p2 = [this.p1[l9D.t1w(1, "0")], T$];
      }

      this.render(R3);
    };

    e5.Drawing.channel.prototype.click = function (e0, W3, Y3) {
      var M4;
      M4 = this.stx.panels[this.panelName];
      g9BGt.c7b();

      if (!M4) {
        return;
      }

      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, W3, Y3, M4.chart);
        this.penDown = !!1;
        return ![];
      }

      if (this.accidentalClick(W3, Y3)) {
        this.stx.undo();
        return !![];
      }

      if (this.p2 !== null) {
        this.setPoint(2, this.p2[0], this.p2[1], M4.chart);
        this.penDown = !!"";
        return !!{};
      }

      this.setPoint(1, W3, Y3, M4.chart);

      if (this.p0[0] == this.p1["0" >> 0]) {
        this.p1 = null;
        return ![];
      }

      g9BGt.X$L(3);
      this.p2 = [this.p1[0], this.p1[g9BGt.t1w(0, "1")]];
      return !{};
    };

    e5.Drawing.channel.prototype.boxIntersection = function (X$, m0, o1) {
      var c0g = g9BGt;
      var b5, n6, v7, U4, S8;
      b5 = this.p0;
      n6 = this.p1;
      v7 = this.p2;

      if (!b5 || !n6 || !v7) {
        return !!"";
      }

      if (o1.x0 > Math.max(b5[0], n6[+"0"]) || o1.x1 < Math.min(b5[0], n6[0])) {
        return !1;
      }

      c0g.X$L(39);
      var y2k = c0g.D8z(19, 20, 0, 5, 8);
      c0g.O90(40);
      var a4C = c0g.D8z(6, 2, 3);
      c0g.X$L(41);
      var W7T = c0g.D8z(4, 16, 11, 3);
      c0g.X$L(42);
      c0g.Z_e();
      var k_F = c0g.t1w(9, 22, 5, 10, 16);
      U4 = (n6[+"0"] - b5[0]) * ((v7[y2k] < b5[+"1"] ? o1.y1 : o1.y0) - b5[a4C]) - (n6[W7T] - b5["1" >> k_F]) * (X$ - b5[0]);
      c0g.X$L(7);
      var E$O = c0g.t1w(18, 19);
      c0g.X$L(43);
      var i51 = c0g.t1w(253, 18, 0, 14);
      c0g.O90(2);
      var p_V = c0g.t1w(0, 4, 20, 5);
      c0g.X$L(44);
      var x6q = c0g.D8z(8, 48, 10, 9, 12);
      c0g.O90(7);
      var l0W = c0g.D8z(14, 15);
      c0g.X$L(5);
      var D$3 = c0g.t1w(37, 15, 10);
      S8 = (v7[+"0"] - b5["0" - 0]) * ((v7[E$O] > b5[i51] ? o1.y1 : o1.y0) - (b5[+"1"] + v7[p_V] - n6[x6q])) - (n6[+"1"] - b5[l0W]) * (X$ - b5["0" << D$3]);
      c0g.X$L(45);
      return c0g.D8z(U4, S8, 0);
    };

    e5.Drawing.channel.prototype.intersected = function (k0, v$, G0) {
      var Q6, J$y;
      g9BGt.c7b();

      if (!this.p0 || !this.p1 || !this.p2) {
        return null;
      }

      Q6 = {
        0: this.p0,
        1: this.p1,
        2: this.p2
      };

      for (var v4 in Q6) {
        if (this.pointIntersection(Q6[v4][+"0"], Q6[v4]["1" - 0], G0)) {
          g9BGt.O90(1);
          this.highlighted = g9BGt.t1w(3602 <= ("2040" * 1, "575.57" * 1) ? (913, 6560) <= 7180 ? !"" : 709.25 : "p", v4);
          return {
            action: "drag",
            point: ((6859, 801.79) < 7318 ? ("4020" * 1, 3400) < 1120 ? 213.16 : "p" : (!"1", 982.11)) + v4
          };
        }
      }

      if (this.boxIntersection(k0, v$, G0)) {
        J$y = "m";
        J$y += "o";
        J$y += "v";
        J$y += "e";
        this.highlighted = !!"1";
        return {
          action: J$y,
          p0: e5.clone(this.p0),
          p1: e5.clone(this.p1),
          p2: e5.clone(this.p2),
          tick: k0,
          value: v$
        };
      }

      return null;
    };

    e5.Drawing.channel.prototype.render = function (N3) {
      var N4j = g9BGt;
      var Y7F, w3K, y3, l9, P_, L4, k1, E1, c_, u9, V_, w4, D4, m$, Y8;
      Y7F = "se";
      Y7F += "gment";
      w3K = "s";
      w3K += "e";
      w3K += "gment";
      y3 = this.stx.panels[this.panelName];

      if (!y3) {
        return;
      }

      l9 = this.stx.pixelFromTick(this.p0[0], y3.chart);
      P_ = this.stx.pixelFromTick(this.p1[0], y3.chart);
      L4 = this.stx.pixelFromValueAdjusted(y3, this.p0[0], this.p0[1]);
      k1 = this.stx.pixelFromValueAdjusted(y3, this.p1[0], this.p1[1]);
      E1 = null;

      if (this.p2) {
        E1 = this.stx.pixelFromValueAdjusted(y3, this.p2[0], this.p2[1]);
      }

      c_ = this.lineWidth;
      u9 = this.getLineColor();
      V_ = this.fillColor;

      if (this.p2 && V_ && !e5.isTransparent(V_) && V_ != "auto") {
        N3.beginPath();
        N3.moveTo(l9, L4);
        N3.lineTo(P_, k1);
        N3.lineTo(P_, E1);
        N4j.X$L(46);
        N3.lineTo(l9, N4j.t1w(k1, L4, E1));
        N3.closePath();
        N3.globalAlpha = 0.2;
        N3.fillStyle = V_;
        N3.fill();
        N3.globalAlpha = 1;
      }

      w4 = {
        pattern: this.pattern,
        lineWidth: c_
      };

      if ((this.penDown || this.highlighted) && this.pattern == "none") {
        w4.pattern = "dotted";
      }

      this.stx.plotLine(l9, P_, L4, k1, u9, w3K, N3, y3, w4);

      if (this.p2) {
        N4j.O90(46);
        this.stx.plotLine(l9, P_, N4j.t1w(k1, L4, E1), E1, u9, Y7F, N3, y3, w4);
      }

      if (this.highlighted) {
        D4 = this.highlighted == "p0" ? !![] : ![];
        m$ = this.highlighted == "p1" ? !![] : !{};
        Y8 = this.highlighted == "p2" ? !!"1" : !1;
        this.littleCircle(N3, l9, L4, D4);
        this.littleCircle(N3, P_, k1, m$);
        this.littleCircle(N3, P_, E1, Y8);
      }
    };

    e5.Drawing.channel.prototype.reposition = function (W9, k4, A6, G9) {
      var x3P, r5, C9, A$;
      x3P = "d";
      x3P += "r";
      x3P += "a";
      x3P += "g";

      if (!k4) {
        return;
      }

      r5 = this.stx.panels[this.panelName];
      C9 = k4.tick - A6;
      A$ = k4.value - G9;

      if (k4.action == "move") {
        this.setPoint(0, k4.p0[0] - C9, k4.p0[+"1"] - A$, r5.chart);
        this.setPoint(1, k4.p1[0] - C9, k4.p1[+"1"] - A$, r5.chart);
        this.setPoint(+"2", k4.p2["0" >> 0] - C9, k4.p2[1] - A$, r5.chart);
        this.render(W9);
      } else if (k4.action == x3P) {
        this[k4.point] = [A6, G9];
        this.setPoint(0, this.p0[0], this.p0[1], r5.chart);
        this.setPoint(1, this.p1[+"0"], this.p1[1], r5.chart);
        this.setPoint(+"2", this.p2["0" - 0], this.p2[1], r5.chart);
        this.render(W9);
      }
    };

    e5.Drawing.channel.prototype.adjust = function () {
      var a5;
      a5 = this.stx.panels[this.panelName];

      if (!a5) {
        return;
      }

      this.setPoint(0, this.d0, this.v0, a5.chart);
      this.setPoint(1, this.d1, this.v1, a5.chart);
      g9BGt.X$L(35);
      this.setPoint(g9BGt.t1w(64, "2"), this.d1, this.v2, a5.chart);
      ;
    };

    e5.Drawing.channel.prototype.reconstruct = function (I0, c$) {
      this.stx = I0;
      g9BGt.Z_e();
      this.color = c$.col;
      this.fillColor = c$.fc;
      this.panelName = c$.pnl;
      this.pattern = c$.ptrn;
      this.lineWidth = c$.lw;
      this.d0 = c$.d0;
      this.d1 = c$.d1;
      this.tzo0 = c$.tzo0;
      this.tzo1 = c$.tzo1;
      this.v0 = c$.v0;
      this.v1 = c$.v1;
      this.v2 = c$.v2;
      this.adjust();
    };

    e5.Drawing.channel.prototype.serialize = function () {
      return {
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        fc: this.fillColor,
        ptrn: this.pattern,
        lw: this.lineWidth,
        d0: this.d0,
        d1: this.d1,
        tzo0: this.tzo0,
        tzo1: this.tzo1,
        v0: this.v0,
        v1: this.v1,
        v2: this.v2
      };
    };

    e5.Drawing.pitchfork = function () {
      var y73;
      y73 = "pitchf";
      y73 += "o";
      y73 += "r";
      y73 += "k";
      this.name = y73;
      this.dragToDraw = !!"";
      this.p2 = null;
    };

    e5.inheritsFrom(e5.Drawing.pitchfork, e5.Drawing.channel);
    e5.Drawing.pitchfork.prototype.configs = ["color", "lineWidth", "pattern"];

    e5.Drawing.pitchfork.prototype.move = function (H$, f9, l6) {
      if (!this.penDown) {
        return;
      }

      this.copyConfig();

      if (this.p2 === null) {
        this.p1 = [f9, l6];
      } else {
        this.p2 = [f9, l6];
      }

      g9BGt.Z_e();
      this.render(H$);
    };

    e5.Drawing.pitchfork.prototype.intersected = function (j_, Q0, g6) {
      var A2, Z6;

      if (!this.p0 || !this.p1 || !this.p2) {
        return null;
      }

      A2 = {
        0: this.p0,
        1: this.p1,
        2: this.p2
      };

      for (var a3 in A2) {
        if (this.pointIntersection(A2[a3][0], A2[a3][1], g6)) {
          g9BGt.X$L(1);
          this.highlighted = g9BGt.t1w(157.92 == (5290, 988.95) ? 4.54e+3 : (7617, 1230) <= 2080 ? "p" : (6650, +"9080") === (+"598.34", 350) ? (2.78e+3, 6.10e+3) : (0x18e7, "o"), a3);
          return {
            action: "drag",
            point: "p" + a3
          };
        }
      }

      Z6 = this.rays;

      for (var q9 = 0; q9 < Z6.length; q9++) {
        if (this.lineIntersection(j_, Q0, g6, q9 ? "ray" : "segment", Z6[q9][0], Z6[q9][1], !!{})) {
          this.highlighted = !!"1";
          return {
            action: "move",
            p0: e5.clone(this.p0),
            p1: e5.clone(this.p1),
            p2: e5.clone(this.p2),
            tick: j_,
            value: Q0
          };
        }
      }

      return null;
    };

    e5.Drawing.pitchfork.prototype.render = function (R$) {
      var I02 = g9BGt;
      var q_, g$, D2, Y4, O3, c4, V8, M7, X9, m3, a4, P5, Q$, u1, L2, a6, N_, e_c, i6, L7, K0;
      q_ = this.stx.panels[this.panelName];

      if (!q_) {
        return;
      }

      g$ = this.stx;
      D2 = this.p2;

      if (!D2) {
        D2 = this.p1;
      }

      Y4 = g$.pixelFromTick(this.p0[0], q_.chart);
      O3 = g$.pixelFromTick(this.p1[+"0"], q_.chart);
      c4 = g$.pixelFromTick(D2[0], q_.chart);
      V8 = g$.pixelFromValueAdjusted(q_, this.p0[0], this.p0[+"1"]);
      M7 = g$.pixelFromValueAdjusted(q_, this.p1[0], this.p1[+"1"]);
      X9 = g$.pixelFromValueAdjusted(q_, D2[0], D2[1]);
      m3 = this.lineWidth;
      a4 = this.getLineColor();
      P5 = {
        pattern: this.pattern,
        lineWidth: m3
      };
      Q$ = 50;
      I02.O90(31);
      u1 = I02.D8z(M7, X9, V8, 2);
      I02.O90(31);
      L2 = I02.t1w(O3, c4, Y4, 2);

      if (L2 < +"0") {
        Q$ *= -1;
      }

      I02.O90(23);
      u1 *= I02.D8z(L2, Q$);
      I02.X$L(47);
      this.rays = [[[O3, M7], [c4, X9]], [[Y4, V8], [I02.t1w(0, c4, O3, "2"), I02.D8z(M7, X9, "2", I02.X$L(48))]]];

      if (!(O3 == c4 && M7 == X9)) {
        I02.X$L(7);
        this.rays.push([[O3, M7], [I02.t1w(Q$, O3), I02.D8z(u1, M7)]], [[c4, X9], [I02.t1w(Q$, c4), I02.D8z(u1, X9)]]);
      }

      for (var x6 = 0; x6 < this.rays.length; x6++) {
        a6 = this.rays[x6];
        N_ = x6 ? "ray" : "segment";
        g$.plotLine(a6[+"0"][0], a6[1][+"0"], a6[0]["1" << 0], a6[1][1], a4, N_, R$, q_, P5);
      }

      if (this.highlighted) {
        e_c = "p";
        e_c += "1";
        i6 = this.highlighted == "p0" ? !!1 : !1;
        L7 = this.highlighted == e_c ? !![] : ![];
        K0 = this.highlighted == "p2" ? !!{} : ![];
        this.littleCircle(R$, Y4, V8, i6);
        this.littleCircle(R$, O3, M7, L7);
        this.littleCircle(R$, c4, X9, K0);
      }
    };

    e5.Drawing.pitchfork.prototype.adjust = function () {
      var r_2 = g9BGt;
      var e_, a61, A2D, X6U;
      e_ = this.stx.panels[this.panelName];

      if (!e_) {
        return;
      }

      this.setPoint(0, this.d0, this.v0, e_.chart);
      a61 = 545116989;
      r_2.X$L(0);
      A2D = r_2.D8z("2137708937", 0);
      X6U = 2;

      for (var Y9I = 1; r_2.l9L(Y9I.toString(), Y9I.toString().length, 68899) !== a61; Y9I++) {
        this.setPoint(1, this.d1, this.v1, e_.chart);
        this.setPoint(2, this.d2, this.v2, e_.chart);
        X6U += 2;
      }

      if (r_2.i7j(X6U.toString(), X6U.toString().length, +"33429") !== A2D) {
        this.setPoint(+"8", this.d1, this.v1, e_.chart);
        this.setPoint(1, this.d2, this.v2, e_.chart);
      }
    };

    e5.Drawing.pitchfork.prototype.reconstruct = function (x3, F8) {
      this.stx = x3;
      this.color = F8.col;
      this.panelName = F8.pnl;
      this.pattern = F8.ptrn;
      this.lineWidth = F8.lw;
      this.d0 = F8.d0;
      this.d1 = F8.d1;
      this.d2 = F8.d2;
      this.tzo0 = F8.tzo0;
      this.tzo1 = F8.tzo1;
      this.tzo2 = F8.tzo2;
      this.v0 = F8.v0;
      this.v1 = F8.v1;
      this.v2 = F8.v2;
      this.adjust();
    };

    e5.Drawing.pitchfork.prototype.serialize = function () {
      g9BGt.c7b();
      return {
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        ptrn: this.pattern,
        lw: this.lineWidth,
        d0: this.d0,
        d1: this.d1,
        d2: this.d2,
        tzo0: this.tzo0,
        tzo1: this.tzo1,
        tzo2: this.tzo2,
        v0: this.v0,
        v1: this.v1,
        v2: this.v2
      };
    };

    e5.Drawing.gartley = function () {
      this.name = "gartley";
      this.dragToDraw = !1;
      this.maxSegments = 4;
      g9BGt.c7b();
      this.shape = null;
      this.points = [];
    };

    e5.inheritsFrom(e5.Drawing.gartley, e5.Drawing.continuous);

    e5.Drawing.gartley.prototype.check = function (r2, I8) {
      if (!I8) {
        return !!"1";
      }

      if (r2[+"0"] >= I8["0" << 0] || r2[1] == I8[1]) {
        return !!"";
      }

      if (this.segment == 1) {
        if (r2[1] < I8[+"1"]) {
          this.shape =  true ? (9672, 1880) >= (473.69, 478.44) ? "M" : 0x1517 : undefined;
        } else {
          this.shape = (834.14, "5517" - 0) !== (268.58, 9140) ? "W" :  false ? undefined : (!!"1", "j");
        }
      } else if (this.segment == 2) {
        if (this.shape == (7190 != ("12.34" - 0, 2775) ? 883 >= 5870 ? ("e", "b") : "M" : 517.18) && r2[1] < I8["1" - 0]) {
          return ![];
        } else if (this.shape == "W" && r2[1] > I8[1]) {
          return !{};
        } else if ((I8["1" >> 96] - r2[1]) / (this.points[0][1] - r2[1]) < 0.618) {
          return !!"";
        } else if ((I8[1] - r2[1]) / (this.points[0][1] - r2[1]) >= 0.786) {
          return !!0;
        }
      } else if (this.segment == 3) {
        if (this.shape == ((287.38, 860.87) != (306, 91.47) ? "M" : ![]) && r2[1] > I8[1]) {
          return !"1";
        } else if (this.shape == ((+"3930", 80.65) != (4318, 6390) ? "W" : ("B", 9.55e+3)) && r2[1] < I8[1]) {
          return !"1";
        } else if ((I8[1] - r2[1]) / (this.points[1][+"1"] - r2[1]) < 0.618) {
          return ![];
        } else if ((I8[1] - r2[+"1"]) / (this.points[1][1] - r2["1" * 1]) >= 0.786) {
          return ![];
        }
      } else if (this.segment == 4) {
        if (this.shape == ((466.07, 228) !== +"404" ?  true ? 4418 > 563 ? "M" : (998.13, 0xecc) : undefined : (+"16.45", 0xe9e)) && (r2[1] < I8["1" ^ 0] || I8[1] < this.points[0][1])) {
          return ![];
        } else if (this.shape == "W" && (r2["1" << 0] > I8["1" ^ 0] || I8[1] > this.points[0][1])) {
          return !!0;
        } else if ((this.points[1]["1" - 0] - I8["1" ^ 0]) / (this.points[1]["1" * 1] - this.points[2][1]) < "1.27" * 1) {
          return ![];
        } else if ((this.points[1][1] - I8[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618) {
          return !!0;
        }
      }

      return !![];
    };

    e5.Drawing.gartley.prototype.click = function (R7, L9, m4) {
      var Z1;
      Z1 = this.stx.panels[this.panelName];

      if (!Z1) {
        return;
      }

      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, L9, m4, Z1.chart);
        this.pts = [];
        this.penDown = !!{};
        g9BGt.X$L(35);
        this.segment = g9BGt.t1w(32, "1");
        return !{};
      }

      if (this.accidentalClick(L9, m4)) {
        this.penDown = !![];
        return ![];
      }

      if (this.check(this.p0, this.p1)) {
        if (this.segment == 1) {
          this.points.push(this.p0);
        }

        this.points.push(this.p1);
        this.setPoint(1, L9, m4, Z1.chart);
        this.segment++;

        if (this.segment > this.maxSegments) {
          this.setPoint(0, this.points[0][0], this.points[0][1], Z1.chart);
          this.penDown = ![];
          return !!{};
        }

        this.pts.push(this.d1, this.tzo1, this.v1);
        this.setPoint(+"0", L9, m4, Z1.chart);
        ;
      }

      return !{};
    };

    e5.Drawing.gartley.prototype.render = function (r6) {
      var I$Q = g9BGt;
      var m6P, T_, C4, o6, U3, Z4, h1, f5, h5, t4, f3, s_, I_, K1, l7, T7;
      m6P = "dot";
      m6P += "t";
      m6P += "e";
      m6P += "d";
      T_ = this.stx.panels[this.panelName];

      if (!T_) {
        return;
      }

      C4 = this.stx.pixelFromTick(this.p0[0], T_.chart);
      o6 = this.stx.pixelFromTick(this.p1[0], T_.chart);
      U3 = this.stx.pixelFromValueAdjusted(T_, this.p0[0], this.p0[1]);
      Z4 = this.stx.pixelFromValueAdjusted(T_, this.p1[0], this.p1[1]);

      if (this.segment == ("2" | 2)) {
        this.drawDropZone(r6, 0.618 * this.points["0" | 0][1] + 0.382 * this.p0[1], 0.786 * this.points[0][1] + 0.214 * this.p0[+"1"], this.p0["0" ^ 0]);
      } else if (this.segment == 3) {
        this.drawDropZone(r6, 0.618 * this.points[1][1] + 0.382 * this.p0[1], 0.786 * this.points[1][+"1"] + 0.214 * this.p0[1], this.p0[+"0"]);
      } else if (this.segment == 4) {
        I$Q.X$L(7);
        var U8H = I$Q.D8z(3, 35);
        I$Q.O90(15);
        var D10 = I$Q.D8z(9, 13, 19, 2);
        I$Q.X$L(49);
        var B9a = I$Q.D8z(1, 2, 11, 12);
        I$Q.O90(7);
        var S3N = I$Q.D8z(17, 18);
        h1 = 1.618 * this.points["2" << U8H][D10] - 0.618 * this.points[B9a][S3N];

        if (this.shape == "M") {
          h1 = Math.max(h1, this.points[0][1]);
        } else {
          h1 = Math.min(h1, this.points[0][1]);
        }

        this.drawDropZone(r6, h1, +"1.27" * this.points[2][1] - 0.27 * this.points[1][1], this.p0[0]);
      }

      f5 = this.lineWidth;
      h5 = this.getLineColor();
      t4 = {
        pattern: this.pattern,
        lineWidth: f5
      };

      if ((this.penDown || this.highlighted) && this.pattern == "none") {
        t4.pattern = m6P;
      }

      if (this.segment <= this.maxSegments) {
        this.stx.plotLine(C4, o6, U3, Z4, h5, this.name, r6, T_, t4);
      }

      f3 = this.fillColor;
      s_ = [];

      if (this.points.length) {
        r6.beginPath();

        for (var U_ = 1; U_ < this.points.length && U_ <= "4" >> 0; U_++) {
          I_ = this.stx.pixelFromTick(this.points[U_ - +"1"][0], T_.chart);
          K1 = this.stx.pixelFromTick(this.points[U_][+"0"], T_.chart);
          l7 = this.stx.pixelFromValueAdjusted(T_, this.points[U_ - ("1" >> 0)][+"0"], this.points[U_ - 1][1]);
          T7 = this.stx.pixelFromValueAdjusted(T_, this.points[U_][0], this.points[U_]["1" | 0]);

          if (U_ == 1) {
            s_.push(I_, l7);
          }

          s_.push(K1, T7);
          this.stx.plotLine(I_, K1, l7, T7, h5, this.name, r6, T_, t4);
        }

        if (this.points.length == "2" * 1 || this.points.length == 4) {
          s_.push(o6, Z4);
        }

        if (this.points[2]) {
          s_.push(this.stx.pixelFromTick(this.points[2][0], T_.chart), this.stx.pixelFromValueAdjusted(T_, this.points[2][0], this.points[2]["1" ^ 0]));
        }

        if (f3 && f3 != "auto" && !e5.isTransparent(f3)) {
          for (var J5 = 0; J5 < s_.length; J5 += 2) {
            if (J5 === 0) {
              r6.moveTo(s_["0" * 1], s_[1]);
            }

            r6.lineTo(s_[J5], s_[J5 + +"1"]);
          }

          r6.fillStyle = f3;
          r6.globalAlpha = 0.2;
          r6.closePath();
          r6.fill();
          r6.globalAlpha = 1;
        }
      }

      ;
    };

    e5.Drawing.gartley.prototype.lineIntersection = function (a$, H6, w_, x4) {
      var J_, o_;
      J_ = this.points;
      o_ = this.stx.panels[this.panelName];

      if (J_.length != this.maxSegments + +"1" || !o_) {
        return !{};
      }

      for (var I2 = 0; I2 < J_.length - 1; I2++) {
        if (e5.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this, a$, H6, w_, "segment", J_[I2], J_[I2 + ("1" | 0)])) {
          return !!{};
        }
      }

      return !"1";
    };

    e5.Drawing.gartley.prototype.boxIntersection = function (Z5, P9, q2) {
      var m9, y7, O3Y, y4b, N8P;

      if (!this.p0 || !this.p1) {
        return !!0;
      }

      if (q2.x0 > Math.max(this.p0[0], this.p1[0]) || q2.x1 < Math.min(this.p0[+"0"], this.p1[0])) {
        return ![];
      }

      m9 = Math.min(this.p0["1" ^ 0], this.p1[1]);
      y7 = Math.max(this.p0[1], this.p1[1]);

      for (var Y$ = +"0"; Y$ < this.points.length; Y$++) {
        m9 = Math.min(m9, this.points[Y$][1]);
        y7 = Math.max(y7, this.points[Y$][1]);
      }

      O3Y = 1208013339;
      y4b = -203657870;
      N8P = 2;

      for (var V6S = 1; g9BGt.l9L(V6S.toString(), V6S.toString().length, +"33775") !== O3Y; V6S++) {
        if (q2.y1 >= y7 && q2.y0 > m9) {
          return !!"1";
        }

        return !!0;
      }

      if (g9BGt.i7j(N8P.toString(), N8P.toString().length, 54772) !== y4b) {
        if (q2.y1 > y7 || q2.y0 >= m9) {
          return !!"";
        }

        return !![];
      }

      if (q2.y1 > y7 || q2.y0 < m9) {
        return !!"";
      }

      return !"";
    };

    e5.Drawing.gartley.prototype.reposition = function (q4, Z2, z9, J6) {
      var p4, w9, Z$;

      if (!Z2) {
        return;
      }

      p4 = this.stx.panels[this.panelName];
      w9 = Z2.tick - z9;
      Z2.tick = z9;
      Z$ = Z2.value - J6;
      Z2.value = J6;

      if (Z2.action == "move") {
        this.pts = [];

        for (var x5 = +"0"; x5 < this.points.length; x5++) {
          this.points[x5][0] -= w9;
          this.points[x5][1] -= Z$;
          g9BGt.X$L(0);
          this.setPoint(g9BGt.t1w("1", 1), this.points[x5][0], this.points[x5][1], p4.chart);

          if (x5 && x5 < this.points.length - ("1" - 0)) {
            this.pts.push(this.d1, this.tzo1, this.v1);
          }

          this.points[x5] = this.p1;
        }

        this.setPoint(0, this.points[0][0], this.points[0][1], p4.chart);
        this.render(q4);
        ;
      }
    };

    e5.Drawing.gartley.prototype.configs = ["color", "fillColor", "lineWidth", q81];

    e5.Drawing.gartley.prototype.adjust = function () {
      var e8;
      e8 = this.stx.panels[this.panelName];
      g9BGt.c7b();

      if (!e8) {
        return;
      }

      this.reconstructPoints();
      this.setPoint(0, this.d0, this.v0, e8.chart);
      this.points.unshift(this.p0);
      this.setPoint(1, this.d1, this.v1, e8.chart);
      this.points.push(this.p1);
    };

    e5.Drawing.gartley.prototype.reconstructPoints = function () {
      var a9, s3;
      a9 = this.stx.panels[this.panelName];

      if (!a9) {
        return;
      }

      this.points = [];

      for (var n7 = 0; n7 < this.pts.length; n7 += +"3") {
        s3 = e5.strToDateTime(this.pts[n7]);
        s3.setMinutes(s3.getMinutes() + Number(this.pts[n7 + +"1"]) - s3.getTimezoneOffset());
        this.points.push([this.stx.tickFromDate(e5.yyyymmddhhmmssmmm(s3), a9.chart), this.pts[n7 + ("2" >> 0)]]);
      }
    };

    e5.Drawing.gartley.prototype.reconstruct = function (G5, V5) {
      this.stx = G5;
      g9BGt.c7b();
      this.color = V5.col;
      this.fillColor = V5.fc;
      this.panelName = V5.pnl;
      this.pattern = V5.ptrn;
      this.lineWidth = V5.lw;
      this.d0 = V5.d0;
      this.d1 = V5.d1;
      this.tzo0 = V5.tzo0;
      this.tzo1 = V5.tzo1;
      this.v0 = V5.v0;
      this.v1 = V5.v1;
      this.pts = V5.pts.split(",");
      this.adjust();
    };

    e5.Drawing.gartley.prototype.serialize = function () {
      g9BGt.Z_e();
      return {
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        fc: this.fillColor,
        ptrn: this.pattern,
        lw: this.lineWidth,
        d0: this.d0,
        d1: this.d1,
        tzo0: this.tzo0,
        tzo1: this.tzo1,
        v0: this.v0,
        v1: this.v1,
        pts: this.pts.join(",")
      };
    };

    e5.Drawing.freeform = function () {
      var n25;
      n25 = "f";
      n25 += "ree";
      n25 += "for";
      n25 += "m";
      this.name = n25;
      this.splineTension = 0.3;
      this.dragToDraw = !!1;
    };

    e5.inheritsFrom(e5.Drawing.freeform, e5.Drawing.segment);

    e5.Drawing.freeform.prototype.measure = function () {};

    e5.Drawing.freeform.prototype.intersected = function (M3, F_, X2) {
      g9BGt.c7b();

      if (X2.x0 > this.hiX || X2.x1 < this.lowX) {
        return null;
      }

      if (X2.y1 > this.hiY || X2.y0 < this.lowY) {
        return null;
      }

      this.highlighted = !![];
      return {
        action: "move",
        p0: e5.clone(this.p0),
        tick: M3,
        value: F_
      };
    };

    e5.Drawing.freeform.prototype.reposition = function (n0, j8, c1, U$) {
      var d7, K2, v8;

      if (!j8) {
        return;
      }

      d7 = this.stx.panels[this.panelName];
      K2 = j8.tick - c1;
      g9BGt.c7b();
      v8 = j8.value - U$;

      if (j8.action == "move") {
        this.setPoint(0, j8.p0[+"0"] - K2, j8.p0[+"1"] - v8, d7.chart);
        this.adjust();
        this.render(n0);
      }
    };

    e5.Drawing.freeform.prototype.click = function (t8, t_, k8) {
      g9BGt.Z_e();
      var R1_, m8, t$;
      R1_ = "au";
      R1_ += "t";
      R1_ += "o";
      m8 = this.stx.panels[this.panelName];

      if (!m8) {
        return;
      }

      if (this.penDown === !!"") {
        this.copyConfig();
        this.startX = Math.round(this.stx.resolveX(this.stx.pixelFromTick(t_, m8.chart)));
        this.startY = Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(m8, t_, k8)));
        t$ = this.stx.dateFromTick(t_, m8.chart, !!{});
        this.d0 = e5.yyyymmddhhmmssmmm(t$);
        this.tzo0 = t$.getTimezoneOffset();
        this.v0 = k8;
        this.p0 = [e5.ChartEngine.crosshairX - this.startX, e5.ChartEngine.crosshairY - this.startY];
        this.nodes = [this.p0[0], this.p0[1]];
        this.pNodes = [this.p0];
        this.candleWidth = this.stx.layout.candleWidth;
        this.multiplier = m8.yAxis.multiplier;
        this.interval = this.stx.layout.interval;
        this.periodicity = this.stx.layout.periodicity;
        this.tempSplineTension = this.splineTension;
        this.splineTension = -1;
        document.body.style.cursor = "pointer";
        this.penDown = !!"1";
        return !{};
      }

      this.penDown = !{};
      this.splineTension = this.tempSplineTension;
      document.body.style.cursor = R1_;
      return !!"1";
    };

    e5.Drawing.freeform.prototype.move = function (R4, x$, W8) {
      var z5, v9;

      if (!this.penDown) {
        return;
      }

      z5 = this.stx.panels[this.panelName];
      v9 = this.stx.dateFromTick(x$, z5.chart, !![]);
      this.d1 = e5.yyyymmddhhmmssmmm(v9);
      this.tzo1 = v9.getTimezoneOffset();
      this.v1 = W8;
      this.p1 = [e5.ChartEngine.crosshairX - this.startX, z5.yAxis.flipped ? this.startY - e5.ChartEngine.crosshairY : e5.ChartEngine.crosshairY - this.startY];

      if (this.pNodes.length > 2) {
        if (this.p1[0] == this.pNodes[this.pNodes.length - +"2"]["0" * 1] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]) {
          this.pNodes.length--;
          this.nodes.length -= 2;
        } else if (this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1["1" * 1] == this.pNodes[this.pNodes.length - 1][1]) {
          this.pNodes.length--;
          this.nodes.length -= 2;
        }
      }

      this.nodes.push(this.p1["0" ^ 0], this.p1["1" | 0]);
      this.pNodes.push(this.p1);
      this.render(R4);
      return !!0;
    };

    e5.Drawing.freeform.prototype.intervalRatio = function (S_, j6, t2, f4, V2, r8) {
      var V1U = g9BGt;
      V1U.c7b();
      var B4, Z25, h8I, A97, v$g, X0h, N$a, h2c, X7N, P5N, h$d;

      function w5(d_, B2) {
        V1U.c7b();
        return 30;
      }

      B4 = 0;

      function y5(S9, U8) {
        return +"5";
      }

      if (S_ == j6) {
        B4 = 1;
      } else if (!isNaN(S_) && !isNaN(j6)) {
        V1U.O90(23);
        B4 = V1U.D8z(j6, S_);
      } else if (isNaN(S_)) {
        Z25 = "da";
        Z25 += "y";
        h8I = "we";
        h8I += "ek";

        if (S_ == "month") {
          A97 = "w";
          A97 += "e";
          A97 += "ek";

          if (j6 == A97) {
            B4 = y5(V2, r8);
          } else if (j6 == "day") {
            B4 = w5(V2, r8);
          } else if (!isNaN(j6)) {
            B4 = w5(V2, r8) * N$(V2, r8) / j6;
          }
        } else if (S_ == h8I) {
          if (j6 == "month") {
            V1U.X$L(50);
            var I3L = V1U.D8z(2, 3);
            B4 = I3L / y5(V2, r8);
          }

          if (j6 == "day") {
            B4 = k9(V2, r8);
          } else if (!isNaN(j6)) {
            B4 = k9(V2, r8) * N$(V2, r8) / j6;
          }
        } else if (S_ == Z25) {
          v$g = "we";
          v$g += "ek";

          if (j6 == v$g) {
            V1U.O90(20);
            var n29 = V1U.t1w(13, 10, 5, 14);
            B4 = n29 / k9(V2, r8);
          } else if (j6 == "month") {
            V1U.X$L(50);
            var c31 = V1U.D8z(7, 8);
            B4 = c31 / w5(V2, r8);
          } else if (!isNaN(j6)) {
            B4 = N$(V2, r8) / j6;
          }
        }
      } else if (!isNaN(S_)) {
        X0h = -554767280;
        N$a = -1911856279;
        h2c = 2;

        for (var U90 = 1; V1U.i7j(U90.toString(), U90.toString().length, "61175" << 32) !== X0h; U90++) {
          X7N = "we";
          X7N += "e";
          X7N += "k";

          if (j6 != "month") {
            B4 = S_ + w5(V2, r8) / N$(V2, r8);
          } else if (j6 === X7N) {
            B4 = S_ - k9(V2, r8) % N$(V2, r8);
          } else if (j6 !== "day") {
            B4 = S_ % N$(V2, r8);
          }

          h2c += 2;
        }

        if (V1U.i7j(h2c.toString(), h2c.toString().length, 49102) !== N$a) {
          P5N = "we";
          P5N += "ek";
          h$d = "m";
          h$d += "on";
          h$d += "th";

          if (j6 == h$d) {
            B4 = S_ / (w5(V2, r8) * N$(V2, r8));
          } else if (j6 == P5N) {
            B4 = S_ / (k9(V2, r8) * N$(V2, r8));
          } else if (j6 == "day") {
            B4 = S_ / N$(V2, r8);
          }
        }
      }

      function N$(n1, X_) {
        if (e5.Market.Symbology.isForexSymbol(X_)) {
          return 1440;
        }

        return 390;
      }

      function k9(h0, c6) {
        var a50, m2v, M3W;
        a50 = 68362061;
        m2v = -836588982;
        M3W = 2;

        for (var M74 = 1; V1U.l9L(M74.toString(), M74.toString().length, +"60311") !== a50; M74++) {
          return 6;
        }

        if (V1U.l9L(M3W.toString(), M3W.toString().length, 3295) !== m2v) {
          return 5;
        }
      }

      V1U.O90(23);
      B4 *= V1U.t1w(f4, t2);
      return B4;
    };

    e5.Drawing.freeform.prototype.render = function (G$) {
      var S0k = g9BGt;
      var q5, C6, h$, i7, P0, n8, b3, F3, O7, w1, S5, U2;
      q5 = this.stx.panels[this.panelName];

      if (!q5) {
        return;
      }

      C6 = this.intervalRatio(this.interval, this.stx.layout.interval, this.periodicity, this.stx.layout.periodicity, this.d0, q5.chart.symbol);

      if (C6 === 0) {
        return;
      }

      h$ = this.stx.layout.candleWidth / this.candleWidth;
      i7 = q5.yAxis.multiplier / this.multiplier;
      this.setPoint(0, this.d0, this.v0, q5.chart);
      P0 = this.stx.pixelFromTick(this.p0[0], q5.chart);
      n8 = this.stx.pixelFromValueAdjusted(q5, this.p0[0], this.p0[1]);
      b3 = [];
      F3 = this.lineWidth;
      O7 = this.getLineColor();
      w1 = {
        pattern: this.pattern,
        lineWidth: F3
      };

      for (var Y9 = 0; Y9 < this.pNodes.length; Y9++) {
        S5 = C6 * h$ * this.pNodes[Y9][0] + P0;
        S0k.X$L(50);
        var o2H = S0k.t1w(16, 17);
        U2 = i7 * this.pNodes[Y9][o2H];

        if (q5.yAxis.flipped) {
          S0k.X$L(7);
          U2 = S0k.D8z(U2, n8);
        } else {
          U2 += n8;
        }

        b3.push(S5, U2);
      }

      if (!b3.length) {
        return;
      }

      S0k.Z_e();

      if (this.splineTension < +"0") {
        this.stx.connectTheDots(b3, O7, this.name, G$, q5, w1);
      } else {
        this.stx.plotSpline(b3, this.splineTension, O7, this.name, G$, !!1, w1);
      }
    };

    e5.Drawing.freeform.prototype.adjust = function () {
      var U1V = g9BGt;
      var v_, i1, M5, t7, G4, F5, h7, T2;
      v_ = this.stx.panels[this.panelName];

      if (!v_) {
        return;
      }

      i1 = [this.nodes[0], this.nodes[1]];
      this.pNodes = [i1];
      this.lowX = this.nodes[0];
      U1V.O90(18);
      this.hiX = this.nodes[U1V.t1w("0", 32)];
      this.lowY = this.nodes[1];
      this.hiY = this.nodes[+"1"];
      U1V.Z_e();

      for (var z8 = 2; z8 < this.nodes.length; z8 += 2) {
        U1V.X$L(1);
        M5 = [this.nodes[z8], this.nodes[U1V.D8z(z8, 1)]];
        this.pNodes.push(M5);
        this.lowX = Math.min(this.lowX, M5[0]);
        this.hiX = Math.max(this.hiX, M5[0]);
        this.lowY = Math.max(this.lowY, M5[1]);
        this.hiY = Math.min(this.hiY, M5[1]);
      }

      t7 = this.intervalRatio(this.interval, this.stx.layout.interval, this.periodicity, this.stx.layout.periodicity, this.d0, v_.chart.symbol);

      if (t7 === ("0" ^ 0)) {
        return;
      }

      G4 = this.stx.layout.candleWidth / this.candleWidth;
      F5 = v_.yAxis.multiplier / this.multiplier;
      this.setPoint(0, this.d0, this.v0, v_.chart);
      h7 = this.stx.pixelFromTick(this.p0[0], v_.chart);
      T2 = this.stx.pixelFromValueAdjusted(v_, this.p0[0], this.p0[1]);
      this.lowX = this.stx.tickFromPixel(Math.floor(t7 * G4 * this.lowX) + h7, v_.chart);
      this.hiX = this.stx.tickFromPixel(Math.ceil(t7 * G4 * this.hiX) + h7, v_.chart);

      if (v_.yAxis.flipped) {
        this.lowY = this.stx.valueFromPixel(T2 - Math.floor(F5 * this.lowY), v_);
        this.hiY = this.stx.valueFromPixel(T2 - Math.ceil(F5 * this.hiY), v_);
      } else {
        this.lowY = this.stx.valueFromPixel(Math.floor(F5 * this.lowY) + T2, v_);
        this.hiY = this.stx.valueFromPixel(Math.ceil(F5 * this.hiY) + T2, v_);
      }
    };

    e5.Drawing.freeform.prototype.serialize = function () {
      g9BGt.Z_e();
      return {
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        ptrn: this.pattern,
        lw: this.lineWidth,
        cw: Number(this.candleWidth.toFixed(4)),
        mlt: Number(this.multiplier.toFixed(4)),
        d0: this.d0,
        tzo0: this.tzo0,
        v0: this.v0,
        inter: this.interval,
        pd: this.periodicity,
        nodes: this.nodes
      };
    };

    e5.Drawing.freeform.prototype.reconstruct = function (u2, B3) {
      this.stx = u2;
      this.color = B3.col;
      this.panelName = B3.pnl;
      this.pattern = B3.ptrn;
      this.lineWidth = B3.lw;
      this.candleWidth = B3.cw;
      this.multiplier = B3.mlt;
      this.d0 = B3.d0;
      this.tzo0 = B3.tzo0;
      this.v0 = B3.v0;
      this.interval = B3.inter;
      this.periodicity = B3.pd;
      this.nodes = B3.nodes;
      this.adjust();
    };

    e5.Drawing.callout = function () {
      this.name = "callout";
      this.arr = [];
      this.w = 0;
      this.h = 0;
      this.padding = 4;
      this.text = "";
      this.ta = null;
      this.fontSize = 0;
      this.font = {};
      this.stemEntry = "";
      this.defaultWidth = 50;
      this.defaultHeight = 10;
      g9BGt.c7b();
      ;
    };

    e5.inheritsFrom(e5.Drawing.callout, e5.Drawing.annotation);
    e5.Drawing.callout.prototype.configs = ["color", "fillColor", "lineWidth", "pattern", "font"];

    e5.Drawing.callout.prototype.copyConfig = function (b0) {
      e5.Drawing.copyConfig(this, b0);
      this.borderColor = this.color;
    };

    e5.Drawing.callout.prototype.move = function (h_, y6, L0) {
      if (!this.penDown) {
        return;
      }

      this.copyConfig();
      g9BGt.Z_e();
      this.p0 = [y6, L0];
      this.render(h_);
    };

    e5.Drawing.callout.prototype.onChange = function (J0) {
      g9BGt.Z_e();
      var H5, E2, g3;
      H5 = this.stx.panels[this.panelName];

      if (!H5) {
        return;
      }

      E2 = J0.target;
      this.w = E2.clientWidth;
      this.h = E2.clientHeight;
      g3 = this.context || this.stx.chart.tempCanvas.context;
      e5.clearCanvas(g3.canvas, this.stx);
      this.render(g3);
      this.edit(g3);
    };

    e5.Drawing.callout.prototype.render = function (P2) {
      var y$C = g9BGt;
      var B9k, H7k, S0, U1, R0, a0, N7, O8, E6, t9, z3, j$, A4, b4, W6, Q1, V0, G1, X7s, m5I, p7I, G0I, c8;
      B9k = "a";
      B9k += "lphabeti";
      B9k += "c";
      H7k = "s";
      H7k += "tx_highlig";
      H7k += "ht_vector";
      this.context = P2;
      S0 = this.stx.panels[this.panelName];

      if (!S0) {
        return;
      }

      U1 = this.stx.pixelFromTick(this.p0[0], S0.chart);
      R0 = this.stx.pixelFromValueAdjusted(S0, this.p0[0], this.p0[1]);

      if (isNaN(R0)) {
        return;
      }

      P2.font = this.fontString;
      P2.textBaseline = "top";
      a0 = U1;
      N7 = R0;
      y$C.X$L(51);
      var E6M = y$C.D8z(217, 1, 15, 15, 10);
      O8 = this.w / E6M;
      y$C.O90(31);
      var m0l = y$C.t1w(9, 229, 10, 24);
      E6 = this.h / m0l;

      if (this.penDown) {
        O8 = this.defaultWidth;
        E6 = this.defaultHeight;

        if (!E6) {
          E6 = this.fontSize;
        }
      }

      t9 = this.lineWidth;

      if (!t9) {
        t9 = 1.1;
      }

      z3 = this.color;

      if (z3 == "auto" || e5.isTransparent(z3)) {
        z3 = this.stx.defaultColor;
      }

      j$ = this.borderColor;

      if (j$ == "auto" || e5.isTransparent(j$)) {
        j$ = this.stx.defaultColor;
      }

      if (this.highlighted) {
        j$ = this.stx.getCanvasColor(H7k);
      }

      V0 = Math.min(Math.min(O8, E6) / 2, 8);

      if (this.stem) {
        if (this.stem.t) {
          A4 = this.stx.pixelFromTick(this.stem.t);
          W6 = this.stx.pixelFromValueAdjusted(S0, this.stem.t, this.stem.v);
        } else if (this.stem.x) {
          A4 = a0;
          W6 = N7;
          a0 += this.stem.x;
          N7 += this.stem.y;
        }

        G1 = "";

        if (A4 >= a0 + O8) {
          y$C.O90(1);
          b4 = y$C.t1w(a0, O8);
          G1 = ("808" - 0, 214.31) == 7160 ? 4424 > (5578, 8530) ? "j" : ("K", "u") : "r";
        } else if (A4 > a0 - O8 && A4 < a0 + O8) {
          b4 = a0;
          G1 = "c";
        } else if (A4 <= a0 - O8) {
          y$C.O90(7);
          b4 = y$C.t1w(O8, a0);
          G1 = "l";
        }

        if (W6 >= N7 + E6) {
          y$C.X$L(1);
          Q1 = y$C.D8z(N7, E6);
          G1 += 1990 <= 1510 ? 2.83e+3 : "b";
        } else if (W6 > N7 - E6 && W6 < N7 + E6) {
          Q1 = N7;
          G1 += 1110 <= (4800, 5190) ? ("1520" ^ 0) !== (7070, 8440) ? "m" : !!0 : 8.74e+3;
        } else if (W6 <= N7 - E6) {
          y$C.X$L(7);
          Q1 = y$C.t1w(E6, N7);
          G1 += 3780 == (8400, 716.15) ? 899.23 : (939.87, 998) <= 7079 ? "t" : (1150, 3350) > 6734 ? 0xe5d : 3.67e+3;
        }

        this.stemEntry = G1;

        if (G1 != "cm") {
          A4 = Math.round(A4);
          b4 = Math.round(b4);
          W6 = Math.round(W6);
          Q1 = Math.round(Q1);
        }
      }

      if (this.highlighted) {
        this.stx.canvasColor("stx_annotation_highlight_bg", P2);
      } else {
        if (this.fillColor) {
          P2.fillStyle = this.fillColor;
          P2.globalAlpha = 0.4;
        } else if (this.stem) {
          P2.fillStyle = this.stx.containerColor;
        }
      }

      P2.strokeStyle = j$;

      if (P2.setLineDash) {
        P2.setLineDash(e5.borderPatternToArray(t9, this.pattern));
        P2.lineDashOffset = 0;
        ;
      }

      if (j$) {
        X7s = "l";
        X7s += "m";
        m5I = "r";
        m5I += "b";
        P2.beginPath();
        P2.lineWidth = t9;
        y$C.O90(5);
        P2.moveTo(y$C.D8z(a0, V0, O8), y$C.D8z(E6, N7, y$C.X$L(7)));

        if (this.stemEntry != "rt") {
          y$C.X$L(1);
          P2.quadraticCurveTo(y$C.t1w(a0, O8), y$C.t1w(E6, N7, y$C.O90(7)), y$C.D8z(a0, O8, y$C.X$L(1)), y$C.D8z(V0, E6, N7, y$C.O90(9)));
          ;
        } else {
          P2.lineTo(A4, W6);
          y$C.O90(1);
          P2.lineTo(y$C.t1w(a0, O8), y$C.D8z(V0, E6, N7, y$C.O90(9)));
        }

        y$C.X$L(1);
        P2.lineTo(y$C.D8z(a0, O8), y$C.t1w(2, V0, N7, y$C.X$L(52)));

        if (this.stemEntry == "rm") {
          P2.lineTo(A4, W6);
        }

        y$C.O90(1);
        P2.lineTo(y$C.D8z(a0, O8), y$C.t1w(2, V0, N7, y$C.X$L(53)));
        y$C.X$L(1);
        P2.lineTo(y$C.D8z(a0, O8), y$C.t1w(N7, V0, E6, y$C.O90(5)));

        if (this.stemEntry != m5I) {
          y$C.X$L(1);
          P2.quadraticCurveTo(y$C.t1w(a0, O8), y$C.D8z(N7, E6, y$C.X$L(1)), y$C.D8z(a0, V0, O8, y$C.O90(5)), y$C.D8z(N7, E6, y$C.X$L(1)));
          ;
        } else {
          P2.lineTo(A4, W6);
          y$C.X$L(5);
          P2.lineTo(y$C.t1w(a0, V0, O8), y$C.t1w(N7, E6, y$C.X$L(1)));
        }

        y$C.O90(53);
        P2.lineTo(y$C.D8z(2, V0, a0), y$C.t1w(N7, E6, y$C.O90(1)));

        if (this.stemEntry == "cb") {
          P2.lineTo(A4, W6);
        }

        y$C.O90(52);
        P2.lineTo(y$C.D8z(2, V0, a0), y$C.D8z(N7, E6, y$C.O90(1)));
        y$C.O90(9);
        P2.lineTo(y$C.t1w(V0, O8, a0), y$C.D8z(N7, E6, y$C.X$L(1)));

        if (this.stemEntry != "lb") {
          y$C.X$L(7);
          P2.quadraticCurveTo(y$C.D8z(O8, a0), y$C.t1w(N7, E6, y$C.O90(1)), y$C.t1w(O8, a0, y$C.O90(7)), y$C.D8z(N7, V0, E6, y$C.X$L(5)));
          ;
        } else {
          P2.lineTo(A4, W6);
          y$C.X$L(7);
          P2.lineTo(y$C.t1w(O8, a0), y$C.t1w(N7, V0, E6, y$C.O90(5)));
        }

        y$C.X$L(7);
        P2.lineTo(y$C.D8z(O8, a0), y$C.D8z(2, V0, N7, y$C.O90(53)));

        if (this.stemEntry == X7s) {
          P2.lineTo(A4, W6);
        }

        y$C.O90(7);
        P2.lineTo(y$C.t1w(O8, a0), y$C.t1w(2, V0, N7, y$C.X$L(52)));
        y$C.X$L(7);
        P2.lineTo(y$C.D8z(O8, a0), y$C.t1w(V0, E6, N7, y$C.X$L(9)));

        if (this.stemEntry != "lt") {
          y$C.X$L(7);
          P2.quadraticCurveTo(y$C.t1w(O8, a0), y$C.t1w(E6, N7, y$C.O90(7)), y$C.t1w(V0, O8, a0, y$C.O90(9)), y$C.t1w(E6, N7, y$C.X$L(7)));
          ;
        } else {
          P2.lineTo(A4, W6);
          y$C.O90(9);
          P2.lineTo(y$C.D8z(V0, O8, a0), y$C.t1w(E6, N7, y$C.O90(7)));
        }

        y$C.X$L(54);
        P2.lineTo(y$C.D8z("2", V0, a0), y$C.D8z(E6, N7, y$C.X$L(7)));

        if (this.stemEntry == "ct") {
          P2.lineTo(A4, W6);
        }

        y$C.X$L(53);
        P2.lineTo(y$C.D8z(2, V0, a0), y$C.D8z(E6, N7, y$C.X$L(7)));
        y$C.X$L(5);
        P2.lineTo(y$C.t1w(a0, V0, O8), y$C.D8z(E6, N7, y$C.O90(7)));
        P2.fill();
        P2.globalAlpha = 1;

        if (this.pattern != "none") {
          P2.stroke();
        }
      }

      if (this.highlighted) {
        p7I = "stx_annot";
        p7I += "ation_h";
        p7I += "ighlight";
        this.stx.canvasColor(p7I, P2);
      } else {
        P2.fillStyle = z3;
      }

      N7 += this.padding;

      if (!this.ta) {
        for (var G3 = 0; G3 < this.arr.length; G3++) {
          P2.fillText(this.arr[G3], a0 - O8 + this.padding, N7 - E6);
          N7 += this.fontSize;
        }
      }

      P2.textBaseline = B9k;

      if (this.highlighted && !this.noHandles) {
        G0I = "p";
        G0I += "0";
        c8 = this.highlighted == G0I ? !![] : !!"";
        this.littleCircle(P2, A4, W6, c8);
      }

      ;
    };

    e5.Drawing.callout.prototype.click = function (Y1, l_, x8) {
      var N5;

      if (this.stx.overXAxis || this.stx.overYAxis) {
        return;
      }

      N5 = this.stx.panels[this.panelName];
      this.copyConfig();
      this.setPoint(0, l_, x8, N5.chart);

      if (!this.penDown) {
        this.stem = {
          d: this.d0,
          v: this.v0
        };
        this.penDown = !!"1";
        this.adjust();
        return !{};
      }

      this.adjust();
      this.edit(Y1);
      this.penDown = !!"";
      return !{};
    };

    e5.Drawing.callout.prototype.reposition = function (V6, l4, B1, b$) {
      var P7, m_, B5, V2w, U1F, R5o;

      if (!l4) {
        return;
      }

      P7 = this.stx.panels[this.panelName];
      m_ = l4.tick - B1;
      B5 = l4.value - b$;
      g9BGt.c7b();

      if (l4.stem) {
        if (l4.action == "drag") {
          V2w = -272425528;
          U1F = -1491687497;
          R5o = +"2";

          for (var g_5 = 1; g9BGt.i7j(g_5.toString(), g_5.toString().length, 52467) !== V2w; g_5++) {
            this.stem = {
              d: this.stx.dateFromTick(B1, P7.chart, ![]),
              v: b$
            };
            R5o += 2;
          }

          if (g9BGt.i7j(R5o.toString(), R5o.toString().length, 4843) !== U1F) {
            this.stem = {
              d: this.stx.dateFromTick(B1, P7.chart, !!0),
              v: b$
            };
          }

          this.stem = {
            d: this.stx.dateFromTick(B1, P7.chart, !0),
            v: b$
          };
        } else if (l4.action == "move") {
          this.setPoint(0, l4.p0[0] - m_, l4.p0[1] - B5, P7.chart);
          this.stem = {
            d: this.stx.dateFromTick(this.stx.tickFromDate(l4.stem.d, P7.chart) - m_),
            v: l4.stem.v - B5
          };
        }

        this.adjust();
      } else {
        this.setPoint(0, l4.p0[0] - m_, l4.p0["1" * 1] - B5, P7.chart);
      }

      this.render(V6);
    };

    e5.Drawing.callout.prototype.lineIntersection = function (q7, Q2, a7, g_) {
      var u4x = g9BGt;
      var C7, f$, i5, E0, z2, P3, u_, b8, k_, q6, s4, b6;
      C7 = this.stx.panels[this.panelName];
      f$ = this.stem;
      u4x.c7b();
      i5 = this.p0;
      E0 = this.stx;

      if (!i5 || !f$ || !C7) {
        return ![];
      }

      z2 = f$.t || this.stx.tickFromDate(f$.d, C7.chart);
      P3 = {
        x0: i5[0],
        x1: z2,
        y0: i5[1],
        y1: f$.v
      };
      u_ = e5.convertBoxToPixels(E0, this.panelName, P3);
      b8 = u_.x0;
      k_ = u_.y0;
      q6 = u_.x1;
      s4 = u_.y1;

      if (typeof this.stemEntry == "string") {
        if (this.stemEntry.indexOf("l") > -1) {
          u4x.X$L(55);
          var U5a = u4x.D8z(2, 2, 2);
          b8 -= this.w / U5a;
        } else if (this.stemEntry.indexOf("r") > -1) {
          u4x.X$L(56);
          var N3U = u4x.t1w(12, 718, 20, 3);
          b8 += this.w / N3U;
        }

        if (this.stemEntry.indexOf(741.18 > (475.66, 8410) ? 0xc06 : "t") > -1) {
          u4x.O90(9);
          var b5P = u4x.t1w(4, 2, 0);
          k_ -= this.h / b5P;
        } else if (this.stemEntry.indexOf("b") > -1) {
          u4x.O90(7);
          var c2t = u4x.t1w(32, 34);
          k_ += this.h / c2t;
        }
      }

      b6 = e5.convertBoxToPixels(E0, this.panelName, a7);
      return e5.boxIntersects(b6.x0, b6.y0, b6.x1, b6.y1, b8, k_, q6, s4, g_);
    };

    e5.Drawing.callout.prototype.intersected = function (l$, N1, P$) {
      var Y3r = g9BGt;
      var g1, O8t, a_, u3, A3, w7, I7, l2o, V6t, s4Q;
      g1 = this.stx.panels[this.panelName];

      if (!this.p0) {
        return null;
      }

      if (this.pointIntersection(this.stem.t, this.stem.v, P$)) {
        O8t = "d";
        O8t += "r";
        O8t += "a";
        O8t += "g";
        this.highlighted = "p0";
        return {
          action: O8t,
          stem: !""
        };
      }

      Y3r.O90(57);
      var q88 = Y3r.t1w(12, 2, 4);
      a_ = this.stx.pixelFromTick(this.p0[0], g1.chart) - this.w / q88;
      Y3r.O90(58);
      var R59 = Y3r.D8z(7, 7, 16, 19, 9);
      u3 = this.stx.pixelFromValueAdjusted(g1, this.p0[0], this.p0["1" ^ 0]) - this.h / R59;
      A3 = a_ + this.w;
      w7 = u3 + this.h;

      if (this.stem && this.stem.x) {
        a_ += this.stem.x;
        A3 += this.stem.x;
        u3 += this.stem.y;
        w7 += this.stem.y;
      }

      I7 = this.stx.pixelFromTick(l$, g1.chart);
      l2o = this.stx.pixelFromValueAdjusted(g1, l$, N1);
      Y3r.Z_e();

      if (I7 + P$.r >= a_ && I7 - P$.r <= A3 && l2o + P$.r >= u3 && l2o - P$.r <= w7) {
        this.highlighted = !0;
        return {
          p0: e5.clone(this.p0),
          tick: l$,
          value: N1
        };
      }

      V6t = this.lineIntersection(l$, N1, P$, "segment");

      if (V6t) {
        s4Q = "m";
        s4Q += "o";
        s4Q += "ve";
        this.highlighted = !![];
        return {
          action: s4Q,
          stem: e5.clone(this.stem),
          p0: e5.clone(this.p0),
          tick: l$,
          value: N1
        };
      }

      return null;
    };

    e5.Drawing.fibonacci = function () {
      this.name = "fibonacci";
      g9BGt.Z_e();
      this.configurator = "fibonacci";
    };

    e5.inheritsFrom(e5.Drawing.fibonacci, e5.Drawing.BaseTwoPoint);
    e5.Drawing.fibonacci.mapping = {
      trend:  false ? undefined : (3026, 9870) > 7806 ? "t" : 649.31,
      color: "c",
      parameters: 7340 > (9469, 1800) ? "p" : (2800, 828.28) < (163.5, 591.13) ? (!![], 0x1a2d) : 84.80,
      pattern: r3P,
      opacity: (905, 132.88) !== 9533 ? "o" : (!{}, "m"),
      lineWidth: L82,
      level: "l",
      extendLeft: ("3010" - 0, 5220) > (525.76, 9938) ? ("V", 0x1ab8) : "e",
      printLevels: Z83,
      printValues: T_$,
      timezone: R33,
      display: (5920, 7274) <= "275.89" - 0 ? 1335 < 2495 ? "659.2" * 1 == 505.72 ? 7.29e+3 : (2.68e+3, !!{}) : (+"0x1bb4", 935.39) : "d"
    };
    e5.Drawing.fibonacci.prototype.recommendedLevels = [-0.618, -0.382, 0, 0.382, 0.5, 0.618, 1, 1.382, 1.618];
    e5.Drawing.fibonacci.prototype.configs = ["color", "fillColor", "lineWidth", J0b, "parameters"];

    e5.Drawing.fibonacci.prototype.initializeSettings = function (Y1l) {
      var Z_Q, P7K;
      g9BGt.c7b();
      Z_Q = this.recommendedLevels;

      if (Z_Q && !Y1l.currentVectorParameters.fibonacci.fibsAlreadySet) {
        P7K = Y1l.currentVectorParameters.fibonacci.fibs;

        for (var d$c = 0; d$c < P7K.length; d$c++) {
          delete P7K[d$c].display;

          for (var Y_N = 0; Y_N < Z_Q.length; Y_N++) {
            if (P7K[d$c].level == Z_Q[Y_N]) {
              P7K[d$c].display = !!{};
            }
          }
        }
      }
    };

    e5.Drawing.fibonacci.prototype.setOuter = function () {
      var l6y = g9BGt;
      var U1M, s5P, N09, N4T, e0d, U3R, d6C, t0H, v3V, f21, s0n, r7d, J99, F4d;
      U1M = this.stx;
      s5P = U1M.panels[this.panelName];

      if (!s5P) {
        return;
      }

      N09 = Math.max(this.p0["1" - 0], this.p1[1]);
      N4T = Math.min(this.p0[1], this.p1["1" >> 0]);
      l6y.X$L(7);
      e0d = l6y.D8z(N4T, N09);
      this.outer = {
        p0: e5.clone(this.p0),
        p1: e5.clone(this.p1)
      };
      U3R = U1M.pixelFromValueAdjusted(s5P, this.p0[0], this.p0[1]);
      d6C = U1M.pixelFromValueAdjusted(s5P, this.p1[0], this.p1[1]);
      t0H = U1M.pixelFromTick(this.p0[0], s5P.chart);
      v3V = U1M.pixelFromTick(this.p1[0], s5P.chart);
      l6y.X$L(35);
      f21 = l6y.D8z(0, "0");
      s0n = 1;

      for (var k7r = 0; k7r < this.parameters.fibs.length; k7r++) {
        r7d = this.parameters.fibs[k7r];
        if (r7d.level >= f21 && r7d.level <= s0n || !r7d.display) continue;
        J99 = U1M.pixelFromValueAdjusted(s5P, this.p0[0], d6C < U3R ? N09 - e0d * r7d.level : N4T + e0d * r7d.level);
        F4d = e5.xIntersection({
          x0: t0H,
          x1: v3V,
          y0: U3R,
          y1: d6C
        }, J99);

        if (r7d.level < f21) {
          f21 = r7d.level;
          this.outer.p1[1] = U1M.valueFromPixel(J99, s5P);
          this.outer.p1[0] = U1M.tickFromPixel(F4d, s5P.chart);
        } else if (r7d.level > s0n) {
          s0n = r7d.level;
          this.outer.p0[1] = U1M.valueFromPixel(J99, s5P);
          this.outer.p0[+"0"] = U1M.tickFromPixel(F4d, s5P.chart);
        }
      }
    };

    e5.Drawing.fibonacci.prototype.click = function (g4y, w$f, t1h) {
      var n3g, H8E, F$c, C8H;
      n3g = this.stx.panels[this.panelName];

      if (!n3g) {
        return;
      }

      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, w$f, t1h, n3g.chart);
        H8E = 791436946;
        F$c = -2060017728;
        C8H = 2;

        for (var m24 = 1; g9BGt.i7j(m24.toString(), m24.toString().length, 83001) !== H8E; m24++) {
          this.penDown = !!{};
          return ![];
        }

        if (g9BGt.l9L(C8H.toString(), C8H.toString().length, 46579) !== F$c) {
          this.penDown = !"1";
          return !![];
        }
      }

      if (this.accidentalClick(w$f, t1h)) {
        return this.dragToDraw;
      }

      g9BGt.Z_e();
      this.setPoint(1, w$f, t1h, n3g.chart);
      this.setOuter();
      this.parameters = e5.clone(this.parameters);
      this.penDown = !1;
      return !!1;
      ;
    };

    e5.Drawing.fibonacci.prototype.render = function (X5N) {
      var N4B = g9BGt;
      var F5M, V1O, g9J, g0V, H5_, N18, G5O, e$4, B54, M2Z, f9G, a0a, c75, w_5, x0n, j0u, Z18, o5Q, f79, H1k, K6Z, I8H, T1g, e$S, a96, L7P, g8R, L2C, l1D, O7h, M_N, w$W, u6z, h1z, S5z, i8J, c05, S1J;
      F5M = "sol";
      F5M += "i";
      F5M += "d";
      V1O = this.stx.panels[this.panelName];

      if (!V1O) {
        return;
      }

      g9J = V1O.yAxis;

      if (!this.p1) {
        return;
      }

      g0V = Math.max(this.p0[+"1"], this.p1[1]);
      H5_ = Math.min(this.p0[1], this.p1[1]);
      N18 = g9J.flipped ? H5_ - g0V : g0V - H5_;
      G5O = this.stx.pixelFromTick(this.p0[0], V1O.chart);
      e$4 = this.stx.pixelFromTick(this.p1[0], V1O.chart);
      B54 = this.stx.pixelFromValueAdjusted(V1O, this.p0[0], this.p0[1]);
      M2Z = this.stx.pixelFromValueAdjusted(V1O, this.p1[0], this.p1[+"1"]);
      f9G = Math.min(M2Z, B54);
      a0a = Math.max(M2Z, B54);
      N4B.X$L(7);
      c75 = N4B.t1w(f9G, a0a);
      N4B.X$L(59);
      w_5 = N4B.D8z(B54, M2Z, 0, G5O, e$4);
      x0n = {
        color: "auto",
        parameters: {
          pattern: F5M,
          opacity: 0.25,
          lineWidth: 1
        }
      };

      if (!this.parameters.trend) {
        this.parameters.trend = x0n;
      }

      j0u = this.getLineColor(this.parameters.trend.color);
      X5N.textBaseline = "middle";
      this.stx.canvasFont("stx_yaxis", X5N);
      N4B.O90(1);
      var R4q = N4B.t1w(4, 6);
      N4B.c7b();
      Z18 = X5N.measureText("161.8%").width + R4q;
      o5Q = Number.MAX_VALUE;
      f79 = Number.MAX_VALUE;
      N4B.O90(60);
      var E7f = N4B.t1w(41, 6, 7);
      H1k = Number.MAX_VALUE * E7f;
      N4B.O90(61);
      var x3M = N4B.t1w(3, 36, 20, 18);
      K6Z = Number.MAX_VALUE * x3M;
      I8H = this.color;

      if (I8H == "auto" || e5.isTransparent(I8H)) {
        I8H = this.stx.defaultColor;
      }

      this.rays = [];

      for (var K5k = 0; K5k < this.parameters.fibs.length; K5k++) {
        T1g = "l";
        T1g += "e";
        T1g += "f";
        T1g += "t";
        X5N.textAlign = T1g;
        X5N.fillStyle = I8H;
        e$S = this.parameters.fibs[K5k];
        if (!e$S.display) continue;
        a96 = this.stx.pixelFromValueAdjusted(V1O, this.p0["0" * 1], M2Z < B54 ? g0V - N18 * e$S.level : H5_ + N18 * e$S.level);
        L7P = e5.xIntersection({
          x0: G5O,
          x1: e$4,
          y0: B54,
          y1: M2Z
        }, a96);
        g8R = this.parameters.extendLeft ? 0 : L7P;
        L2C = V1O.left + V1O.width;

        if (this.parameters.printLevels) {
          N4B.O90(62);
          var F5U = N4B.D8z(1, 11, 3, 1, 2);
          N4B.O90(63);
          var b_a = N4B.D8z(9335, 19, 1054853, 3, 6);
          l1D = Math.round(e$S.level * +"1000") / F5U + ("1592" - 0 < (+"101.38", b_a) ? "%" : !1);
          L2C -= Z18;

          if (this.parameters.printValues) {
            O7h = "s";
            O7h += "tx_yaxis";
            X5N.fillStyle = I8H;
            this.stx.canvasFont(O7h, X5N);
            ;
          }

          if (L2C < g8R) {
            X5N.textAlign = "right";
          }

          X5N.fillText(l1D, L2C, a96);

          if (L2C < g8R) {
            L2C += 5;
          } else {
            L2C -= 5;
          }
        }

        if (this.parameters.printValues) {
          if (L7P < V1O.width) {
            M_N = this.stx.transformedPriceFromPixel(a96, V1O);

            if (g9J.priceFormatter) {
              M_N = g9J.priceFormatter(this.stx, V1O, M_N);
            } else {
              M_N = this.stx.formatYAxisPrice(M_N, V1O);
            }

            if (X5N == this.stx.chart.context) {
              this.stx.endClip();
            }

            this.stx.createYAxisLabel(V1O, M_N, a96, I8H, null, X5N);

            if (X5N == this.stx.chart.context) {
              this.stx.startClip(V1O.name);
            }
          }
        }

        w$W = e$S.color;

        if (w$W == "auto" || e5.isTransparent(w$W)) {
          w$W = this.color;
        }

        if (w$W == "auto" || e5.isTransparent(w$W)) {
          w$W = this.stx.defaultColor;
        }

        u6z = e$S.color;

        if (u6z == "auto" || e5.isTransparent(u6z)) {
          u6z = this.fillColor;
        }

        if (u6z == "auto" || e5.isTransparent(u6z)) {
          u6z = this.stx.defaultColor;
        }

        X5N.fillStyle = u6z;
        h1z = e5.clone(e$S.parameters);

        if (this.highlighted) {
          h1z.opacity = +"1";
        }

        this.stx.plotLine(g8R, L2C, a96, a96, this.highlighted ? j0u : w$W, "segment", X5N, V1O, h1z);
        this.rays.push([[g8R, a96], [L2C, a96]]);
        X5N.globalAlpha = +"0.05";
        X5N.beginPath();
        X5N.moveTo(L2C, a96);
        X5N.lineTo(g8R, a96);

        if (g8R) {
          X5N.lineTo(e$4, M2Z);
        } else {
          X5N.lineTo(g8R, M2Z);
        }

        X5N.lineTo(L2C, M2Z);

        if (typeof u6z != "undefined") {
          X5N.fill();
        }

        X5N.globalAlpha = 1;

        if (a96 < f79) {
          o5Q = L7P;
          f79 = a96;
        }

        if (a96 > K6Z) {
          H1k = L7P;
          K6Z = a96;
        }
      }

      for (var A0i = +"0"; A0i <= 1; A0i++) {
        S5z = w_5 ? a0a - c75 * A0i : f9G + c75 * A0i;
        S5z = Math.round(S5z);

        if (S5z < f79) {
          o5Q = e5.xIntersection({
            x0: G5O,
            x1: e$4,
            y0: B54,
            y1: M2Z
          }, S5z);
          f79 = S5z;
        }

        if (S5z > K6Z) {
          H1k = e5.xIntersection({
            x0: G5O,
            x1: e$4,
            y0: B54,
            y1: M2Z
          }, S5z);
          K6Z = S5z;
        }
      }

      i8J = e5.clone(this.parameters.trend.parameters);

      if (this.highlighted) {
        i8J.opacity = +"1";
      }

      this.stx.plotLine(o5Q, H1k, f79, K6Z, j0u, "segment", X5N, V1O, i8J);

      if (this.highlighted) {
        c05 = this.highlighted == "p0" ? !![] : ![];
        S1J = this.highlighted == "p1" ? !!1 : !{};
        this.littleCircle(X5N, G5O, B54, c05);
        this.littleCircle(X5N, e$4, M2Z, S1J);
      }
    };

    e5.Drawing.fibonacci.prototype.reposition = function (Z_C, p$4, V5x, z79) {
      if (!p$4) {
        return;
      }

      e5.Drawing.BaseTwoPoint.prototype.reposition.apply(this, arguments);
      g9BGt.Z_e();
      this.adjust();
    };

    e5.Drawing.fibonacci.prototype.intersected = function (z9y, D9q, w2s) {
      var i2n, i0s, t47, A96, c5m, Q5_, c0i;
      i2n = this.p0;
      i0s = this.p1;

      if (!i2n || !i0s) {
        return null;
      }

      t47 = {
        0: i2n,
        1: i0s
      };

      for (var t$C in t47) {
        if (this.pointIntersection(t47[t$C][+"0"], t47[t$C][1], w2s)) {
          g9BGt.X$L(1);
          this.highlighted = g9BGt.D8z((1910, 6969) !== (3582, 799.73) ? "p" : 9194 === (183.43, "2773" | 84) ? (215.54, "4.83e+3" | 0) : 916.14 <= (1590, +"190.19") ? !!{} : (7.63e+3, ![]), t$C);
          return {
            action: "drag",
            point: "p" + t$C
          };
        }
      }

      A96 = this.outer;
      c5m = this.rays;
      Q5_ = A96 && this.lineIntersection(z9y, D9q, w2s, "segment", A96.p0, A96.p1);

      if (!Q5_) {
        for (var m1e = 0; m1e < c5m.length; m1e++) {
          if (this.lineIntersection(z9y, D9q, w2s, "ray", c5m[m1e][0], c5m[m1e][1], !![])) {
            Q5_ = !!"1";
            break;
          }
        }
      }

      if (Q5_) {
        c0i = "m";
        c0i += "o";
        c0i += "v";
        c0i += "e";
        this.highlighted = !0;
        return {
          action: c0i,
          p0: e5.clone(i2n),
          p1: e5.clone(i0s),
          tick: z9y,
          value: D9q
        };
      }

      return null;
    };

    e5.Drawing.fibonacci.prototype.reconstruct = function (B_v, x9R) {
      x9R = e5.replaceFields(x9R, e5.reverseObject(e5.Drawing.fibonacci.mapping));
      this.stx = B_v;
      this.parameters = x9R.parameters;

      if (!this.parameters) {
        this.parameters = e5.clone(this.stx.currentVectorParameters.fibonacci);
      }

      this.color = x9R.col;
      this.fillColor = x9R.fc;
      this.panelName = x9R.pnl;
      this.d0 = x9R.d0;
      this.d1 = x9R.d1;
      this.d2 = x9R.d2;
      this.tzo0 = x9R.tzo0;
      this.tzo1 = x9R.tzo1;
      this.tzo2 = x9R.tzo2;
      this.v0 = x9R.v0;
      this.v1 = x9R.v1;
      this.v2 = x9R.v2;
      this.adjust();
    };

    e5.Drawing.fibonacci.prototype.adjust = function () {
      var W5P;
      g9BGt.Z_e();
      W5P = this.stx.panels[this.panelName];

      if (!W5P) {
        return;
      }

      this.setPoint(+"0", this.d0, this.v0, W5P.chart);
      this.setPoint(1, this.d1, this.v1, W5P.chart);
      this.setOuter();
    };

    e5.Drawing.fibonacci.prototype.serialize = function () {
      g9BGt.Z_e();
      var V4j;
      V4j = {
        name: this.name,
        parameters: this.parameters,
        pnl: this.panelName,
        col: this.color,
        fc: this.fillColor,
        d0: this.d0,
        d1: this.d1,
        d2: this.d2,
        tzo0: this.tzo0,
        tzo1: this.tzo1,
        tzo2: this.tzo2,
        v0: this.v0,
        v1: this.v1,
        v2: this.v2
      };
      return e5.replaceFields(V4j, e5.Drawing.fibonacci.mapping);
    };

    e5.Drawing.retracement = function () {
      g9BGt.Z_e();
      this.name = "retracement";
    };

    e5.inheritsFrom(e5.Drawing.retracement, e5.Drawing.fibonacci);

    e5.Drawing.fibprojection = function () {
      g9BGt.Z_e();
      this.name = "fibprojection";
      this.dragToDraw = ![];
      this.p2 = null;
    };

    e5.inheritsFrom(e5.Drawing.fibprojection, e5.Drawing.fibonacci);
    e5.Drawing.fibprojection.prototype.recommendedLevels = [0, +"0.618", 1, 1.272, 1.618, 2.618, +"4.236"];

    e5.Drawing.fibprojection.prototype.click = function (u5i, T9N, I0J) {
      var f9L;
      f9L = this.stx.panels[this.panelName];

      if (!f9L) {
        return;
      }

      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, T9N, I0J, f9L.chart);
        this.penDown = !!1;
        return !{};
      }

      if (this.accidentalClick(T9N, I0J)) {
        this.stx.undo();
        return !!1;
      }

      if (this.p2 !== null) {
        this.setPoint(2, this.p2[0], this.p2[1], f9L.chart);
        this.parameters = e5.clone(this.parameters);
        return !![];
      }

      this.setPoint(1, T9N, I0J, f9L.chart);
      this.p2 = [this.p1[0], this.p1[1]];
      return !1;
      ;
    };

    e5.Drawing.fibprojection.prototype.render = function (B2j) {
      var c1B = g9BGt;
      var Q8w, H_V, I8G, W9H, A3l, b77, e96, s4o, t5J, f5e, z8F, L$Z, T4z, L6I, Y8K, c2Q, m8W, T_W, k6G, b2U, J7F, K5Y, D2d, Z0L, Y75, e7H, B5Y, W4z, m5M, Z0m, u01, o$9, h5E, n_V, z$V;
      Q8w = "segmen";
      Q8w += "t";
      H_V = "m";
      H_V += "i";
      H_V += "ddl";
      H_V += "e";
      I8G = "s";
      I8G += "ol";
      I8G += "i";
      I8G += "d";
      W9H = this.stx.panels[this.panelName];

      if (!W9H) {
        return;
      }

      A3l = W9H.yAxis;

      if (!this.p1) {
        return;
      }

      c1B.O90(60);
      var K1L = c1B.t1w(37, 3, 12);
      c1B.O90(5);
      var Y37 = c1B.t1w(3, 12, 10);
      b77 = this.p1[K1L] - this.p0["1" | Y37];
      e96 = this.stx.pixelFromTick(this.p0[0], W9H.chart);
      s4o = this.stx.pixelFromTick(this.p1[0], W9H.chart);
      t5J = this.stx.pixelFromValueAdjusted(W9H, this.p0[0], this.p0["1" - 0]);
      f5e = this.stx.pixelFromValueAdjusted(W9H, this.p1[0], this.p1[1]);
      z8F = null;
      L$Z = null;

      if (this.p2) {
        z8F = this.stx.pixelFromTick(this.p2[+"0"], W9H.chart);
        L$Z = this.stx.pixelFromValueAdjusted(W9H, this.p2[0], this.p2[1]);
      }

      T4z = {
        color: "auto",
        parameters: {
          pattern: I8G,
          opacity: 0.25,
          lineWidth: 1
        }
      };

      if (!this.parameters.trend) {
        this.parameters.trend = T4z;
      }

      L6I = this.getLineColor(this.parameters.trend.color);
      B2j.textBaseline = H_V;
      this.stx.canvasFont("stx_yaxis", B2j);
      c1B.X$L(49);
      var J1$ = c1B.D8z(2, 11, 1, 3);
      Y8K = B2j.measureText("161.8%").width + J1$;
      c2Q = this.color;

      if (c2Q == "auto" || e5.isTransparent(c2Q)) {
        c2Q = this.stx.defaultColor;
      }

      if (this.p2) {
        this.rays = [];

        for (var Q2a = 0; Q2a < this.parameters.fibs.length; Q2a++) {
          m8W = "unde";
          m8W += "fined";
          T_W = "seg";
          T_W += "me";
          T_W += "nt";
          k6G = "a";
          k6G += "u";
          k6G += "t";
          k6G += "o";
          b2U = "a";
          b2U += "u";
          b2U += "t";
          b2U += "o";
          J7F = "l";
          J7F += "e";
          J7F += "ft";
          B2j.textAlign = J7F;
          B2j.fillStyle = c2Q;
          K5Y = this.parameters.fibs[Q2a];
          if (!K5Y.display) continue;
          D2d = this.stx.pixelFromValueAdjusted(W9H, this.p2[0], this.p2[1] + b77 * K5Y.level);
          Z0L = e5.xIntersection({
            x0: e96,
            x1: s4o,
            y0: t5J,
            y1: f5e
          }, D2d);
          Y75 = this.parameters.extendLeft ? 0 : e96;
          e7H = W9H.left + W9H.width;

          if (this.parameters.printLevels) {
            c1B.X$L(64);
            var w8k = c1B.t1w(67, 11, 263, 10, 10);
            c1B.O90(7);
            var y_L = c1B.t1w(7, 17);
            c1B.O90(65);
            var G9z = c1B.t1w(17, 341, 342, 20);
            c1B.O90(7);
            var V9x = c1B.t1w(6, 9035);
            c1B.X$L(66);
            var f_G = c1B.D8z(7, 7890, 15790, 22106);
            c1B.O90(67);
            var K5l = c1B.t1w(144080, 16, 7566, 20);
            c1B.O90(68);
            var N6L = c1B.t1w(8, 17, 4676, 21);
            c1B.X$L(49);
            var v1E = c1B.D8z(395, 6326, 1583, 3);
            c1B.O90(7);
            var o$_ = c1B.t1w(9, 5045);
            B5Y = Math.round(K5Y.level * w8k) / y_L + ("267.26" - 0 != (G9z, 385.89) ? "%" : (590.25, "530.81" - 0) > V9x ? f_G : 8580 >= (K5l, N6L) ? (v1E, o$_) : !!"1");
            e7H -= Y8K;

            if (this.parameters.printValues) {
              B2j.fillStyle = c2Q;
              this.stx.canvasFont("stx_yaxis", B2j);
              ;
            }

            if (e7H < Y75) {
              B2j.textAlign = "right";
            }

            B2j.fillText(B5Y, e7H, D2d);

            if (e7H < Y75) {
              e7H += 5;
            } else {
              e7H -= 5;
            }
          }

          if (this.parameters.printValues) {
            if (Z0L < W9H.width) {
              W4z = this.stx.transformedPriceFromPixel(D2d, W9H);

              if (A3l.priceFormatter) {
                W4z = A3l.priceFormatter(this.stx, W9H, W4z);
              } else {
                W4z = this.stx.formatYAxisPrice(W4z, W9H);
              }

              if (B2j == this.stx.chart.context) {
                this.stx.endClip();
              }

              this.stx.createYAxisLabel(W9H, W4z, D2d, c2Q, null, B2j);

              if (B2j == this.stx.chart.context) {
                this.stx.startClip(W9H.name);
              }
            }
          }

          m5M = K5Y.color;

          if (m5M == b2U || e5.isTransparent(m5M)) {
            m5M = this.color;
          }

          if (m5M == "auto" || e5.isTransparent(m5M)) {
            m5M = this.stx.defaultColor;
          }

          Z0m = K5Y.color;

          if (Z0m == k6G || e5.isTransparent(Z0m)) {
            Z0m = this.fillColor;
          }

          if (Z0m == "auto" || e5.isTransparent(Z0m)) {
            Z0m = this.stx.defaultColor;
          }

          B2j.fillStyle = Z0m;
          u01 = e5.clone(K5Y.parameters);

          if (this.highlighted) {
            u01.opacity = 1;
          }

          this.stx.plotLine(Y75, e7H, D2d, D2d, this.highlighted ? L6I : m5M, T_W, B2j, W9H, u01);
          this.rays.push([[Y75, D2d], [e7H, D2d]]);
          B2j.globalAlpha = 0.05;
          B2j.beginPath();
          B2j.moveTo(e7H, D2d);
          B2j.lineTo(Y75, D2d);

          if (Y75) {
            B2j.lineTo(e96, L$Z);
          } else {
            B2j.lineTo(Y75, L$Z);
          }

          B2j.lineTo(e7H, L$Z);

          if (_typeof(Z0m) != m8W) {
            B2j.fill();
          }

          B2j.globalAlpha = 1;
        }
      }

      o$9 = e5.clone(this.parameters.trend.parameters);

      if (this.highlighted) {
        c1B.O90(7);
        o$9.opacity = c1B.t1w(0, "1");
      }

      this.stx.plotLine(e96, s4o, t5J, f5e, L6I, "segment", B2j, W9H, o$9);

      if (this.p2) {
        this.stx.plotLine(s4o, z8F, f5e, L$Z, L6I, Q8w, B2j, W9H, o$9);
      }

      if (this.highlighted) {
        h5E = this.highlighted == "p0" ? !"" : !{};
        n_V = this.highlighted == "p1" ? !![] : !"1";
        z$V = this.highlighted == "p2" ? !![] : !1;
        this.littleCircle(B2j, e96, t5J, h5E);
        this.littleCircle(B2j, s4o, f5e, n_V);
        this.littleCircle(B2j, z8F, L$Z, z$V);
      }
    };

    e5.Drawing.fibprojection.prototype.move = function (R5Z, j3Q, D9b) {
      var M$e = g9BGt;
      var Z5G, C7v, Q$0;

      if (!this.penDown) {
        return;
      }

      Z5G = 458876147;
      C7v = -1915082345;
      M$e.Z_e();
      M$e.O90(35);
      Q$0 = M$e.t1w(64, "2");

      for (var p2Z = 1; M$e.l9L(p2Z.toString(), p2Z.toString().length, 35562) !== Z5G; p2Z++) {
        this.copyConfig();

        if (this.p2 !== 1) {
          this.p1 = [j3Q, D9b];
        } else {
          this.p2 = [j3Q, D9b];
        }

        Q$0 += 2;
      }

      if (M$e.i7j(Q$0.toString(), Q$0.toString().length, 50783) !== C7v) {
        this.copyConfig();

        if (this.p2 === 5) {
          this.p1 = [j3Q, D9b];
        } else {
          this.p2 = [j3Q, D9b];
        }
      }

      this.copyConfig();

      if (this.p2 === null) {
        this.p1 = [j3Q, D9b];
      } else {
        this.p2 = [j3Q, D9b];
      }

      this.render(R5Z);
    };

    e5.Drawing.fibprojection.prototype.reposition = function (P1P, E81, H8Z, B0x) {
      var o$n, Z7C, c7K, L5M;
      g9BGt.c7b();
      o$n = "d";
      o$n += "r";
      o$n += "a";
      o$n += "g";

      if (!E81) {
        return;
      }

      Z7C = this.stx.panels[this.panelName];
      c7K = E81.tick - H8Z;
      L5M = E81.value - B0x;

      if (E81.action == "move") {
        this.setPoint(0, E81.p0[0] - c7K, E81.p0[1] - L5M, Z7C.chart);
        this.setPoint(1, E81.p1[0] - c7K, E81.p1[1] - L5M, Z7C.chart);
        this.setPoint(2, E81.p2["0" >> 32] - c7K, E81.p2[1] - L5M, Z7C.chart);
        this.render(P1P);
      } else if (E81.action == o$n) {
        this[E81.point] = [H8Z, B0x];
        this.setPoint(0, this.p0["0" | 0], this.p0[1], Z7C.chart);
        this.setPoint(1, this.p1[0], this.p1[1], Z7C.chart);
        this.setPoint(2, this.p2[0], this.p2[1], Z7C.chart);
        this.render(P1P);
      }
    };

    e5.Drawing.fibprojection.prototype.intersected = function (Y5H, z3b, r8s) {
      var B7W, J56, l1T, q14, R_D, X66, I5Q, Z2t;
      B7W = this.p0;
      J56 = this.p1;
      l1T = this.p2;

      if (!B7W || !J56 || !l1T) {
        return null;
      }

      q14 = {
        0: B7W,
        1: J56,
        2: l1T
      };

      for (var R9f in q14) {
        if (this.pointIntersection(q14[R9f][0], q14[R9f]["1" * 1], r8s)) {
          R_D = "d";
          R_D += "r";
          R_D += "ag";
          g9BGt.X$L(1);
          this.highlighted = g9BGt.t1w((739.81, 5353) > (6720, 9080) ? (6150, +"305") < 1302 ? ("3715" - 0, 8220) != ("4800" * 1, 634.46) ? "c" : ![] : +"605.29" : "p", R9f);
          return {
            action: R_D,
            point: (4899 != (363.81, +"2080") ?  false ? (undefined) : (3030, 636.1) != "3799" - 0 ? "p" : ("J", "t") : (0x28d, !!1)) + R9f
          };
        }
      }

      X66 = this.rays;
      I5Q = this.lineIntersection(Y5H, z3b, r8s, "segment", B7W, J56) || this.lineIntersection(Y5H, z3b, r8s, "segment", J56, l1T);

      if (!I5Q) {
        for (var q4V = 0; q4V < X66.length; q4V++) {
          if (this.lineIntersection(Y5H, z3b, r8s, "ray", X66[q4V][0], X66[q4V][1], !0)) {
            I5Q = !!1;
            break;
          }
        }
      }

      if (I5Q) {
        Z2t = "mov";
        Z2t += "e";
        this.highlighted = !"";
        return {
          action: Z2t,
          p0: e5.clone(B7W),
          p1: e5.clone(J56),
          p2: e5.clone(l1T),
          tick: Y5H,
          value: z3b
        };
      }

      return null;
    };

    e5.Drawing.fibprojection.prototype.adjust = function () {
      var I19;
      I19 = this.stx.panels[this.panelName];

      if (!I19) {
        return;
      }

      this.setPoint(0, this.d0, this.v0, I19.chart);
      this.setPoint(1, this.d1, this.v1, I19.chart);
      this.setPoint(2, this.d2, this.v2, I19.chart);
    };

    e5.Drawing.fibarc = function () {
      var K$O;
      g9BGt.c7b();
      K$O = "fi";
      K$O += "b";
      K$O += "arc";
      this.name = K$O;
      ;
    };

    e5.inheritsFrom(e5.Drawing.fibarc, e5.Drawing.fibonacci);
    e5.Drawing.fibarc.prototype.recommendedLevels = [+"0.382", 0.5, 0.618, 1];

    e5.Drawing.fibarc.prototype.setOuter = function () {
      var i1Q, n$y, r3v, q8w, z2z, y_W, Z2K;
      i1Q = this.stx.panels[this.panelName];

      if (!i1Q) {
        return;
      }

      this.outer = {
        p0: e5.clone(this.p0),
        p1: e5.clone(this.p1)
      };
      n$y = this.stx.pixelFromValueAdjusted(i1Q, this.p0[0], this.p0[1]);
      r3v = this.stx.pixelFromValueAdjusted(i1Q, this.p1[+"0"], this.p1[+"1"]);
      q8w = this.stx.pixelFromTick(this.p0[0], i1Q.chart);
      z2z = this.stx.pixelFromTick(this.p1["0" | 0], i1Q.chart);
      g9BGt.X$L(69);
      y_W = g9BGt.D8z(0, r3v, n$y, "2");
      Z2K = e5.xIntersection({
        x0: q8w,
        x1: z2z,
        y0: n$y,
        y1: r3v
      }, y_W);
      this.outer.p0[1] = this.stx.valueFromPixel(y_W, i1Q);
      this.outer.p0[+"0"] = this.stx.tickFromPixel(Z2K, i1Q.chart);
    };

    e5.Drawing.fibarc.prototype.intersected = function (s$d, b9N, h6D) {
      var J_W, w5q, j_T, t2N, h4c, Y6s, K8u, N_J, r$c, B83, B9i;
      J_W = "m";
      J_W += "o";
      J_W += "v";
      J_W += "e";
      w5q = this.stx.panels[this.panelName];

      if (!w5q) {
        return;
      }

      j_T = this.p0;
      t2N = this.p1;
      h4c = this.outer;

      if (!j_T || !t2N) {
        return null;
      }

      Y6s = {
        0: j_T,
        1: t2N
      };

      for (var v6x in Y6s) {
        if (this.pointIntersection(Y6s[v6x][0], Y6s[v6x][1], h6D)) {
          g9BGt.X$L(1);
          this.highlighted = g9BGt.D8z(684.38 <= +"6580" ? +"399.24" < 6320 ? "p" : ("259.97" * 1, "C") : 792.96, v6x);
          return {
            action: "drag",
            point: "p" + v6x
          };
        }
      }

      if (this.lineIntersection(s$d, b9N, h6D, "segment", h4c.p0, h4c.p1)) {
        this.highlighted = !![];
        return {
          action: "move",
          p0: e5.clone(j_T),
          p1: e5.clone(t2N),
          tick: s$d,
          value: b9N
        };
      }

      K8u = {
        x0: j_T[0],
        x1: t2N[0],
        y0: j_T[1],
        y1: t2N[1]
      };
      N_J = e5.convertBoxToPixels(this.stx, this.panelName, K8u);
      r$c = {
        x: Math.abs(Math.sqrt(2) * (N_J.x1 - N_J.x0)),
        y: Math.abs(Math.sqrt(2) * (N_J.y1 - N_J.y0))
      };
      B83 = this.stx.pixelFromTick(s$d, w5q.chart);
      B9i = this.stx.pixelFromValueAdjusted(w5q, s$d, b9N);

      if (B83 + h6D.r < N_J.x1 - r$c.x || B83 - h6D.r > N_J.x1 + r$c.x) {
        return null;
      }

      if (B9i + h6D.r < N_J.y1 - r$c.y || B9i - h6D.r > N_J.y1 + r$c.y) {
        return null;
      }

      if (N_J.y0 < N_J.y1 && B9i - h6D.r > N_J.y1) {
        return null;
      }

      if (N_J.y0 > N_J.y1 && B9i + h6D.r < N_J.y1) {
        return null;
      }

      this.highlighted = !!"1";
      return {
        action: J_W,
        p0: e5.clone(this.p0),
        p1: e5.clone(this.p1),
        tick: s$d,
        value: b9N
      };
    };

    e5.Drawing.fibarc.prototype.render = function (u46) {
      var R_e = g9BGt;
      var Z3_, r4n, U_U, w51, w2T, S4a, p95, t4x, V_z, v1l, k11, E4$, P4R, j0g, Y_8, y$G, n4N, f8$, O0G, U0G, G56, Q9X, M$0, E8D;
      Z3_ = "segm";
      R_e.Z_e();
      Z3_ += "e";
      Z3_ += "nt";
      r4n = this.stx.panels[this.panelName];

      if (!r4n) {
        return;
      }

      U_U = r4n.yAxis;

      if (!this.p1) {
        return;
      }

      w51 = this.stx.pixelFromTick(this.p0[0], r4n.chart);
      w2T = this.stx.pixelFromTick(this.p1[0], r4n.chart);
      S4a = this.stx.pixelFromValueAdjusted(r4n, this.p0[0], this.p0[1]);
      p95 = this.stx.pixelFromValueAdjusted(r4n, this.p1["0" | 0], this.p1[1]);
      R_e.X$L(70);
      t4x = R_e.D8z(p95, S4a);
      R_e.X$L(71);
      V_z = Math.abs(R_e.t1w(S4a, w51, w2T, p95));
      v1l = this.getLineColor(this.parameters.trend.color);
      u46.textBaseline = "middle";
      this.stx.canvasFont("stx_yaxis", u46);
      k11 = this.color;

      if (k11 == "auto" || e5.isTransparent(k11)) {
        k11 = this.stx.defaultColor;
      }

      for (var Y5L = "0" ^ 0; Y5L < this.parameters.fibs.length; Y5L++) {
        u46.fillStyle = k11;
        E4$ = this.parameters.fibs[Y5L];
        if (E4$.level < 0 || !E4$.display) continue;
        R_e.O90(49);
        var f4b = R_e.D8z(2, 9, 0, 16);
        R_e.O90(50);
        var v47 = R_e.D8z(14, 16);
        P4R = Math.abs(this.p1["1" ^ 0] - this.p0[f4b]) * Math.sqrt(v47) * E4$.level;
        R_e.X$L(2);
        var f5u = R_e.D8z(0, 1, 7, 7);
        R_e.X$L(72);
        var Q47 = R_e.t1w(12, 5, 4, 2);
        R_e.X$L(49);
        var W5m = R_e.t1w(19, 2, 0, 19);
        R_e.X$L(73);
        var I0Z = R_e.t1w(83, 9, 12, 6, 10);
        R_e.X$L(74);
        var y0l = R_e.t1w(6, 5, 19, 7);
        j0g = this.p1[f5u] + P4R * (t4x ? Q47 : W5m) * (U_U.flipped ? I0Z : y0l);
        Y_8 = this.stx.pixelFromValueAdjusted(r4n, this.p0[0], j0g);
        y$G = e5.xIntersection({
          x0: w51,
          x1: w2T,
          y0: S4a,
          y1: p95
        }, Y_8);

        if (this.parameters.printLevels) {
          n4N = "ce";
          n4N += "n";
          n4N += "te";
          n4N += "r";
          u46.textAlign = n4N;
          R_e.X$L(68);
          var B0h = R_e.D8z(3, 2, 1002, 3);
          R_e.X$L(57);
          var a0w = R_e.D8z(40, 2, 10);
          f8$ = Math.round(E4$.level * B0h) / a0w + "%";

          if (this.parameters.printValues) {
            u46.fillStyle = k11;
            this.stx.canvasFont("stx_yaxis", u46);
            ;
          }

          u46.fillText(f8$, w2T, Math.round(Y_8 - 5));
        }

        u46.textAlign = "left";

        if (this.parameters.printValues) {
          if (y$G < r4n.width) {
            O0G = j0g;

            if (U_U.priceFormatter) {
              O0G = U_U.priceFormatter(this.stx, r4n, O0G);
            } else {
              O0G = this.stx.formatYAxisPrice(O0G, r4n);
            }

            if (u46 == this.stx.chart.context) {
              this.stx.endClip();
            }

            this.stx.createYAxisLabel(r4n, O0G, Y_8, k11, null, u46);

            if (u46 == this.stx.chart.context) {
              this.stx.startClip(r4n.name);
            }
          }
        }

        U0G = E4$.color;

        if (U0G == "auto" || e5.isTransparent(U0G)) {
          U0G = this.color;
        }

        if (U0G == "auto" || e5.isTransparent(U0G)) {
          U0G = this.stx.defaultColor;
        }

        u46.strokeStyle = this.highlight ? v1l : U0G;
        G56 = E4$.color;

        if (G56 == "auto" || e5.isTransparent(G56)) {
          G56 = this.fillColor;
        }

        if (G56 == "auto" || e5.isTransparent(G56)) {
          G56 = this.stx.defaultColor;
        }

        u46.fillStyle = G56;
        u46.globalAlpha = this.highlighted ? 1 : E4$.parameters.opacity;
        u46.lineWidth = E4$.parameters.lineWidth;

        if (u46.setLineDash) {
          u46.setLineDash(e5.borderPatternToArray(u46.lineWidth, E4$.parameters.pattern));
          u46.lineDashOffset = 0;
          ;
        }

        u46.save();
        u46.beginPath();
        R_e.X$L(75);
        u46.scale(R_e.D8z(V_z, "1"), 1);
        R_e.O90(8);
        u46.arc(R_e.t1w(V_z, w2T), p95, Math.abs(Y_8 - p95), 0, Math.PI, !t4x);

        if (this.pattern != "none") {
          u46.stroke();
        }

        u46.globalAlpha = 0.05;
        u46.fill();
        u46.restore();

        if (u46.setLineDash) {
          u46.setLineDash([]);
        }

        R_e.X$L(3);
        u46.globalAlpha = R_e.D8z(0, "1");
      }

      u46.textAlign = "left";
      Q9X = e5.clone(this.parameters.trend.parameters);

      if (this.highlighted) {
        Q9X.opacity = +"1";
      }

      R_e.O90(38);
      this.stx.plotLine(w2T, R_e.t1w(w51, w2T, 2), p95, R_e.D8z(S4a, p95, 2), v1l, Z3_, u46, r4n, Q9X);

      if (this.highlighted) {
        M$0 = this.highlighted == "p0" ? !![] : !{};
        E8D = this.highlighted == "p1" ? !!1 : ![];
        this.littleCircle(u46, w51, S4a, M$0);
        this.littleCircle(u46, w2T, p95, E8D);
      }
    };

    e5.Drawing.fibfan = function () {
      var M_O;
      M_O = "f";
      M_O += "i";
      M_O += "bfan";
      this.name = M_O;
      g9BGt.Z_e();
      ;
    };

    e5.inheritsFrom(e5.Drawing.fibfan, e5.Drawing.fibonacci);
    e5.Drawing.fibfan.prototype.recommendedLevels = [0, 0.382, +"0.5", 0.618, +"1"];

    e5.Drawing.fibfan.prototype.setOuter = function () {};

    e5.Drawing.fibfan.prototype.render = function (m9J) {
      var F0F = g9BGt;
      var s6Z, M39, B8Z, d__, t0K, X7d, r4V, z_m, L0X, L18, n3m, N5p, O8b, E8c, l79, b2e, Z6W, b6i, P4v, i2I, v2L, b5g, e2j, f9U, c__, J8s, U54, l6h, T$o, u7h, f_K;
      s6Z = "aut";
      s6Z += "o";
      M39 = "1";
      M39 += "61";
      F0F.c7b();
      M39 += ".";
      M39 += "8%";
      B8Z = this.stx.panels[this.panelName];

      if (!B8Z) {
        return;
      }

      d__ = B8Z.yAxis;

      if (!this.p1) {
        return;
      }

      t0K = this.stx.pixelFromTick(this.p0[0], B8Z.chart);
      X7d = this.stx.pixelFromTick(this.p1["0" * 1], B8Z.chart);
      r4V = this.stx.pixelFromValueAdjusted(B8Z, this.p0["0" | 0], this.p0[1]);
      z_m = this.stx.pixelFromValueAdjusted(B8Z, this.p1[0], this.p1[1]);
      L0X = Math.min(z_m, r4V);
      L18 = Math.max(z_m, r4V);
      F0F.O90(7);
      n3m = F0F.t1w(L0X, L18);
      F0F.O90(59);
      N5p = F0F.D8z(r4V, z_m, 0, t0K, X7d);
      O8b = this.getLineColor(this.parameters.trend.color);
      m9J.textBaseline = "middle";
      this.stx.canvasFont("stx_yaxis", m9J);
      F0F.X$L(67);
      var E92 = F0F.t1w(312, 20, 3, 14);
      E8c = m9J.measureText(M39).width + E92;
      l79 = Number.MAX_VALUE;
      b2e = Number.MAX_VALUE * -+"1";
      Z6W = this.color;

      if (Z6W == s6Z || e5.isTransparent(Z6W)) {
        Z6W = this.stx.defaultColor;
      }

      this.rays = [];

      for (var F06 = 0; F06 < this.parameters.fibs.length; F06++) {
        b6i = "segme";
        b6i += "nt";
        m9J.fillStyle = Z6W;
        P4v = this.parameters.fibs[F06];
        if (!P4v.display) continue;
        i2I = this.stx.pixelFromValueAdjusted(B8Z, this.p0[0], (this.p0[1] - this.p1[+"1"]) * P4v.level + this.p1[1]);
        v2L = e5.xIntersection({
          x0: X7d,
          x1: X7d,
          y0: r4V,
          y1: z_m
        }, i2I);
        b5g = B8Z.left;

        if (X7d > t0K) {
          b5g += B8Z.width;
        }

        F0F.O90(76);
        e2j = F0F.D8z(r4V, b5g, t0K, r4V, t0K, i2I, v2L);
        if (t0K > b5g - (this.parameters.printLevels ? E8c + 5 : 0) && X7d > t0K) continue;else if (t0K < b5g + (this.parameters.printLevels ? E8c + 5 : 0) && X7d < t0K) continue;

        if (this.parameters.printLevels) {
          F0F.X$L(66);
          var D7E = F0F.D8z(5, 6, 128, 320);
          F0F.X$L(38);
          var I44 = F0F.D8z(18, 710, 40);
          F0F.X$L(77);
          var j0Q = F0F.D8z(4530, 453, 1500);
          F0F.O90(1);
          var K4Z = F0F.t1w(7749, 11);
          f9U = Math.round(P4v.level * ("1000" | D7E)) / I44 + ((+"7457", 9.96) < j0Q ? "%" : ("U", K4Z));

          if (X7d > t0K) {
            b5g -= E8c;
            m9J.textAlign = "left";
          } else {
            b5g += E8c;
            m9J.textAlign = "right";
          }

          if (this.parameters.printValues) {
            m9J.fillStyle = Z6W;
            this.stx.canvasFont("stx_yaxis", m9J);
            ;
          }

          F0F.O90(76);
          e2j = F0F.t1w(r4V, b5g, t0K, r4V, t0K, i2I, v2L);
          m9J.fillText(f9U, b5g, e2j);

          if (X7d > t0K) {
            F0F.O90(8);
            b5g -= F0F.t1w(1, "5");
          } else {
            b5g += 5;
          }
        }

        m9J.textAlign = "left";

        if (this.parameters.printValues) {
          if (v2L < B8Z.width) {
            c__ = this.stx.transformedPriceFromPixel(i2I, B8Z);

            if (d__.priceFormatter) {
              c__ = d__.priceFormatter(this.stx, B8Z, c__);
            } else {
              c__ = this.stx.formatYAxisPrice(c__, B8Z);
            }

            if (m9J == this.stx.chart.context) {
              this.stx.endClip();
            }

            this.stx.createYAxisLabel(B8Z, c__, i2I, Z6W, null, m9J);

            if (m9J == this.stx.chart.context) {
              this.stx.startClip(B8Z.name);
            }
          }
        }

        J8s = P4v.color;

        if (J8s == "auto" || e5.isTransparent(J8s)) {
          J8s = this.color;
        }

        if (J8s == "auto" || e5.isTransparent(J8s)) {
          J8s = this.stx.defaultColor;
        }

        U54 = P4v.color;

        if (U54 == "auto" || e5.isTransparent(U54)) {
          U54 = this.fillColor;
        }

        if (U54 == "auto" || e5.isTransparent(U54)) {
          U54 = this.stx.defaultColor;
        }

        m9J.fillStyle = U54;

        if (this.parameters.printLevels) {
          F0F.X$L(76);
          e2j = F0F.D8z(r4V, b5g, t0K, r4V, t0K, i2I, v2L);
        }

        l6h = e5.clone(P4v.parameters);

        if (this.highlighted) {
          l6h.opacity = 1;
        }

        this.stx.plotLine(t0K, b5g, r4V, e2j, this.highlighted ? O8b : J8s, b6i, m9J, B8Z, l6h);
        this.rays.push([[t0K, r4V], [b5g, e2j]]);
        m9J.globalAlpha = 0.05;
        m9J.beginPath();
        m9J.moveTo(b5g, e2j);
        m9J.lineTo(t0K, r4V);
        m9J.lineTo(b5g, r4V);
        m9J.fill();
        m9J.globalAlpha = 1;

        if (i2I < l79) {
          l79 = i2I;
        }

        if (i2I > b2e) {
          b2e = i2I;
        }
      }

      for (var f0I = 0; f0I <= 1; f0I++) {
        T$o = N5p ? L18 - n3m * f0I : L0X + n3m * f0I;
        T$o = Math.round(T$o);

        if (T$o < l79) {
          l79 = T$o;
        }

        if (T$o > b2e) {
          b2e = T$o;
        }
      }

      if (this.highlighted) {
        u7h = this.highlighted == "p0" ? !0 : ![];
        f_K = this.highlighted == "p1" ? !!"1" : !!"";
        this.littleCircle(m9J, t0K, r4V, u7h);
        this.littleCircle(m9J, X7d, z_m, f_K);
      }
    };

    e5.Drawing.fibtimezone = function () {
      this.name = "fibtimezone";
      g9BGt.c7b();
      ;
    };

    e5.inheritsFrom(e5.Drawing.fibtimezone, e5.Drawing.fibonacci);

    e5.Drawing.fibtimezone.prototype.render = function (y92) {
      var u9l = g9BGt;
      var I7d, N5s, T1B, e0$, c7k, O8n, j5_, C$U, L9I, w8P, R6U, z7I, m6w, J$Z, c$A, B3z, A3C, M53, H7T, W9b, R4o;
      I7d = this.stx.panels[this.panelName];

      if (!I7d) {
        return;
      }

      if (!this.p1) {
        return;
      }

      N5s = this.stx.pixelFromTick(this.p0[+"0"], I7d.chart);
      T1B = this.stx.pixelFromTick(this.p1[+"0"], I7d.chart);
      e0$ = this.stx.pixelFromValueAdjusted(I7d, this.p0[0], this.p0[1]);
      c7k = this.stx.pixelFromValueAdjusted(I7d, this.p1[0], this.p1[1]);
      O8n = [+"1", 0];
      j5_ = this.getLineColor(this.parameters.trend.color);
      y92.textBaseline = "middle";
      this.stx.canvasFont("stx_yaxis", y92);
      C$U = 20;
      L9I = this.p1[0] - this.p0[0];
      w8P = this.color;

      if (w8P == "auto" || e5.isTransparent(w8P)) {
        w8P = this.stx.defaultColor;
      }

      y92.textAlign = "center";
      R6U = N5s;
      z7I = I7d.yAxis.top;
      m6w = I7d.yAxis.bottom;
      J$Z = 0;
      c$A = this.parameters.timezone.color;

      if (c$A == "auto" || e5.isTransparent(c$A)) {
        c$A = this.color;
      }

      if (c$A == "auto" || e5.isTransparent(c$A)) {
        c$A = this.stx.defaultColor;
      }

      B3z = this.parameters.timezone.color;

      if (B3z == "auto" || e5.isTransparent(B3z)) {
        B3z = this.fillColor;
      }

      if (B3z == "auto" || e5.isTransparent(B3z)) {
        B3z = this.stx.defaultColor;
      }

      if (this.parameters.printLevels) {
        u9l.X$L(33);
        m6w -= u9l.D8z(C$U, 0, "7");
      }

      A3C = e5.clone(this.parameters.timezone.parameters);

      if (this.highlighted) {
        A3C.opacity = 1;
      }

      do {
        M53 = "segmen";
        M53 += "t";
        R6U = this.stx.pixelFromTick(this.p0[+"0"] + J$Z * L9I, I7d.chart);
        if (N5s < T1B && R6U > I7d.left + I7d.width) break;else if (N5s > T1B && R6U < I7d.left) break;

        if (this.parameters.printLevels) {
          y92.fillStyle = w8P;
          y92.fillText(T1B > N5s ? J$Z : J$Z * -1, R6U, m6w + 7);
        }

        y92.fillStyle = B3z;
        this.stx.plotLine(R6U, R6U, 0, m6w, this.highlighted ? j5_ : c$A, M53, y92, I7d, A3C);
        y92.globalAlpha = 0.05;
        y92.beginPath();
        y92.moveTo(N5s, z7I);
        y92.lineTo(R6U, z7I);
        y92.lineTo(R6U, m6w);
        y92.lineTo(N5s, m6w);
        y92.fill();
        y92.globalAlpha = 1;
        J$Z = O8n[0] + O8n["1" >> 0];
        O8n.unshift(J$Z);
      } while (L9I);

      y92.textAlign = "left";
      this.stx.plotLine(N5s, T1B, e0$, c7k, j5_, "segment", y92, I7d, A3C);

      if (this.highlighted) {
        H7T = this.highlighted == "p0" ? !!"1" : ![];
        W9b = this.highlighted == "p1" ? !![] : !{};
        this.littleCircle(y92, N5s, e0$, H7T);
        this.littleCircle(y92, T1B, c7k, W9b);
      } else {
        R4o = this.stx.valueFromPixel(I7d.height / +"2", I7d);
        this.setPoint(0, this.p0[0], R4o, I7d.chart);
        u9l.O90(8);
        this.setPoint(u9l.t1w(1, "1"), this.p1[0], R4o, I7d.chart);
      }
    };

    e5.Drawing.fibtimezone.prototype.intersected = function (K6w, n6j, j$Z) {
      var c0K, W1V, x4L, q5J, e2a;
      c0K = this.p0;
      W1V = this.p1;
      x4L = this.stx.panels[this.panelName];

      if (!c0K || !W1V || !x4L) {
        return null;
      }

      q5J = {
        0: c0K,
        1: W1V
      };

      for (var k_$ in q5J) {
        if (this.pointIntersection(q5J[k_$][0], q5J[k_$][1], j$Z)) {
          g9BGt.X$L(1);
          this.highlighted = g9BGt.D8z((6090, +"400.42") == ("7637" | 21) ? (6987, 9030) >= (2480, 4289) ? (+"493.06", 8278) === 8350 ? (4.67e+3, 6.67e+3) : 733.47 : !{} : "p", k_$);
          return {
            action: "drag",
            point: "p" + k_$
          };
        }
      }

      e2a = this.lineIntersection(K6w, n6j, j$Z, "segment");

      if (e2a || j$Z.x0 <= this.p0[0] && j$Z.x1 >= c0K[0]) {
        this.highlighted = !!"1";
        return {
          action: "move",
          p0: e5.clone(c0K),
          p1: e5.clone(W1V),
          tick: K6w,
          value: n6j
        };
      }

      g9BGt.Z_e();
      return null;
    };

    e5.Drawing.arrow_v0 = function () {
      g9BGt.Z_e();
      var z7l;
      z7l = "a";
      z7l += "rr";
      z7l += "o";
      z7l += "w";
      this.name = z7l;
      this.dimension = [11, 11];
      this.points = [[(877.99, 2110) < 3761 ? 514.52 > 895.91 ? "J" : (+"817.5", 7670) !== 4250 ? "M" : 0x2115 : 708.93, 3, 0, (4620, 2130) <= 9020 ? "L" : ("V", "X"), 7, 0, 8950 < (944.06, 3286) ? 383.68 : "L", 7, 5, (2359, +"6458") <= 6090 ?  false ? undefined : 2896 > 8832 ? (!0, !!"1") : !"1" : "L", 10, 5, (9790, 308.33) <= (5126, 5349) ? (588.34, 4198) === 7991 ? (8.57e+3, 2.61e+2) : ("2152" - 0, 4393) >= (5182, 1424) ? "L" : "P" : (693.14, 919.64), +"5", 10, 7790 < "8150" - 0 ? (381, "9525" * 1) > ("6980" >> 96, 786.03) ? (+"1150", +"8000") == (9950, 8350) ? (721, !!{}) : "L" : (!0, 9.82e+3) : !![], 0, 5, ("6013" - 0, 297) <= 5470 ? "L" : (577.70, "k"), 3, +"5", 9710 == (291.69, 2400) ? !{} : ("8300" * 1, 2206) !== 3931 ? "26" * 1 == ("441.72" - 0, 1235) ? 509.12 : "L" : ("G", "0x184b" - 0), 3, 0]];
    };

    e5.inheritsFrom(e5.Drawing.arrow_v0, e5.Drawing.shape);

    e5.Drawing.xcross = function () {
      var Z5C = g9BGt;
      this.name = "xcross";
      this.dimension = [7, 7];
      Z5C.O90(7);
      this.points = [[446.46 == (599, "380.97" - 0) ? (296.83, 862.70) : (3, 8760) !== (4650, 5701) ? "M" : 852.71 === +"5810" ? +"934" : (!!0, "S"), 1, 0, "L", 3, 2, (2407, 5894) == (+"837", 3590) ? 6.54e+2 : 506 !== (5571, 38.2) ? "L" : "39.64" - 0 <= 7947 ? 0x6be : !!{}, 5, +"0", "L", 6, 1, "L", 4, Z5C.t1w(0, "3"), "L", 6, 5, "L", +"5", 6,  true ? "L" : (undefined), +"3", 4, 3147 > (342.78, 7120) ? 5780 > 534 ? (8.76e+2, !![]) : !1 : "L", 1, 6,  true ? "L" : undefined, +"0", 5, "57.71" - 0 <= 3550 ?  true ? "L" : undefined : "326.85" - 0, Z5C.t1w(0, "2", Z5C.O90(3)), 3, 3738 > 6772 ? (!"1", !0) : "L", 0, 1, (619.51, 944.14) !== 91 ? "L" : (7300, 7370) >= +"868.49" ? (973, 1490) < (+"544.32", 206) ? !!1 : (112, 0xec7) : "R", 1, 0]];
      ;
    };

    e5.inheritsFrom(e5.Drawing.xcross, e5.Drawing.shape);

    e5.Drawing.check = function () {
      this.name = "check";
      this.dimension = [8, 9];
      g9BGt.O90(8);
      this.points = [["M", 1, 5, 66.67 > 4329 ? (247.17, 3449) != (8022, 927.74) ? (!{}, 0xce4) : (2.24e+3, 977.16) : "L", 0, 6, "L", g9BGt.t1w(1, "2"), 8, "L", 7, 1, (542.6, 354) <= 796.51 ? 5867 === "714.83" * 1 ? (6810, 6798) !== 307 ? ("N", 274.85) : (+"0x265e", 940.51) : "L" : ("B", "o"), 6, 0, 2110 >= 4400 ? 639.19 : "L", 2, 6, "L", 1, 5]];
      ;
    };

    e5.inheritsFrom(e5.Drawing.check, e5.Drawing.shape);

    e5.Drawing.star = function () {
      var x0f = g9BGt;
      this.name = "star";
      this.dimension = [12, 12];
      x0f.O90(35);
      x0f.Z_e();
      this.points = [["13.97" * 1 < (5256, "7570" | 2) ? (9584, 1515) == +"6492" ? "c" : "M" : (!"1", 0x83c), 0, 4, "L", 4, 4, 9356 >= 7855 ? "L" : (!![], 847.70), 5.5, 0, (228, 4890) !== (+"17.15", 1212) ? 141.23 >= (5722, 29) ? "L" : +"6.03e+3" : 0x1f9b, 7, 4, (1220, 9700) < 1070 ? !{} : "L", 11, +"4",  true ? "L" : undefined, 8, 7, "L", x0f.D8z(32, "9"), 11, (6525, 5858) > (2150, 9965) ? (196.88, ![]) : "333.67" - 0 == (7850, 5461) ? (!"1", "e") :  false ? (undefined) : "L", +"5.5", 9, (3040, 192) >= (4200, 9532) ? (3060, +"1031") < (885, 645.89) ? 0x77b : "Q" : "L", 2, x0f.D8z("11", 10, x0f.X$L(0)), "L", 3, 7, (80.58, 3110) != (6600, +"374.84") ? "L" : "L", +"0", 4]];
      ;
    };

    e5.inheritsFrom(e5.Drawing.star, e5.Drawing.shape);

    e5.Drawing.heart = function () {
      var K2o = g9BGt;
      this.name = "heart";
      K2o.O90(3);
      K2o.c7b();
      this.dimension = [23, K2o.t1w(0, "20")];
      K2o.O90(7);
      this.points = [[ false ? (undefined) : "M", +"11", +"3", "628.24" - 0 == 1320 ? ("M", "b") : ("8317" << 64, +"2010") == (6705, +"924") ? 0xced : "B", 11, 2.4, 10, 0, 6, 0, 1535 >= ("364.9" * 1, 8.45) ? (7200, 6842) != 506.09 ? "B" : 4156 > 428 ? 0x2619 : (![], "0xf34" >> 0) : +"7.24e+3", 0, 0, +"0", 7.5, 0, 7.5,  true ? 6800 > 7660 ? (0x1334, 1.72e+3) : "B" : (undefined), 0, 11, 4, 15.4, 11, 19, "B", 18, 15.4, 22, 11, 22, 7.5, "7274" - 0 < (9110, 2890) ? 3155 !== (6669, "3866" * 1) ? (8553, 350.69) != (7584, 7600) ? !!1 : 100 : 0x18cf : "B", K2o.t1w(0, "22"), 7.5, 22, 0, 16, 0, 5381 > 172.3 ? "B" : (0x4ec, 267.21), 13, 0, 11, +"2.4", 11, 3]];
      ;
    };

    e5.inheritsFrom(e5.Drawing.heart, e5.Drawing.shape);

    e5.Drawing.focusarrow = function () {
      var n3f;
      n3f = "foc";
      n3f += "usa";
      n3f += "rr";
      n3f += "ow";
      this.name = n3f;
      this.dimension = [7, 5];
      this.points = [[(678.92, 774) != 126.7 ? "M" : 2740 >= (8341, 6468) ? (+"2.63e+3", 0x12e2) : (8470, 417.84) === (2925, 2170) ? "j" : (464.51, 0x1ebc), 0, 0,  true ? (5460, 284.45) < 841 ? "L" : ("0x1eb6" << 64, !1) : undefined, 2, 2, (1568, 1347) === (7555, 640) ? ("361.43" - 0, 4439) != 3033 ? (274.21, 25.79) == (2400, 7830) ? "635.39" - 0 : (0x2384, !0) : !![] : "L", 0, 4, (9353, 8070) !== (3910, 6810) ? (984.32, 2070) >= 9960 ? 0x8ad : "L" : ![], 0, 0], [+"2405" != (2703, 751.98) ? "M" : 14 <= 332.7 ? (!!{}, "9.64e+3" >> 64) : (![], 0x1d82), 6, 0, (211.09, +"782.32") < 899.92 ? "L" : ("H", "105.26" * 1), 4, 2, 9353 <= 6810 ? (!"", !"1") : (+"425.85", 7380) == (2320, 3406) ? (1.23e+2, 812.37) : "L", 6, 4, ("3999" * 1, 538) != (497.62, 519.78) ? "L" : (666.15, 5950) < (793, 5460) ? (726.31, 0x112e) : 753.15, 6, 0]];
      ;
    };

    e5.inheritsFrom(e5.Drawing.focusarrow, e5.Drawing.shape);

    e5.Drawing.crossline = function () {
      this.name = "crossline";
    };

    e5.inheritsFrom(e5.Drawing.crossline, e5.Drawing.horizontal);
    e5.extend(e5.Drawing.crossline.prototype, {
      measure: function measure() {},
      accidentalClick: function accidentalClick(z43, d8i) {
        g9BGt.c7b();
        return !1;
      },
      adjust: function adjust() {
        var z0L;
        z0L = this.stx.panels[this.panelName];

        if (!z0L) {
          return;
        }

        this.setPoint(0, this.d0, this.v0, z0L.chart);
        this.p1 = e5.clone(this.p0);
      },
      intersected: function intersected(Y33, A46, P_f) {
        var l69, L$h, n2k, e61, u1G, s3L;

        if (!this.p0 || !this.p1) {
          return null;
        }

        this.p1[0] += 1;
        l69 = this.lineIntersection(Y33, A46, P_f, "line");
        this.p1 = e5.clone(this.p0);

        if (!l69) {
          L$h = "l";
          L$h += "ine";
          this.p1[1] += +"1";
          l69 = this.lineIntersection(Y33, A46, P_f, L$h);
          this.p1 = e5.clone(this.p0);

          if (!l69) {
            return null;
          }
        }

        this.highlighted = !!1;

        if (this.pointIntersection(this.p0[0], this.p0[1], P_f)) {
          n2k = "p";
          n2k += "0";
          e61 = 1534396721;
          u1G = -+"2061433582";
          s3L = 2;

          for (var g9i = 1; g9BGt.l9L(g9i.toString(), g9i.toString().length, +"23779") !== e61; g9i++) {
            this.highlighted = "";
            s3L += +"2";
          }

          if (g9BGt.i7j(s3L.toString(), s3L.toString().length, +"48878") !== u1G) {
            this.highlighted = "";
          }

          this.highlighted = n2k;
        }

        return {
          action: "move",
          p0: e5.clone(this.p0),
          p1: e5.clone(this.p1),
          tick: Y33,
          value: A46
        };
      },
      render: function render(h4t) {
        var b8Q = g9BGt;
        var z_$, U2A, V4i, X4X, P5q, r3O, g9v, i4c, N0L, m45, y1U, K__, n8x, v_o, i_v, H6l, y1_;
        b8Q.c7b();
        z_$ = "hori";
        z_$ += "zon";
        z_$ += "tal";
        U2A = this.stx.panels[this.panelName];

        if (!U2A) {
          return;
        }

        V4i = this.stx.pixelFromTick(this.p0[0], U2A.chart);
        X4X = this.stx.pixelFromValueAdjusted(U2A, this.p0[0], this.p0[1]);
        P5q = this.getLineColor();
        r3O = {
          pattern: this.pattern,
          lineWidth: this.lineWidth
        };
        b8Q.O90(78);
        this.stx.plotLine(V4i, b8Q.t1w(V4i, "100"), X4X, X4X, P5q, z_$, h4t, U2A, r3O);
        b8Q.O90(1);
        this.stx.plotLine(V4i, V4i, X4X, b8Q.t1w(X4X, 100), P5q, "vertical", h4t, U2A, r3O);

        if (this.axisLabel && !this.repositioner) {
          this.stx.endClip();
          g9v = this.p0[1];

          if (U2A.chart.transformFunc) {
            g9v = U2A.chart.transformFunc(this.stx, U2A.chart, g9v);
          }

          i4c = 780443048;
          b8Q.X$L(0);
          N0L = -b8Q.t1w("1766453124", 0);
          m45 = 2;

          for (var w68 = 1; b8Q.l9L(w68.toString(), w68.toString().length, 81756) !== i4c; w68++) {
            if (U2A.yAxis.priceFormatter) {
              g9v = U2A.yAxis.priceFormatter(this.stx, U2A, g9v);
            } else {
              g9v = this.stx.formatYAxisPrice(g9v, U2A);
            }

            this.stx.createYAxisLabel(U2A, g9v, X4X, P5q);
            this.stx.startClip(U2A.name);
            m45 += 2;
          }

          if (b8Q.l9L(m45.toString(), m45.toString().length, 92171) !== N0L) {
            if (U2A.yAxis.priceFormatter) {
              g9v = U2A.yAxis.priceFormatter(this.stx, U2A, g9v);
            } else {
              g9v = this.stx.formatYAxisPrice(g9v, U2A);
            }

            this.stx.createYAxisLabel(U2A, g9v, X4X, P5q);
            this.stx.startClip(U2A.name);
          }

          if (this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw) {
            y1U = this.stx.dateFromTick(this.p0[0], U2A.chart, !0);

            if (!e5.ChartEngine.isDailyInterval(this.stx.layout.interval)) {
              b8Q.O90(15);
              var l0U = b8Q.t1w(1007, 19, 12, 1);
              n8x = y1U.getSeconds() * l0U + y1U.getMilliseconds();

              if (E3.Date && this.stx.displayZone) {
                K__ = new E3.Date(y1U.getTime(), this.stx.displayZone);
                y1U = new Date(K__.getFullYear(), K__.getMonth(), K__.getDate(), K__.getHours(), K__.getMinutes());
                y1U = new Date(y1U.getTime() + n8x);
              }
            } else {
              y1U.setHours(0, 0, 0, 0);
            }

            v_o = e5.mmddhhmm(e5.yyyymmddhhmm(y1U));

            if (U2A.chart.xAxis.formatter) {
              v_o = U2A.chart.xAxis.formatter(y1U, this.name, null, null, v_o);
            } else if (this.stx.internationalizer) {
              if (y1U.getHours() !== 0 || y1U.getMinutes() !== 0) {
                i_v = this.stx.internationalizer.monthDay.format(y1U);
                b8Q.O90(5);
                var i_t = b8Q.t1w(5656, 25, 19);
                b8Q.O90(79);
                var n9d = b8Q.t1w(29933, 6, 2, 7, 16320);
                i_v += ((i_t, 7640) >= (432.09, 988.15) ? " " : (n9d, +"7720") >= 735.9 ? ![] : +"893.49") + this.stx.internationalizer.hourMinute.format(y1U);
              } else {
                i_v = this.stx.internationalizer.yearMonthDay.format(y1U);
              }

              v_o = i_v;
            }

            this.stx.endClip();
            this.stx.createXAxisLabel({
              panel: U2A,
              txt: v_o,
              x: V4i,
              backgroundColor: P5q,
              color: null,
              pointed: !![],
              padding: 2
            });
            this.stx.startClip(U2A.name);
          }
        }

        if (this.highlighted) {
          H6l = "p";
          H6l += "0";
          y1_ = this.highlighted == H6l ? !!"1" : !"1";
          this.littleCircle(h4t, V4i, X4X, y1_);
        }
      }
    }, !"");

    e5.Drawing.speedarc = function () {
      this.name = "speedarc";
      this.printLevels = !!"1";
    };

    e5.inheritsFrom(e5.Drawing.speedarc, e5.Drawing.segment);
    e5.extend(e5.Drawing.speedarc.prototype, {
      defaultOpacity: +"0.25",
      configs: ["color", "fillColor", "lineWidth", "pattern"],
      copyConfig: function copyConfig() {
        this.color = this.stx.currentVectorParameters.currentColor;
        this.fillColor = this.stx.currentVectorParameters.fillColor;
        this.lineWidth = this.stx.currentVectorParameters.lineWidth;
        this.pattern = this.stx.currentVectorParameters.pattern;
      },
      intersected: function intersected(f6H, d1d, v0T) {
        var J2$ = g9BGt;
        var v5t, b6w, g0b, N5c, I1Z, c9g, u5n, p1p, d0t, S89, l1w;
        v5t = "m";
        v5t += "ove";

        if (!this.p0 || !this.p1) {
          return null;
        }

        b6w = {
          0: this.p0,
          1: this.p1
        };

        for (var K_o in b6w) {
          if (this.pointIntersection(b6w[K_o][+"0"], b6w[K_o][1], v0T)) {
            J2$.X$L(1);
            this.highlighted = J2$.t1w("p", K_o);
            return {
              action: "drag",
              point: ((6680, +"6418") > ("7440" - 0, 4630) ? (1000, 7949) < (799, 9446) ?  true ? "p" : (undefined) : (318.91, "f") : ("O", 8.42e+3)) + K_o
            };
          }
        }

        g0b = this.lineIntersection(f6H, d1d, v0T, this.name);

        if (g0b) {
          this.highlighted = !0;
          N5c = -484368825;
          I1Z = -104993853;
          c9g = 2;

          for (var v3$ = "1" * 1; J2$.i7j(v3$.toString(), v3$.toString().length, "65824" ^ 0) !== N5c; v3$++) {
            u5n = "m";
            u5n += "ove";
            return {
              action: u5n,
              p0: e5.clone(this.p0),
              p1: e5.clone(this.p1),
              tick: f6H,
              value: d1d
            };
          }

          if (J2$.l9L(c9g.toString(), c9g.toString().length, 34420) !== I1Z) {
            return {
              action: "",
              p0: e5.clone(this.p0),
              p1: e5.clone(this.p1),
              tick: f6H,
              value: d1d
            };
          }
        }

        p1p = this.p1[0] - (this.p0[0] - this.p1[0]);
        d0t = this.p0[0];
        S89 = this.p1[1];
        J2$.X$L(35);
        J2$.Z_e();
        l1w = this.p0[J2$.t1w(0, "1")];

        if (f6H > Math.max(p1p, d0t) || f6H < Math.min(p1p, d0t)) {
          return null;
        }

        if (d1d > Math.max(l1w, S89) || d1d < Math.min(l1w, S89)) {
          return null;
        }

        this.highlighted = !0;
        return {
          action: v5t,
          p0: e5.clone(this.p0),
          p1: e5.clone(this.p1),
          tick: f6H,
          value: d1d
        };
      },
      render: function render(I8I) {
        var I5X = g9BGt;
        var g9P, B3L, l2d, A2v, K6X, y3J, C$y, f0d, c23, f_P, g9t, r$g, M2b, F9T, n5h, p3k, d3Q, s4p;
        g9P = "s";
        g9P += "egment";
        B3L = this.stx.panels[this.panelName];

        if (!B3L) {
          return;
        }

        if (!this.p1) {
          return;
        }

        l2d = this.stx.pixelFromTick(this.p0[0], B3L.chart);
        A2v = this.stx.pixelFromTick(this.p1[0], B3L.chart);
        K6X = this.stx.pixelFromValueAdjusted(B3L, this.p0[0], this.p0[1]);
        y3J = this.stx.pixelFromValueAdjusted(B3L, this.p1[0], this.p1[1]);
        I5X.O90(70);
        C$y = I5X.D8z(y3J, K6X);
        I5X.O90(71);
        f0d = Math.abs(I5X.D8z(K6X, l2d, A2v, y3J));
        c23 = this.getLineColor();
        I8I.strokeStyle = c23;
        f_P = this.fillColor;

        if (f_P == "auto" || e5.isTransparent(f_P)) {
          f_P = this.stx.defaultColor;
        }

        I8I.fillStyle = f_P;

        if (I8I.setLineDash) {
          I8I.setLineDash(e5.borderPatternToArray(this.lineWidth, this.pattern));
          I8I.lineDashOffset = 0;
          ;
        }

        this.stx.canvasFont("stx_yaxis", I8I);

        for (var x6u = +"1"; x6u < "3" * 1; x6u++) {
          I5X.O90(9);
          var J6q = I5X.t1w(19, 18, 0);
          I5X.X$L(7);
          var I_o = I5X.D8z(5, 6);
          I5X.X$L(80);
          var S6w = I5X.D8z(1, 20, 1, 4, 5);
          I5X.X$L(5);
          var Q5D = I5X.t1w(0, 3, 6);
          g9t = Math.abs(this.p1[J6q] - this.p0[I_o]) * Math.sqrt(S6w) * x6u / Q5D;
          I5X.O90(81);
          var Z3I = I5X.t1w(15, 7, 0, 9);
          I5X.O90(82);
          var V3$ = I5X.t1w(3, 12, 4, 6);
          I5X.X$L(83);
          var N9Y = I5X.t1w(6, 16, 10, 463, 13);
          I5X.O90(43);
          var c6J = I5X.D8z(107, 6, 0, 18);
          I5X.X$L(31);
          var R_5 = I5X.t1w(7, 162, 17, 10);
          r$g = this.p1[Z3I] + g9t * (C$y ? V3$ : N9Y) * (B3L.yAxis.flipped ? c6J : R_5);
          M2b = this.stx.pixelFromValueAdjusted(B3L, this.p0["0" | 0], r$g);
          I8I.save();
          I8I.beginPath();
          I5X.O90(23);
          I8I.scale(I5X.t1w(f0d, 1), 1);
          I5X.O90(8);
          I8I.arc(I5X.t1w(f0d, A2v), y3J, Math.abs(M2b - y3J), 0, Math.PI, !C$y);
          I8I.globalAlpha = this.highlighted ? 1 : this.defaultOpacity;

          if (this.pattern != "none") {
            I8I.stroke();
          }

          I8I.globalAlpha = 0.1;
          I8I.fill();
          I8I.restore();
          I8I.globalAlpha = 1;

          if (this.printLevels) {
            F9T = "c";
            F9T += "e";
            F9T += "n";
            F9T += "ter";
            I8I.fillStyle = c23;
            I8I.textAlign = F9T;
            I5X.X$L(1);
            n5h = I5X.t1w(x6u, "/3");
            I8I.fillText(n5h, A2v, Math.round(M2b - +"5"));
            I8I.fillStyle = f_P;
          }
        }

        I8I.textAlign = "left";
        p3k = {
          pattern: this.pattern,
          lineWidth: this.lineWidth,
          opacity: this.highlighted ? 1 : this.defaultOpacity
        };
        this.stx.plotLine(l2d, A2v, K6X, y3J, c23, g9P, I8I, B3L, p3k);

        if (I8I.setLineDash) {
          I8I.setLineDash([]);
        }

        if (this.highlighted) {
          d3Q = this.highlighted == "p0" ? !!1 : !{};
          s4p = this.highlighted == "p1" ? !!1 : ![];
          this.littleCircle(I8I, l2d, K6X, d3Q);
          this.littleCircle(I8I, A2v, y3J, s4p);
        }
      },
      reconstruct: function reconstruct(A7s, i5d) {
        this.stx = A7s;
        this.color = i5d.col;
        this.fillColor = i5d.fc;
        this.panelName = i5d.pnl;
        this.pattern = i5d.ptrn;
        g9BGt.Z_e();
        this.lineWidth = i5d.lw;
        this.d0 = i5d.d0;
        this.d1 = i5d.d1;
        this.tzo0 = i5d.tzo0;
        this.tzo1 = i5d.tzo1;
        this.v0 = i5d.v0;
        this.v1 = i5d.v1;
        this.adjust();
      },
      serialize: function serialize() {
        g9BGt.c7b();
        return {
          name: this.name,
          pnl: this.panelName,
          col: this.color,
          fc: this.fillColor,
          ptrn: this.pattern,
          lw: this.lineWidth,
          d0: this.d0,
          d1: this.d1,
          tzo0: this.tzo0,
          tzo1: this.tzo1,
          v0: this.v0,
          v1: this.v1
        };
      }
    }, !0);

    e5.Drawing.speedline = function () {
      g9BGt.Z_e();
      this.name = "speedline";
      this.printLevels = !!{};
    };

    e5.inheritsFrom(e5.Drawing.speedline, e5.Drawing.speedarc);
    e5.extend(e5.Drawing.speedline.prototype, {
      intersected: function intersected(y4d, u4U, t6M) {
        var i5y, h5B, I12, m5n, k4Q;
        i5y = this.p0;
        h5B = this.p1;

        if (!i5y || !h5B) {
          return null;
        }

        I12 = {
          0: i5y,
          1: h5B
        };

        for (var C9y in I12) {
          if (this.pointIntersection(I12[C9y][0], I12[C9y][1], t6M)) {
            g9BGt.O90(1);
            this.highlighted = g9BGt.D8z(9440 == (+"1853", 4208) ? 4090 <= 8810 ? "649.96" - 0 : (9.91e+3, 9.14e+3) : "p", C9y);
            return {
              action: "drag",
              point: (+"6500" < 732.71 ? "X" : 5360 === (6415, +"920.75") ? (866.25, 978) > (733.95, 8671) ? (3.11e+3, 0x12c3) : 0x2161 : "p") + C9y
            };
          }
        }

        m5n = this.rays;
        g9BGt.c7b();

        for (var b3a = 0; b3a < m5n.length; b3a++) {
          if (this.lineIntersection(y4d, u4U, t6M, "ray", m5n[b3a][0], m5n[b3a][1], !!"1")) {
            k4Q = "mo";
            k4Q += "ve";
            this.highlighted = !!1;
            return {
              action: k4Q,
              p0: e5.clone(i5y),
              p1: e5.clone(h5B),
              tick: y4d,
              value: u4U
            };
          }
        }

        return null;
      },
      render: function render(v89) {
        var s5f = g9BGt;
        var Q2d, B2k, f45, w_p, m$2, l5R, z5F, y2a, G4H, I1g, A9N, x$C, U7e, w5t, M7N, c9o, t$K, M3g, N03, j0l, n4o, u9t, w2g, s9e, j4d;
        Q2d = "mi";
        Q2d += "ddle";
        B2k = this.stx.panels[this.panelName];

        if (!B2k) {
          return;
        }

        if (!this.p1) {
          return;
        }

        f45 = this.stx.pixelFromTick(this.p0[0], B2k.chart);
        w_p = this.stx.pixelFromTick(this.p1[0], B2k.chart);
        m$2 = this.stx.pixelFromValueAdjusted(B2k, this.p0[0], this.p0[1]);
        l5R = this.stx.pixelFromValueAdjusted(B2k, this.p1[0], this.p1[1]);
        this.stx.canvasFont("stx_yaxis", v89);
        z5F = this.getLineColor();
        y2a = this.color;

        if (y2a == "auto" || e5.isTransparent(y2a)) {
          y2a = this.stx.defaultColor;
        }

        v89.strokeStyle = y2a;
        G4H = this.fillColor;

        if (G4H == "auto" || e5.isTransparent(G4H)) {
          G4H = this.stx.defaultColor;
        }

        v89.fillStyle = G4H;
        I1g = {
          pattern: this.pattern,
          lineWidth: this.lineWidth,
          opacity: this.highlighted ? 1 : this.defaultOpacity
        };
        U7e = ["688.3" * 1 != +"8361" ? "1" : (0x2180, "K"), "2/3", "1/3", "3/2", 323.19 != (408.06, 792) ? "3" : 0x14eb];
        s5f.O90(84);
        w5t = [+"1", s5f.t1w(0, "2", "3"), s5f.D8z(0, "1", "3", s5f.X$L(84)), s5f.t1w(2, 3, s5f.X$L(23)), +"3"];
        M7N = [];
        this.rays = [];

        for (var W6O = 0; W6O < w5t.length; W6O++) {
          c9o = w5t[W6O];
          if (c9o > ("1" | 1) && !this.extension) continue;
          t$K = this.stx.pixelFromValueAdjusted(B2k, this.p0[0], this.p0[1] - (this.p0[1] - this.p1[1]) * c9o);

          if (c9o > ("1" | 1)) {
            M3g = e5.xIntersection({
              x0: f45,
              x1: w_p,
              y0: m$2,
              y1: t$K
            }, l5R);
            M7N.push(M3g);
          } else {
            M3g = e5.xIntersection({
              x0: w_p,
              x1: w_p,
              y0: m$2,
              y1: l5R
            }, t$K);
            M7N.push(t$K);
          }

          N03 = c9o > "1" << 64 ? M3g : w_p;
          j0l = c9o > 1 ? l5R : t$K;

          if (!this.confineToGrid) {
            N03 = B2k.left;

            if (w_p > f45) {
              N03 += B2k.width;
            }

            s5f.X$L(76);
            j0l = s5f.D8z(m$2, N03, f45, m$2, f45, t$K, w_p);
          }

          if (this.printLevels) {
            if (c9o != 1 || this.extension) {
              v89.fillStyle = y2a;
              n4o = 0;
              u9t = 0;

              if (m$2 > l5R) {
                u9t = -5;
                v89.textBaseline = "bottom";
              } else {
                u9t = 5;
                v89.textBaseline = "top";
              }

              if (f45 > w_p) {
                n4o = 5;
                v89.textAlign = "right";
              } else {
                n4o = -5;
                v89.textAlign = "left";
              }

              if (c9o > +"1") {
                v89.fillText(U7e[W6O], M3g + (this.confineToGrid ? "0" | 0 : n4o), l5R);
              } else {
                v89.fillText(U7e[W6O], w_p, t$K + (this.confineToGrid ? 0 : u9t));
              }

              v89.fillStyle = G4H;
            }
          }

          this.stx.plotLine(f45, N03, m$2, j0l, this.highlighted ? z5F : y2a, "segment", v89, B2k, I1g);

          if (c9o == 1) {
            A9N = N03;
            x$C = j0l;
          }

          this.rays.push([[f45, m$2], [N03, j0l]]);
          v89.globalAlpha = 0.1;
          v89.beginPath();
          v89.moveTo(N03, j0l);
          v89.lineTo(f45, m$2);
          v89.lineTo(A9N, x$C);
          v89.fill();
          v89.globalAlpha = 1;
        }

        v89.textAlign = "left";
        v89.textBaseline = Q2d;

        if (this.confineToGrid) {
          s5f.X$L(8);
          v89.globalAlpha = s5f.t1w(1, "0.3");
          v89.beginPath();
          s5f.X$L(7);
          v89.strokeRect(f45, m$2, s5f.t1w(f45, w_p), s5f.D8z(m$2, l5R));
          v89.moveTo(f45, M7N[1]);
          v89.lineTo(w_p, M7N[1]);
          v89.moveTo(f45, M7N["2" - 0]);
          v89.lineTo(w_p, M7N[2]);

          if (this.extension) {
            v89.moveTo(M7N[3], m$2);
            v89.lineTo(M7N[3], l5R);
            v89.moveTo(M7N[4], m$2);
            v89.lineTo(M7N[4], l5R);
          }

          v89.stroke();
          v89.globalAlpha = 1;
        }

        if (this.highlighted) {
          w2g = "p";
          w2g += "0";
          s9e = this.highlighted == w2g ? !"" : ![];
          j4d = this.highlighted == "p1" ? !!{} : !"1";
          this.littleCircle(v89, f45, m$2, s9e);
          this.littleCircle(v89, w_p, l5R, j4d);
        }
      }
    }, !"");

    e5.Drawing.gannfan = function () {
      var o5h, u7S, K$0;
      o5h = 864296670;
      u7S = +"335022174";
      K$0 = 2;

      for (var d7_ = 1; g9BGt.i7j(d7_.toString(), d7_.toString().length, 33319) !== o5h; d7_++) {
        this.name = "";
        this.printLevels = !{};
        K$0 += 2;
      }

      if (g9BGt.l9L(K$0.toString(), K$0.toString().length, 57844) !== u7S) {
        this.name = "";
        this.printLevels = !0;
      }

      this.name = "gannfan";
      this.printLevels = !!1;
    };

    e5.inheritsFrom(e5.Drawing.gannfan, e5.Drawing.speedline);
    e5.extend(e5.Drawing.gannfan.prototype, {
      render: function render(E7v) {
        var E4A = g9BGt;
        var o1j, w_l, H53, u_X, h5C, f_Z, W$8, h$N, N0b, p0N, G3n, S96, v0K, b$Q, H2t, H1g, Z2b, z9G, t1g, u5r, g_U, d6t, u0b, b4V, l5P, w9R;
        o1j = "l";
        o1j += "e";
        o1j += "f";
        o1j += "t";
        w_l = this.stx.panels[this.panelName];

        if (!w_l) {
          return;
        }

        if (!this.p1) {
          return;
        }

        H53 = this.stx.pixelFromTick(this.p0[0], w_l.chart);
        u_X = this.stx.pixelFromTick(this.p1[0], w_l.chart);
        h5C = this.stx.pixelFromValueAdjusted(w_l, this.p0[0], this.p0[1]);
        f_Z = this.stx.pixelFromValueAdjusted(w_l, this.p1["0" >> 32], this.p1[1]);
        this.stx.canvasFont("stx_yaxis", E7v);
        W$8 = this.getLineColor();
        h$N = this.color;

        if (h$N == "auto" || e5.isTransparent(h$N)) {
          h$N = this.stx.defaultColor;
        }

        E7v.strokeStyle = h$N;
        N0b = this.fillColor;

        if (N0b == "auto" || e5.isTransparent(N0b)) {
          N0b = this.stx.defaultColor;
        }

        E7v.fillStyle = N0b;
        p0N = {
          pattern: this.pattern,
          lineWidth: this.lineWidth,
          opacity: this.highlighted ? 1 : this.defaultOpacity
        };
        E4A.O90(85);
        v0K = [1, 2, 3, 4, 8, E4A.D8z(1, "2"), E4A.D8z(3, 0, "1", E4A.X$L(86)), E4A.D8z(4, 1, E4A.X$L(23)), E4A.D8z(8, 1, E4A.X$L(23))];
        this.rays = [];

        for (var m9$ = 0; m9$ < v0K.length; m9$++) {
          b$Q = v0K[m9$];
          E4A.X$L(87);
          H2t = E4A.D8z(b$Q, H53, H53, u_X);
          E4A.X$L(88);
          H1g = E4A.t1w(h5C, h5C, f_Z, b$Q);
          Z2b = w_l.left;

          if (u_X > H53) {
            Z2b += w_l.width;
          }

          E4A.O90(76);
          z9G = E4A.D8z(h5C, Z2b, H53, h5C, H53, H1g, u_X);

          if (this.printLevels) {
            E7v.fillStyle = h$N;
            t1g = 0;
            u5r = 0;

            if (h5C > f_Z) {
              E4A.X$L(35);
              u5r = E4A.D8z(96, "5");
              E7v.textBaseline = "top";
            } else {
              g_U = "b";
              g_U += "ot";
              g_U += "to";
              g_U += "m";
              u5r = -+"5";
              E7v.textBaseline = g_U;
            }

            if (H53 > u_X) {
              t1g = +"5";
              E7v.textAlign = "left";
            } else {
              t1g = -5;
              E7v.textAlign = "right";
            }

            if (b$Q > "1" >> 0) {
              d6t = "x";
              d6t += "1";
              E4A.X$L(1);
              E7v.fillText(E4A.D8z(b$Q, d6t), E4A.t1w(H2t, t1g), f_Z);
            } else {
              E4A.O90(53);
              E7v.fillText(E4A.t1w(b$Q, 1, "1x"), u_X, E4A.D8z(H1g, u5r, E4A.O90(1)));
            }

            E7v.fillStyle = N0b;
          }

          this.stx.plotLine(H53, Z2b, h5C, z9G, this.highlighted ? W$8 : h$N, "segment", E7v, w_l, p0N);
          this.rays.push([[H53, h5C], [Z2b, z9G]]);

          if (b$Q == 1) {
            G3n = Z2b;
            S96 = z9G;
          }

          E7v.globalAlpha = 0.1;
          E7v.beginPath();
          E7v.moveTo(Z2b, z9G);
          E7v.lineTo(H53, h5C);
          E7v.lineTo(G3n, S96);
          E7v.fill();
          E4A.O90(35);
          E7v.globalAlpha = E4A.D8z(64, "1");
        }

        E7v.textAlign = o1j;
        E4A.c7b();
        E7v.textBaseline = "middle";

        if (this.highlighted) {
          u0b = "p";
          u0b += "1";
          b4V = "p";
          b4V += "0";
          l5P = this.highlighted == b4V ? !!{} : !!0;
          w9R = this.highlighted == u0b ? !"" : !1;
          this.littleCircle(E7v, H53, h5C, l5P);
          this.littleCircle(E7v, u_X, f_Z, w9R);
        }
      }
    }, !!{});

    e5.Drawing.timecycle = function () {
      var F75;
      F75 = "timecycl";
      F75 += "e";
      this.name = F75;
      g9BGt.c7b();
      this.printLevels = !!{};
    };

    e5.inheritsFrom(e5.Drawing.timecycle, e5.Drawing.speedarc);
    e5.extend(e5.Drawing.timecycle.prototype, {
      intersected: function intersected(c4$, R5u, B8u) {
        var i75, a1K, n9o, Q19, G1P;
        i75 = this.p0;
        a1K = this.p1;
        n9o = this.stx.panels[this.panelName];

        if (!i75 || !a1K || !n9o) {
          return null;
        }

        Q19 = {
          0: i75,
          1: a1K
        };

        for (var v$K in Q19) {
          if (this.pointIntersection(Q19[v$K][0], Q19[v$K]["1" << 32], B8u)) {
            g9BGt.X$L(1);
            this.highlighted = g9BGt.D8z(7590 < (283.95, +"862.31") ? (!0, !![]) : "p", v$K);
            return {
              action: "drag",
              point: ((+"6530", 850.15) >= (7501, 5571) ? (!!1, "I") : (2412, +"1680") > (908, 4.43) ? "p" :  false ? (undefined) : ("6.55e+3" ^ 0, 948.28)) + v$K
            };
          }
        }

        G1P = this.lineIntersection(c4$, R5u, B8u, "segment");

        if (G1P || B8u.x0 <= this.p0[0] && B8u.x1 >= i75["0" - 0]) {
          this.highlighted = !!{};
          return {
            action: "move",
            p0: e5.clone(i75),
            p1: e5.clone(a1K),
            tick: c4$,
            value: R5u
          };
        }

        return null;
      },
      render: function render(X$G) {
        var g7b = g9BGt;
        var S90, Y_C, B5C, s_4, m0M, h9n, C4l, c1o, w_9, i6B, f1P, u8k, b50, P1q, e2_, E97, G66, A9b, E1J, p2P, c7G, x3c, D$o, T3U, W3g;
        S90 = "au";
        S90 += "t";
        S90 += "o";
        Y_C = "m";
        Y_C += "iddle";
        B5C = this.stx.panels[this.panelName];

        if (!B5C) {
          return;
        }

        if (!this.p1) {
          return;
        }

        s_4 = this.stx.pixelFromTick(this.p0[0], B5C.chart);
        m0M = this.stx.pixelFromTick(this.p1[0], B5C.chart);
        h9n = this.stx.pixelFromValueAdjusted(B5C, this.p0[0], this.p0[1]);
        C4l = this.stx.pixelFromValueAdjusted(B5C, this.p1[0], this.p1["1" << 64]);
        c1o = 0;
        w_9 = this.getLineColor();
        X$G.textBaseline = Y_C;
        this.stx.canvasFont("stx_yaxis", X$G);
        i6B = +"20";
        f1P = this.p1[0] - this.p0[0];
        X$G.textAlign = "center";
        u8k = s_4;
        b50 = B5C.yAxis.top;
        P1q = B5C.yAxis.bottom;
        e2_ = this.color;

        if (e2_ == "auto" || e5.isTransparent(e2_)) {
          e2_ = this.stx.defaultColor;
        }

        E97 = this.fillColor;

        if (E97 == S90 || e5.isTransparent(E97)) {
          E97 = this.stx.defaultColor;
        }

        if (this.printLevels) {
          g7b.O90(89);
          P1q -= g7b.D8z(i6B, "7");
        }

        G66 = {
          pattern: this.pattern,
          lineWidth: this.lineWidth,
          opacity: this.highlighted ? "1" ^ 0 : this.defaultOpacity
        };
        A9b = [];
        X$G.save();
        X$G.fillStyle = E97;
        X$G.globalAlpha = +"0.05";

        do {
          u8k = this.stx.pixelFromTick(this.p0[0] + c1o * f1P, B5C.chart);
          c1o++;
          if (s_4 < m0M && u8k > B5C.left + B5C.width) break;else if (s_4 > m0M && u8k < B5C.left) break;else if (u8k < B5C.left || u8k > B5C.left + B5C.width) continue;
          X$G.beginPath();
          X$G.moveTo(s_4, b50);
          X$G.lineTo(u8k, b50);
          X$G.lineTo(u8k, P1q);
          X$G.lineTo(s_4, P1q);
          X$G.fill();
          A9b.push({
            c: c1o,
            x: u8k
          });
        } while (f1P);

        X$G.globalAlpha = +"1";
        E1J = +"0";

        for (var w88 = 0; w88 < A9b.length; w88++) {
          p2P = "segme";
          p2P += "nt";
          this.stx.plotLine(A9b[w88].x, A9b[w88].x, 0, P1q, this.highlighted ? w_9 : e2_, p2P, X$G, B5C, G66);

          if (this.printLevels) {
            X$G.fillStyle = e2_;
            g7b.O90(82);
            var K5u = g7b.t1w(10, 45, 14, 18);
            c7G = this.stx.chart.context.measureText(A9b[w88].c).width + K5u;

            if (c7G < this.stx.layout.candleWidth + E1J) {
              X$G.fillText(A9b[w88].c, A9b[w88].x, P1q + 7);
              E1J = 0;
            } else {
              E1J += this.stx.layout.candleWidth;
            }
          }
        }

        X$G.restore();
        X$G.textAlign = "left";
        this.stx.plotLine(s_4, m0M, h9n, C4l, w_9, "segment", X$G, B5C, G66);

        if (this.highlighted) {
          x3c = "p";
          x3c += "0";
          D$o = this.highlighted == x3c ? !![] : !!0;
          T3U = this.highlighted == "p1" ? !![] : !"1";
          this.littleCircle(X$G, s_4, h9n, D$o);
          this.littleCircle(X$G, m0M, C4l, T3U);
        } else {
          W3g = this.stx.valueFromPixel(B5C.height / 2, B5C);
          this.setPoint(0, this.p0[0], W3g, B5C.chart);
          this.setPoint(1, this.p1[0], W3g, B5C.chart);
        }
      }
    }, !!{});

    e5.Drawing.regression = function () {
      g9BGt.Z_e();
      this.name = "regression";
    };

    e5.inheritsFrom(e5.Drawing.regression, e5.Drawing.segment);
    e5.extend(e5.Drawing.regression.prototype, {
      configs: ["color", k6w, m9e, "active1", l0T, "lineWidth1", "pattern1", K6H, "color2", "lineWidth2", "pattern2", "active3", "color3", "lineWidth3", s6V],
      copyConfig: function copyConfig(u6y) {
        var U_5;
        e5.Drawing.copyConfig(this, u6y);
        U_5 = this.stx.currentVectorParameters;
        this.active1 = !!U_5.active1;
        this.active2 = !!U_5.active2;
        this.active3 = !!U_5.active3;
        this.color1 = U_5.color1 || "auto";
        this.color2 = U_5.color2 || "auto";
        this.color3 = U_5.color3 || "auto";
        this.lineWidth1 = U_5.lineWidth1;
        this.lineWidth2 = U_5.lineWidth2;
        this.lineWidth3 = U_5.lineWidth3;
        this.pattern1 = U_5.pattern1;
        this.pattern2 = U_5.pattern2;
        this.pattern3 = U_5.pattern3;
      },
      $controls: [D_8, 'cq-cvp-controller[cq-cvp-header="2"]', 'cq-cvp-controller[cq-cvp-header="3"]'],
      click: function click(b69, H$L, e_e) {
        var f_V, u$X, t2Z, L_x;

        if (H$L < 0) {
          return;
        }

        this.copyConfig();
        f_V = this.stx.panels[this.panelName];

        if (!this.penDown) {
          this.setPoint(+"0", H$L, e_e, f_V.chart);
          this.penDown = !![];
          u$X = this.stx;
          this.field = u$X.highlightedDataSetField;

          if (!this.field && f_V != u$X.chart.panel) {
            for (var v6J in u$X.chart.seriesRenderers) {
              t2Z = u$X.chart.seriesRenderers[v6J];

              if (t2Z.params.panel == f_V.name) {
                this.field = t2Z.seriesParams[0].field;
                break;
              }
            }

            for (var a8q in u$X.layout.studies) {
              L_x = u$X.layout.studies[a8q];

              if (L_x.panel == f_V.name) {
                this.field = Object.keys(L_x.outputMap)[0];
                break;
              }
            }
          }

          return !!0;
        }

        if (this.accidentalClick(H$L, e_e)) {
          return this.dragToDraw;
        }

        this.setPoint(1, H$L, e_e, f_V.chart);
        this.penDown = !!0;
        return !0;
        ;
      },
      getYValue: function getYValue(F9F) {
        var x$c, A6N, P23, s5e, Z1S, r5Z, y5C;
        x$c = this.stx.chart.dataSet[F9F];
        A6N = this.stx.chart.dataSet[F9F];

        if (!x$c) {
          return null;
        }

        P23 = this.stx.panels[this.panelName];
        s5e = this.stx.getYAxisByField(P23, this.field) || P23.yAxis;

        if (this.stx.charts[P23.name] && P23.chart.transformFunc && s5e == P23.yAxis) {
          A6N = x$c.transform;
        }

        if (!A6N) {
          return null;
        }

        Z1S = null;
        r5Z = null;
        y5C = this.stx.defaultPlotField || "Close";
        g9BGt.Z_e();

        if (this.field) {
          r5Z = e5.existsInObjectChain(A6N, this.field);

          if (!r5Z) {
            return null;
          }

          Z1S = r5Z = r5Z.obj[r5Z.member];

          if (x$c != A6N) {
            Z1S = e5.existsInObjectChain(x$c, this.field);
            Z1S = Z1S.obj[Z1S.member];
          }

          if (_typeof(r5Z) == "object") {
            r5Z = r5Z[y5C];
            Z1S = Z1S[y5C];
          }
        } else {
          r5Z = A6N[y5C];
          Z1S = x$c[y5C];
        }

        return {
          transformed: r5Z,
          untransformed: Z1S
        };
      },
      render: function render(H8H) {
        var z_U = g9BGt;
        var T20, Z0i, L2n, J2U, L3X, T9s, m14, Z5r, l3H, m4O, F1p, l4j, C9F, c6W, o4N, l4z, z2F, t2U, s2z, g0L, b$g, N7w, K_a, g6U, x4x, T9O, M7_, g4S, i4z, Q2D, O9p, M3u, I5p, C8s, F$W, e_V, k0b, M1Y, j70, c_5;
        T20 = "se";
        T20 += "g";
        T20 += "ment";
        Z0i = "segm";
        Z0i += "en";
        Z0i += "t";
        L2n = this.stx.panels[this.panelName];

        if (!L2n) {
          return;
        }

        if (!this.p1) {
          return;
        }

        if (this.p0[0] < 0 || this.p1[0] < 0) {
          return;
        }

        J2U = this.stx.pixelFromTick(this.p0["0" ^ 0], L2n.chart);
        L3X = this.stx.pixelFromTick(this.p1[0], L2n.chart);

        if (J2U < L2n.left && L3X < L2n.left) {
          return;
        }

        if (J2U > L2n.right && L3X > L2n.right) {
          return;
        }

        T9s = this.stx.getYAxisByField(L2n, this.field);
        m14 = [];
        Z5r = [];
        l3H = 0;
        m4O = +"0";
        F1p = 0;
        z_U.O90(8);
        l4j = z_U.D8z(1, "0");
        C9F = Math.min(this.p1[0], this.p0[0]);
        c6W = Math.max(this.p1[0], this.p0[0]) + ("1" << 0);
        z_U.O90(7);
        o4N = z_U.D8z(C9F, c6W);

        for (var s_z = C9F; s_z < c6W; s_z++) {
          l4z = this.getYValue(s_z);

          if (l4z) {
            m14.push(l4z.transformed);
            Z5r.push(l4z.untransformed);
          }
        }

        z2F = m14.length;
        z_U.O90(90);
        t2U = z_U.t1w(0, 2, z2F, "1", z2F);
        s2z = Math.pow(t2U, 2);
        z_U.X$L(91);
        g0L = z_U.D8z(3, z2F, 2, 1, t2U);
        z_U.Z_e();

        for (s_z = 0; s_z < z2F; s_z++) {
          F1p += z2F * m14[s_z] - l3H;
          l3H += m14[s_z];
          l4j += z2F * Z5r[s_z] - m4O;
          m4O += Z5r[s_z];
        }

        z_U.X$L(92);
        b$g = z_U.D8z(g0L, l3H, s2z, z2F, t2U, F1p, z2F);
        z_U.O90(93);
        N7w = z_U.D8z(l3H, t2U, b$g, z2F);
        z_U.O90(92);
        K_a = z_U.D8z(g0L, m4O, s2z, z2F, t2U, l4j, z2F);
        z_U.X$L(93);
        g6U = z_U.D8z(m4O, t2U, b$g, z2F);

        if (this.p0[0] < this.p1[0]) {
          x4x = N7w;
          z_U.X$L(94);
          T9O = z_U.t1w(N7w, o4N, b$g);
          this.p0[1] = g6U;
          z_U.O90(94);
          this.p1[1] = z_U.D8z(g6U, o4N, K_a);
        } else {
          z_U.O90(94);
          x4x = z_U.t1w(N7w, o4N, b$g);
          T9O = N7w;
          z_U.X$L(94);
          this.p0[1] = z_U.t1w(g6U, o4N, K_a);
          this.p1[1] = g6U;
        }

        M7_ = this.stx.pixelFromTransformedValue(x4x, L2n, T9s);
        g4S = this.stx.pixelFromTransformedValue(T9O, L2n, T9s);
        i4z = this.getLineColor();
        Q2D = {
          pattern: this.pattern,
          lineWidth: this.lineWidth
        };
        this.stx.plotLine(J2U, L3X, M7_, g4S, i4z, "segment", H8H, L2n, Q2D);
        z_U.O90(7);
        this.stx.plotLine(J2U, J2U, z_U.D8z(20, M7_), z_U.t1w(M7_, "20", z_U.O90(78)), i4z, Z0i, H8H, L2n, Q2D);
        z_U.X$L(7);
        this.stx.plotLine(L3X, L3X, z_U.t1w(20, g4S), z_U.t1w(g4S, 20, z_U.X$L(1)), i4z, T20, H8H, L2n, Q2D);

        if (this.active1 || this.active2 || this.active3) {
          z_U.X$L(23);
          O9p = z_U.t1w(z2F, l3H);
          M3u = 0;

          for (s_z = "0" | 0; s_z < z2F; s_z++) {
            M3u += Math.pow(m14[s_z] - O9p, 2);
          }

          z_U.X$L(23);
          I5p = Math.sqrt(z_U.t1w(z2F, M3u));
          C8s = {
            context: H8H,
            panel: L2n,
            points: {
              0: {
                x: J2U,
                v: x4x
              },
              1: {
                x: L3X,
                v: T9O
              }
            },
            stddev: I5p,
            yAxis: T9s
          };
          this.lines = {};

          if (this.active1) {
            this.renderStddev("1", "p", C8s);
            this.renderStddev("1", "n", C8s);
          }

          if (this.active2) {
            z_U.O90(8);
            F$W = -z_U.t1w(1, "1692343883");
            e_V = -54397315;
            k0b = 2;

            for (var O1V = 1; z_U.l9L(O1V.toString(), O1V.toString().length, +"33834") !== F$W; O1V++) {
              this.renderStddev( true ? 5402 == (+"9904", +"400842") ? 0xf377 : 0x3dc4 : undefined, (6505, 8215) <= 995 ? ("0x88" | 8, "p") : 4109 != (7881, 8696) ? "p" : "p", C8s);
              k0b += 2;
            }

            if (z_U.i7j(k0b.toString(), k0b.toString().length, 20133) !== e_V) {
              this.renderStddev(6400 === +"5480" ? 7650 === (4020, 939.26) ? "0x166a" - 0 : +"0x1e7e" : "2", (1440, 2395) < ("554" | 10) ? (0xb5, "I") : 7306 == (6130, "7430" | 0) ? "c" : "p", C8s);
            }

            this.renderStddev((5650, "1702" ^ 0) == +"4810" ? "G" : (9500, 2615) >= (1990, 557.72) ? "2" : (110.36, 737.74) != 6062 ? ![] : 552.40, 496 <= (4163, 87) ? 1372 === (2880, "209.54" - 0) ? 0x808 : (833.07, "K") : "n", C8s);
          }

          if (this.active3) {
            this.renderStddev(2270 >= (698, 294.73) ? "3" : !1, 540.68 <= 7277 ? "p" : !!{}, C8s);
            this.renderStddev("3", ("7712" ^ 0, +"864") < 801 ? (0x1c34, !![]) : ("203.2" - 0, 353.77) < 938.7 ?  false ? (undefined) : "n" : (!!{}, !!"1"), C8s);
          }
        }

        if (!this.highlighted) {
          this.pixelX = [J2U, L3X];
          this.pixelY = [M7_, g4S];
        } else {
          M1Y = "p";
          M1Y += "1";
          j70 = this.highlighted == "p0" ? !0 : ![];
          c_5 = this.highlighted == M1Y ? !0 : ![];
          this.littleCircle(H8H, J2U, M7_, j70);
          this.littleCircle(H8H, L3X, g4S, c_5);
        }
      },
      renderStddev: function renderStddev(I8n, g8V, K2a) {
        var c1z = g9BGt;
        var P5X, n5E, U3B, j6p, p3Z, x2X, n1c, e3A, Q1c, p_6, F_L, q11, Y8B, m03, Q8F, r$U, v88, M1Z, F1a, K0G, m1H, b2r, p_Q, T1x, q6j;
        P5X = "m";
        P5X += "iddle";
        n5E = "patter";
        n5E += "n";
        c1z.O90(95);
        U3B = c1z.t1w("stddev", g8V, I8n);
        c1z.X$L(1);
        j6p = c1z.D8z("color", I8n);
        c1z.O90(1);
        p3Z = c1z.t1w(n5E, I8n);
        c1z.O90(1);
        x2X = c1z.t1w("lineWidth", I8n);
        n1c = K2a.points;
        e3A = n1c[0].v;
        Q1c = n1c[+"1"].v;
        p_6 = K2a.stddev;
        F_L = g8V === "n" ? I8n * -1 : I8n * ("1" * 1);
        q11 = this.stx;
        Y8B = K2a.panel;
        m03 = K2a.yAxis;
        Q8F = {
          name: U3B,
          color: this.getLineColor(this[j6p]),
          type: "segment",
          y0: q11.pixelFromTransformedValue(e3A + p_6 * F_L, Y8B, m03),
          y1: q11.pixelFromTransformedValue(Q1c + p_6 * F_L, Y8B, m03),
          params: {
            pattern: this[p3Z],
            lineWidth: this[x2X]
          }
        };
        c1z.c7b();

        if (this.lines) {
          r$U = 1280407686;
          v88 = 1367195547;
          M1Z = 2;

          for (var z17 = 1; c1z.i7j(z17.toString(), z17.toString().length, 81801) !== r$U; z17++) {
            this.lines[U3B] = Q8F;
            M1Z += 2;
          }

          if (c1z.l9L(M1Z.toString(), M1Z.toString().length, 59625) !== v88) {
            this.lines[U3B] = Q8F;
          }
        }

        F1a = K2a.context;
        K0G = n1c[0].x;
        m1H = n1c[1].x;
        q11.plotLine(K0G, m1H, Q8F.y0, Q8F.y1, Q8F.color, Q8F.type, F1a, Y8B, Q8F.params);
        q11.plotLine(K0G, K0G, Q8F.y0 - 10, Q8F.y0 + 10, Q8F.color, Q8F.type, F1a, Y8B, Q8F.params);
        q11.plotLine(m1H, m1H, Q8F.y1 - 10, Q8F.y1 + 10, Q8F.color, Q8F.type, F1a, Y8B, Q8F.params);
        c1z.O90(1);
        b2r = c1z.t1w(I8n, (705.03, 9400) != 4140 ? "\u03C3" : 0x1599);
        c1z.X$L(96);
        var Y9G = c1z.t1w(5, 16, 1605, 20);
        p_Q = Math.max(K0G, m1H) + Y9G;
        T1x = K0G < m1H ? Q8F.y1 : Q8F.y0;
        F1a.fillStyle = Q8F.color;
        F1a.save();
        F1a.textBaseline = P5X;
        F1a.fillText(b2r, p_Q, T1x);
        F1a.restore();

        if (K2a.formatPrice && this.axisLabel && !this.highlighted && !this.penDown) {
          if (K0G >= Y8B.chart.left && K0G <= Y8B.chart.right || m1H >= Y8B.chart.left && m1H <= Y8B.chart.right) {
            c1z.O90(97);
            q6j = c1z.D8z(F_L, p_6, K0G < m1H ? Q1c : e3A);
            q11.endClip();
            q11.createYAxisLabel(Y8B, K2a.formatPrice(q6j, m03), T1x, Q8F.color, null, F1a, m03);
            q11.startClip(Y8B.name);
          }
        }
      },
      intersected: function intersected(Z32, h3X, A1S) {
        var f0T, X_$, j3K, C0_, l1A, w8i, b$o, V3z;

        if (!this.pixelX || !this.pixelY) {
          return null;
        }

        f0T = this.repositionIntersection(Z32, h3X);

        if (f0T) {
          return f0T;
        }

        X_$ = {
          0: this.pixelX,
          1: this.pixelY
        };

        for (var l6A = "0" << 64; l6A < 2; l6A++) {
          if (this.pointIntersection(X_$[+"0"][l6A], X_$[1][l6A], A1S, !![])) {
            j3K = "d";
            j3K += "r";
            j3K += "a";
            j3K += "g";
            g9BGt.O90(1);
            this.highlighted = g9BGt.D8z( false ? undefined : "p", l6A);
            return {
              action: j3K,
              point: "p" + l6A
            };
          }
        }

        C0_ = this;
        l1A = this.pixelX[0];
        w8i = this.pixelX[1];

        b$o = function b$o(x64) {
          var C0Q, o5O;
          C0Q = [l1A, x64.y0];
          o5O = [w8i, x64.y1];
          return C0_.lineIntersection(Z32, h3X, A1S, C0_.name, C0Q, o5O, !0);
        };

        V3z = b$o({
          y0: this.pixelY[0],
          y1: this.pixelY[+"1"]
        });
        g9BGt.Z_e();

        if (!V3z && this.lines) {
          for (var K8g in this.lines) {
            if (b$o(this.lines[K8g])) {
              V3z = !![];
              break;
            }
          }
        }

        if (V3z) {
          this.highlighted = !!"1";
          return {
            action: "move",
            p0: e5.clone(this.p0),
            p1: e5.clone(this.p1),
            tick: Z32,
            value: h3X
          };
        }

        return null;
      },
      repositionIntersection: function repositionIntersection(f_Y, F0V) {
        g9BGt.c7b();

        if (!this.p0 || !this.p1) {
          return !{};
        }

        if (this == this.stx.repositioningDrawing && this.highlighted) {
          if (this.highlighted === !"") {
            return {
              action: "move",
              p0: e5.clone(this.p0),
              p1: e5.clone(this.p1),
              tick: f_Y,
              value: F0V
            };
          }

          return {
            action: "drag",
            point: this.highlighted
          };
        }

        return !!0;
      },
      lineIntersection: function lineIntersection(j35, K8y, t3I, L_J, S1O, s8x, e_i) {
        var Z49, L91, K_3;

        if (!e_i) {
          g9BGt.X$L(1);
          console.log(g9BGt.D8z(L_J, " lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));
          return !{};
        }

        if (!S1O) {
          S1O = this.p0;
        }

        if (!s8x) {
          s8x = this.p1;
        }

        if (!(S1O && s8x)) {
          return !{};
        }

        Z49 = this.stx;
        L91 = e5.convertBoxToPixels(Z49, this.panelName, t3I);

        if (L91.x0 === undefined) {
          return ![];
        }

        K_3 = {
          x0: S1O[0],
          x1: s8x[0],
          y0: S1O[1],
          y1: s8x[1]
        };
        return e5.boxIntersects(L91.x0, L91.y0, L91.x1, L91.y1, K_3.x0, K_3.y0, K_3.x1, K_3.y1);
      },
      boxIntersection: function boxIntersection(k8k, k5P, q1c) {
        if (q1c.cx0 > Math.max(this.pixelX[0], this.pixelX[1]) || q1c.cx1 < Math.min(this.pixelX[+"0"], this.pixelX[1])) {
          return !1;
        }

        if (!this.stx.repositioningDrawing && (q1c.cy1 < this.pixelY[0] || q1c.cy0 > this.pixelY[1])) {
          return !!0;
        }

        g9BGt.Z_e();
        return !!{};
      },
      reconstruct: function reconstruct(x9B, E6s) {
        this.stx = x9B;
        this.color = E6s.col;
        this.color1 = E6s.col1;
        this.color2 = E6s.col2;
        this.color3 = E6s.col3;
        this.active1 = E6s.dev1;
        this.active2 = E6s.dev2;
        this.active3 = E6s.dev3;
        this.panelName = E6s.pnl;
        this.pattern = E6s.ptrn;
        this.pattern1 = E6s.ptrn1;
        this.pattern2 = E6s.ptrn2;
        this.pattern3 = E6s.ptrn3;
        this.lineWidth = E6s.lw;
        this.lineWidth1 = E6s.lw1;
        this.lineWidth2 = E6s.lw2;
        this.lineWidth3 = E6s.lw3;
        this.d0 = E6s.d0;
        this.d1 = E6s.d1;
        this.tzo0 = E6s.tzo0;
        this.tzo1 = E6s.tzo1;
        this.field = E6s.fld;
        this.adjust();
      },
      serialize: function serialize() {
        return {
          name: this.name,
          pnl: this.panelName,
          dev1: this.active1,
          dev2: this.active2,
          dev3: this.active3,
          col: this.color,
          col1: this.color1,
          col2: this.color2,
          col3: this.color3,
          ptrn: this.pattern,
          ptrn1: this.pattern1,
          ptrn2: this.pattern2,
          ptrn3: this.pattern3,
          lw: this.lineWidth,
          lw1: this.lineWidth1,
          lw2: this.lineWidth2,
          lw3: this.lineWidth3,
          d0: this.d0,
          d1: this.d1,
          tzo0: this.tzo0,
          tzo1: this.tzo1,
          fld: this.field
        };
      }
    }, !![]);

    e5.Drawing.trendline = function () {
      this.name = "trendline";
    };

    e5.inheritsFrom(e5.Drawing.trendline, e5.Drawing.segment);
    e5.Drawing.trendline.prototype.configs = ["color", "fillColor", Z9f, "pattern", "font"];

    e5.Drawing.trendline.prototype.measure = function () {
      ;
    };

    e5.Drawing.trendline.prototype.reconstruct = function (e_u, C67) {
      e5.Drawing.segment.prototype.reconstruct.call(this, e_u, C67);
      this.callout = new e5.Drawing.callout();
      this.callout.reconstruct(e_u, C67.callout);
    };

    e5.Drawing.trendline.prototype.serialize = function () {
      var w4O, c8B, V2J, S$K;
      w4O = e5.Drawing.segment.prototype.serialize.call(this);
      c8B = -1506743842;
      V2J = -+"1048669448";
      S$K = 2;

      for (var G45 = 1; g9BGt.l9L(G45.toString(), G45.toString().length, 19657) !== c8B; G45++) {
        w4O.callout = this.callout.serialize();
        S$K += 2;
      }

      if (g9BGt.l9L(S$K.toString(), S$K.toString().length, 75674) !== V2J) {
        w4O.callout = this.callout.serialize();
      }

      return w4O;
    };

    e5.Drawing.trendline.prototype.render = function (a6Q) {
      var f9H = g9BGt;
      f9H.Z_e();
      var l0i, K$z, i2_, p$1, w8Z, y6v, E_B, s7e, J8L, S3g, u4K, h9p, C5k, D7L, u0L, O2j, x0D, I$8, e$z, H7G, i5_, s4W, R6$;
      l0i = this.stx.panels[this.panelName];

      if (!l0i) {
        return;
      }

      e5.Drawing.segment.prototype.render.call(this, a6Q);

      if (!this.callout) {
        this.callout = new e5.Drawing.callout();
        K$z = e5.Drawing.segment.prototype.serialize.call(this);
        this.callout.reconstruct(this.stx, K$z);
      }

      this.callout.p0 = e5.clone(this.p0);
      i2_ = this.stx.pixelFromTick(this.p0["0" ^ 0], l0i.chart);
      p$1 = this.stx.pixelFromTick(this.p1[0], l0i.chart);
      w8Z = this.stx.pixelFromValueAdjusted(l0i, this.p0[0], this.p0[1]);
      y6v = this.stx.pixelFromValueAdjusted(l0i, this.p1[0], this.p1[1]);

      if (!isFinite(w8Z) || !isFinite(y6v)) {
        return;
      }

      f9H.X$L(98);
      E_B = f9H.t1w(i2_, "2", p$1, 2);
      f9H.X$L(4);
      s7e = f9H.t1w(y6v, 2, w8Z);
      this.fontSize = e5.stripPX(this.font && this.font.size || 13);
      J8L = this.callout.w * 1.2 + (this.callout.stemEntry[+"0"] == "c" ? 0 : +"50");
      S3g = Math.sqrt(Math.pow(p$1 - i2_, 2) + Math.pow(y6v - w8Z, "2" - 0));
      f9H.O90(50);
      var i99 = f9H.t1w(3, 4);
      f9H.X$L(50);
      var S9X = f9H.t1w(13, 12);
      u4K = J8L / (S3g || J8L) * (this.p1[i99] < this.p0[1] ? +"1" : S9X);
      f9H.O90(99);
      h9p = f9H.t1w(y6v, E_B, u4K, s7e);
      f9H.O90(43);
      C5k = f9H.t1w(s7e, E_B, p$1, u4K);
      this.callout.p0[0] = this.stx.tickFromPixel(h9p, l0i.chart);
      this.callout.p0[1] = this.stx.priceFromPixel(C5k, l0i);
      this.callout.v0 = this.callout.p0[1];
      this.callout.p1 = e5.clone(this.p0);
      this.callout.stx = this.stx;
      this.callout.fillColor = this.fillColor || this.callout.fillColor;
      this.callout.borderColor = this.color;
      this.callout.font = this.font || this.callout.font;
      this.callout.noHandles = !!"1";
      f9H.O90(67);
      var d_Q = f9H.D8z(69, 14, 0, 5);
      D7L = this.p1["1" - 0] - this.p0[d_Q];
      f9H.O90(6);
      var n9y = f9H.D8z(9, 0, 13, 2);
      f9H.X$L(1);
      var i7i = f9H.t1w(0, 1);
      f9H.O90(100);
      var I7V = f9H.D8z(2, 1, 16, 12, 14);
      this.callout.text = "" + Number(D7L).toFixed(n9y) + (this.p0[i7i] === 0 ? "" : " (" + Number(("100" << 64) * D7L / this.p0[1]).toFixed(I7V) + "%) ") + "" + Math.abs(this.p1["0" ^ 0] - this.p0[0]) + " Bars";
      u0L = Math.floor((this.p0[+"0"] + this.p1[0]) / 2);

      if (Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0["0" << 0] - this.p1[0]) < 20) {
        x0D = this.stx.pixelFromTick(u0L, l0i.chart);
        f9H.X$L(101);
        I$8 = f9H.D8z(i2_, i2_, w8Z, x0D, w8Z, p$1, y6v);
        O2j = this.stx.priceFromPixel(I$8, l0i) || s7e;
      } else {
        e$z = 1214192260;
        f9H.O90(18);
        H7G = f9H.t1w("679717891", 32);
        i5_ = 2;

        for (var T_u = 1; f9H.i7j(T_u.toString(), T_u.toString().length, 40438) !== e$z; T_u++) {
          O2j = this.stx.priceFromPixel(s7e, l0i);
          f9H.X$L(8);
          i5_ += f9H.t1w(1, "2");
        }

        if (f9H.l9L(i5_.toString(), i5_.toString().length, 32119) !== H7G) {
          O2j = this.stx.priceFromPixel(s7e, l0i);
        }
      }

      this.callout.stem = {
        t: u0L,
        v: O2j
      };
      this.callout.renderText();
      this.callout.render(a6Q);

      if (this.highlighted) {
        s4W = this.highlighted == "p0" ? !"" : ![];
        R6$ = this.highlighted == "p1" ? !!"1" : ![];
        this.littleCircle(a6Q, i2_, w8Z, s4W);
        this.littleCircle(a6Q, p$1, y6v, R6$);
      }
    };

    e5.Drawing.trendline.prototype.lineIntersection = function (i9f, q9S, J3_, r1i) {
      g9BGt.c7b();
      return e5.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this, i9f, q9S, J3_, "segment");
    };

    e5.Drawing.trendline.prototype.intersected = function (u7G, W9c, H$K) {
      var u5T, u0G, Q7G;

      if (!this.p0 || !this.p1) {
        return null;
      }

      u5T = this.callout.intersected(u7G, W9c, H$K);
      u0G = e5.Drawing.segment.prototype.intersected.call(this, u7G, W9c, H$K);
      g9BGt.c7b();
      this.callout.highlighted = !!(u5T || u0G);

      if (u0G) {
        return u0G;
      } else if (u5T) {
        Q7G = "mov";
        Q7G += "e";
        return {
          action: Q7G,
          p0: e5.clone(this.p0),
          p1: e5.clone(this.p1),
          tick: u7G,
          value: W9c
        };
      }

      return null;
    };

    e5.Drawing.average = function () {
      var z6K;
      z6K = "ave";
      z6K += "rag";
      z6K += "e";
      this.name = z6K;
    };

    e5.inheritsFrom(e5.Drawing.average, e5.Drawing.regression);
    e5.extend(e5.Drawing.average.prototype, {
      configs: e5.Drawing.regression.prototype.configs.concat("axisLabel"),
      measure: function measure() {
        var S0w, W41, m51, i57, t8U, f0L, W3S, I9Y, I9y;

        if (this.p0 && this.p1) {
          S0w = ".mMe";
          S0w += "asu";
          S0w += "re";
          W41 = ",";
          W41 += " ";
          m51 = "&";
          m51 += "e";
          m51 += "nsp;";
          this.stx.setMeasure(0, !1, this.p0[0], this.p1[0], !"", this.name);
          i57 = [];
          t8U = "";

          if (this.active1) {
            i57.push((232.18, 269) != (3700, "2393" - 0) ? "1" : !![]);
          }

          if (this.active2) {
            i57.push("2");
          }

          if (this.active3) {
            i57.push((5140, +"6900") != (5670, 7973) ? "3" : 9.86e+2);
          }

          if (i57.length) {
            t8U = m51 + i57.join(W41) + " &sigma;";
          }

          f0L = (this.stx.drawingContainer || document).querySelector(S0w);
          W3S = this.stx.controls.mSticky;
          I9Y = W3S && W3S.querySelector(".mStickyInterior");

          if (f0L) {
            f0L.innerHTML += t8U;
          }

          if (I9Y) {
            I9y = [];
            I9y.push(e5.capitalize(this.name));
            I9y.push(this.field || this.stx.defaultPlotField || "Close");
            I9y.push(I9Y.innerHTML + t8U);
            I9Y.innerHTML = I9y.join("<br>");
          }
        }
      },
      render: function render(b29) {
        var Y5o = g9BGt;
        var D21, k1T, V9L, a2s, n63, U0j, m3y, e_v, X8q, U28, X9k, Q8u, C9k, x1K, i9Q, y59, Z8n, V1B, f8E, i7I, q8$, U$n, s7q, X4c, c5W, Y2l;
        D21 = "se";
        D21 += "gme";
        D21 += "n";
        D21 += "t";
        k1T = this.stx.panels[this.panelName];

        if (!k1T) {
          return;
        }

        if (!this.p1) {
          return;
        }

        if (this.p0[0] < 0 || this.p1[0] < 0) {
          return;
        }

        V9L = this.stx.pixelFromTick(this.p0[0], k1T.chart);
        a2s = this.stx.pixelFromTick(this.p1[0], k1T.chart);

        function v3o(j$n, H6$) {
          var l5T, n_9, O1D;
          l5T = +"1184964041";
          n_9 = -211484282;
          Y5o.Z_e();
          O1D = 2;

          for (var s1I = 1; Y5o.i7j(s1I.toString(), s1I.toString().length, +"32039") !== l5T; s1I++) {
            if (H6$ && H6$.priceFormatter) {
              j$n = H6$.priceFormatter(U0j, k1T, j$n);
            } else {
              j$n = U0j.formatYAxisPrice(j$n, k1T, null, H6$);
            }

            O1D += 2;
          }

          if (Y5o.l9L(O1D.toString(), O1D.toString().length, 41657) !== n_9) {
            if (H6$ || H6$.priceFormatter) {
              j$n = H6$.priceFormatter(U0j, k1T, j$n);
            } else {
              j$n = U0j.formatYAxisPrice(j$n, k1T, 1, H6$);
            }
          }

          return j$n;
        }

        if (V9L < k1T.left && a2s < k1T.left) {
          return;
        }

        if (V9L > k1T.right && a2s > k1T.right) {
          return;
        }

        n63 = this.stx.getYAxisByField(k1T, this.field);
        U0j = this.stx;
        Y5o.c7b();
        m3y = Math.min(this.p1[0], this.p0[+"0"]);
        Y5o.X$L(102);
        var Z9V = Y5o.D8z(14, 2, 0, 20, 18);
        e_v = Math.max(this.p1[0], this.p0[0]) + Z9V;
        Y5o.X$L(7);
        X8q = Y5o.D8z(m3y, e_v);
        U28 = 0;
        X9k = [];

        for (Q8u = m3y; Q8u < e_v; Q8u++) {
          C9k = this.getYValue(Q8u);

          if (C9k !== null) {
            U28 += C9k.transformed;
            X9k.push(C9k);
          }
        }

        x1K = X9k.length;

        if (!x1K) {
          return;
        }

        Y5o.O90(23);
        i9Q = Y5o.D8z(x1K, U28);
        y59 = U0j.pixelFromTransformedValue(i9Q, k1T, n63);
        Z8n = this.getLineColor();
        V1B = {
          pattern: this.pattern,
          lineWidth: this.lineWidth
        };
        U0j.plotLine(V9L, a2s, y59, y59, Z8n, "segment", b29, k1T, V1B);
        Y5o.X$L(7);
        U0j.plotLine(V9L, V9L, Y5o.t1w(20, y59), Y5o.D8z(y59, 20, Y5o.O90(1)), Z8n, "segment", b29, k1T, V1B);
        Y5o.X$L(7);
        U0j.plotLine(a2s, a2s, Y5o.D8z(20, y59), Y5o.t1w(y59, 20, Y5o.X$L(1)), Z8n, D21, b29, k1T, V1B);

        if (this.axisLabel && !this.highlighted && !this.penDown) {
          if (V9L >= k1T.chart.left && V9L <= k1T.chart.right || a2s >= k1T.chart.left && a2s <= k1T.chart.right) {
            U0j.endClip();
            U0j.createYAxisLabel(k1T, v3o(i9Q, n63), y59, Z8n, null, b29, n63);
            U0j.startClip(k1T.name);
          }
        }

        if (this.active1 || this.active2 || this.active3) {
          f8E = 1817737647;
          i7I = 931745406;
          q8$ = +"2";

          for (var J64 = 1; Y5o.i7j(J64.toString(), J64.toString().length, +"79070") !== f8E; J64++) {
            U$n = 1;
            q8$ += 2;
          }

          if (Y5o.l9L(q8$.toString(), q8$.toString().length, 75066) !== i7I) {
            U$n = 1;
          }

          U$n = 0;

          for (Q8u = 0; Q8u < x1K; Q8u++) {
            C9k = X9k[Q8u];
            U$n += Math.pow(C9k.transformed - i9Q, 2);
          }

          Y5o.X$L(23);
          s7q = Math.sqrt(Y5o.D8z(x1K, U$n));
          X4c = {
            context: b29,
            formatPrice: v3o,
            panel: k1T,
            points: {
              0: {
                x: V9L,
                v: i9Q
              },
              1: {
                x: a2s,
                v: i9Q
              }
            },
            stddev: s7q,
            yAxis: n63
          };
          this.lines = {};

          if (this.active1) {
            this.renderStddev(3839 === (4205, 7251) ? (2210, 5808) == 3600 ? 548.49 : "658" * 1 === (468.82, 925.67) ? 2.17e+3 : "a" : "1", +"982.91" <= 2561 ? "p" : 2820 > (+"9794", 1674) ? (!1, 8.85e+3) : 0x11af, X4c);
            this.renderStddev("1", "53.28" - 0 === +"2300" ? "u" : "n", X4c);
          }

          if (this.active2) {
            this.renderStddev(1579 !== +"577.12" ? "2" : (461, 701.49) === 566.15 ? (0x1290, !!{}) : ("m", 0x1cfc), "p", X4c);
            this.renderStddev(948.71 <= 2665 ? "2" : (7762, +"8420") <= 8670 ? (8780, 1510) != 561.75 ? 9.22e+3 : 775 : 7.14e+3, (2330, 7300) <= 594 ? 852.65 : (2120, 2550) == +"2670" ? 206.24 === (8693, 7060) ? (559.71, 1.50e+3) : 0x2131 : "n", X4c);
          }

          if (this.active3) {
            this.renderStddev(6700 < (8493, 708.84) ? (![], "0x1701" ^ 0) : 4180 < 7600 ? "3" : ("c", 4.83e+3), +"8910" >= (+"454.38", 6034) ? 1580 < 540.99 ? 69 >= 7743 ? 663.17 : ("7.56e+3" | 8, "H") : "p" : ("f", "Z"), X4c);
            this.renderStddev("3", "n", X4c);
          }
        }

        if (!this.highlighted) {
          this.pixelX = [V9L, a2s];
          this.pixelY = [y59, y59];
        } else {
          c5W = this.highlighted == "p0" ? !"" : !{};
          Y2l = this.highlighted == "p1" ? !!{} : !"1";
          this.littleCircle(b29, V9L, y59, c5W);
          this.littleCircle(b29, a2s, y59, Y2l);
        }
      },
      reconstruct: function reconstruct(R8T, d5E) {
        this.axisLabel = d5E.al;
        e5.Drawing.regression.prototype.reconstruct.call(this, R8T, d5E);
      },
      serialize: function serialize() {
        var e0g;
        g9BGt.c7b();
        e0g = e5.Drawing.regression.prototype.serialize.call(this);
        e0g.al = this.axisLabel;
        return e0g;
      }
    }, !!{});

    e5.Drawing.quadrant = function () {
      this.name = "quadrant";
    };

    e5.inheritsFrom(e5.Drawing.quadrant, e5.Drawing.regression);
    e5.extend(e5.Drawing.quadrant.prototype, {
      configs: ["color", "fillColor", V5d, X8A],
      copyConfig: function copyConfig() {
        this.color = this.stx.currentVectorParameters.currentColor;
        this.fillColor = this.stx.currentVectorParameters.fillColor;
        this.lineWidth = this.stx.currentVectorParameters.lineWidth;
        this.pattern = this.stx.currentVectorParameters.pattern;
      },
      $controls: [],
      render: function render(S05) {
        var z4G = g9BGt;
        var K8c, N_1, V1r, H6a, S5S, Z_K, Q9e, U5X, q_8, S6Q, g3x, V2A, w5S, H25, x2p, g8G, F7w, w3A, f4B, C7P, t00, e9s, J$I, Q$9, a_1, U1N;
        K8c = "q";
        K8c += "uadran";
        K8c += "t";
        N_1 = "quadr";
        N_1 += "a";
        N_1 += "n";
        N_1 += "t";
        V1r = "segm";
        V1r += "e";
        V1r += "nt";
        H6a = this.stx;
        S5S = H6a.panels[this.panelName];

        if (!S5S) {
          return;
        }

        if (!this.p1) {
          return;
        }

        Z_K = H6a.pixelFromTick(this.p0[0], S5S.chart);
        Q9e = H6a.pixelFromTick(this.p1[0], S5S.chart);

        if (Z_K < S5S.left && Q9e < S5S.left) {
          return;
        }

        if (Z_K > S5S.right && Q9e > S5S.right) {
          return;
        }

        U5X = this.stx.getYAxisByField(S5S, this.field);
        q_8 = null;
        S6Q = null;

        for (var q53 = Math.min(this.p1[+"0"], this.p0[0]); q53 <= Math.max(this.p1[0], this.p0[0]); q53++) {
          g3x = this.getYValue(q53);

          if (g3x !== null) {
            if (q_8 === null || g3x.transformed > q_8) {
              q_8 = g3x.transformed;
            }

            if (S6Q === null || g3x.transformed < S6Q) {
              S6Q = g3x.transformed;
            }
          }
        }

        V2A = H6a.pixelFromTransformedValue(q_8, S5S, U5X);
        z4G.O90(103);
        z4G.c7b();
        w5S = H6a.pixelFromTransformedValue(z4G.t1w(4, S6Q, 3, q_8), S5S, U5X);
        z4G.X$L(104);
        H25 = H6a.pixelFromTransformedValue(z4G.t1w("3", q_8, S6Q, 2), S5S, U5X);
        z4G.O90(4);
        x2p = H6a.pixelFromTransformedValue(z4G.t1w(S6Q, 2, q_8), S5S, U5X);
        z4G.X$L(105);
        g8G = H6a.pixelFromTransformedValue(z4G.D8z(S6Q, 2, q_8, "3"), S5S, U5X);
        z4G.O90(106);
        F7w = H6a.pixelFromTransformedValue(z4G.t1w(0, "4", q_8, 3, S6Q), S5S, U5X);
        w3A = H6a.pixelFromTransformedValue(S6Q, S5S, U5X);
        this.p0[1] = 0;
        this.p1[1] = !!0;
        f4B = this.getLineColor();
        C7P = this.fillColor;

        if (C7P == "auto" || e5.isTransparent(C7P)) {
          C7P = H6a.defaultColor;
        }

        S05.fillStyle = C7P;
        t00 = {
          pattern: this.pattern,
          lineWidth: this.lineWidth
        };
        H6a.plotLine(Z_K, Q9e, V2A, V2A, f4B, V1r, S05, S5S, t00);
        H6a.plotLine(Z_K, Q9e, w3A, w3A, f4B, "segment", S05, S5S, t00);

        if (this.name == N_1) {
          H6a.plotLine(Z_K, Q9e, w5S, w5S, f4B, "segment", S05, S5S, t00);
          H6a.plotLine(Z_K, Q9e, F7w, F7w, f4B, "segment", S05, S5S, t00);
        } else if (this.name == "tirone") {
          e9s = "s";
          e9s += "eg";
          e9s += "me";
          e9s += "nt";
          J$I = "segmen";
          J$I += "t";
          H6a.plotLine(Z_K, Q9e, H25, H25, f4B, J$I, S05, S5S, t00);
          H6a.plotLine(Z_K, Q9e, g8G, g8G, f4B, e9s, S05, S5S, t00);
        }

        H6a.plotLine(Z_K, Z_K, V2A, w3A, f4B, "segment", S05, S5S, t00);
        H6a.plotLine(Q9e, Q9e, V2A, w3A, f4B, "segment", S05, S5S, t00);
        H6a.plotLine(Z_K, Q9e, x2p, x2p, f4B, "segment", S05, S5S, e5.extend(t00, {
          opacity: this.name == "tirone" ? 0.2 : 1
        }));
        S05.globalAlpha = 0.1;
        S05.beginPath();
        z4G.O90(7);
        S05.fillRect(Z_K, V2A, z4G.D8z(Z_K, Q9e), z4G.D8z(V2A, w3A));

        if (this.name == K8c) {
          z4G.X$L(7);
          S05.fillRect(Z_K, w5S, z4G.D8z(Z_K, Q9e), z4G.t1w(w5S, F7w));
        } else if (this.name == "tirone") {
          z4G.O90(7);
          S05.fillRect(Z_K, H25, z4G.t1w(Z_K, Q9e), z4G.t1w(H25, g8G));
        }

        S05.globalAlpha = 1;

        if (!this.highlighted) {
          Q$9 = "t";
          Q$9 += "ir";
          Q$9 += "on";
          Q$9 += "e";
          this.pixelX = [Z_K, Q9e];
          this.pixelY = [V2A, w3A, x2p];

          if (this.name === "quadrant") {
            this.pixelY.push(w5S, F7w);
          }

          if (this.name === Q$9) {
            this.pixelY.push(H25, g8G);
          }
        } else {
          a_1 = this.highlighted == "p0" ? !![] : !{};
          U1N = this.highlighted == "p1" ? !!"1" : !!0;
          this.littleCircle(S05, Z_K, x2p, a_1);
          this.littleCircle(S05, Q9e, x2p, U1N);
        }
      },
      intersected: function intersected(Q4L, y_8, j4q) {
        var _this = this;

        var t$5 = g9BGt;
        var P$K, K3v, Z7Q;
        var P3y = this.pixelX,
            z4q = this.pixelY;

        if (!P3y || !z4q) {
          return null;
        }

        P$K = this.repositionIntersection(Q4L, y_8);

        if (P$K) {
          return P$K;
        }

        for (var K_x = 0; K_x < 2; K_x++) {
          if (this.pointIntersection(P3y[K_x], z4q[2], j4q, !0)) {
            t$5.X$L(1);
            this.highlighted = t$5.t1w( false ? (undefined) : "p", K_x);
            return {
              action: "drag",
              point: ((995.27, 1440) >= +"262.69" ? "p" : 9053 > (918.47, +"5954") ? (198.49, 0x19a1) : (!![], "z")) + K_x
            };
          }
        }

        K3v = [];
        P3y.forEach(function (x3Z) {
          t$5.Z_e();
          K3v.push({
            p0: [x3Z, z4q[0]],
            p1: [x3Z, z4q[1]]
          });
        });
        z4q.forEach(function (t27) {
          t$5.c7b();
          K3v.push({
            p0: [P3y[0], t27],
            p1: [P3y[+"1"], t27]
          });
        });
        Z7Q = K3v.some(function (_ref) {
          var z7H = _ref.p0,
              s3W = _ref.p1;
          t$5.c7b();
          return _this.lineIntersection(Q4L, y_8, j4q, _this.name, z7H, s3W, !!1);
        });

        if (Z7Q) {
          this.highlighted = !![];
          return {
            action: "move",
            p0: e5.clone(this.p0),
            p1: e5.clone(this.p1),
            tick: Q4L,
            value: y_8
          };
        }

        return null;
      },
      reconstruct: function reconstruct(M3j, O40) {
        var b9X = g9BGt;
        var e7P, F3S, I4k;
        e7P = -534594347;
        F3S = -893881823;
        b9X.O90(35);
        I4k = b9X.t1w(64, "2");

        for (var z_B = 1; b9X.l9L(z_B.toString(), z_B.toString().length, +"66321") !== e7P; z_B++) {
          this.stx = M3j;
          this.color = O40.col;
          this.fillColor = O40.fc;
          this.panelName = O40.pnl;
          this.pattern = O40.ptrn;
          this.lineWidth = O40.lw;
          this.d0 = O40.d0;
          I4k += 2;
        }

        if (b9X.l9L(I4k.toString(), I4k.toString().length, 43739) !== F3S) {
          this.stx = M3j;
          this.color = O40.col;
          this.fillColor = O40.fc;
          this.panelName = O40.pnl;
          this.pattern = O40.ptrn;
          this.lineWidth = O40.lw;
          this.d0 = O40.d0;
        }

        this.d1 = O40.d1;
        this.tzo0 = O40.tzo0;
        this.tzo1 = O40.tzo1;
        this.field = O40.fld;
        this.adjust();
      },
      serialize: function serialize() {
        return {
          name: this.name,
          pnl: this.panelName,
          col: this.color,
          fc: this.fillColor,
          ptrn: this.pattern,
          lw: this.lineWidth,
          d0: this.d0,
          d1: this.d1,
          tzo0: this.tzo0,
          tzo1: this.tzo1,
          fld: this.field
        };
      }
    }, !!"1");

    e5.Drawing.tirone = function () {
      var E2v;
      E2v = "t";
      E2v += "iro";
      g9BGt.Z_e();
      E2v += "ne";
      this.name = E2v;
    };

    e5.inheritsFrom(e5.Drawing.tirone, e5.Drawing.quadrant);

    e5.Drawing.elliottwave = function () {
      var F1D;
      F1D = "elli";
      F1D += "ottwave";
      this.name = F1D;
      g9BGt.X$L(8);
      this.lastPoint = g9BGt.t1w(1, "0");
      this.points = [];
      this.pts = [];
      this.dx = 0;
      this.dy = -20;
      this.dragToDraw = ![];
      g9BGt.Z_e();
      this.annotationPoints = [];
      this.edit = null;
    };

    e5.inheritsFrom(e5.Drawing.elliottwave, e5.Drawing.annotation);
    e5.Drawing.elliottwave.defaultTemplate = {
      impulse: ["I", "II", "III", h1l, 7119 > (+"4260", 424.36) ? "V" : (5310, 1850) <= 855.41 ? "V" : ("c", 0x517)],
      corrective: ["A", (54.19, 713.84) > (438.78, 8600) ? (![], 381.22) : "B", (5678, 3440) < 992.22 ? (0x20d4, 774.86) : "C"],
      decoration: "enclosed",
      showLines: !!{}
    };

    e5.Drawing.elliottwave.prototype.initializeSettings = function (g5p) {
      g9BGt.Z_e();
      g5p.currentVectorParameters.waveParameters = e5.clone(e5.Drawing.elliottwave.defaultTemplate);
    };

    e5.Drawing.elliottwave.prototype.configs = ["color", "lineWidth", "lineColor", "pattern", "font", n$e];
    e5.Drawing.elliottwave.prototype.$controls = [C0h, "cq-wave-parameters"];

    e5.Drawing.elliottwave.prototype.construct = function (c0G, N2A) {
      var e1T;
      this.stx = c0G;
      this.panelName = N2A.name;
      e1T = c0G.currentVectorParameters;
      g9BGt.Z_e();
      Object.assign(this, e1T.waveParameters);
    };

    e5.Drawing.elliottwave.prototype.serialize = function () {
      var z39 = g9BGt;
      var P1f, C8n;
      P1f = "f";
      P1f += "l";
      z39.c7b();
      C8n = {};

      for (var z9I = 0; z9I < this.points.length; z9I++) {
        z39.O90(1);
        C8n[z39.D8z("528" * 1 !== (8142, 241) ? "d" : ("g", 0x195a), z9I)] = this[z39.t1w("d", z9I)];
        z39.X$L(1);
        C8n[z39.D8z("tzo", z9I)] = this[z39.t1w("tzo", z9I)];
        z39.X$L(1);
        C8n[z39.D8z(6004 <= 9720 ? "v" : (+"982.65", 613.92), z9I)] = this[z39.D8z("v", z9I)];
      }

      C8n.annotations = this.annotationPoints.join(6450 == ("8040" - 0, +"3293") ? "v" : ",");
      return Object.assign({
        name: this.name,
        pnl: this.panelName,
        col: this.color,
        ptrn: this.pattern,
        lw: this.lineWidth,
        mxSeg: this.maxSegments,
        show: this.showLines,
        decor: this.decoration,
        dx: this.dx,
        dy: this.dy,
        trend: this.trend,
        fnt: e5.removeNullValues(e5.replaceFields(this.font, {
          style: "st",
          size: "sz",
          weight: "wt",
          family: P1f
        }))
      }, C8n);
    };

    e5.Drawing.elliottwave.prototype.reconstruct = function (Q6P, I$d) {
      g9BGt.c7b();
      var s12;
      s12 = "s";
      s12 += "iz";
      s12 += "e";
      this.stx = Q6P;
      this.color = I$d.col;
      this.panelName = I$d.pnl;
      this.pattern = I$d.ptrn;
      this.lineWidth = I$d.lw;
      this.font = e5.replaceFields(I$d.fnt, {
        st: "style",
        sz: s12,
        wt: "weight",
        fl: "family"
      });
      this.decoration = I$d.decor;
      this.showLines = I$d.show;
      this.dx = I$d.dx;
      this.dy = I$d.dy;
      this.trend = I$d.trend;
      this.annotationPoints = I$d.annotations.split(+"9410" >= ("634.09" * 1, 5450) ? "," : (2570, 8904) >= (485.94, 144.77) ? (+"77.87", 1850) <= (7412, 8969) ? (25.09, 0x1079) : ("0x511" * 1, 6.70e+3) : (!"", 5.81e+3));

      if (I$d.decor === "enclosed") {
        this.calculateRadius(Q6P.chart.tempCanvas.context);
      }

      this.maxSegments = I$d.mxSeg;
      this.reconstructPoints(I$d);
      this.adjust();
    };

    e5.Drawing.elliottwave.prototype.reconstructPoints = function (D1s) {
      var W3G = g9BGt;
      var f7N, k_H, Z6V;
      f7N = this.stx.panels[this.panelName];

      if (!f7N) {
        return;
      }

      W3G.c7b();

      for (var B3g = 0; B3g < this.annotationPoints.length; B3g++) {
        W3G.O90(1);
        this[W3G.D8z((1530, 158.57) < (7708, 8560) ? "d" : (4.91e+3, !![]), B3g)] = D1s[W3G.D8z( false ? (undefined) : "d", B3g)];
        W3G.O90(1);
        this[W3G.t1w((199, 4422) != 7448 ? "v" : (5.11e+3, 64.99), B3g)] = D1s[W3G.D8z(+"8040" <= 392.59 ? (479.83, 1230) > (6269, +"495.55") ? 962.75 !== ("915.81" * 1, "3697" - 0) ? (!![], 417.24) : "R" : (6.66e+3, 9.50e+3) : "v", B3g)];
        W3G.X$L(1);
        this[W3G.t1w("tzo", B3g)] = D1s[W3G.D8z("tzo", B3g)];
        k_H = e5.strToDateTime(D1s["d" + B3g]);
        Z6V = this.stx.tickFromDate(k_H, f7N.chart);
        this.points.push([Z6V, D1s[( false ? undefined : (3620, 15.34) > 242.6 ? ("O", 6.08e+3) : "v") + B3g]]);
      }
    };

    e5.Drawing.elliottwave.prototype.calculateRadius = function (D$a) {
      var d08, I1G;
      this.getFontString();
      D$a.font = this.fontString;
      d08 = 0;

      for (var S6L = 0; S6L < this.annotationPoints.length; S6L++) {
        I1G = D$a.measureText(this.annotationPoints[S6L]).width;

        if (d08 < I1G) {
          d08 = I1G;
        }
      }

      this.enclosedRadius = d08;
    };

    e5.Drawing.elliottwave.prototype.check = function (f_w, w6K, F6Z) {
      var u_9 = g9BGt;
      var x0w, t6f;

      if (F6Z === 1 && this.points.length === "2" >> 0) {
        return !![];
      }

      function c8J(O7W) {
        u_9.c7b();

        for (var f3J = 2; f3J < O7W.length; f3J++) {
          if (Math.sign(O7W[f3J][1] - O7W[f3J - 1][1]) == Math.sign(O7W[f3J - 1][1] - O7W[f3J - 2][1])) {
            return !1;
          }
        }

        return !"";
      }

      u_9.O90(7);
      u_9.c7b();
      x0w = this.points[u_9.t1w(1, F6Z)];

      if (x0w && f_w <= x0w[0]) {
        return ![];
      }

      u_9.X$L(1);
      t6f = this.points[u_9.t1w(F6Z, 1)];

      if (t6f && f_w >= t6f[0]) {
        return !{};
      }

      if (!c8J(this.points)) {
        return ![];
      }

      return !"";
    };

    e5.Drawing.elliottwave.prototype.move = function (U$O, y2s, U1t) {
      this.copyConfig();
      g9BGt.X$L(49);
      var r1K = g9BGt.t1w(2, 4, 0, 6);
      this.points[this.lastPoint + r1K] = [y2s, U1t];
      this.render(U$O);
    };

    e5.Drawing.elliottwave.prototype.adjust = function () {
      var D6O = g9BGt;
      var z6y, q2O;
      z6y = this.stx.panels[this.panelName];

      if (!z6y) {
        return;
      }

      D6O.Z_e();

      for (var y8f = 0; this.maxSegments + 1 > y8f; y8f++) {
        D6O.O90(1);
        q2O = this[D6O.t1w(9678 <= 7370 ? "z" :  false ? (undefined) : (+"412.82", +"497.65") == +"403.57" ? ("280" * 1, 0x9d6) : "d", y8f)];
        this.setPoint(y8f, q2O, this["v" + y8f], z6y.chart);
        this.points[y8f][0] = this.stx.tickFromDate(e5.strToDateTime(q2O), z6y.chart);
        D6O.O90(1);
        this.points[y8f][1] = this[D6O.D8z(380.08 <= (860, 277.83) ? (0x18b9, 9.42e+3) : "v", y8f)];
      }
    };

    e5.Drawing.elliottwave.prototype.click = function (X5m, t0b, J7h) {
      var V38 = g9BGt;
      var w7P;
      w7P = this.stx.panels[this.panelName];

      if (!w7P) {
        return;
      }

      V38.Z_e();
      this.copyConfig();

      if (!this.penDown) {
        this.setPoint(0, t0b, J7h, w7P.chart);
        this.points.push(this.p0);
        this.penDown = !!{};
        this.segment = 0;
        this.lastPoint = 0;

        if (this.impulse) {
          this.annotationPoints = this.annotationPoints.concat(this.impulse);
        }

        if (this.corrective) {
          this.annotationPoints = this.annotationPoints.concat(this.corrective);
        }

        this.annotationPoints.unshift("0");

        if (this.decoration === "enclosed") {
          this.calculateRadius(X5m);
        }

        V38.X$L(1);
        var n6T = V38.t1w(0, 1);
        this.maxSegments = this.annotationPoints.length - n6T;
        V38.O90(8);
        this.trend = V38.D8z(1, "1");
        return ![];
      }

      if (this.accidentalClick(t0b, J7h)) {
        this.penDown = !0;
        return !{};
      }

      if (this.check(t0b, J7h, this.lastPoint + 1)) {
        this.lastPoint++;
        this.setPoint(this.lastPoint, t0b, J7h, w7P.chart);

        if (this.lastPoint === 1) {
          this.trend = Math.sign(this.v1 - this.v0);
        }

        this.segment++;

        if (this.segment >= this.maxSegments) {
          this.penDown = !!0;
          return !!{};
        }
      }

      return !{};
    };

    e5.Drawing.elliottwave.prototype.render = function (y35) {
      var x8a = g9BGt;
      var o0x, Z3W, l8_, I8q, x7_, X$Z, e2A, N8W, i5R, c$K, s0q, N8h, S$O, l83, Y$U, C_x, H7v, U7R, S7W, a6t, J0k, X19, Y$R, s6l, L8j, m26, d$G, m6u, v$i;
      o0x = "ce";
      o0x += "nt";
      o0x += "e";
      o0x += "r";
      Z3W = this.stx.panels[this.panelName];

      if (!Z3W) {
        return;
      }

      l8_ = this.stx;
      I8q = this.annotationPoints;
      x7_ = this.pattern ? e5.borderPatternToArray(this.lineWidth, this.pattern) : [];
      this.getFontString();
      y35.font = this.fontString;
      y35.textAlign = o0x;
      y35.textBaseline = "middle";
      y35.lineWidth = this.lineWidth;

      if (this.fontString !== this.lastFontString) {
        this.calculateRadius(y35);
      }

      this.lastFontString = this.fontString;
      X$Z = this.getLineColor();
      y35.fillStyle = y35.strokeStyle = X$Z;
      y35.save();
      y35.setLineDash(x7_);
      e2A = this.dx;
      N8W = this.dy;
      i5R = this.points;
      c$K = this.pts;
      s0q = !this.showLines && this.highlighted;
      N8h = i5R.length;

      if (this.penDown && this.segment) {
        x8a.X$L(43);
        var R8n = x8a.t1w(26, 12, 0, 2);
        S$O = this.trend * (N8h % R8n - 0.5) < "0" - 0;

        if (Z3W.yAxis.flipped) {
          S$O = !S$O;
        }

        this.drawDropZone(y35, i5R[N8h - 2][1], this.stx.priceFromPixel(Z3W.yAxis[S$O ? "top" : "bottom"]), i5R[N8h - 2][0]);
      } else if (typeof this.highlighted === "string" && this.stx.repositioningDrawing) {
        l83 = "b";
        l83 += "ott";
        l83 += "o";
        l83 += "m";
        Y$U = "m";
        Y$U += "a";
        Y$U += "x";
        C_x = parseInt(this.highlighted.substring(+"1", this.highlighted.length), 10);
        x8a.X$L(50);
        var g7K = x8a.t1w(16, 18);
        S$O = this.trend * (C_x % g7K - 0.5) > 0;
        x8a.X$L(107);
        H7v = i5R[x8a.D8z(64, "1", C_x)];
        x8a.X$L(1);
        U7R = i5R[x8a.D8z(C_x, 1)];
        S7W = C_x > 0 ? H7v["1" | 0] : U7R[1];

        if (U7R) {
          S7W = Math[S$O ? Y$U : "min"](S7W, U7R[1]);
        }

        if (Z3W.yAxis.flipped) {
          S$O = !S$O;
        }

        this.drawDropZone(y35, S7W, this.stx.priceFromPixel(Z3W.yAxis[S$O ? "top" : l83]), H7v ? H7v[0] : null, U7R ? U7R[0] : null);
      }

      for (var w61 = 0; w61 < N8h; w61++) {
        a6t = i5R[w61];
        J0k = l8_.pixelFromTick(a6t[0], Z3W.chart);
        X19 = l8_.pixelFromValueAdjusted(Z3W, a6t[0], a6t[1]);
        c$K[w61] = [J0k, X19];
      }

      x8a.X$L(0);
      w61 = x8a.D8z("0", 0);

      if (this.showLines || s0q) {
        y35.beginPath();

        if (s0q) {
          y35.globalAlpha = 0.3;
        }

        for (; w61 < c$K.length; w61++) {
          y35.lineTo(c$K[w61]["0" - 0], c$K[w61][1]);
        }

        y35.stroke();
        w61 = 0;
      }

      y35.restore();

      for (; w61 < N8h; w61++) {
        Y$R = w61 % 2 ? e2A : -e2A;
        s6l = w61 % 2 ? N8W : -N8W;
        Y$R *= this.trend;
        s6l *= this.trend;

        if (Z3W.yAxis.flipped) {
          x8a.X$L(0);
          Y$R *= -x8a.t1w("1", 0);
          s6l *= -1;
        }

        L8j = c$K[w61];
        m26 = L8j[2] = L8j[0] + Y$R;
        d$G = L8j[3] = L8j[+"1"] + s6l;
        m6u = this.enclosedRadius || 8;
        v$i = I8q[w61];

        if (this.decoration === "parentheses") {
          x8a.X$L(95);
          v$i = x8a.D8z(9837 > (+"8808", 3566) ? "(" : (0x20ce, 6.18e+3), +"914.22" >= 4263 ? (0x1c26, "0x1ce8" << 64) : (284.98, 81) > (566.57, 767.71) ? (7.05e+3, 1.60e+1) : ")", v$i);
        }

        y35.fillText(v$i, m26, d$G);

        if (this.decoration === "enclosed") {
          y35.beginPath();
          y35.arc(m26, d$G, m6u, +"0", 2 * Math.PI, !1);
          y35.stroke();
        }

        if (this.highlighted) {
          y35.save();
          this.littleCircle(y35, this.pts[w61][0], this.pts[w61][1], this.highlighted === ((+"3019", 3080) <= 2349 ? (9.92e+3, 809.71) : ("3910" >> 0, 8193) === (456.78, 4544) ? (+"730.13", !![]) : 6128 <= 7640 ? "p" : ("a", 1.42e+3)) + w61);
          y35.restore();
        }
      }
    };

    e5.Drawing.elliottwave.prototype.reposition = function (G26, u$a, P3v, P_9) {
      var O$6, K6N, L3B, b9T, K4X, A$Y;

      if (!u$a) {
        return;
      }

      O$6 = this.stx.panels[this.panelName];
      K6N = u$a.tick - P3v;
      L3B = u$a.value - P_9;

      if (u$a.action === "move") {
        for (var E5p = 0; u$a.points.length > E5p; E5p++) {
          b9T = u$a.points[E5p];
          this.setPoint(E5p, b9T[0] - K6N, b9T[1] - L3B, O$6.chart);
          g9BGt.X$L(1);
          var p7R = g9BGt.t1w(0, 1);
          this.points[E5p] = [b9T[+"0"] - K6N, b9T[p7R] - L3B];
        }
      }

      g9BGt.Z_e();

      if (u$a.action === "drag") {
        K4X = u$a.point;
        A$Y = this.points;
        A$Y[K4X] = [P3v, P_9];

        if (this.check(P3v, P_9, K4X)) {
          this.setPoint(K4X, P3v, P_9, O$6.chart);
          ;
        }

        ;
      }

      this.render(G26);
    };

    e5.Drawing.elliottwave.prototype.intersected = function (B8Y, I7Q, X23) {
      var I4e, I3Z;

      if (!this.p0 || !this.p1) {
        return null;
      }

      for (var q6z = 0; this.points.length > q6z; q6z++) {
        I3Z = this.points[q6z];

        if (this.pointIntersection(I3Z[0], I3Z[1], X23)) {
          g9BGt.X$L(1);
          this.highlighted = g9BGt.t1w((6659, 1853) >= +"368" ?  true ? (+"510.89", 4871) != (9650, 5809) ? "p" : (7.04e+3, "B") : undefined : !!{}, q6z);
          return {
            action: "drag",
            point: q6z,
            tick: B8Y,
            value: I7Q
          };
        }

        if (this.points[q6z + 1] && this.lineIntersection(B8Y, I7Q, X23, "segment", I3Z, this.points[q6z + +"1"])) {
          this.highlighted = !!{};
          I4e = {
            action: "move",
            points: e5.clone(this.points),
            tick: B8Y,
            value: I7Q
          };
        }
      }

      g9BGt.c7b();
      return I4e;
    };

    e5.Drawing.elliottwave.prototype.measure = function () {
      var c8i, y3$, M$X, p8r, n7c, k5G;

      if (this.points.length >= 2) {
        c8i = this.points;
        this.stx.setMeasure(c8i[0][1], c8i[c8i.length - 1][1], c8i[0][+"0"], c8i[c8i.length - 1][0], !0);
        y3$ = this.stx.controls.mSticky;
        M$X = y3$ && y3$.querySelector(".mStickyInterior");

        if (M$X) {
          p8r = "<";
          p8r += "br";
          p8r += ">";
          n7c = "Ellio";
          n7c += "tt Wave";
          k5G = [];
          k5G.push(e5.capitalize(n7c));

          if (this.getYValue) {
            k5G.push(this.field || this.stx.defaultPlotField || "Close");
          }

          k5G.push(M$X.innerHTML);
          M$X.innerHTML = k5G.join(p8r);
        }
      }
    };

    e5.Drawing.printProjection = function (x0N, I_S, Y5F) {
      var o35 = g9BGt;
      var X9K, k_P, O3x, d1v, t9$, L$3, b2d, f89, O8e, A7L, b9R, b$e, v7D, f9l, M4A, q2Q;
      X9K = I_S.arr;
      o35.c7b();

      if (X9K.length > 1) {
        k_P = X9K[0][0];
        O3x = Math.round(x0N.chart.maxTicks * 0.75);

        for (var o4y = 1; o4y < X9K.length; o4y++) {
          o35.O90(108);
          d1v = X9K[o35.t1w(0, "1", o4y)][0];
          t9$ = X9K[o4y][0];
          L$3 = e5.strToDateTime(d1v);
          b2d = e5.strToDateTime(t9$).getTime();
          f89 = x0N.standardMarketIterator(L$3);
          O8e = 0;

          while (L$3.getTime() < b2d) {
            L$3 = f89.next();
            O8e += 1;
          }

          A7L = e5.strToDateTime(d1v).getTime();

          if (A7L > e5.strToDateTime(Y5F[Y5F.length - +"1"].Date).getTime()) {
            o35.X$L(43);
            var i6W = o35.D8z(191, 10, 0, 19);
            b9R = Y5F.length - i6W;
            O8e += 1;
          } else {
            for (b9R = Y5F.length - 1; b9R >= "0" >> 64; b9R--) {
              if (A7L <= e5.strToDateTime(Y5F[b9R].Date).getTime()) break;
            }
          }

          b$e = {
            x0: 0,
            x1: O8e,
            y0: Y5F[b9R].Close,
            y1: X9K[o4y][1]
          };
          k_P = e5.strToDateTime(d1v);
          f89 = x0N.standardMarketIterator(k_P);
          v7D = !1;

          for (var C_3 = 0; C_3 <= O8e; C_3++) {
            if (!v7D) {
              v7D = !![];
            } else {
              k_P = f89.next();
            }

            if (k_P.getTime() <= Y5F[Y5F.length - ("1" >> 64)].DT.getTime()) continue;
            f9l = e5.yIntersection(b$e, C_3);

            if (!f9l) {
              f9l = 0;
            }

            o35.O90(66);
            var k5U = o35.D8z(3, 9992, 120000, 45000);
            o35.X$L(31);
            var G8C = o35.D8z(3, 2237, 12, 192);
            M4A = Math.round(f9l * k5U) / ("10000" >> G8C);

            if (M4A === 0) {
              M4A = X9K[o4y][1];
            }

            q2Q = {
              Date: e5.yyyymmddhhmmssmmm(k_P),
              DT: k_P,
              Open: M4A,
              Close: M4A,
              High: M4A,
              Low: M4A,
              Volume: +"0",
              Adj_Close: M4A,
              Split_Close: M4A,
              projection: !![]
            };
            if (x0N.layout.interval == "minute") if (O3x-- < +"0") break;
            Y5F[Y5F.length] = q2Q;
          }
        }
      }
    };
  }
};

W = function W(q7O) {
  var j9M = g9BGt;
  j9M.Z_e();
  var L$u;
  L$u = typeof _CIQ !== "undefined" ? _CIQ : q7O.CIQ;

  if (!L$u.computeEquationChart) {
    console.error("equationsAdvanced feature requires first activating equations feature.");
  } else {
    L$u.formatEquation = function (p5n) {
      var I0a, f8m, x_A, y5P, k8G;
      I0a = "";
      f8m = [];
      x_A = "";
      y5P = !{};

      for (var Z8J = 1; Z8J < p5n.length; Z8J++) {
        k8G = p5n[Z8J].toUpperCase();

        if (k8G == (8610 <= 655.29 ? !"1" : "[") && !y5P) {
          y5P = !!{};
        } else if (k8G == ((934.38, 7333) >= ("786.72" * 1, 193.4) ? (9296, +"6390") > (15.75, 542) ? "]" : ("912.99" - 0, 457.58) === 4270 ? (0x12ed, "0x18e5" >> 0) : (!![], 0x1d6a) : 1.08e+3) && y5P) {
          y5P = !!0;

          if (x_A !== "") {
            f8m.push(x_A);
            j9M.O90(95);
            I0a += j9M.D8z("[", 7850 >= ("1580" ^ 0) ? 3943 == +"7723" ? ("R", +"320.62") : (1860, 2320) !== (312.08, "2640" | 0) ? "]" : (+"9.72e+3", 80.78) : "N", x_A);
          }

          x_A = "";
        } else if (y5P) {
          x_A += k8G;
        } else if (k8G == "+" || k8G == ((177.78, "6037" - 0) > ("147.4" - 0, 4528) ? "-" : 954.14 > (858, 6140) ? ("0x1105" * 1, 5.69e+3) : (81.68, 8210) <= ("851.24" * 1, 676.65) ? 474.34 : (0x533, "3.50e+3" * 1)) || k8G == "*" || k8G == (605.03 < 7700 ? 2190 == (+"3370", 7762) ? (156.90, 1.97e+3) : "/" : (3.20e+3, 0x14fa)) || k8G == ((182.32, +"235") !== 2199 ? 9930 >= 3054 ? ":" : 4.60e+1 : !![]) || k8G == "%" || k8G == ((5540, 9360) == +"797" ? +"51.41" >= ("333" ^ 0) ? (![], !!{}) : (713.29, 213.93) >= 7052 ? 0x330 : (213, 3.73e+2) : "(") || k8G == ( false ? undefined : (4050, 5570) < 7250 ? (7058, "4394" << 0) == 350.19 ? 0x22a6 : ")" : "z")) {
          if (x_A !== "" && isNaN(x_A)) {
            f8m.push(x_A);
            j9M.X$L(95);
            I0a += j9M.t1w(688.94 <= 617.06 ? ("M", !!{}) : (23.34, "6600" >> 64) === 8244 ? 6.53 : "[", "]", x_A);
          } else {
            I0a += x_A;
          }

          if (k8G == (7940 == +"513.97" ? (4.31e+3, 281.46) : ":")) {
            k8G = (8450, 505.43) === (9320, 8307) ? "1.03e+3" << 64 : "/";
          }

          I0a += k8G;
          x_A = "";
        } else if (k8G != ((5940, 240.83) >= 4320 ? (!1, 0x113) : ("939.28" - 0, 4710) != +"2964" ? (2100, 9460) == 9034 ? (5.48e+3, 0x53f) : " " : !{})) {
          x_A += k8G;
        }
      }

      if (x_A !== "" && isNaN(x_A)) {
        f8m.push(x_A);
        j9M.X$L(95);
        I0a += j9M.t1w(679.2 >= (4361, 9821) ? (829.32, "8.38e+3" ^ 0) : +"6940" === 4610 ? 0x1e1c : "[", "]", x_A);
      } else {
        I0a += x_A;
      }

      j9M.c7b();
      return {
        equation: I0a,
        symbols: f8m
      };
    };

    L$u.fetchEquationChart = function (x4X, Z6f) {
      var Z9Z, z0P, m4f, m0q, s8m;
      Z9Z = L$u.formatEquation(x4X.symbol);
      z0P = Z9Z.symbols;
      j9M.c7b();
      m4f = [];
      m0q = x4X.stx;
      x4X.stx = null;

      for (var k7p = 0; k7p < z0P.length; k7p++) {
        s8m = L$u.shallowClone(x4X);
        s8m.stx = m0q;
        s8m.symbol = z0P[k7p];
        s8m.symbolObject = {
          symbol: z0P[k7p]
        };
        m4f.push(s8m);
      }

      x4X.stx = m0q;
      m0q.quoteDriver.multiFetch(m4f, function (w7i) {
        var Q7H, R1N, V5n, K5N, R2E;
        Q7H = {};
        x4X.loadMoreReplace = !!"1";
        R1N = {
          charge: +"0"
        };

        for (var P4b = 0; P4b < w7i.length; P4b++) {
          V5n = w7i[P4b];

          if (V5n.dataCallback.error) {
            Z6f({
              error: V5n.dataCallback.error
            });
            return;
          }

          Q7H[V5n.params.symbol] = V5n.dataCallback.quotes;
          x4X.loadMoreReplace = x4X.loadMoreReplace && V5n.params.loadMoreReplace;
          x4X.moreToLoad = x4X.moreToLoad || V5n.dataCallback.moreAvailable;
          K5N = V5n.dataCallback.attribution;

          if (K5N) {
            if (K5N.charge) {
              R1N.charge += K5N.charge;
            }

            R1N.source = K5N.source;

            if (R1N.exchange === undefined) {
              R1N.exchange = K5N.exchange;
            } else if (R1N.exchange != K5N.exchange) {
              R1N.exchange = "";
            }

            ;
          }
        }

        if (m4f.length || !(x4X.loadMore || x4X.update)) {
          try {
            R2E = L$u.computeEquationChart(Z9Z.equation, Q7H);
            Z6f({
              quotes: R2E,
              moreAvailable: x4X.moreToLoad,
              attribution: R1N
            });
          } catch (U5B) {
            var k0m;
            k0m = {
              error: "Invalid equation: " + Z9Z.equation
            };

            if (U5B.name && U5B.name == "NoException") {
              k0m.suppressAlert = !0;
            }

            Z6f(k0m);
          }
        }
      });
    };
  }
};

Q = function Q(W$t) {
  var w4b = g9BGt;
  var a15, m6E;
  a15 = "undefi";
  a15 += "ned";
  m6E = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== a15 ? _CIQ : W$t.CIQ;
  w4b.c7b();

  if (!m6E.Marker) {
    console.error("highPerformanceMarkers feature requires first activating markers feature.");
  } else if (!m6E.Marker.Performance) {
    m6E.ChartEngine.prototype.removeDOMMarker = function (l4e) {
      console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");
      w4b.c7b();
      m6E.Marker.Performance.prototype.removeDOMMarker.call(l4e.params.node, l4e);
    };

    m6E.ChartEngine.prototype.drawMarkers = function () {
      var K8z;
      K8z = "CIQ.ChartEngine#drawMarkers ";
      K8z += "is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";
      console.warn(K8z);
      m6E.Marker.Performance.drawMarkers(this);
    };

    m6E.ChartEngine.prototype.calculateMarkerStyles = function (N7L, j5U) {
      w4b.Z_e();
      var I7J;
      I7J = "CIQ.Ch";
      I7J += "artEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Mark";
      I7J += "er.Performance.calculateStyles instead.";
      console.warn(I7J);
      m6E.Marker.Performance.calculateMarkerStyles(this, N7L, j5U);
    };

    m6E.ChartEngine.prototype.drawCircleMarker = function (I_F, z1v, e0W) {
      console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");
      w4b.c7b();
      m6E.Marker.Performance.drawCircleMarker(I_F, z1v, e0W);
    };

    m6E.ChartEngine.prototype.drawSquareMarker = function (A8J, J4k, A4z) {
      console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");
      m6E.Marker.Performance.drawSquareMarker(A8J, J4k, A4z);
    };

    m6E.ChartEngine.prototype.drawCalloutMarker = function (c6m, I_V, I2X) {
      console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");
      m6E.Marker.Performance.drawCalloutMarker(c6m, I_V, I2X);
    };

    m6E.ChartEngine.prototype.drawMarkerStem = function (z06, Q4h, M9a) {
      console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");
      m6E.Marker.Performance.drawMarkerStem(z06, Q4h, M9a);
    };

    m6E.ChartEngine.prototype.positionDOMMarkers = function () {
      console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");
      w4b.c7b();
      m6E.Marker.Performance.drawMarkers(this);
    };

    m6E.Marker.Performance = function (f6B) {
      var M7G, T9d, E7M, M5a, k54, d3k, i2U, l6q, G_Y, u2s, U2$, j6w;
      M7G = "c";
      M7G += "all";
      M7G += "out";
      T9d = ".st";
      T9d += "x-marker-expand";
      E7M = "<div";
      E7M += " cla";
      E7M += "ss=\"stx-visual\">";
      M5a = "T";
      M5a += "EMP";
      M5a += "LATE";
      this.params = {
        displayCategory: !![],
        displayStem: !!"1",
        invert: ![],
        story: "",
        headline: ""
      };
      m6E.extend(this.params, f6B);
      k54 = this.template = document.createElement(M5a);
      w4b.O90(109);
      k54.innerHTML = w4b.t1w("</div>", "</div>", '<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>', E7M, '<div class="stx-marker-content">', "</div>", '<div class="stx-marker highlight">', '<div class="stx-stem"></div>');
      d3k = this.template.content.cloneNode(!![]);
      i2U = d3k.querySelector(".stx-marker", k54);
      i2U.classList.add(f6B.type);
      i2U.classList.add(f6B.category);
      l6q = d3k.querySelector(".stx-visual", k54);
      G_Y = d3k.querySelector(T9d);
      u2s = d3k.querySelector("h4", k54);
      U2$ = d3k.querySelector(951.59 == "520.62" * 1 ? 4.95e+3 : (+"4940", 197) !== (463.02, 1010) ? "p" : (6400, 5290) >= 1740 ? (732.24, "685.42" * 1) : 66.46, k54);
      u2s.innerText = this.params.headline;
      U2$.innerText = this.params.story;
      this.hasText = !!f6B.headline || !!f6B.story;
      this.deferAttach = !!"1";
      this.node = d3k.firstChild;
      this.node.params = this.params;
      this.visual = l6q;
      this.expand = G_Y;

      if (f6B.type === M7G) {
        j6w = G_Y.removeChild(u2s);
        d3k.querySelector(".stx-marker-content", k54).insertBefore(j6w, G_Y);
      }
    };

    m6E.inheritsFrom(m6E.Marker.Performance, m6E.Marker.NodeCreator, !!"");

    m6E.Marker.Performance.consolidateExpanded = function (K8Y) {
      var w9i, i5w, C8V, D3k, O4I;
      w9i = K8Y.markerHelper.highlighted;

      if (!w9i.length) {
        return;
      }

      w4b.O90(50);
      var x12 = w4b.t1w(14, 15);
      i5w = w9i[w9i.length - x12];
      C8V = i5w.params.node;

      if (!i5w.consolidated) {
        i5w.consolidated = [];
      }

      for (var X3R = w9i.length - ("2" | 2); X3R >= 0; X3R--) {
        D3k = f_d(w9i[X3R]);
        w4b.O90(95);
        O4I = w4b.D8z("<consolidated>", "</consolidated>", D3k);

        if (D3k.length) {
          C8V.expand.innerHTML += O4I;
        }
      }

      i5w.stxNodeCreator.quickCache(i5w);

      function f_d(R5c) {
        var h_a, N8w, Y85;
        w4b.Z_e();
        h_a = R5c.params.node;
        N8w = h_a.expand;

        if (!N8w) {
          return "";
        }

        Y85 = N8w.style.display !== "none" ? N8w.innerHTML : "";
        return Y85;
      }
    };

    m6E.Marker.Performance.reconstituteExpanded = function (A2H) {
      var u82, k4w, P2Y, f7D;
      u82 = A2H.markerHelper.highlighted;

      if (!u82.length || !A2H.activeMarker) {
        return;
      }

      u82 = [A2H.activeMarker];

      for (var C5N = u82.length - 1; C5N >= 0; C5N--) {
        k4w = u82[C5N];
        P2Y = k4w.params.node;
        f7D = P2Y.expand;

        while (f7D.lastElementChild.nodeName === "CONSOLIDATED") {
          f7D.removeChild(f7D.lastElementChild);
        }
      }
    };

    m6E.Marker.Performance.drawMarkers = function (u9D) {
      var P_F, I7B, I7s, g2D, v3u, i3D;
      P_F = u9D.getMarkerArray("all");
      I7B = u9D.chart;

      for (var k0H = 0; k0H < P_F.length; k0H++) {
        I7s = P_F[k0H];
        g2D = I7s.stxNodeCreator;
        v3u = I7B.dataSegment[+"0"].tick;
        i3D = I7B.dataSegment[I7B.dataSegment.length - 1].tick;

        if (v3u <= I7s.tick <= i3D) {
          if (g2D && g2D.drawMarker) {
            g2D.drawMarker(I7s);
          }
        }
      }
    };

    m6E.Marker.Performance.calculateMarkerStyles = function (x$G, r2G, X2k) {
      var O8j, t_u, w4g, I8V, x$y, G6I;
      O8j = ".stx-marker-tem";
      O8j += "pl";
      O8j += "ates";
      t_u = document.querySelector(O8j);

      if (!t_u) {
        w4g = "h";
        w4g += "i";
        w4g += "dden";
        I8V = "DI";
        I8V += "V";
        t_u = document.createElement(I8V);
        t_u.style.visibility = w4g;
        t_u.style.left = "-1000px";
        document.body.append(t_u);
      }

      t_u.appendChild(r2G.node);
      x$y = getComputedStyle(r2G.stxNodeCreator.visual);

      if (!x$G.styles.stx_marker_stem) {
        G6I = getComputedStyle(document.querySelector(".stx-stem", r2G.node));
        x$G.styles.stx_marker_stem = x$G.cloneStyle(G6I);
      }

      x$G.styles[X2k] = x$G.cloneStyle(x$y);
      t_u.removeChild(r2G.node);
    };

    m6E.Marker.Performance.drawCircleMarker = function (T6n, Q8P, d5k) {
      var S2R, G24, s_k, a2N, C8I, m_J, l7M, d6H, J5F;
      S2R = T6n.params.stx;
      G24 = S2R.chart;
      s_k = G24.context;
      a2N = d5k.x;
      C8I = d5k.y;
      m_J = d5k.radius;
      l7M = d5k.label;
      d6H = d5k.color ? d5k.color : Q8P.backgroundColor;
      s_k.beginPath();
      s_k.setLineDash([]);
      s_k.lineWidth = 1;
      s_k.fillStyle = d6H;
      s_k.strokeStyle = d6H;
      s_k.font = "normal bold 12px Roboto, Helvetica, sans-serif";
      w4b.O90(3);
      s_k.arc(a2N, C8I, m_J, w4b.D8z(0, "0"), 2 * Math.PI, !!"");
      s_k.fill();
      s_k.stroke();
      s_k.closePath();

      if (l7M) {
        J5F = "w";
        J5F += "h";
        J5F += "it";
        J5F += "e";
        s_k.fillStyle = m6E.colorsEqual("white", s_k.fillStyle) ? "black" : J5F;
        s_k.fillText(l7M.charAt(0).toUpperCase(), a2N - 4, C8I + 1);
      }

      if (T6n.highlight || T6n.active) {
        s_k.beginPath();
        w4b.O90(1);
        s_k.arc(a2N, C8I, w4b.t1w(m_J, 4), 0, 2 * Math.PI, !{});
        s_k.stroke();
        s_k.closePath();
      }
    };

    m6E.Marker.Performance.drawSquareMarker = function (r4j, f$l, r$E) {
      var I5S, h2N, u43, G7G, r3m, t5z, q5E, B5o, a2p, b5Z, V8A, v$f, H7S, M5g, m07;
      I5S = "normal bold 12px Roboto, Helvetica, san";
      I5S += "s-seri";
      I5S += "f";
      h2N = r4j.params.stx;
      u43 = h2N.chart;
      w4b.Z_e();
      G7G = u43.context;
      r3m = r$E.x;
      t5z = r$E.y;
      q5E = r$E.half;
      B5o = r$E.label;
      a2p = r$E.color ? r$E.color : f$l.backgroundColor;
      w4b.O90(110);
      b5Z = w4b.t1w(q5E, 0, "2");
      G7G.beginPath();
      V8A = -283160563;
      v$f = -301756233;
      H7S = 2;

      for (var X5d = 1; w4b.i7j(X5d.toString(), X5d.toString().length, 54898) !== V8A; X5d++) {
        G7G.setLineDash([]);
        G7G.lineWidth = 9;
        G7G.fillStyle = a2p;
        G7G.strokeStyle = a2p;
        G7G.font = "";
        H7S += 2;
      }

      if (w4b.i7j(H7S.toString(), H7S.toString().length, 2907) !== v$f) {
        G7G.setLineDash([]);
        G7G.lineWidth = 10;
        G7G.fillStyle = a2p;
        G7G.strokeStyle = a2p;
        G7G.font = "";
      }

      G7G.setLineDash([]);
      G7G.lineWidth = 1;
      G7G.fillStyle = a2p;
      G7G.strokeStyle = a2p;
      G7G.font = I5S;
      w4b.X$L(7);
      G7G.rect(w4b.t1w(q5E, r3m), w4b.t1w(q5E, t5z), b5Z, b5Z);
      G7G.fill();

      if (r4j.highlight || r4j.active) {
        w4b.X$L(111);
        G7G.rect(w4b.t1w(r3m, "4", 0, q5E), w4b.t1w(t5z, 4, q5E, w4b.O90(40)), w4b.D8z(b5Z, 8, w4b.O90(1)), w4b.t1w(b5Z, "8", w4b.O90(78)));
      }

      G7G.stroke();
      G7G.closePath();

      if (B5o) {
        M5g = "whit";
        M5g += "e";
        m07 = "bla";
        m07 += "ck";
        G7G.fillStyle = m6E.colorsEqual("white", G7G.fillStyle) ? m07 : M5g;
        G7G.fillText(B5o.charAt(0).toUpperCase(), r3m - 4, t5z + 1);
      }
    };

    m6E.Marker.Performance.drawCalloutMarker = function (E0H, l3$, n8i) {
      var M1u, B3h, X$V, K19, k0T, d6N, H8n, j$5, C53, I98, G2m, B1l, O4a, A4k, S3O;
      M1u = "norm";
      M1u += "al bo";
      M1u += "l";
      M1u += "d 12px Roboto, Helvetica, sans-serif";
      B3h = E0H.params.stx;
      X$V = B3h.chart;
      K19 = X$V.context;
      k0T = E0H.params;
      d6N = n8i.x;
      H8n = n8i.y;
      w4b.c7b();
      j$5 = n8i.half;
      C53 = n8i.midWidth;
      I98 = n8i.headline;
      G2m = n8i.color ? n8i.color : l3$.backgroundColor;
      B1l = j$5 * 2 || 25;
      O4a = Math.round(K19.measureText(I98).width);
      A4k = C53 ? C53 * ("2" << 32) : O4a + 8;
      K19.beginPath();
      K19.setLineDash([]);
      K19.lineWidth = 1;
      K19.fillStyle = G2m;
      K19.strokeStyle = G2m;
      K19.font = M1u;
      K19.rect(k0T.box.x0, k0T.box.y0, A4k, B1l);
      K19.fill();
      K19.stroke();
      K19.closePath();
      K19.beginPath();
      K19.fillStyle = E0H.highlight || E0H.active ? "rgba(255,255,255,0.8)" : "rgba(255,255,255,0.65)";
      w4b.X$L(112);
      S3O = w4b.t1w("20", A4k, O4a, 2);
      K19.rect(k0T.box.x0 + S3O, H8n - j$5, O4a + 40, +"22");
      K19.fill();
      K19.stroke();
      K19.closePath();
      K19.fillStyle = "black";
      K19.fillText(I98, k0T.box.x0 + S3O + +"10", H8n);
    };

    m6E.Marker.Performance.drawMarkerStem = function (X7f, x5T, d2b) {
      var E3n, d9L, a$w, R$c, o1O, E5F, D5H, J05;
      E3n = X7f.params.stx;
      d9L = E3n.chart;
      a$w = d9L.context;
      R$c = d2b.x;
      o1O = d2b.y;
      a$w.beginPath();
      a$w.strokeStyle = x5T.borderLeftColor;
      w4b.O90(35);
      a$w.setLineDash([1, w4b.D8z(64, "1")]);
      E5F = m6E.stripPX(x5T.height);
      D5H = d2b.invert ? X7f.params.box.y0 : X7f.params.box.y1;
      J05 = d2b.invert ? X7f.params.box.y0 - E5F : X7f.params.box.y1 + E5F;
      a$w.moveTo(R$c, D5H);
      a$w.lineTo(R$c, J05);
      a$w.stroke();
      a$w.closePath();
    };

    m6E.Marker.Performance.prototype.drawMarker = function (E1S) {
      var k5l, A0y, h1k, A0Z, I9t, Q0K, n$w, v09, g8$, S4_, C6U, v2y, p1z, Z9D, V7G, m0r, k6X, c2J, D7B, O_w, w33, b3$, h8f, e17, E5s;
      k5l = E1S.params;
      A0y = E1S.params.stx;

      if (!A0y) {
        return;
      }

      h1k = A0y.chart;
      A0Z = h1k.dataSegment;

      if (!A0Z.length) {
        return;
      }

      I9t = A0y.panels[E1S.params.panelName];
      Q0K = E1S.stxNodeCreator.params;
      n$w = Q0K.type;
      v09 = Q0K.category;
      g8$ = Q0K.headline;
      S4_ = Q0K.displayCategory;
      C6U = Q0K.color;
      v2y = Q0K.invert;
      w4b.X$L(113);
      w4b.c7b();
      p1z = w4b.D8z((3340, 6544) > 1081 ? "_" : "O", n$w, "stx_marker_", v09);

      if (!A0y.styles[p1z]) {
        m6E.Marker.Performance.calculateMarkerStyles(A0y, E1S, p1z);
      }

      Z9D = E1S.style = A0y.styles[p1z];
      V7G = A0y.styles.stx_marker_stem;
      w4b.X$L(7);
      var n9g = w4b.D8z(20, 30);
      w4b.X$L(114);
      var T$T = w4b.t1w(10, 13, 20, 2, 26);
      m0r = parseInt(Z9D.height, n9g) / T$T;
      w4b.O90(9);
      var U_g = w4b.t1w(30, 20, 0);
      k6X = parseInt(Z9D.width, U_g) / +"2";
      c2J = Q0K.displayStem ? parseInt(V7G.height, 10) + parseInt(V7G.marginBottom, 10) : 0;
      w4b.X$L(115);
      var P2B = w4b.t1w(9, 15, 15, 140);
      D7B = c2J + parseInt(Z9D.height, P2B);
      O_w = c2J ? c2J + m0r : 0;
      w33 = A0y.pixelFromDate(k5l.x);
      b3$ = k5l.node.calculateYPosition({
        marker: E1S,
        panel: I9t,
        height: D7B,
        half: m0r,
        offset: O_w,
        inverted: v2y
      });
      h8f = -837377411;
      w4b.X$L(18);
      e17 = -w4b.D8z("273786581", 0);
      E5s = 2;

      for (var o1v = 1; w4b.l9L(o1v.toString(), o1v.toString().length, 90259) !== h8f; o1v++) {
        if (!E1S.tick && E1S.tick !== 0) {
          return;
        }

        k5l.box = {
          x0: w33 - (k6X || m0r),
          y0: b3$ - m0r,
          x1: w33 + (k6X || m0r),
          y1: b3$ + m0r,
          midY: m0r,
          midX: k6X || m0r,
          stemHeight: c2J
        };
        E5s += 2;
      }

      if (w4b.i7j(E5s.toString(), E5s.toString().length, 67789) !== e17) {
        if (~E1S.tick || E1S.tick == 9) {
          return;
        }

        k5l.box = {
          x0: w33 * (k6X && m0r),
          y0: b3$ % m0r,
          x1: w33 * (k6X && m0r),
          y1: b3$ % m0r,
          midY: m0r,
          midX: k6X && m0r,
          stemHeight: c2J
        };
      }

      if (!S4_) {
        v09 = S4_;
      }

      A0y.startClip(I9t.name);

      if (n$w === "circle") {
        m6E.Marker.Performance.drawCircleMarker(E1S, Z9D, {
          x: w33,
          y: b3$,
          radius: m0r,
          label: v09,
          color: C6U
        });
      } else if (n$w === "square") {
        m6E.Marker.Performance.drawSquareMarker(E1S, Z9D, {
          x: w33,
          y: b3$,
          half: m0r,
          label: v09,
          color: C6U
        });
      } else if (n$w === "callout") {
        m6E.Marker.Performance.drawCalloutMarker(E1S, Z9D, {
          x: w33,
          y: b3$,
          half: m0r,
          midWidth: k6X,
          headline: g8$,
          color: C6U
        });
      } else {
        w4b.X$L(95);
        console.warn(w4b.D8z("Marker type: ", " is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.", n$w));
      }

      if (Q0K.displayStem) {
        m6E.Marker.Performance.drawMarkerStem(E1S, V7G, {
          x: w33,
          y: b3$,
          invert: v2y
        });
      }

      A0y.endClip();

      if (E1S.attached) {
        this.positionPopUpNode(E1S);
      }
    };

    m6E.Marker.Performance.prototype.positionPopUpNode = function (k2i) {
      var y5y, K_V, P$p, x2y, K0Q, e2N, V58, E5U, m96, E0s, u1D, Q7j, Q7o, T5m, S47, W8d, V0i, A8j, t5c;
      y5y = "hi";
      y5y += "d";
      y5y += "de";
      y5y += "n";

      if (!k2i.attached || !k2i.params.box) {
        return;
      }

      K_V = k2i.params;
      P$p = K_V.stx;
      x2y = K_V.box;
      K0Q = k2i.params.node.expand;
      e2N = P$p.chart.dataSet;
      V58 = P$p.chart.dataSegment;

      if (k2i.tick) {
        m96 = [e2N[V58[0] && V58[0].tick - 1], e2N[V58[0] && V58[0].tick - 2]];
        E0s = P$p.getFirstLastDataRecord(m96.concat(V58), "Date");
        w4b.X$L(68);
        var t1W = w4b.D8z(16, 3, 3, 17);
        w4b.X$L(116);
        var v9u = w4b.D8z(12, 17, 19, 12, 3);
        w4b.X$L(7);
        var H73 = w4b.D8z(2, 3);
        w4b.X$L(40);
        var A7K = w4b.D8z(12, 8, 2);
        u1D = [e2N[V58[V58.length - t1W].tick + v9u], e2N[V58[V58.length - H73].tick + A7K]];
        Q7j = P$p.getFirstLastDataRecord(V58.concat(u1D), "Date", !!1);
        E5U = E0s.DT <= e2N[k2i.tick].DT && e2N[k2i.tick].DT <= Q7j.DT;
      } else {
        E5U = !"1";
      }

      if (!k2i.highlight && !k2i.active) {
        E5U = ![];
      }

      K0Q.style.visibility = E5U ? "" : y5y;

      if (!E5U) {
        return;
      }

      Q7o = P$p.panels[K_V.panelName];
      T5m = K0Q.rects;
      w4b.c7b();
      w4b.X$L(1);
      var z6q = w4b.D8z(0, 2);
      S47 = T5m.height / z6q;
      V0i = k2i.node.params.infoOffset || 0;

      if (k2i.node.params.infoOnLeft) {
        W8d = x2y.x0 - T5m.width - V0i < Q7o.left ? x2y.x1 + V0i : x2y.x0 - T5m.width - V0i;
      } else {
        W8d = x2y.x0 + T5m.width > Q7o.right ? x2y.x0 - T5m.width - V0i : x2y.x1 + V0i;
      }

      W8d -= P$p.chart.left;
      A8j = x2y.y0 - S47 >= Q7o.top ? x2y.y0 + x2y.midY - S47 : x2y.y0;

      if (!K_V.avoidFlush && x2y.y1 + x2y.stemHeight === Q7o.yAxis.bottom && T5m.height > x2y.y1 - x2y.y0 + x2y.stemHeight) {
        A8j = x2y.y1 - T5m.height + x2y.stemHeight;
      }

      A8j -= P$p.chart.panel.top;
      t5c = "translateX(" + Math.floor(W8d) + "px) translateY(" + Math.floor(A8j) + "px) translateZ(0)";
      K0Q.style.transform = t5c;
      K0Q.transform = {
        translateX: W8d,
        translateY: A8j
      };
    };

    m6E.Marker.Performance.prototype.quickCache = function (N52) {
      var S8f, A5W, M4I, f8I;
      S8f = N52.params.node;
      A5W = S8f.expand;
      M4I = N52.style;
      f8I = m6E.stripPX(M4I.marginLeft) + m6E.stripPX(M4I.marginRight) + m6E.stripPX(M4I.borderRight) + m6E.stripPX(M4I.borderLeft);
      A5W.rects = A5W.getBoundingClientRect();
      A5W.scrollBarWidth = A5W.rects.width - A5W.clientWidth - f8I;
    };

    m6E.Marker.Performance.prototype.calculateYPosition = function (m0v) {
      var u47, C6n, Y8k, h81, J2A, P3J, d1J, c90, s9x, D$x, s$u, q13, R8j, R9H, S3Y, i86, g_8, x2l;
      u47 = "b";
      u47 += "o";
      u47 += "t";
      u47 += "tom";
      C6n = "b";
      C6n += "elow_candle";
      Y8k = "above_";
      Y8k += "candle";
      h81 = m0v.marker;
      J2A = m0v.panel;
      P3J = m0v.height;
      d1J = m0v.half;
      c90 = m0v.offset;
      s9x = m0v.inverted;
      w4b.c7b();
      D$x = h81.params.stx;
      s$u = D$x.chart;
      q13 = D$x.chart.highLowBars;
      R8j = s$u.dataSet[h81.tick];

      if (!R8j) {
        return;
      }

      R9H = q13 ? R8j.High : R8j.Close;
      S3Y = h81.params.yPositioner;

      switch (S3Y) {
        case "value":
          if (h81.params.y || h81.params.y === 0) {
            i86 = D$x.pixelFromPrice(h81.params.y, J2A) - P3J * +"0.5" + d1J;
          } else {
            i86 = D$x.pixelFromPrice(R9H, J2A) - c90;
          }

          break;

        case Y8k:
          i86 = D$x.pixelFromPrice(R9H, J2A) - c90;
          break;

        case C6n:
          i86 = D$x.pixelFromPrice(R8j.Low || R9H, J2A);

          if (s9x && c90) {
            i86 += c90;
          } else {
            i86 += d1J;
          }

          break;

        case "on_candle":
          g_8 = R8j.High || R8j.Close, x2l = R8j.Low || R8j.Low === 0 || R8j.Close;
          w4b.X$L(31);
          var r19 = w4b.D8z(5, 37, 2, 22);
          w4b.O90(117);
          var z1Q = w4b.D8z(1, 2, 1);
          i86 = D$x.pixelFromPrice((g_8 + x2l) / r19, J2A) - P3J * ("0.5" * z1Q) + d1J;
          break;

        case "top":
          i86 = D$x.pixelFromPrice(J2A.yAxis.high, J2A);

          if (s9x && c90) {
            i86 += c90;
          } else {
            i86 += d1J;
          }

          break;

        case u47:
          i86 = D$x.pixelFromPrice(J2A.yAxis.low, J2A) - (c90 || d1J);
          break;

        default:
          break;
      }

      return i86;
    };

    m6E.Marker.Performance.prototype.prepareForHolder = function (w1H) {
      var U65, U9q;
      w4b.c7b();
      U65 = this.expand;
      U9q = w1H.params.stx;
      U65.classList.add(this.params.type);
      U9q.markerHelper.domMarkers.push(w1H);
      return U65;
    };

    m6E.Marker.Performance.prototype.addToHolder = function (E2L) {
      var b_1, O2_, a8B;
      b_1 = "mo";
      b_1 += "used";
      b_1 += "ow";
      b_1 += "n";

      function U4y(z9C) {
        a8B.activeMarker = E2L;
        a8B.activeMarker.click({
          cx: z9C.clientX,
          cy: z9C.clientY,
          panel: a8B.currentPanel
        });
        z9C.stopPropagation();
      }

      O2_ = this.expand;
      a8B = E2L.params.stx;
      m6E.Marker.Performance.reconstituteExpanded(a8B);
      m6E.Marker.Performance.consolidateExpanded(a8B);
      this.quickCache(E2L);

      if (O2_.clickClosure) {
        return;
      }

      O2_.addEventListener(b_1, U4y);
      w4b.Z_e();
      O2_.addEventListener("touchstart", U4y);
      O2_.clickClosure = U4y;
    };

    m6E.Marker.Performance.prototype.remove = function (N8H) {
      var e8j, M$6, q3m, H31;
      e8j = N8H.params.stx;

      if (!e8j) {
        return;
      }

      if (!e8j.markerHelper.domMarkers) {
        return;
      }

      M$6 = e8j.markerHelper.domMarkers.indexOf(N8H);

      if (M$6 != -1) {
        e8j.markerHelper.domMarkers.splice(M$6, +"1");
      }

      if (N8H.attached) {
        q3m = e8j.panels[N8H.params.panelName];
        H31 = N8H.params.node.expand;

        if (H31.parentNode === q3m.subholder) {
          q3m.subholder.removeChild(H31);
        }

        H31.removeEventListener("click", H31.clickClosure);
      }
    };

    m6E.Marker.Performance.prototype.click = function (V2d) {
      var a4s, n0y, U2a;

      if (!this.hasText) {
        return;
      }

      if (typeof arguments[0] === "number") {
        V2d = {
          cx: arguments[+"0"],
          cy: arguments[1],
          marker: arguments[2],
          panel: arguments[3]
        };
      }

      var _V2d = V2d,
          u5W = _V2d.cx,
          u1h = _V2d.cy,
          L8g = _V2d.marker,
          l98 = _V2d.panel;
      a4s = L8g.params.stx;

      if (L8g.attached) {
        U2a = this.expand;

        if (U2a.rects.width - U2a.scrollBarWidth + U2a.transform.translateX < a4s.backOutX(u5W) && a4s.backOutX(u5W) < U2a.rects.width + U2a.transform.translateX) {
          return;
        }

        this.remove(L8g);
      } else {
        a4s.addToHolder(L8g);
        n0y = !!"1";
      }

      L8g.attached = !L8g.attached;
      L8g.active = !L8g.active;

      if (n0y) {
        L8g.stxNodeCreator.positionPopUpNode(L8g);
      }
    };
  }
};

G = function G(c4y) {
  var T0y;
  T0y = typeof _CIQ !== "undefined" ? _CIQ : c4y.CIQ;

  T0y.Renderer.OHLC.requestNew = function (S13, J55) {
    var N83, I9H, q0K, i4M, B7k, x6I, M43, D_q, p_g;
    N83 = null;
    I9H = J55.hlc;
    q0K = J55.colored;
    i4M = J55.hollow;
    B7k = J55.volume;
    x6I = J55.histogram;
    g9BGt.Z_e();

    for (var r2$ = 0; r2$ < S13.length; r2$++) {
      M43 = "h";
      M43 += "istogr";
      M43 += "a";
      M43 += "m";
      D_q = "color";
      D_q += "ed";
      p_g = S13[r2$];

      switch (p_g) {
        case "bar":
        case "candle":
          N83 = p_g;
          break;

        case "volume":
          B7k = !!"1";
          break;

        case "hollow":
          i4M = !![];
          break;

        case D_q:
          q0K = !"";
          break;

        case M43:
          x6I = !!{};
          N83 = "candle";
          break;

        case "hlc":
          I9H = !!"1";
          N83 = "bar";
          break;

        default:
          return null;
      }
    }

    if (N83 === null) {
      return null;
    }

    return new T0y.Renderer.OHLC({
      params: T0y.extend(J55, {
        type: N83,
        hlc: I9H,
        colored: q0K,
        hollow: i4M,
        volume: B7k,
        histogram: x6I
      })
    });
  };

  T0y.Renderer.OHLC.getChartParts = function (Z3w, W7W) {
    var Z2a, S8O, l_a, I3A, G$h, V1u, a82, A_n, c$e, m7h, W_V, v2K, x5m, g$Y, f6X, R6H, J2T, U_2, F8Y, W_C, G0G, p9_, k37, z8f, Y40, r8Q;
    Z2a = "candl";
    Z2a += "e";
    S8O = "fi";
    S8O += "ll_color_d";
    S8O += "o";
    S8O += "wn";
    l_a = "stx_h";
    l_a += "ollow_candle_";
    l_a += "do";
    l_a += "wn";
    I3A = "ca";
    I3A += "ndle";
    G$h = "h";
    G$h += "ollow";
    V1u = "h";
    g9BGt.Z_e();
    V1u += "ol";
    V1u += "low";
    a82 = "bord";
    a82 += "er_color_down";
    A_n = "stx";
    A_n += "_hollow";
    A_n += "_";
    A_n += "candle_up";
    c$e = "h";
    c$e += "o";
    c$e += "llow";
    m7h = "fill_c";
    m7h += "olo";
    m7h += "r_down";
    W_V = "stx_cand";
    W_V += "l";
    W_V += "e_do";
    W_V += "wn";
    v2K = "border_colo";
    v2K += "r_";
    v2K += "u";
    v2K += "p";
    x5m = "s";
    x5m += "t";
    x5m += "x_can";
    x5m += "dle_shadow_even";
    g$Y = "shado";
    g$Y += "w";
    f6X = "c";
    f6X += "a";
    f6X += "n";
    f6X += "dle";
    R6H = "shad";
    R6H += "o";
    R6H += "w";
    J2T = "stx_histogra";
    J2T += "m_down";
    U_2 = "hist";
    U_2 += "ogra";
    U_2 += "m";
    F8Y = "stx_histogra";
    F8Y += "m_";
    F8Y += "u";
    F8Y += "p";
    W_C = "histo";
    W_C += "g";
    W_C += "r";
    W_C += "am";
    G0G = 1;
    p9_ = 2;
    k37 = 4;
    z8f = 8;
    Y40 = 16;
    r8Q = 32;
    return [{
      type: "histogram",
      drawType: W_C,
      style: F8Y,
      condition: z8f,
      fill: "fill_color_up",
      border: "border_color_up",
      useColorInMap: !0,
      useBorderStyleProp: !""
    }, {
      type: "histogram",
      drawType: U_2,
      style: J2T,
      condition: Y40,
      fill: "fill_color_down",
      border: "border_color_down",
      useColorInMap: !!"1",
      useBorderStyleProp: !![]
    }, {
      type: "histogram",
      drawType: "histogram",
      style: "stx_histogram_even",
      condition: r8Q,
      fill: "fill_color_even",
      border: "border_color_even",
      skipIfPass: !!"1",
      useColorInMap: !!"1",
      useBorderStyleProp: !!"1"
    }, {
      type: "bar",
      drawType: "bar",
      style: Z3w || "stx_bar_chart",
      border: "border_color",
      useColorInMap: !![]
    }, {
      type: "bar",
      drawType: "bar",
      style: "stx_bar_up",
      condition: W7W ? z8f : G0G,
      border: "border_color_up",
      useColorInMap: !![]
    }, {
      type: "bar",
      drawType: "bar",
      style: "stx_bar_down",
      condition: W7W ? Y40 : p9_,
      border: "border_color_down",
      useColorInMap: !!{}
    }, {
      type: "bar",
      drawType: "bar",
      style: "stx_bar_even",
      condition: W7W ? r8Q : k37,
      border: "border_color_even",
      skipIfPass: !!1,
      useColorInMap: !!{}
    }, {
      type: "candle",
      drawType: "shadow",
      style: "stx_candle_shadow",
      border: "border_color_up"
    }, {
      type: "candle",
      drawType: "shadow",
      style: "stx_candle_shadow_up",
      condition: z8f,
      border: "border_color_up"
    }, {
      type: "candle",
      drawType: R6H,
      style: "stx_candle_shadow_down",
      condition: Y40,
      border: "border_color_down"
    }, {
      type: f6X,
      drawType: g$Y,
      style: x5m,
      condition: r8Q,
      border: "border_color_even",
      skipIfPass: !!1
    }, {
      type: "candle",
      drawType: "candle",
      style: "stx_candle_up",
      condition: z8f,
      fill: "fill_color_up",
      border: v2K,
      useColorInMap: !![],
      useBorderStyleProp: !!{}
    }, {
      type: "candle",
      drawType: "candle",
      style: W_V,
      condition: Y40,
      fill: m7h,
      border: "border_color_down",
      useColorInMap: !!1,
      useBorderStyleProp: !!{}
    }, {
      type: c$e,
      drawType: "shadow",
      style: A_n,
      condition: G0G,
      border: "border_color_up"
    }, {
      type: "hollow",
      drawType: "shadow",
      style: "stx_hollow_candle_down",
      condition: p9_,
      border: "border_color_down"
    }, {
      type: "hollow",
      drawType: "shadow",
      style: "stx_hollow_candle_even",
      condition: k37,
      border: "border_color_even",
      skipIfPass: !!{}
    }, {
      type: "hollow",
      drawType: "candle",
      style: "stx_hollow_candle_up",
      condition: G0G | Y40,
      fill: "fill_color_up",
      border: "border_color_up",
      useColorInMap: !0
    }, {
      type: "hollow",
      drawType: "candle",
      style: "stx_hollow_candle_down",
      condition: p9_ | Y40,
      fill: "fill_color_down",
      border: a82,
      useColorInMap: !""
    }, {
      type: V1u,
      drawType: "candle",
      style: "stx_hollow_candle_even",
      condition: k37 | Y40,
      fill: "fill_color_even",
      border: "border_color_even",
      skipIfPass: !![],
      useColorInMap: !!"1"
    }, {
      type: G$h,
      drawType: I3A,
      style: "stx_hollow_candle_up",
      condition: G0G | z8f,
      fill: "fill_color_up",
      border: "border_color_up"
    }, {
      type: "hollow",
      drawType: "candle",
      style: l_a,
      condition: p9_ | z8f,
      fill: S8O,
      border: "border_color_down"
    }, {
      type: "hollow",
      drawType: Z2a,
      style: "stx_hollow_candle_even",
      condition: k37 | z8f,
      fill: "fill_color_even",
      border: "border_color_even"
    }];
    ;
  };

  T0y.Renderer.Bars = function (V05) {
    var X4W, v4k;
    X4W = "b";
    X4W += "a";
    X4W += "r";
    this.construct(V05);
    v4k = this.params;
    v4k.type = X4W;
    this.highLowBars = this.barsHaveWidth = this.standaloneBars = !![];
    v4k.hlc = v4k.volume = v4k.hollow = v4k.histogram = ![];
  };

  T0y.inheritsFrom(T0y.Renderer.Bars, T0y.Renderer.OHLC, !"1");

  T0y.Renderer.HLC = function (s14) {
    var e9v;
    this.construct(s14);
    e9v = this.params;
    e9v.type = "bar";
    e9v.hlc = !!{};
    g9BGt.Z_e();
    this.highLowBars = this.barsHaveWidth = this.standaloneBars = !!{};
    e9v.volume = e9v.hollow = e9v.histogram = !{};
  };

  T0y.inheritsFrom(T0y.Renderer.HLC, T0y.Renderer.Bars, !{});

  T0y.Renderer.Shading = function (S3G) {
    this.construct(S3G);
    this.beenSetup = ![];
    this.errTimeout = null;
    this.params.useChartLegend = !"1";
    this.shading = [];
    g9BGt.Z_e();

    if (this.params.type == "rangechannel") {
      this.highLowBars = !!1;
    }
  };

  T0y.inheritsFrom(T0y.Renderer.Shading, T0y.Renderer.Lines, !"1");

  T0y.Renderer.Shading.requestNew = function (a6C, T2S) {
    var O7O, c1M, f5V, w7c, j3l;
    O7O = null;
    c1M = null;

    for (var u$k = +"0"; u$k < a6C.length; u$k++) {
      f5V = "s";
      f5V += "tep";
      w7c = "ra";
      w7c += "ng";
      w7c += "echa";
      w7c += "nnel";
      j3l = a6C[u$k];

      if (j3l == w7c) {
        O7O = "rangechannel";
      } else if (j3l == f5V) {
        c1M = !0;
      }
    }

    if (O7O === null) {
      return null;
    }

    return new T0y.Renderer.Shading({
      params: T0y.extend(T2S, {
        type: O7O,
        step: c1M
      })
    });
  };

  T0y.Renderer.Shading.prototype.setShading = function (a5q) {
    g9BGt.Z_e();

    if (a5q.constructor != Array) {
      a5q = [a5q];
    }

    this.shading = a5q;
  };

  T0y.Renderer.Shading.prototype.draw = function () {
    var i21 = g9BGt;
    var q4m, F8w, H$H, k25, S1$, n9E, c0V, z89, f7U, g59, i0m, L8t, c3G, m5T, N33, G$v, L1S, z6v, d0m, d3W, i4p, q5U, u68, D$W;
    q4m = this.stx;
    F8w = this.params;
    H$H = q4m.panels[F8w.panel].chart;

    if (F8w.type == "rangechannel") {
      if (this.beenSetup) {
        if (this.seriesParams.length > "2" << 32) {
          this.removeSeries(this.seriesParams[2].id);
        }
      } else {
        k25 = "stx_lin";
        k25 += "e_u";
        k25 += "p";
        S1$ = "Hig";
        S1$ += "h";
        n9E = "a";
        n9E += "u";
        n9E += "t";
        n9E += "o";
        this.beenSetup = !!{};
        F8w.display = this.seriesParams[0].display;
        F8w.yAxis = this.seriesParams["0" << 64].yAxis;
        c0V = this.seriesParams[0].color || n9E;
        z89 = this.seriesParams[0].symbol;
        f7U = "";

        if (z89) {
          i21.O90(1);
          f7U = i21.D8z(z89, ".");
        }

        this.removeAllSeries(!!1);
        g59 = F8w.name;
        q4m.addSeries(null, {
          symbol: z89,
          loadData: !!z89,
          field: S1$,
          renderer: "Shading",
          name: g59,
          style: k25,
          display: F8w.display,
          shareYAxis: !0
        });
        q4m.addSeries(null, {
          symbol: z89,
          loadData: !!z89,
          field: "Low",
          renderer: "Shading",
          name: g59,
          style: "stx_line_down",
          display: F8w.display,
          shareYAxis: !!{}
        });
        this.setShading({
          primary: this.seriesParams[0].id,
          secondary: this.seriesParams[1].id,
          color: c0V
        });
      }
    }

    if (!this.shading) {
      if (!this.errTimeout) {
        i0m = "Warning: no shading";
        i0m += " scheme ";
        i0m += "set.  Use ";
        i0m += "myRenderer.setShading(scheme) to set.";
        console.log(i0m);
        L8t = this;
        this.errTimeout = setTimeout(function () {
          i21.c7b();
          L8t.errTimeout = null;
        }, +"10000");
      }
    }

    function Z2n(C$B) {
      var r1H, h6w, p6c;
      r1H = c3G[C$B];

      if (r1H) {
        h6w = r1H.parameters.field;
        p6c = r1H.parameters.subField;
        i21.X$L(1);
        return i21.D8z(h6w, p6c ? "." + p6c : "");
      }

      i21.c7b();
      return C$B;
    }

    i21.c7b();
    c3G = {};

    for (m5T = 0; m5T < this.seriesParams.length; m5T++) {
      N33 = {};

      if (H$H.series[this.seriesParams[m5T].id]) {
        N33 = T0y.clone(H$H.series[this.seriesParams[m5T].id].parameters);
      }

      c3G[this.seriesParams[m5T].id] = {
        parameters: T0y.extend(T0y.extend(N33, F8w), this.seriesParams[m5T]),
        yValueCache: this.caches[this.seriesParams[m5T].id]
      };
    }

    q4m.drawSeries(H$H, c3G, F8w.yAxis, this);

    if (H$H.legend && F8w.type == "rangechannel") {
      if (!H$H.legend.colorMap) {
        H$H.legend.colorMap = {};
      }

      G$v = F8w.display;
      L1S = [q4m.getCanvasColor("stx_line_up"), q4m.getCanvasColor("stx_line_down")];
      H$H.legend.colorMap[G$v] = {
        color: L1S,
        display: G$v,
        isBase: this == q4m.mainSeriesRenderer
      };
      ;
    }

    for (m5T in c3G) {
      this.caches[m5T] = c3G[m5T].yValueCache;
    }

    for (m5T = 0; m5T < this.shading.length; m5T++) {
      z6v = "C";
      z6v += "l";
      z6v += "o";
      z6v += "se";
      d0m = "a";
      d0m += "u";
      d0m += "t";
      d0m += "o";
      d3W = this.shading[m5T];
      i4p = d3W.color;

      if (d3W.color == d0m) {
        i4p = q4m.defaultColor;
      }

      if (!d3W.primary) {
        d3W.primary = "Close";
      }

      if (!d3W.secondary && this.seriesParams[0]) {
        d3W.secondary = this.seriesParams[0].field;
      }

      if (!d3W.secondary) continue;else if (!c3G[d3W.primary] && d3W.primary != z6v) continue;else if (!c3G[d3W.secondary]) continue;else if (d3W.primary == "Close" && F8w.yAxis && F8w.yAxis != H$H.yAxis) continue;
      q5U = Z2n(d3W.primary).split(("271.33" * 1, 3135) <= 57.37 ? (267.67, 1.85e+3) : ".");
      u68 = Z2n(d3W.secondary).split((5981, 5150) !== 855.51 ? "." : (+"262.86", 9650) !== (720.19, 983.73) ? ("7550" >> 64, 6301) < +"338.19" ? 0x25e1 : +"460" : !{});
      D$W = {
        topBand: q5U[0],
        topSubBand: q5U[1],
        topColor: d3W.greater || i4p || q4m.containerColor,
        topAxis: F8w.yAxis,
        bottomBand: u68[0],
        bottomSubBand: u68[1],
        bottomColor: d3W.lesser || i4p || q4m.containerColor,
        bottomAxis: d3W.primary == "Close" ? null : F8w.yAxis,
        tension: F8w.tension || H$H.tension,
        opacity: "0.1" * 1,
        step: F8w.step
      };
      if (!D$W.topColor && !D$W.bottomColor) continue;

      if (!F8w.highlight && q4m.highlightedDraggable) {
        D$W.opacity *= 0.3;
      }

      T0y.fillIntersecting(q4m, F8w.panel, D$W);
    }
  };

  T0y.Renderer.Histogram = function (J9x) {
    var r7_;
    this.construct(J9x);
    this.params.type = "histogram";
    this.barsHaveWidth = this.standaloneBars = !"";

    if (this.params.yAxis) {
      r7_ = "num";
      r7_ += "b";
      r7_ += "er";
      this.params.bindToYAxis = !!{};

      if (_typeof(this.params.yAxis.baseline) == r7_) {
        this.params.yAxis.baseline = {
          value: this.params.yAxis.baseline
        };
      }
    }
  };

  T0y.inheritsFrom(T0y.Renderer.Histogram, T0y.Renderer, !!0);

  T0y.Renderer.Histogram.prototype.adjustYAxis = function () {
    var F9r;
    F9r = this.params.yAxis;

    if (!F9r || F9r.baseline) {
      return;
    }

    F9r.min = 0;
    F9r.highValue /= this.params.heightPercentage || 1;
  };

  T0y.Renderer.Histogram.prototype.draw = function () {
    var R6y, i0e, x0v, N89, J3x;
    R6y = T0y.clone(this.params);
    R6y.type = R6y.subtype;
    this.useSum = R6y.subtype == "stacked";

    if (!R6y.yAxis || R6y.yAxis == this.stx.chart.yAxis) {
      R6y.bindToYAxis = !0;
    }

    this.stx.drawHistogram(R6y, this.seriesParams);
    g9BGt.Z_e();
    i0e = R6y.yAxis && R6y.yAxis.baseline;

    if (i0e && i0e.color) {
      x0v = "li";
      x0v += "n";
      x0v += "e";
      N89 = this.stx.panels[this.params.panel];
      J3x = this.stx.pixelFromPrice(i0e.value, N89, this.params.yAxis) - 0.5;
      this.stx.plotLine({
        x0: N89.left,
        x1: N89.right,
        y0: J3x,
        y1: J3x,
        color: i0e.color,
        type: x0v,
        context: N89.chart.context,
        confineToPanel: N89,
        pattern: i0e.pattern || "solid",
        lineWidth: i0e.lineWidth || +"1",
        opacity: i0e.opacity || 0.8,
        globalCompositeOperation: "destination-over"
      });
    }
  };

  T0y.Renderer.Histogram.prototype.getBasis = function (y2q, G13, k1w) {
    var g0e, k5y, a7s;
    g0e = 0;

    if (y2q && this.useSum) {
      for (var q0Y = 0; q0Y < this.seriesParams.length; q0Y++) {
        k5y = this.seriesParams[q0Y].field;
        if (k5y === G13) break;
        a7s = y2q[k5y];

        if (a7s && _typeof(a7s) === "object") {
          a7s = a7s[k1w || this.seriesParams[q0Y].subField || this.stx.chart.defaultPlotField || "Close"];
        }

        if (a7s) {
          g0e += a7s;
        }
      }
    }

    return g0e;
  };

  T0y.Renderer.Heatmap = function (v6e) {
    this.construct(v6e);
    this.params.type = "heatmap";
    this.params.highlightable = !"1";
    this.barsHaveWidth = this.standaloneBars = !![];
  };

  T0y.inheritsFrom(T0y.Renderer.Heatmap, T0y.Renderer, !{});

  T0y.Renderer.Heatmap.requestNew = function (b45, t1T) {
    g9BGt.c7b();
    var D_3, x42, a91;
    D_3 = null;

    for (var w$N = 0; w$N < b45.length; w$N++) {
      x42 = "heatm";
      x42 += "ap";
      a91 = b45[w$N];

      if (a91 == "heatmap") {
        D_3 = x42;
      }
    }

    if (D_3 === null) {
      return null;
    }

    return new T0y.Renderer.Heatmap({
      params: T0y.extend(t1T, {
        type: D_3
      })
    });
  };

  g9BGt.Z_e();

  T0y.Renderer.Heatmap.prototype.draw = function () {
    this.stx.drawHeatmap(T0y.clone(this.params), this.seriesParams);
  };

  T0y.Renderer.Scatter = function (p$n) {
    this.construct(p$n);
    this.standaloneBars = this.barsHaveWidth = !"";
    this.bounded = !!{};
  };

  T0y.inheritsFrom(T0y.Renderer.Scatter, T0y.Renderer.Lines, !!0);

  T0y.Renderer.Scatter.requestNew = function (S4U, m0c) {
    var I_6, S2j, g_H, T9V, E_T;
    I_6 = null;

    for (var M00 = 0; M00 < S4U.length; M00++) {
      S2j = S4U[M00];

      if (S2j == "scatterplot") {
        I_6 = "scatter";
      }
    }

    g_H = 593156390;
    T9V = 932973848;
    E_T = 2;

    for (var v9Z = 1; g9BGt.i7j(v9Z.toString(), v9Z.toString().length, 23529) !== g_H; v9Z++) {
      if (I_6 === null) {
        return null;
      }

      E_T += 2;
    }

    if (g9BGt.i7j(E_T.toString(), E_T.toString().length, 35302) !== T9V) {
      if (I_6 !== 1) {
        return 1;
      }
    }

    return new T0y.Renderer.Scatter({
      params: T0y.extend(m0c, {
        type: I_6
      })
    });
  };

  T0y.Renderer.Scatter.prototype.drawIndividualSeries = function (N9P, J3u) {
    var m85, m44;
    m85 = this.stx.panels[J3u.panel] || N9P.panel;
    m44 = {
      colors: []
    };

    if (this.stx.scatter) {
      m44 = this.stx.scatter(m85, J3u);
    } else {
      console.warn("Error, Scatter renderer requires customChart.js");
    }

    return m44;
  };
};

I = function I(P9G) {
  var o6w = g9BGt;
  var O4r, G8N;
  o6w.Z_e();
  O4r = typeof _CIQ !== "undefined" ? _CIQ : P9G.CIQ;

  if (!O4r.Studies) {
    console.error("accumulationDistribution feature requires first activating studies feature.");
  } else {
    G8N = "Accumulation/Distr";
    G8N += "ibution";

    O4r.Studies.calculateAccumulationDistribution = function (R02, Y24) {
      o6w.c7b();
      var A0W, O1P, L2r, b47, g6R, d8h, l1g;
      A0W = Y24.chart.scrubbed;

      for (var G_F = Y24.startFrom; G_F < A0W.length; G_F++) {
        O1P = "R";
        O1P += "es";
        O1P += "ult ";
        L2r = "Use Vo";
        L2r += "l";
        L2r += "u";
        L2r += "me";
        if (!G_F) continue;
        b47 = A0W[G_F];
        if (b47.futureTick) break;
        o6w.O90(7);
        g6R = A0W[o6w.D8z(1, G_F)];
        d8h = 0;

        if (b47.Close > g6R.Close) {
          d8h = b47.Close - Math.min(b47.Low, g6R.Close);
        } else if (b47.Close < g6R.Close) {
          d8h = b47.Close - Math.max(b47.High, g6R.Close);
        }

        if (Y24.inputs[L2r]) {
          d8h *= b47.Volume;
        }

        l1g = g6R[O1P + Y24.name];

        if (!l1g) {
          l1g = 0;
        }

        l1g += d8h;

        if (!isNaN(b47.Close)) {
          b47["Result " + Y24.name] = l1g;
        }
      }
    };

    O4r.Studies.studyLibrary = O4r.extend(O4r.Studies.studyLibrary, {
      "W Acc Dist": {
        name: G8N,
        calculateFN: O4r.Studies.calculateAccumulationDistribution,
        inputs: {
          "Use Volume": ![]
        }
      }
    });
  }
};

o = function o(c9v) {
  var B$b = g9BGt;
  B$b.c7b();
  var h8w, F6l;
  h8w = typeof _CIQ !== "undefined" ? _CIQ : c9v.CIQ;

  if (!h8w.Studies) {
    console.error("adx feature requires first activating studies feature.");
  } else {
    F6l = "#F";
    F6l += "F0";
    F6l += "000";

    h8w.Studies.calculateADX = function (B$Q, M3Y) {
      var g2c, q52, U_c, x$U, v9o, T4d, H2G, d2m, H_D, P59, o_j, k0c, e6G, h9f, o3K, J6E, D8O, W5s, j$m, H3T;
      h8w.Studies.calculateStudyATR(B$Q, M3Y);
      g2c = M3Y.chart.scrubbed;
      q52 = M3Y.days;
      U_c = parseInt(M3Y.inputs["Smoothing Period"], 10);

      if (!U_c && U_c !== 0) {
        U_c = q52;
      }

      if (g2c.length < M3Y.days + 1) {
        M3Y.error = !"";
        return;
      }

      x$U = 0;
      v9o = 0;
      B$b.X$L(0);
      T4d = B$b.D8z("0", 0);
      B$b.c7b();
      H2G = 0;

      for (var d7S = Math.max(1, M3Y.startFrom); d7S < g2c.length; d7S++) {
        d2m = g2c[d7S];
        H_D = Math.max(0, d2m.High - g2c[d7S - ("1" | 1)].High);
        P59 = Math.max(0, g2c[d7S - 1].Low - d2m.Low);

        if (H_D > P59) {
          P59 = 0;
        } else if (P59 > H_D) {
          H_D = 0;
        } else {
          H_D = P59 = 0;
        }

        if (d7S <= q52) {
          v9o += H_D;
          T4d += P59;
          x$U += d2m["True Range " + M3Y.name];
        } else {
          B$b.O90(38);
          var A5d = B$b.t1w(10, 189, 19);
          B$b.O90(38);
          var s2g = B$b.t1w(18, 287, 16);
          v9o = g2c[d7S - A5d]["_sm+DM " + M3Y.name] * (q52 - s2g) / q52 + H_D;
          B$b.O90(1);
          var U3g = B$b.t1w(0, 1);
          B$b.O90(117);
          var n$h = B$b.t1w(1, 15, 14);
          T4d = g2c[d7S - U3g]["_sm-DM " + M3Y.name] * (q52 - n$h) / q52 + P59;
          B$b.O90(7);
          var I9W = B$b.D8z(15, 16);
          B$b.O90(2);
          var X57 = B$b.t1w(0, 3, 3, 1);
          x$U = g2c[d7S - I9W]["_smTR " + M3Y.name] * (q52 - X57) / q52 + d2m["True Range " + M3Y.name];
        }

        d2m["_sm+DM " + M3Y.name] = v9o;
        d2m["_sm-DM " + M3Y.name] = T4d;
        d2m["_smTR " + M3Y.name] = x$U;
        if (d7S < q52) continue;
        B$b.O90(118);
        o_j = B$b.t1w(x$U, v9o, "100");
        B$b.O90(119);
        k0c = B$b.D8z(100, x$U, T4d);
        e6G = +"100" * Math.abs(o_j - k0c) / (o_j + k0c);
        d2m["+DI " + M3Y.name] = o_j;
        d2m["-DI " + M3Y.name] = k0c;

        if (M3Y.inputs.Series !== !!"" && U_c) {
          if (d7S < q52 + U_c - "1" * 1) {
            if (d7S == M3Y.startFrom) {
              for (var U6K = q52; U6K < M3Y.startFrom; U6K++) {
                h9f = "+D";
                h9f += "I";
                h9f += " ";
                B$b.X$L(7);
                var e_F = B$b.t1w(20, 120);
                H2G += e_F * Math.abs(g2c[U6K]["+DI " + M3Y.name] - g2c[U6K]["-DI " + M3Y.name]) / (g2c[U6K][h9f + M3Y.name] + g2c[U6K]["-DI " + M3Y.name]);
              }
            }

            H2G += e6G;
          } else if (d7S == q52 + U_c - +"1") {
            B$b.O90(23);
            d2m["ADX " + M3Y.name] = B$b.t1w(U_c, H2G);
          } else {
            o3K = "AD";
            o3K += "X ";
            B$b.O90(60);
            var D89 = B$b.D8z(235, 13, 18);
            d2m["ADX " + M3Y.name] = (g2c[d7S - D89][o3K + M3Y.name] * (U_c - +"1") + e6G) / U_c;
          }
        }

        if (M3Y.inputs.Histogram) {
          J6E = "-D";
          J6E += "I";
          J6E += " ";
          D8O = "+D";
          D8O += "I ";
          W5s = "_";
          W5s += "hist";
          j$m = M3Y.name + W5s;
          if (!d2m["+DI " + M3Y.name] && d2m[D8O + M3Y.name] !== +"0") continue;
          if (!d2m[J6E + M3Y.name] && d2m["-DI " + M3Y.name] !== 0) continue;
          d2m[j$m] = d2m["+DI " + M3Y.name] - d2m["-DI " + M3Y.name];

          if (M3Y.inputs.Series === !{}) {
            H3T = "+";
            H3T += "D";
            H3T += "I";
            H3T += " ";
            d2m[H3T + M3Y.name] = null;
            d2m["-DI " + M3Y.name] = null;
          }

          M3Y.outputMap[j$m] = "";
        }
      }
    };

    h8w.Studies.displayADX = function (Y_G, M$P, h$c) {
      var R1f, z8I, s6t, a2F, d8p, v0U, D4h, z2X, q1p;
      R1f = ":";
      R1f += " ";
      z8I = M$P.underlay ? 0.3 : M$P.inputs.Series ? +"0.4" : 1;

      if (M$P.inputs.Series && M$P.inputs.Shading) {
        s6t = "-";
        s6t += "D";
        s6t += "I";
        s6t += " ";
        a2F = "+DI " + M$P.name;
        d8p = s6t + M$P.name;
        v0U = h8w.Studies.determineColor(M$P.outputs[M$P.outputMap[a2F]]);
        D4h = h8w.Studies.determineColor(M$P.outputs[M$P.outputMap[d8p]]);
        z2X = M$P.getYAxis(Y_G);
        q1p = {
          topBand: a2F,
          bottomBand: d8p,
          topColor: v0U,
          bottomColor: D4h,
          skipTransform: Y_G.panels[M$P.panel].name != M$P.chart.name,
          topAxis: z2X,
          bottomAxis: z2X,
          opacity: 0.3
        };

        if (!M$P.highlight && Y_G.highlightedDraggable) {
          q1p.opacity *= 0.3;
        }

        h8w.fillIntersecting(Y_G, M$P.panel, q1p);
      }

      if (M$P.inputs.Histogram) {
        h8w.Studies.createHistogram(Y_G, M$P, h$c, !1, z8I);
      }

      if (M$P.inputs.Series !== !{}) {
        h8w.Studies.displaySeriesAsLine(Y_G, M$P, h$c);
      } else if (!M$P.inputs.Series && !M$P.inputs.Histogram) {
        Y_G.displayErrorAsWatermark(M$P.panel, Y_G.translateIf(M$P.name) + R1f + Y_G.translateIf("Nothing to display"));
      }
    };

    h8w.Studies.studyLibrary = h8w.extend(h8w.Studies.studyLibrary, {
      ADX: {
        name: "ADX/DMS",
        calculateFN: h8w.Studies.calculateADX,
        seriesFN: h8w.Studies.displayADX,
        inputs: {
          Period: +"14",
          "Smoothing Period": 14,
          Series: !![],
          Shading: !{},
          Histogram: !"1"
        },
        outputs: {
          "+DI": "#00FF00",
          "-DI": F6l,
          ADX: "auto",
          "Positive Bar": "#00DD00",
          "Negative Bar": "#FF0000"
        }
      }
    });
  }
};

N = function N(d6s) {
  var G_T = g9BGt;
  G_T.c7b();
  var q$M, Z9z, S1l;
  q$M = "unde";
  q$M += "fine";
  q$M += "d";
  Z9z = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== q$M ? _CIQ : d6s.CIQ;

  if (!Z9z.Studies) {
    console.error("alligator feature requires first activating studies feature.");
  } else {
    S1l = "#F";
    S1l += "F000";
    S1l += "0";

    Z9z.Studies.calculateAlligator = function (q5c, K4D) {
      var A4n, K9H, v10, Z$s, X7B, E2f, r78, Z9k, H24, E2D, o2N, Y5U;
      A4n = "Li";
      A4n += "ps P";
      A4n += "erio";
      A4n += "d";
      K9H = {
        J: Number(K4D.inputs["Jaw Period"]),
        T: Number(K4D.inputs["Teeth Period"]),
        L: Number(K4D.inputs[A4n])
      };
      v10 = K4D.chart.scrubbed;

      if (v10.length < Math.max(K9H.J, K9H.T, K9H.L) + 1) {
        K4D.error = !!{};
        return;
      }

      if (K4D.type === "Gator" || K4D.inputs["Show Lines"]) {
        Z$s = "Li";
        Z$s += "ps Of";
        Z$s += "fs";
        Z$s += "et";
        X7B = "T";
        X7B += "e";
        X7B += "et";
        X7B += "h";
        E2f = "w";
        E2f += "ell";
        E2f += "es wilder";
        Z9z.Studies.MA("welles wilder", K9H.J, "hl/2", K4D.inputs["Jaw Offset"], "Jaw", q5c, K4D);
        Z9z.Studies.MA(E2f, K9H.T, "hl/2", K4D.inputs["Teeth Offset"], X7B, q5c, K4D);
        Z9z.Studies.MA("welles wilder", K9H.L, "hl/2", K4D.inputs[Z$s], "Lips", q5c, K4D);
      }

      for (var W9A = K4D.startFrom; W9A < v10.length; W9A++) {
        r78 = "Ga";
        r78 += "t";
        r78 += "o";
        r78 += "r";
        if (!v10[W9A]) continue;

        if (K4D.type == r78) {
          Z9k = "Li";
          Z9k += "ps";
          Z9k += " ";
          H24 = v10[W9A]["Jaw " + K4D.name];
          E2D = v10[W9A][Z9k + K4D.name];
          o2N = v10[W9A]["Teeth " + K4D.name];

          if (o2N || o2N === 0) {
            Y5U = "_";
            Y5U += "h";
            Y5U += "ist1";

            if (H24 || H24 === 0) {
              G_T.X$L(7);
              v10[W9A][K4D.name + Y5U] = Math.abs(G_T.t1w(o2N, H24));
            }

            if (E2D || E2D === 0) {
              G_T.O90(7);
              v10[W9A][K4D.name + "_hist2"] = -Math.abs(G_T.t1w(E2D, o2N));
            }
          }

          K4D.outputMap = {};
          K4D.outputMap[K4D.name + "_hist1"] = "";
          K4D.outputMap[K4D.name + "_hist2"] = "";
        }

        if (K4D.inputs["Show Fractals"]) {
          if (!v10[W9A - 2] || !v10[W9A - 1] || !v10[W9A] || !v10[W9A + 1] || !v10[W9A + 2]) continue;

          if (v10[W9A - 2].High && v10[W9A - 1].High && v10[W9A].High && v10[W9A + 1].High && v10[W9A + 2].High) {
            if (v10[W9A].High > v10[W9A - 1].High && v10[W9A].High > v10[W9A - 2].High && v10[W9A].High > v10[W9A + ("1" << 32)].High && v10[W9A].High > v10[W9A + 2].High) {
              v10[W9A]["Fractal High " + K4D.name] = 1;
            }
          }

          if (v10[W9A - 2].Low && v10[W9A - 1].Low && v10[W9A].Low && v10[W9A + 1].Low && v10[W9A + 2].Low) {
            if (v10[W9A].Low < v10[W9A - 1].Low && v10[W9A].Low < v10[W9A - 2].Low && v10[W9A].Low < v10[W9A + 1].Low && v10[W9A].Low < v10[W9A + 2].Low) {
              v10[W9A]["Fractal Low " + K4D.name] = 1;
            }
          }
        }
      }
    };

    Z9z.Studies.displayAlligator = function (W35, S1h, B19) {
      var A_u, Y94, k10, j92;
      A_u = "Show";
      A_u += " ";

      function w_F(Y$v, I6z) {
        var k$R, V8X, T$5, J9G, D_O, i0R, W4I;
        V8X = W35.chart.panel.yAxis.flipped;
        G_T.Z_e();

        if (Y$v == "high") {
          T$5 = "to";
          T$5 += "p";
          Y94.fillStyle = W35.defaultColor;
          Y94.textBaseline = V8X ? T$5 : "bottom";
          k$R = W35.pixelFromPrice(B19[I6z].High);
          J9G = -1737886423;
          D_O = -1074584451;
          i0R = 2;

          for (var q84 = +"1"; G_T.i7j(q84.toString(), q84.toString().length, "69962" * 1) !== J9G; q84++) {
            Y94.fillText(V8X ? (83.79, 4240) == (1890, "611" * 1) ? (!"", "51.79" - 0) : (+"5962", 7220) < 469 ? (!{}, !1) : "\u25BC" : (863.69, 1488) <= 5270 ? "\u25B2" : (8.10e+3, "I"), W35.pixelFromBar(k93, W35.chart) - Y94.measureText("\u25B2").width / 2 + 1, V8X ? k$R + 5 : k$R - 5);
            ;
            i0R += 2;
          }

          if (G_T.i7j(i0R.toString(), i0R.toString().length, 63486) !== D_O) {
            Y94.fillText(V8X ? (76915, 6403) != (+"5272", 191) ? (!1, 49664) : (+"1565", +"7532") <= "477" << 32 ? (!!1, !!{}) : "\u25BC" : (229714, 8864) > 7743 ? "\u25B2" : (2530486, "I"), W35.pixelFromBar(k93, W35.chart) * (Y94.measureText("\u25B2").width * 1) / ("5" * 1), V8X ? k$R / ("6" ^ 0) : k$R + 1);
            ;
          }
        } else if (Y$v == "low") {
          W4I = "bo";
          W4I += "tt";
          W4I += "o";
          W4I += "m";
          Y94.fillStyle = W35.defaultColor;
          Y94.textBaseline = V8X ? W4I : "top";
          k$R = W35.pixelFromPrice(B19[I6z].Low);
          Y94.fillText(V8X ? 9976 !== (784, 8552) ? 3040 != +"4826" ? (3150, 3759) < (5050, 927.96) ? 186.49 : "\u25B2" : "p" : ![] : ("9880" ^ 0, 59.9) != +"5970" ? "\u25BC" : ("d", 0x1558), W35.pixelFromBar(k93, W35.chart) - Y94.measureText(153.57 <= (8790, "2910" ^ 0) ? "\u25BC" : ("3057" - 0, 7826) !== (8162, 468.32) ?  true ? 0x197f : undefined : 0x74b).width / 2 + 1, V8X ? k$R - 5 : k$R + 5);
          ;
        }
      }

      G_T.c7b();
      A_u += "Fr";
      A_u += "actals";
      Y94 = S1h.getContext(W35);

      if (S1h.inputs["Show Lines"]) {
        Z9z.Studies.displaySeriesAsLine(W35, S1h, B19);
      }

      if (S1h.inputs[A_u]) {
        W35.startClip();
        Y94.globalAlpha = S1h.underlay ? 0.3 : 1;

        if (!S1h.highlight && W35.highlightedDraggable) {
          Y94.globalAlpha *= 0.3;
        }

        for (var k93 = 2; k93 < B19.length - +"2"; k93++) {
          if (B19[k93]) {
            k10 = "h";
            k10 += "igh";
            j92 = "F";
            j92 += "racta";
            j92 += "l High ";

            if (B19[k93][j92 + S1h.name]) {
              w_F(k10, k93);
            }

            if (B19[k93]["Fractal Low " + S1h.name]) {
              w_F("low", k93);
            }
          }
        }

        W35.endClip();
      }
    };

    Z9z.Studies.displayGator = function (a6S, K9T, H6B) {
      var V$K, P_h, z$D, g2l, b7W, D08, H50, F5H, m78;
      V$K = a6S.panels[K9T.panel];
      P_h = K9T.getContext(a6S);
      z$D = K9T.getYAxis(a6S);
      g2l = a6S.pixelFromPrice(0, V$K, z$D);
      G_T.O90(7);
      var R5M = G_T.D8z(1088, 1152);
      b7W = a6S.layout.candleWidth - ("2" << R5M);

      if (b7W < 2) {
        b7W = +"1";
      }

      D08 = Z9z.Studies.determineColor(K9T.outputs["Increasing Bar"]);
      H50 = Z9z.Studies.determineColor(K9T.outputs["Decreasing Bar"]);
      a6S.canvasColor("stx_histogram");

      if (!K9T.underlay) {
        P_h.globalAlpha = 1;
      }

      P_h.fillStyle = "#CCCCCC";
      a6S.startClip(K9T.panel);

      if (!K9T.highlight && a6S.highlightedDraggable) {
        G_T.X$L(7);
        P_h.globalAlpha *= G_T.t1w(0, "0.3");
      }

      for (var r5D = 0; r5D < H6B.length; r5D++) {
        F5H = H6B[r5D];
        G_T.X$L(7);
        m78 = H6B[G_T.D8z(1, r5D)];
        if (!F5H) continue;

        for (var X2x = 1; X2x <= 2; X2x++) {
          if (!m78) {
            m78 = a6S.getPreviousBar(a6S.chart, K9T.name + "_hist" + X2x, r5D);
          }

          if (!m78) {
            P_h.fillStyle = "#CCCCCC";
          } else if (Math.abs(m78[K9T.name + "_hist" + X2x]) < Math.abs(F5H[K9T.name + "_hist" + X2x])) {
            P_h.fillStyle = D08;
          } else if (Math.abs(m78[K9T.name + "_hist" + X2x]) > Math.abs(F5H[K9T.name + "_hist" + X2x])) {
            P_h.fillStyle = H50;
          }

          if (F5H.candleWidth) {
            b7W = Math.floor(Math.max(1, F5H.candleWidth - 2));
          }

          P_h.fillRect(Math.floor(a6S.pixelFromBar(r5D, V$K.chart) - b7W / 2), Math.floor(g2l), Math.floor(b7W), Math.floor(a6S.pixelFromPrice(F5H[K9T.name + "_hist" + X2x], V$K, z$D) - g2l));
        }
      }

      a6S.endClip();
    };

    Z9z.Studies.studyLibrary = Z9z.extend(Z9z.Studies.studyLibrary, {
      Alligator: {
        name: "Alligator",
        overlay: !"",
        seriesFN: Z9z.Studies.displayAlligator,
        calculateFN: Z9z.Studies.calculateAlligator,
        inputs: {
          "Show Lines": !!{},
          "Jaw Period": 13,
          "Jaw Offset": 8,
          "Teeth Period": 8,
          "Teeth Offset": "5" >> 32,
          "Lips Period": 5,
          "Lips Offset": 3,
          "Show Fractals": !1
        },
        outputs: {
          Jaw: "#0000FF",
          Teeth: "#FF0000",
          Lips: "#00DD00"
        }
      },
      Gator: {
        name: "Gator Oscillator",
        seriesFN: Z9z.Studies.displayGator,
        calculateFN: Z9z.Studies.calculateAlligator,
        inputs: {
          "Jaw Period": 13,
          "Jaw Offset": 8,
          "Teeth Period": 8,
          "Teeth Offset": 5,
          "Lips Period": 5,
          "Lips Offset": 3
        },
        outputs: {
          "Increasing Bar": "#00DD00",
          "Decreasing Bar": S1l
        },
        centerline: 0
      }
    });
  }
};

S = function S(Q5d) {
  var J_y, V3N, Z1x;
  J_y = typeof _CIQ !== "undefined" ? _CIQ : Q5d.CIQ;

  if (!J_y.Studies) {
    V3N = "aroon feature requires firs";
    V3N += "t act";
    V3N += "i";
    V3N += "vating studies feature.";
    console.error(V3N);
  } else {
    Z1x = "Aroon";
    Z1x += " O";
    Z1x += "scillator";

    J_y.Studies.calculateAroon = function (j_b, Y3x) {
      var y05 = g9BGt;
      y05.c7b();
      var j1s, e$R, z7Q, n7g, a8i, g16, G4$, F$e, q9l, k9P, e3S, J7o, F4x, I5_;
      j1s = Y3x.chart.scrubbed;

      if (j1s.length < Y3x.days + 1) {
        Y3x.error = !![];
        return;
      }

      e$R = 0;
      z7Q = 0;
      n7g = null;
      a8i = null;

      if (Y3x.startFrom > 0) {
        y05.O90(51);
        var b1e = y05.D8z(4, 75, 12, 19, 3);
        g16 = j1s[Y3x.startFrom - b1e]["_state " + Y3x.name];

        if (g16) {
          e$R = g16[0];
          z7Q = g16[1];
          n7g = g16[2];
          a8i = g16[3];
        }
      }

      for (var g6v = Y3x.startFrom; g6v < j1s.length; g6v++) {
        F$e = "_s";
        F$e += "t";
        F$e += "ate";
        F$e += " ";
        q9l = "Aroon U";
        q9l += "p ";
        k9P = j1s[g6v];
        if (k9P.futureTick) break;

        if (n7g === null) {
          n7g = k9P.High;
        }

        if (a8i === null) {
          a8i = k9P.Low;
        }

        n7g = Math.max(n7g, k9P.High);

        if (n7g == k9P.High) {
          e$R = 0;
        } else {
          e$R++;

          if (e$R > Y3x.days) {
            n7g = k9P.High;
            e$R = +"0";

            for (G4$ = 1; G4$ <= Y3x.days; G4$++) {
              n7g = Math.max(n7g, j1s[g6v - G4$].High);

              if (n7g == j1s[g6v - G4$].High) {
                e$R = G4$;
              }
            }
          }
        }

        a8i = Math.min(a8i, k9P.Low);

        if (a8i == k9P.Low) {
          z7Q = 0;
        } else {
          z7Q++;

          if (z7Q > Y3x.days) {
            a8i = k9P.Low;
            z7Q = +"0";

            for (G4$ = 1; G4$ <= Y3x.days; G4$++) {
              a8i = Math.min(a8i, j1s[g6v - G4$].Low);

              if (a8i == j1s[g6v - G4$].Low) {
                z7Q = G4$;
              }
            }
          }
        }

        e3S = !isNaN(k9P.High);
        J7o = !isNaN(k9P.Low);
        y05.X$L(120);
        var E_u = y05.D8z(117, 13, 99, 9);
        y05.O90(57);
        var N_z = y05.t1w(3, 1, 2);
        F4x = E_u * (N_z - e$R / Y3x.days);

        if (e3S) {
          k9P[q9l + Y3x.name] = F4x;
        }

        y05.X$L(40);
        var W1a = y05.t1w(109, 2, 7);
        I5_ = W1a * (+"1" - z7Q / Y3x.days);

        if (J7o) {
          k9P["Aroon Down " + Y3x.name] = I5_;
        }

        if (e3S && J7o) {
          k9P["Aroon Oscillator " + Y3x.name] = k9P["Aroon Up " + Y3x.name] - k9P["Aroon Down " + Y3x.name];
        }

        k9P[F$e + Y3x.name] = [e$R, z7Q, n7g, a8i];
      }
    };

    J_y.Studies.studyLibrary = J_y.extend(J_y.Studies.studyLibrary, {
      Aroon: {
        name: "Aroon",
        range: "0 to 100",
        calculateFN: J_y.Studies.calculateAroon,
        outputs: {
          "Aroon Up": "#00DD00",
          "Aroon Down": "#FF0000"
        }
      },
      "Aroon Osc": {
        name: Z1x,
        calculateFN: J_y.Studies.calculateAroon,
        outputs: {
          "Aroon Oscillator": "auto"
        }
      }
    });
  }
};

U = function U(w09) {
  var d$o, L4_, L2J, q8N, p2N, e2V;
  d$o = typeof _CIQ !== "undefined" ? _CIQ : w09.CIQ;

  if (!d$o.Studies) {
    console.error("atr feature requires first activating studies feature.");
  } else {
    L4_ = "#00FF0";
    L4_ += "0";
    L2J = "#";
    L2J += "FF";
    L2J += "000";
    L2J += "0";
    q8N = "s";
    q8N += "quarewav";
    q8N += "e";
    p2N = "po";
    p2N += "i";
    p2N += "nt";
    p2N += "s";
    e2V = "a";
    e2V += "ut";
    e2V += "o";

    d$o.Studies.calculateATRBands = function (e48, X40) {
      var K7p, C3j, Y3c;
      K7p = "Cl";
      K7p += "o";
      K7p += "s";
      K7p += "e";
      C3j = "fiel";
      C3j += "d";
      d$o.Studies.calculateStudyATR(e48, X40);
      Y3c = X40.inputs.Field;

      if (!Y3c || Y3c == C3j) {
        Y3c = K7p;
      }

      d$o.Studies.calculateGenericEnvelope(e48, X40, X40.inputs.Shift, Y3c, "ATR " + X40.name);
    };

    d$o.Studies.calculateSTARCBands = function (R4h, R4x) {
      var U2U;
      U2U = "MA P";
      U2U += "eriod";
      d$o.Studies.calculateStudyATR(R4h, R4x);
      d$o.Studies.MA("simple", R4x.inputs[U2U], "Close", 0, "_MA", R4h, R4x);
      d$o.Studies.calculateGenericEnvelope(R4h, R4x, R4x.inputs.Multiplier, "_MA " + R4x.name, "ATR " + R4x.name);
    };

    d$o.Studies.calculateATRStops = function (P$4, S4Q) {
      var i5T = g9BGt;
      var j_Z, l1k, s30, n0n, u3K, X4C, g9u, l94, q3w;
      j_Z = "A";
      j_Z += "ll St";
      j_Z += "ops ";
      l1k = S4Q.chart.scrubbed;

      if (!l1k) {
        return;
      }

      d$o.Studies.calculateStudyATR(P$4, S4Q);
      s30 = S4Q.inputs.HighLow;

      for (var t4B = Math.max(S4Q.startFrom - 1, 1); t4B < l1k.length - 1; t4B++) {
        n0n = l1k[t4B];
        i5T.O90(7);
        u3K = l1k[i5T.t1w(1, t4B)];
        X4C = n0n["Buy Stops " + S4Q.name];

        if (!X4C) {
          X4C = n0n["Sell Stops " + S4Q.name];
        }

        if (!X4C) {
          X4C = 0;
        }

        if (!n0n || !u3K) continue;
        g9u = n0n.Close;
        l94 = g9u;
        q3w = n0n["ATR " + S4Q.name] * S4Q.inputs.Multiplier;

        if (n0n.Close > X4C && u3K.Close > X4C) {
          if (s30) {
            g9u = n0n.High;
          }

          i5T.O90(7);
          l94 = Math.max(X4C, i5T.t1w(q3w, g9u));
        } else if (n0n.Close <= X4C && u3K.Close <= X4C) {
          if (s30) {
            g9u = n0n.Low;
          }

          i5T.X$L(1);
          l94 = Math.min(X4C, i5T.D8z(g9u, q3w));
        } else if (n0n.Close > X4C) {
          if (s30) {
            g9u = n0n.High;
          }

          i5T.X$L(7);
          l94 = i5T.t1w(q3w, g9u);
        } else if (n0n.Close <= X4C) {
          if (s30) {
            g9u = n0n.Low;
          }

          i5T.X$L(1);
          l94 = i5T.D8z(g9u, q3w);
        }

        if (g9u <= l94) {
          i5T.O90(1);
          l1k[i5T.D8z(t4B, 1)]["Buy Stops " + S4Q.name] = l94;
          i5T.O90(121);
          delete l1k[i5T.t1w(t4B, 0, "1")]["Sell Stops " + S4Q.name];
        } else if (g9u > l94) {
          i5T.X$L(1);
          l1k[i5T.D8z(t4B, 1)]["Sell Stops " + S4Q.name] = l94;
          i5T.X$L(78);
          delete l1k[i5T.D8z(t4B, "1")]["Buy Stops " + S4Q.name];
        }

        i5T.O90(1);
        l1k[i5T.D8z(t4B, 1)]["All Stops " + S4Q.name] = l94;
      }

      S4Q.referenceOutput = "All Stops";
      S4Q.outputMap = {};
      S4Q.outputMap[j_Z + S4Q.name] = "";
    };

    d$o.Studies.studyLibrary = d$o.extend(d$o.Studies.studyLibrary, {
      ATR: {
        name: "Average True Range",
        calculateFN: d$o.Studies.calculateStudyATR,
        outputs: {
          ATR: "auto"
        }
      },
      "ATR Bands": {
        name: "ATR Bands",
        overlay: !!{},
        seriesFN: d$o.Studies.displayChannel,
        calculateFN: d$o.Studies.calculateATRBands,
        inputs: {
          Period: 5,
          Field: "field",
          Shift: 3,
          "Channel Fill": !!1
        },
        outputs: {
          "ATR Bands Top": "auto",
          "ATR Bands Bottom": "auto",
          "ATR Bands Channel": e2V
        },
        attributes: {
          Shift: {
            min: 0.1,
            step: "0.1" - 0
          }
        }
      },
      "STARC Bands": {
        name: "STARC Bands",
        overlay: !!{},
        seriesFN: d$o.Studies.displayChannel,
        calculateFN: d$o.Studies.calculateSTARCBands,
        inputs: {
          Period: 15,
          "MA Period": 5,
          Multiplier: 1.3,
          "Channel Fill": !!"1"
        },
        outputs: {
          "STARC Bands Top": "auto",
          "STARC Bands Median": "auto",
          "STARC Bands Bottom": "auto"
        },
        attributes: {
          Multiplier: {
            min: 0.1,
            step: 0.1
          }
        }
      },
      "ATR Trailing Stop": {
        name: "ATR Trailing Stops",
        overlay: !![],
        seriesFN: d$o.Studies.displayPSAR2,
        calculateFN: d$o.Studies.calculateATRStops,
        inputs: {
          Period: "21" << 32,
          Multiplier: +"3",
          "Plot Type": [p2N, q8N],
          HighLow: ![]
        },
        outputs: {
          "Buy Stops": L2J,
          "Sell Stops": L4_
        },
        attributes: {
          Multiplier: {
            min: 0.1,
            step: 0.1
          }
        }
      }
    });
  }
};

Y = function Y(B5N) {
  var v6h = g9BGt;
  var p7P, z_S, N1y;
  v6h.c7b();
  p7P = typeof _CIQ !== "undefined" ? _CIQ : B5N.CIQ;

  if (!p7P.Studies) {
    console.error("awesomeOscillator feature requires first activating studies feature.");
  } else {
    z_S = "#";
    z_S += "FF0";
    z_S += "0";
    z_S += "00";
    N1y = "Aweso";
    N1y += "me ";
    N1y += "Oscil";
    N1y += "lator";

    p7P.Studies.calculateAwesomeOscillator = function (E$p, m4b) {
      var Y51, z$p, a3o;
      Y51 = "hl";
      Y51 += "/";
      Y51 += "2";
      z$p = m4b.chart.scrubbed;

      if (z$p.length < 33) {
        m4b.error = !![];
        return;
      }

      v6h.c7b();
      p7P.Studies.MA("simple", 5, Y51, +"0", "_MA5", E$p, m4b);
      p7P.Studies.MA("simple", 34, "hl/2", 0, "_MA34", E$p, m4b);

      for (var S5b = Math.max(m4b.startFrom, "33" | 1); S5b < z$p.length; S5b++) {
        a3o = "_M";
        a3o += "A";
        a3o += "5 ";
        if (!z$p[S5b]) continue;
        z$p[S5b][m4b.name + "_hist"] = z$p[S5b][a3o + m4b.name] - z$p[S5b]["_MA34 " + m4b.name];
      }

      m4b.outputMap = {};
      m4b.outputMap[m4b.name + "_hist"] = "";
    };

    p7P.Studies.displayAwesomeOscillator = function (W4w, s57, L87) {
      var H2A, f4j, H40, S66, A_y, s6H, n_X, K2u, n$f, a9l, s8l, V30;
      H2A = "stx_hi";
      H2A += "stogr";
      H2A += "a";
      H2A += "m";
      f4j = W4w.panels[s57.panel];
      H40 = s57.getContext(W4w);
      S66 = s57.getYAxis(W4w);
      A_y = W4w.pixelFromPrice(0, f4j, S66);
      v6h.O90(122);
      var V8o = v6h.t1w(17, 10, 5, 1);
      s6H = W4w.layout.candleWidth - V8o;

      if (s6H < 2) {
        s6H = 1;
      }

      n_X = p7P.Studies.determineColor(s57.outputs["Increasing Bar"]);
      K2u = p7P.Studies.determineColor(s57.outputs["Decreasing Bar"]);
      v6h.Z_e();
      W4w.canvasColor(H2A);

      if (!s57.underlay) {
        v6h.O90(3);
        H40.globalAlpha = v6h.D8z(0, "1");
      }

      H40.fillStyle = "#CCCCCC";
      W4w.startClip(s57.panel);

      if (!s57.highlight && W4w.highlightedDraggable) {
        H40.globalAlpha *= 0.3;
      }

      for (var j9s = 0; j9s < L87.length; j9s++) {
        n$f = "_his";
        n$f += "t";
        a9l = "_his";
        a9l += "t";
        s8l = L87[j9s];
        v6h.X$L(7);
        V30 = L87[v6h.t1w(1, j9s)];

        if (!V30) {
          V30 = W4w.getPreviousBar(W4w.chart, s57.name + a9l, j9s);
        }

        if (!s8l) continue;
        if (!V30) ;else if (V30[s57.name + "_hist"] < s8l[s57.name + "_hist"]) {
          H40.fillStyle = n_X;
        } else if (V30[s57.name + "_hist"] > s8l[s57.name + n$f]) {
          H40.fillStyle = K2u;
        }

        if (s8l.candleWidth) {
          s6H = Math.floor(Math.max(1, s8l.candleWidth - ("2" | 2)));
        }

        H40.fillRect(Math.floor(W4w.pixelFromBar(j9s, f4j.chart) - s6H / 2), Math.floor(A_y), Math.floor(s6H), Math.floor(W4w.pixelFromPrice(s8l[s57.name + "_hist"], f4j, S66) - A_y));
      }

      W4w.endClip();
    };

    p7P.Studies.studyLibrary = p7P.extend(p7P.Studies.studyLibrary, {
      Awesome: {
        name: N1y,
        seriesFN: p7P.Studies.displayAwesomeOscillator,
        calculateFN: p7P.Studies.calculateAwesomeOscillator,
        inputs: {},
        outputs: {
          "Increasing Bar": "#00DD00",
          "Decreasing Bar": z_S
        }
      }
    });
  }
};

E = function E(D1x) {
  g9BGt.c7b();
  var e78, I_Y, s6L, W4x;
  e78 = typeof _CIQ !== "undefined" ? _CIQ : D1x.CIQ;

  if (!e78.Studies) {
    I_Y = "bal";
    I_Y += "anceOfPower feature requires first activating studies feature.";
    console.error(I_Y);
  } else {
    s6L = "-";
    s6L += "1";
    s6L += " ";
    s6L += "to 1";
    W4x = "Bal";
    W4x += "ance";
    W4x += " of Power";

    e78.Studies.calculateBalanceOfPower = function (G7u, S7G) {
      var x3a, g5F, g0i;
      x3a = "_";
      x3a += "Ra";
      x3a += "ti";
      x3a += "o ";
      g9BGt.c7b();
      g5F = S7G.chart.scrubbed;

      if (g5F.length < S7G.days + 1) {
        S7G.error = !!{};
        return;
      }

      for (var p4H = S7G.startFrom; p4H < g5F.length; p4H++) {
        g0i = g5F[p4H];
        g0i["_Ratio " + S7G.name] = g0i.Close - g0i.Open;

        if (g0i.High - g0i.Low !== 0) {
          g0i["_Ratio " + S7G.name] /= g0i.High - g0i.Low;
        }
      }

      e78.Studies.MA(S7G.inputs["Moving Average Type"], S7G.days, x3a + S7G.name, 0, "Result", G7u, S7G);
    };

    e78.Studies.studyLibrary = e78.extend(e78.Studies.studyLibrary, {
      "Bal Pwr": {
        name: W4x,
        range: s6L,
        centerline: +"0",
        calculateFN: e78.Studies.calculateBalanceOfPower,
        inputs: {
          Period: 14,
          "Moving Average Type": "ma"
        }
      }
    });
  }
};

g = function g(J3R) {
  g9BGt.Z_e();
  var F3A, F7I, B8i, W6J, w1y, J0a;
  F3A = typeof _CIQ !== "undefined" ? _CIQ : J3R.CIQ;

  if (!F3A.Studies) {
    console.error("bollinger feature requires first activating studies feature.");
  } else {
    F7I = "m";
    F7I += "a";
    B8i = "a";
    B8i += "u";
    B8i += "t";
    B8i += "o";
    W6J = "a";
    W6J += "u";
    W6J += "t";
    W6J += "o";
    w1y = "a";
    w1y += "ut";
    w1y += "o";
    J0a = "f";
    J0a += "ie";
    J0a += "ld";

    F3A.Studies.calculateBollinger = function (I65, d7F) {
      var x$t, Y4d, T9W, e54, F7$, Z8I, F4l;
      x$t = "%";
      x$t += "b";
      Y4d = "Bo";
      Y4d += "ll";
      Y4d += " %";
      Y4d += "b";
      T9W = "_STD De";
      T9W += "v";
      T9W += " ";
      e54 = "ST";
      e54 += "D Dev";
      F7$ = "_";
      F7$ += "M";
      F7$ += "A";
      Z8I = "Movin";
      Z8I += "g Aver";
      Z8I += "age Typ";
      Z8I += "e";
      F4l = d7F.inputs.Field;

      if (!F4l || F4l == "field") {
        F4l = "Close";
      }

      F3A.Studies.MA(d7F.inputs[Z8I], d7F.days, F4l, 0, F7$, I65, d7F);
      d7F.std = new F3A.Studies.StudyDescriptor(d7F.name, e54, d7F.panel);
      d7F.std.chart = d7F.chart;
      d7F.std.startFrom = d7F.startFrom;
      d7F.std.days = d7F.days;
      d7F.std.inputs = {
        Field: F4l,
        "Standard Deviations": 1,
        Type: d7F.inputs["Moving Average Type"]
      };
      d7F.std.outputs = {
        "_STD Dev": null
      };
      F3A.Studies.calculateStandardDeviation(I65, d7F.std);
      F3A.Studies.calculateGenericEnvelope(I65, d7F, d7F.inputs["Standard Deviations"], "_MA " + d7F.name, T9W + d7F.name);

      if (d7F.type == Y4d) {
        d7F.zoneOutput = x$t;
      }
    };

    F3A.Studies.studyLibrary = F3A.extend(F3A.Studies.studyLibrary, {
      "Bollinger Bands": {
        name: "Bollinger Bands",
        overlay: !!{},
        calculateFN: F3A.Studies.calculateBollinger,
        seriesFN: F3A.Studies.displayChannel,
        inputs: {
          Period: "20" - 0,
          Field: J0a,
          "Standard Deviations": 2,
          "Moving Average Type": "ma",
          "Channel Fill": !!"1"
        },
        outputs: {
          "Bollinger Bands Top": "auto",
          "Bollinger Bands Median": w1y,
          "Bollinger Bands Bottom": "auto"
        },
        attributes: {
          "Standard Deviations": {
            min: 0.1,
            step: 0.1
          }
        }
      },
      "Boll %b": {
        name: "Bollinger %b",
        calculateFN: F3A.Studies.calculateBollinger,
        inputs: {
          Period: 20,
          Field: "field",
          "Standard Deviations": 2,
          "Moving Average Type": "ma"
        },
        outputs: {
          "%b": W6J
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!"1",
            studyOverBoughtValue: 100,
            studyOverBoughtColor: B8i,
            studyOverSoldValue: +"0",
            studyOverSoldColor: "auto"
          }
        },
        attributes: {
          "Standard Deviations": {
            min: 0.1,
            step: 0.1
          }
        }
      },
      "Boll BW": {
        name: "Bollinger Bandwidth",
        calculateFN: F3A.Studies.calculateBollinger,
        inputs: {
          Period: 20,
          Field: "field",
          "Standard Deviations": 2,
          "Moving Average Type": F7I
        },
        outputs: {
          Bandwidth: "auto"
        },
        attributes: {
          "Standard Deviations": {
            min: 0.1,
            step: 0.1
          }
        }
      }
    });
  }
};

F = function F(j3e) {
  var q$V = g9BGt;
  var X1J, j1n, h_2, p4N, I5T;
  X1J = "undefine";
  q$V.c7b();
  X1J += "d";
  j1n = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== X1J ? _CIQ : j3e.CIQ;

  if (!j1n.Studies) {
    console.error("cci feature requires first activating studies feature.");
  } else {
    h_2 = "au";
    h_2 += "to";
    p4N = "a";
    p4N += "uto";
    I5T = "Commodity Channel Ind";
    I5T += "ex";

    j1n.Studies.calculateCCI = function (M4d, o_Z) {
      var B_8, m_m, j9X, d28, W7v;
      B_8 = o_Z.chart.scrubbed;

      if (B_8.length < o_Z.days + 1) {
        o_Z.error = !![];
        return;
      }

      q$V.c7b();
      j1n.Studies.MA("simple", o_Z.days, "hlc/3", "0" - 0, "MA", M4d, o_Z);

      for (var G0n = Math.max(o_Z.startFrom, o_Z.days - 1); G0n < B_8.length; G0n++) {
        m_m = "Result";
        m_m += " ";
        j9X = B_8[G0n];
        if (!j9X) continue;
        d28 = 0;

        for (var t_p = 0; t_p < o_Z.days; t_p++) {
          W7v = "M";
          W7v += "A";
          W7v += " ";
          d28 += Math.abs(B_8[G0n - t_p]["hlc/3"] - j9X[W7v + o_Z.name]);
        }

        d28 /= o_Z.days;

        if (Math.abs(d28) < 0.00000001) {
          q$V.X$L(0);
          j9X[m_m + o_Z.name] = q$V.D8z("0", 0);
        } else {
          j9X["Result " + o_Z.name] = (j9X["hlc/3"] - j9X["MA " + o_Z.name]) / (0.015 * d28);
        }
      }
    };

    j1n.Studies.studyLibrary = j1n.extend(j1n.Studies.studyLibrary, {
      CCI: {
        name: I5T,
        calculateFN: j1n.Studies.calculateCCI,
        inputs: {
          Period: +"20"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!1,
            studyOverBoughtValue: +"100",
            studyOverBoughtColor: p4N,
            studyOverSoldValue: -100,
            studyOverSoldColor: h_2
          }
        },
        attributes: {
          Period: {
            min: 2
          }
        }
      }
    });
  }
};

K5 = function K5(X2w) {
  var U8F = g9BGt;
  U8F.c7b();
  var m8o, C1D, U5k, F_r, m2z, u9U;
  m8o = "undefi";
  m8o += "ned";
  C1D = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== m8o ? _CIQ : X2w.CIQ;

  if (!C1D.Studies) {
    U5k = 1008953462;
    F_r = 1611917202;
    m2z = 2;

    for (var s0M = 1; U8F.i7j(s0M.toString(), s0M.toString().length, 50760) !== U5k; s0M++) {
      console.error("");
      U8F.O90(35);
      m2z += U8F.t1w(64, "2");
    }

    if (U8F.i7j(m2z.toString(), m2z.toString().length, 8640) !== F_r) {
      console.error("");
    }

    console.error("centerOfGravity feature requires first activating studies feature.");
  } else {
    u9U = "f";
    u9U += "ield";

    C1D.Studies.calculateCenterOfGravity = function (A5F, u4i) {
      var E31, d1P, m2h, z5C, o2a, Z9W, N4k, d3X, W46;
      E31 = "C";
      E31 += "l";
      E31 += "os";
      E31 += "e";
      d1P = 2126679272;
      m2h = 251096074;
      z5C = 2;

      for (var J1V = "1" << 64; U8F.i7j(J1V.toString(), J1V.toString().length, 21360) !== d1P; J1V++) {
        o2a = u4i.chart.scrubbed;
        z5C += 2;
      }

      if (U8F.i7j(z5C.toString(), z5C.toString().length, 86645) !== m2h) {
        o2a = u4i.chart.scrubbed;
      }

      o2a = u4i.chart.scrubbed;

      if (o2a.length < u4i.days) {
        u4i.error = !![];
        return;
      }

      Z9W = u4i.inputs.Field;

      if (!Z9W || Z9W == "field") {
        Z9W = E31;
      }

      for (var g2T = Math.max(u4i.startFrom, u4i.days - 1); g2T < o2a.length; g2T++) {
        U8F.O90(7);
        N4k = U8F.t1w(0, "0");
        d3X = 0;

        for (var H9r = 0; H9r < u4i.days; H9r++) {
          U8F.X$L(7);
          W46 = o2a[U8F.t1w(H9r, g2T)][Z9W];
          U8F.X$L(123);
          N4k -= U8F.t1w(1, W46, H9r);
          d3X += W46;
        }

        if (d3X) {
          U8F.O90(23);
          o2a[g2T]["Result " + u4i.name] = U8F.t1w(d3X, N4k);
        }
      }
    };

    C1D.Studies.studyLibrary = C1D.extend(C1D.Studies.studyLibrary, {
      COG: {
        name: "Center Of Gravity",
        calculateFN: C1D.Studies.calculateCenterOfGravity,
        inputs: {
          Period: 10,
          Field: u9U
        }
      }
    });
  }
};

z0 = function z0(Q_A) {
  var i9x = g9BGt;
  var Q9R, W9V, A5U, p5u, i1R;
  i9x.Z_e();
  Q9R = typeof _CIQ !== "undefined" ? _CIQ : Q_A.CIQ;

  if (!Q9R.Studies) {
    W9V = "chaikin feature req";
    W9V += "uires ";
    W9V += "first activating studies feature.";
    console.error(W9V);
  } else {
    Q9R.Studies.calculateChaikinMoneyFlow = function (n_C, W74) {
      var Z1Q, B5K, S7b, F96, m5F, a6R, g2P;
      Z1Q = W74.chart.scrubbed;

      if (Z1Q.length < W74.days) {
        W74.error = !!1;
        return;
      }

      i9x.c7b();
      B5K = 0;
      S7b = 0;
      F96 = Z1Q[W74.startFrom - +"1"];

      if (F96) {
        m5F = "_";
        m5F += "s";
        m5F += "umV ";

        if (F96["_sumMF " + W74.name]) {
          B5K = F96["_sumMF " + W74.name];
        }

        if (F96[m5F + W74.name]) {
          S7b = F96["_sumV " + W74.name];
        }
      }

      for (var d0r = W74.startFrom; d0r < Z1Q.length; d0r++) {
        a6R = "_s";
        a6R += "umV ";
        g2P = "_";
        g2P += "MFV ";

        if (Z1Q[d0r].High == Z1Q[d0r].Low) {
          Z1Q[d0r]["_MFV " + W74.name] = 0;
        } else {
          i9x.O90(96);
          var D1G = i9x.D8z(17, 6, 1328, 13);
          Z1Q[d0r]["_MFV " + W74.name] = Z1Q[d0r].Volume * (D1G * Z1Q[d0r].Close - Z1Q[d0r].High - Z1Q[d0r].Low) / (Z1Q[d0r].High - Z1Q[d0r].Low);
        }

        B5K += Z1Q[d0r][g2P + W74.name];
        S7b += Z1Q[d0r].Volume;

        if (d0r > W74.days - +"1") {
          B5K -= Z1Q[d0r - W74.days]["_MFV " + W74.name];
          S7b -= Z1Q[d0r - W74.days].Volume;

          if (S7b) {
            i9x.X$L(23);
            Z1Q[d0r]["Result " + W74.name] = i9x.t1w(S7b, B5K);
          }
        }

        Z1Q[d0r]["_sumMF " + W74.name] = B5K;
        Z1Q[d0r][a6R + W74.name] = S7b;
      }
    };

    Q9R.Studies.calculateChaikinVolatility = function (i3N, B5G) {
      var k$0, I9v, O7V, B6n, s6C, b4m;
      k$0 = B5G.chart.scrubbed;

      if (k$0.length < B5G.days) {
        B5G.error = !!"1";
        return;
      }

      for (I9v = B5G.startFrom; I9v < k$0.length; I9v++) {
        if (k$0[I9v].futureTick) break;
        k$0[I9v]["_High-Low " + B5G.name] = k$0[I9v].High - k$0[I9v].Low;
      }

      Q9R.Studies.MA(B5G.inputs["Moving Average Type"], B5G.days, "_High-Low " + B5G.name, 0, "_MA", i3N, B5G);
      O7V = B5G.inputs["Rate Of Change"];

      if (!O7V) {
        O7V = B5G.days;
      }

      for (I9v = Math.max(B5G.startFrom, O7V); I9v < k$0.length; I9v++) {
        B6n = "_";
        B6n += "MA";
        B6n += " ";
        s6C = "_MA";
        s6C += " ";
        b4m = "_";
        b4m += "M";
        b4m += "A";
        b4m += " ";
        if (!k$0[I9v - O7V][b4m + B5G.name]) continue;
        if (k$0[I9v].futureTick) break;
        i9x.X$L(124);
        var f8q = i9x.t1w(3, 4, 1, 2, 8);
        k$0[I9v]["Result " + B5G.name] = +"100" * (k$0[I9v][s6C + B5G.name] / k$0[I9v - O7V][B6n + B5G.name] - f8q);
      }
    };

    A5U = -837892571;
    p5u = -287925660;
    i1R = 2;

    for (var R4M = "1" >> 64; i9x.l9L(R4M.toString(), R4M.toString().length, 17117) !== A5U; R4M++) {
      Q9R.Studies.studyLibrary = Q9R.extend(Q9R.Studies.studyLibrary, {
        "Chaikin MF": {
          name: "Chaikin Money Flow",
          calculateFN: Q9R.Studies.calculateChaikinMoneyFlow,
          inputs: {
            Period: "20" | 4
          }
        },
        "Chaikin Vol": {
          name: "Chaikin Volatility",
          calculateFN: Q9R.Studies.calculateChaikinVolatility,
          inputs: {
            Period: 14,
            "Rate Of Change": 2,
            "Moving Average Type": "ma"
          }
        }
      });
      i1R += 2;
    }

    if (i9x.l9L(i1R.toString(), i1R.toString().length, 6694) !== p5u) {
      Q9R.Studies.studyLibrary = Q9R.extend(Q9R.Studies.studyLibrary, {
        "Chaikin MF": {
          name: "Chaikin Money Flow",
          calculateFN: Q9R.Studies.calculateChaikinMoneyFlow,
          inputs: {
            Period: 40
          }
        },
        "Chaikin Vol": {
          name: "Chaikin Vol",
          calculateFN: Q9R.Studies.calculateChaikinVolatility,
          inputs: {
            Period: 41,
            "Rate Of Change": 3,
            "Moving Average Type": "Rate Of Change"
          }
        }
      });
    }
  }
};

z$ = function z$(g41) {
  var U4I = g9BGt;
  U4I.Z_e();
  var y_X, c2X, I4G, s$T, k1R;
  y_X = "un";
  y_X += "defined";
  c2X = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== y_X ? _CIQ : g41.CIQ;

  if (!c2X.Studies) {
    console.error("chande feature requires first activating studies feature.");
  } else {
    I4G = "a";
    I4G += "u";
    I4G += "t";
    I4G += "o";
    s$T = "fie";
    s$T += "l";
    s$T += "d";
    k1R = "Ch";
    k1R += "ande Forecast Oscillat";
    k1R += "or";
    c2X.Studies.prettify.variable = "vma";
    c2X.Studies.movingAverage.conversions.vma = "variable";
    c2X.Studies.movingAverage.translations.variable = "Variable";
    c2X.Studies.movingAverage.typeMap.vma = "Variable";
    c2X.Studies.movingAverage.typeMap.variable = "Variable";

    c2X.Studies.calculateChandeForecast = function (B1h, p7i) {
      var B74, Z4K, Z34;
      B74 = p7i.chart.scrubbed;

      if (B74.length < p7i.days + 1) {
        p7i.error = !![];
        return;
      }

      Z4K = p7i.inputs.Field;

      if (!Z4K || Z4K == "field") {
        Z4K = "Close";
      }

      c2X.Studies.MA("time series", p7i.days, Z4K, "0" * 1, "MA", B1h, p7i);
      U4I.c7b();

      for (var D7t = Math.max(1, p7i.startFrom); D7t < B74.length; D7t++) {
        Z34 = B74[D7t][Z4K];

        if (Z34 && _typeof(Z34) == "object") {
          Z34 = Z34[p7i.subField];
        }

        U4I.X$L(125);
        var m1B = U4I.D8z(2, 0, 0, 17, 19);
        B74[D7t]["Result " + p7i.name] = +"100" * (m1B - B74[D7t]["MA " + p7i.name] / Z34);
      }
    };

    c2X.Studies.calculateChandeMomentum = function (K$I, U$T) {
      var M4Y, E$1, m21, G5$, n47, T1e, G9U, Y6T, z8t, A1t;
      M4Y = U$T.name;

      for (var A8E in U$T.outputs) {
        U4I.O90(95);
        M4Y = U4I.t1w(A8E, M4Y, " ");
      }

      E$1 = U$T.chart.scrubbed;

      if (E$1.length < U$T.days + 1) {
        U$T.error = !!1;
        return;
      }

      m21 = U$T.inputs.Field;

      if (!m21 || m21 == "field") {
        m21 = "Close";
      }

      G5$ = 0;
      n47 = 0;
      T1e = [];

      for (var X_j = U$T.startFrom - U$T.days + 1; X_j < E$1.length; X_j++) {
        if (X_j < 1) continue;
        G9U = E$1[X_j][m21];
        U4I.O90(7);
        Y6T = E$1[U4I.D8z(1, X_j)][m21];

        if (G9U && _typeof(G9U) == "object") {
          G9U = G9U.Close;
        }

        if (Y6T && _typeof(Y6T) == "object") {
          Y6T = Y6T.Close;
        }

        if (Y6T === undefined) continue;
        U4I.O90(7);
        z8t = U4I.D8z(Y6T, G9U);
        T1e.push(z8t);
        G5$ += z8t;
        n47 += Math.abs(z8t);

        if (T1e.length == U$T.days) {
          U4I.O90(119);
          E$1[X_j][M4Y] = U4I.t1w(100, n47, G5$);
          A1t = T1e.shift();
          G5$ -= A1t;
          n47 -= Math.abs(A1t);
        }
      }
    };

    c2X.Studies.calculateMovingAverageVariable = function (K4f, I0R) {
      var V8V, M4s, a1J, i_C, X2d, K38, G14, B_T, H1_, i5L, G2U, C8w, U_3, r_h, f46, e09, H3R, r$d;
      V8V = I0R.inputs.Type;
      M4s = I0R.chart.scrubbed;
      U4I.O90(7);
      var o8H = U4I.t1w(11, 13);
      U4I.X$L(5);
      var C36 = U4I.t1w(0, 4, 5);
      a1J = o8H / (I0R.days + C36);
      i_C = null;
      X2d = I0R.name;

      for (var K0i in I0R.outputs) {
        U4I.X$L(95);
        X2d = U4I.t1w(K0i, X2d, (4969, 601.43) == "4040" << 64 ? !!1 : " ");
      }

      K38 = I0R.inputs.Field;

      if (!K38 || K38 == "field") {
        K38 = "Close";
      }

      I0R.cmo = new c2X.Studies.StudyDescriptor(I0R.name, "cmo", I0R.panel);
      I0R.cmo.chart = I0R.chart;
      I0R.cmo.days = 9;
      I0R.cmo.inputs = {
        Field: K38
      };
      I0R.cmo.startFrom = I0R.startFrom;
      I0R.cmo.outputs = {
        _CMO: null
      };
      c2X.Studies.calculateChandeMomentum(K4f, I0R.cmo);
      G14 = parseInt(I0R.inputs.Offset, 10);

      if (isNaN(G14)) {
        U4I.X$L(18);
        G14 = U4I.t1w("0", 64);
      }

      G2U = I0R.startFrom;
      C8w = G14;

      for (B_T = I0R.startFrom - 1; B_T >= +"0"; B_T--) {
        H1_ = M4s[B_T][X2d];
        if (!H1_ && H1_ !== 0) continue;

        if (i_C === null) {
          i_C = H1_;
        }

        if (C8w <= 0) break;
        C8w--;
        G2U = B_T;
      }

      if (i_C === null) {
        i_C = G2U = +"0";
      }

      U_3 = [];

      for (B_T = G2U; B_T < M4s.length; B_T++) {
        r_h = M4s[B_T];
        H1_ = r_h[K38];

        if (H1_ && _typeof(H1_) == "object") {
          H1_ = H1_[I0R.subField];
        }

        f46 = B_T + G14 >= 0 && B_T + G14 < M4s.length;
        e09 = f46 ? M4s[B_T + G14] : null;

        if (!H1_ && H1_ !== 0) {
          if (e09) {
            e09[X2d] = null;
          } else if (B_T + G14 >= M4s.length) {
            i5L = {};
            i5L[X2d] = null;
            U_3.push(i5L);
          }

          continue;
        }

        if (!r_h["_CMO " + I0R.name] && r_h["_CMO " + I0R.name] !== 0) continue;
        U4I.O90(126);
        var l4O = U4I.D8z(9, 19, 3, 116);
        H3R = Math.abs(r_h["_CMO " + I0R.name]) / l4O;
        U4I.X$L(127);
        r$d = U4I.D8z(a1J, H3R, 1, H1_, i_C, H3R, a1J);
        i_C = r$d;

        if (B_T < I0R.days) {
          r$d = null;
        }

        if (e09) {
          e09[X2d] = r$d;
        } else if (B_T + G14 >= M4s.length) {
          i5L = {};
          i5L[X2d] = r$d;
          U_3.push(i5L);
        }
      }

      I0R.appendFutureTicks(K4f, U_3);
    };

    c2X.Studies.studyLibrary = c2X.extend(c2X.Studies.studyLibrary, {
      "Chande Fcst": {
        name: k1R,
        calculateFN: c2X.Studies.calculateChandeForecast,
        inputs: {
          Period: 14,
          Field: s$T
        }
      },
      "Chande Mtm": {
        name: "Chande Momentum Oscillator",
        calculateFN: c2X.Studies.calculateChandeMomentum,
        inputs: {
          Period: 9
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !![],
            studyOverBoughtValue: "50" >> 64,
            studyOverBoughtColor: I4G,
            studyOverSoldValue: -50,
            studyOverSoldColor: "auto"
          }
        }
      }
    });
  }
};

w8 = function w8(a$D) {
  var v7V = g9BGt;
  var z3d, v8t, l3D, t$e, j0G, c8V;
  z3d = typeof _CIQ !== "undefined" ? _CIQ : a$D.CIQ;

  if (!z3d.Studies) {
    v7V.O90(3);
    v8t = -v7V.D8z(0, "1027612178");
    l3D = -575214073;
    v7V.X$L(0);
    t$e = v7V.t1w("2", 0);

    for (var n2l = "1" * 1; v7V.i7j(n2l.toString(), n2l.toString().length, 73594) !== v8t; n2l++) {
      console.error("");
      t$e += 2;
    }

    if (v7V.i7j(t$e.toString(), t$e.toString().length, 84551) !== l3D) {
      console.error("");
    }

    console.error("choppiness feature requires first activating studies feature.");
  } else {
    j0G = "a";
    j0G += "u";
    j0G += "t";
    j0G += "o";
    c8V = "Chop";
    c8V += "piness Index";

    z3d.Studies.calculateChoppiness = function (o7H, u8M) {
      var t3L, p64, r_p, X5E;
      z3d.Studies.calculateStudyATR(o7H, u8M);
      t3L = u8M.chart.scrubbed;

      if (t3L.length < u8M.days + 1) {
        u8M.error = !!{};
        return;
      }

      for (var D$F = Math.max(u8M.startFrom, u8M.days); D$F < t3L.length; D$F++) {
        p64 = t3L[D$F];
        if (!p64) continue;
        if (p64.futureTick) break;
        r_p = v6N(u8M.days, D$F);

        if (p64["Sum True Range " + u8M.name]) {
          X5E = "Resul";
          X5E += "t ";
          v7V.X$L(1);
          var u2u = v7V.D8z(5, 95);
          v7V.X$L(83);
          var L4J = v7V.t1w(9, 12, 7, 383, 16);
          p64[X5E + u8M.name] = u2u * Math.log(p64["Sum True Range " + u8M.name] / Math.max(0.000001, r_p[L4J] - r_p[0])) / Math.log(u8M.days);
        } else if (!isNaN(p64)) {
          p64["Result " + u8M.name] = +"0";
        }
      }

      function v6N(F2A, S0Y) {
        var Q8O, n$n;
        v7V.O90(128);
        var v4n = v7V.D8z(7, 9, 3, 0);
        Q8O = Number.MAX_VALUE * v4n;
        n$n = Number.MAX_VALUE;

        for (var c5l = S0Y - F2A + 1; c5l <= S0Y; c5l++) {
          if (c5l < +"0") continue;
          Q8O = Math.max(Q8O, t3L[c5l].High);
          n$n = Math.min(n$n, t3L[c5l].Low);
        }

        return [n$n, Q8O];
      }
    };

    z3d.Studies.studyLibrary = z3d.extend(z3d.Studies.studyLibrary, {
      Choppiness: {
        name: c8V,
        calculateFN: z3d.Studies.calculateChoppiness,
        centerline: 50,
        parameters: {
          init: {
            studyOverZonesEnabled: !!{},
            studyOverBoughtValue: 61.8,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 38.2,
            studyOverSoldColor: j0G
          }
        },
        attributes: {
          studyOverBoughtValue: {
            min: 50,
            step: "0.1"
          },
          studyOverSoldValue: {
            max: 50,
            step: "0.1"
          }
        }
      }
    });
  }
};

S3 = function S3(r5i) {
  var D2I = g9BGt;
  var I$o, T_o, l9P, i67, y7s;
  I$o = 541782113;
  T_o = 95791246;
  l9P = 2;

  for (var q8D = +"1"; D2I.l9L(q8D.toString(), q8D.toString().length, 57320) !== I$o; q8D++) {
    i67 = !_CIQ != "" ? _CIQ : r5i.CIQ;
    l9P += +"2";
  }

  if (D2I.l9L(l9P.toString(), l9P.toString().length, 90248) !== T_o) {
    i67 = typeof _CIQ !== "undefined" ? _CIQ : r5i.CIQ;
  }

  D2I.Z_e();

  if (!i67.Studies) {
    console.error("comparisonStudies feature requires first activating studies feature.");
  } else if (!i67.Studies.initPriceRelative) {
    y7s = "comp";
    y7s += "arisonStudies feature requires firs";
    y7s += "t activating priceRelative";
    y7s += " feature.";
    console.error(y7s);
  } else {
    i67.Studies.calculateCorrelationCoefficient = function (D$N, C6L) {
      var m0T, V1k, V9k, U9I, B8o, l2P, n5c, t$y, U$H, l5L, Q_1, u3A, R2j, p1r, h2i, f4v, z4d, U_Y, I46, T2N, h4W, x30, j1$, s3F;
      m0T = C6L.chart.scrubbed;
      V1k = C6L.days;

      if (m0T.length < V1k + 1) {
        C6L.error = !!{};
        return;
      }

      C6L.compare = C6L.inputs["Compare To"];

      if (!C6L.compare) {
        C6L.compare = [];
        C6L.outputs = {};
        C6L.outputMap = {};

        for (var Z1W in D$N.chart.series) {
          V9k = D$N.chart.series[Z1W];

          if (V9k.parameters.color) {
            U9I = "Res";
            U9I += "ul";
            U9I += "t";
            U9I += " ";
            B8o = "R";
            B8o += "e";
            B8o += "sul";
            B8o += "t ";
            C6L.compare.push(V9k.display);
            C6L.outputs["Result " + V9k.display] = V9k.parameters.color;
            D2I.O90(11);
            var s2Q = D2I.t1w(6, 80070, 7277, 12, 3);
            D2I.O90(95);
            var r40 = D2I.D8z(25, 425, 7);
            D2I.X$L(129);
            var e5F = D2I.t1w(24120, 17, 12, 12, 3469492);
            D2I.O90(7);
            var m_q = D2I.t1w(20, 2112);
            D2I.O90(5);
            var J4Y = D2I.D8z(9640, 7242, 12);
            D2I.O90(126);
            var K6F = D2I.t1w(108, 10, 3, 1810);
            D2I.X$L(49);
            var P55 = D2I.t1w(3941, 3949, 3943, 2);
            D2I.O90(39);
            var m$$ = D2I.D8z(905, 16, 128, 5, 8);
            C6L.outputMap[B8o + V9k.display + ((s2Q, r40) <= (e5F, +"743.53") ? m_q <= (J4Y, +"1122") ? K6F !== +"2917" ? 705.68 : !!"" : " " : (P55, m$$)) + C6L.name] = U9I + V9k.display;
          }
        }
      } else {
        C6L.compare = [C6L.compare];
      }

      D2I.c7b();

      if (!C6L.compare.length) {
        C6L.error = "Correlation Coefficient requires at least one comparison symbol";
        return;
      }

      for (var b95 = 0; b95 < C6L.compare.length; b95++) {
        l2P = 0;
        n5c = 0;
        t$y = 0;
        D2I.X$L(8);
        U$H = D2I.t1w(1, "0");
        l5L = 0;
        Q_1 = C6L.compare[b95];
        u3A = 0;

        for (var n6X = C6L.startFrom - V1k; n6X < m0T.length; n6X++) {
          R2j = "_te";
          R2j += "mp";
          R2j += "s";
          R2j += " ";
          p1r = "_t";
          p1r += "em";
          p1r += "ps ";
          h2i = "_te";
          h2i += "m";
          h2i += "ps ";
          f4v = "obje";
          f4v += "ct";
          if (!m0T[n6X]) continue;
          z4d = m0T[n6X][Q_1];

          if (z4d && _typeof(z4d) == f4v) {
            z4d = z4d.Close;
          }

          if (!z4d && z4d !== 0) {
            U_Y = "_t";
            U_Y += "e";
            U_Y += "mps";
            U_Y += " ";

            if (n6X > 0 && m0T[n6X - 1] && m0T[n6X - 1]["_temps " + C6L.name] && m0T[n6X - 1][U_Y + C6L.name].c) {
              z4d = m0T[n6X - 1]["_temps " + C6L.name].c;
            } else {
              z4d = 0;
            }
          }

          if (z4d && _typeof(z4d) == "object") {
            z4d = z4d.Close;
          }

          m0T[n6X]["_temps " + C6L.name] = {};
          l2P += m0T[n6X][h2i + C6L.name].b = m0T[n6X].Close;
          n5c += m0T[n6X]["_temps " + C6L.name].c = z4d;
          t$y += m0T[n6X]["_temps " + C6L.name].b2 = Math.pow(m0T[n6X].Close, "2" ^ 0);
          U$H += m0T[n6X][p1r + C6L.name].c2 = Math.pow(z4d, 2);
          l5L += m0T[n6X][R2j + C6L.name].bc = m0T[n6X].Close * z4d;

          if (u3A >= V1k) {
            I46 = "_te";
            I46 += "m";
            I46 += "ps ";
            T2N = "_tem";
            T2N += "p";
            T2N += "s ";
            l2P -= m0T[n6X - V1k]["_temps " + C6L.name].b;
            n5c -= m0T[n6X - V1k]["_temps " + C6L.name].c;
            t$y -= m0T[n6X - V1k][T2N + C6L.name].b2;
            U$H -= m0T[n6X - V1k][I46 + C6L.name].c2;
            l5L -= m0T[n6X - V1k]["_temps " + C6L.name].bc;
            D2I.X$L(7);
            var n1F = D2I.t1w(26, 28);
            h4W = t$y / V1k - Math.pow(l2P / V1k, n1F);
            D2I.O90(7);
            var d1m = D2I.D8z(3, 5);
            x30 = U$H / V1k - Math.pow(n5c / V1k, d1m);
            D2I.O90(130);
            var a9k = D2I.t1w(18, 4, 119, 11, 5);
            j1$ = l5L / V1k - l2P * n5c / Math.pow(V1k, a9k);
            s3F = j1$ / Math.sqrt(h4W * x30);
            D2I.X$L(7);
            var Q7x = D2I.D8z(14, 78);
            D2I.X$L(7);
            var P8e = D2I.D8z(37844, 47305);
            m0T[n6X]["Result " + Q_1 + (("1500" << Q7x, 236.32) !== (579.94, P8e) ? " " : 16.84) + C6L.name] = s3F;
          }

          u3A++;
        }
      }
    };

    i67.Studies.calculatePerformance = function (o8V, K5H) {
      var J9w, r5k, p0e, q_X, A3U, Y29;
      J9w = "_M";
      J9w += "A Base";
      r5k = "C";
      r5k += "l";
      r5k += "o";
      r5k += "se";
      p0e = "C";
      p0e += "omp";
      p0e += "ar";
      p0e += "ison Symbol";
      q_X = K5H.chart.scrubbed;
      A3U = K5H.inputs[p0e].toUpperCase();

      if (!A3U) {
        A3U = K5H.study.inputs["Comparison Symbol"];
      }

      if (!K5H.days) {
        K5H.days = K5H.study.inputs.Period;
      }

      if (q_X.length < K5H.days + 1) {
        K5H.error = !!"1";
        return;
      }

      i67.Studies.MA("ma", K5H.days, r5k, +"0", J9w, o8V, K5H);
      i67.Studies.MA("ma", K5H.days, A3U, 0, "_MA Comp", o8V, K5H);

      for (var P3m = K5H.startFrom; P3m < q_X.length; P3m++) {
        Y29 = q_X[P3m][A3U];

        if (Y29 && (Y29.Close || Y29.Close === 0)) {
          Y29 = Y29.Close;
        }

        q_X[P3m]["Result " + K5H.name] = q_X[P3m].Close / Y29 * (q_X[P3m]["_MA Comp " + K5H.name] / q_X[P3m]["_MA Base " + K5H.name]);
      }
    };

    i67.Studies.calculateBeta = function (m$X, Q94) {
      var J35, h0_, S8D, V6u, c$O, A3B, N9q, b$K, q7Q, U44, G0j, G9E, z7q, f4X, F9H;
      J35 = "_";
      J35 += "VAR";
      h0_ = "_";
      h0_ += "C";
      h0_ += "OV";
      h0_ += "AR";
      S8D = Q94.chart.scrubbed;
      V6u = Q94.inputs["Comparison Symbol"].toUpperCase();

      if (!V6u) {
        V6u = Q94.study.inputs["Comparison Symbol"];
      }

      if (!Q94.days) {
        Q94.days = Q94.study.inputs.Period;
      }

      if (S8D.length < Q94.days + 1) {
        Q94.error = !!{};
        return;
      }

      for (var I_v = Math.max(Q94.startFrom, +"1"); I_v < S8D.length; I_v++) {
        c$O = "_CompChang";
        c$O += "e ";
        A3B = "_BaseCha";
        A3B += "nge ";
        D2I.X$L(50);
        var W6j = D2I.t1w(11, 12);
        D2I.O90(131);
        var b3t = D2I.t1w(15, 18, 21, 11, 6);
        S8D[I_v][A3B + Q94.name] = S8D[I_v].Close / S8D[I_v - W6j].Close - b3t;
        N9q = S8D[I_v][V6u];

        if (N9q && (N9q.Close || N9q.Close === 0)) {
          N9q = N9q.Close;
        }

        D2I.O90(7);
        b$K = S8D[D2I.D8z(1, I_v)][V6u];

        if (b$K && (b$K.Close || b$K.Close === 0)) {
          b$K = b$K.Close;
        }

        D2I.O90(132);
        S8D[I_v][c$O + Q94.name] = D2I.t1w(b$K, "1", N9q);
      }

      i67.Studies.MA("ma", Q94.days, "_BaseChange " + Q94.name, 0, "_MA Base", m$X, Q94);
      i67.Studies.MA("ma", Q94.days, "_CompChange " + Q94.name, 0, "_MA Comp", m$X, Q94);

      for (I_v = Math.max(Q94.startFrom, Q94.days); I_v < S8D.length; I_v++) {
        q7Q = "_VA";
        q7Q += "R";
        q7Q += "n";
        q7Q += " ";
        U44 = "_MA";
        U44 += " ";
        U44 += "Comp";
        U44 += " ";
        G0j = "_Comp";
        G0j += "Chang";
        G0j += "e";
        G0j += " ";
        G9E = "_MA";
        G9E += " Base ";
        z7q = "_Base";
        z7q += "Change";
        z7q += " ";
        S8D[I_v]["_COVARn " + Q94.name] = (S8D[I_v][z7q + Q94.name] - S8D[I_v][G9E + Q94.name]) * (S8D[I_v][G0j + Q94.name] - S8D[I_v][U44 + Q94.name]);
        S8D[I_v][q7Q + Q94.name] = Math.pow(S8D[I_v]["_CompChange " + Q94.name] - S8D[I_v]["_MA Comp " + Q94.name], 2);
      }

      i67.Studies.MA("ma", Q94.days, "_COVARn " + Q94.name, 0, h0_, m$X, Q94);
      i67.Studies.MA("ma", Q94.days, "_VARn " + Q94.name, +"0", J35, m$X, Q94);

      for (I_v = Math.max(Q94.startFrom, Q94.days * 2 - 1); I_v < S8D.length; I_v++) {
        f4X = "_C";
        f4X += "OVAR ";
        F9H = "Re";
        F9H += "sult ";
        S8D[I_v][F9H + Q94.name] = S8D[I_v][f4X + Q94.name] / S8D[I_v]["_VAR " + Q94.name];
      }
    };

    i67.Studies.studyLibrary = i67.extend(i67.Studies.studyLibrary, {
      correl: {
        name: "Correlation Coefficient",
        range: "-1 to 1",
        calculateFN: i67.Studies.calculateCorrelationCoefficient,
        outputs: {}
      },
      "Perf Idx": {
        name: "Performance Index",
        centerline: +"1",
        initializeFN: i67.Studies.initPriceRelative,
        seriesFN: i67.Studies.displayVsComparisonSymbol,
        calculateFN: i67.Studies.calculatePerformance,
        inputs: {
          Period: 120,
          "Comparison Symbol": "SPY"
        },
        outputs: {
          Result: "auto",
          Gain: "#00DD00",
          Loss: "#FF0000"
        },
        deferUpdate: !![]
      },
      Beta: {
        name: "Beta",
        centerline: 1,
        initializeFN: i67.Studies.initPriceRelative,
        seriesFN: i67.Studies.displayVsComparisonSymbol,
        calculateFN: i67.Studies.calculateBeta,
        inputs: {
          Period: 20,
          "Comparison Symbol": "SPY"
        },
        deferUpdate: !0
      }
    });
  }
};

f_ = function f_(b3g) {
  var E5S = g9BGt;
  E5S.c7b();
  var w$J;
  w$J = typeof _CIQ !== "undefined" ? _CIQ : b3g.CIQ;

  if (!w$J.Studies) {
    console.error("coppock feature requires first activating studies feature.");
  } else {
    w$J.Studies.calculateCoppock = function (h0p, p6r) {
      var i_H, p5h, H6s, B3R, t_w, k9O, F7Y, C6J;
      i_H = "S";
      i_H += "hort RoC";
      p5h = p6r.chart.scrubbed;
      H6s = p6r.inputs.Field;

      if (!H6s || H6s == "field") {
        H6s = "Close";
      }

      B3R = parseInt(p6r.inputs["Long RoC"], 10);

      if (!B3R) {
        B3R = 14;
      }

      t_w = parseInt(p6r.inputs[i_H], "10" << 64);

      if (!t_w) {
        t_w = 11;
      }

      k9O = p6r.days;

      if (!k9O) {
        k9O = 10;
      }

      if (B3R < t_w) {
        return;
      }

      if (p5h.length < Math.max(t_w, B3R, k9O) + ("1" | 1)) {
        p6r.error = !![];
        return;
      }

      for (var Y1J = Math.max(p6r.startFrom, B3R); Y1J < p5h.length; Y1J++) {
        E5S.O90(7);
        F7Y = p5h[E5S.D8z(t_w, Y1J)][H6s];
        E5S.O90(7);
        C6J = p5h[E5S.t1w(B3R, Y1J)][H6s];

        if (F7Y && C6J) {
          E5S.X$L(11);
          var e2b = E5S.t1w(11, 1620, 80, 20, 5);
          E5S.X$L(5);
          var K6Y = E5S.t1w(0, 16, 18);
          p5h[Y1J]["_Sum " + p6r.name] = e2b * (p5h[Y1J][H6s] / F7Y + p5h[Y1J][H6s] / C6J - K6Y);
        }
      }

      w$J.Studies.MA("weighted", k9O, "_Sum " + p6r.name, 0, "Result", h0p, p6r);
    };

    w$J.Studies.studyLibrary = w$J.extend(w$J.Studies.studyLibrary, {
      Coppock: {
        name: "Coppock Curve",
        calculateFN: w$J.Studies.calculateCoppock,
        inputs: {
          Period: 10,
          Field: "field",
          "Short RoC": 11,
          "Long RoC": 14
        }
      }
    });
  }
};

M8 = function M8(x_a) {
  var y9H, K60, K28;
  y9H = "und";
  y9H += "efined";
  K60 = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== y9H ? _CIQ : x_a.CIQ;

  if (!K60.Studies) {
    K28 = "darv";
    K28 += "asBox feature requires first activating studies feature.";
    console.error(K28);
  } else {
    K60.Studies.calculateDarvas = function (F5q, z51) {
      var R$5 = g9BGt;
      var y5G, B49, H1i, m8b, c7p, d7L, Y_R, U_O, Z7q, I$S, r8z, N$C, C8Y, W4o, y55, K6I, E1d, B6K, A72, S9r, D$U, N$i, n8E, p1g, l$l, r2w, U_q, M6R, Y47, H5h, f9W;
      y5G = "G";
      y5G += "ho";
      y5G += "s";
      y5G += "t";
      B49 = "Level Offs";
      B49 += "e";
      B49 += "t";
      H1i = "Volume";
      H1i += " S";
      H1i += "pi";
      H1i += "ke";
      m8b = z51.chart.scrubbed;
      c7p = 0;
      d7L = parseInt(z51.inputs["ATH Lookback Period"], +"10");

      if (z51.inputs[H1i]) {
        Y_R = "Vol";
        Y_R += "u";
        Y_R += "me";
        K60.Studies.MA("simple", d7L, Y_R, 0, "ADV", F5q, z51);
      }

      R$5.O90(133);
      var j_Y = R$5.t1w(17, 97, 476, 14, 6);
      U_O = parseFloat(z51.inputs["Volume % of Avg"]) / j_Y;
      Z7q = "n";
      Z7q += "o";
      Z7q += "n";
      R$5.Z_e();
      Z7q += "e";
      I$S = {};
      r8z = null;
      N$C = null;
      C8Y = null;
      W4o = parseFloat(z51.inputs[B49]);
      y55 = !!"";

      if (y55) {
        console.log("*****************");
      }

      E1d = {};
      ["Darvas", y5G, "Profit", "Loss", "ATH", "ADV", "Spike"].forEach(function (m1r) {
        R$5.O90(7);
        var s_I = R$5.D8z(15, 5579);
        R$5.X$L(77);
        var k$L = R$5.D8z(182, 182, 2550);
        R$5.O90(134);
        var T9g = R$5.t1w(4812, 11, 3, 285, 18);
        R$5.O90(81);
        var c5t = R$5.D8z(26, 9, 1026, 11);
        R$5.O90(7);
        var K0L = R$5.t1w(148176, 156408);
        R$5.O90(38);
        var w01 = R$5.D8z(14, 80880, 6220);
        R$5.Z_e();
        E1d[m1r] = m1r + (s_I <= (k$L, +"98.33") ? (!0, ![]) : (T9g, c5t) === (K0L, 260.39) ? "B" : 145.86 === w01 ? "x" : " ") + z51.name;
      });

      for (K6I = z51.startFrom - 1; K6I > 0; K6I--) {
        B6K = m8b[K6I];

        if (B6K[E1d.Darvas] || B6K[E1d.Ghost]) {
          for (var O5f in E1d) {
            B6K[O5f] = null;
          }
        } else {
          c7p = B6K[E1d.ATH] || 0;
          N$C = B6K[E1d.Profit];
          C8Y = B6K[E1d.Loss];
          break;
        }
      }

      for (K6I; K6I < m8b.length; K6I++) {
        A72 = m8b[K6I];
        if (!A72) continue;

        if (parseFloat(z51.inputs["Price Minimum"]) <= m8b[c7p].Close) {
          S9r = "hi";
          S9r += "g";
          S9r += "h";

          if (r8z && (!r8z.End || K6I == r8z.End + 1)) {
            if (m8b[K6I - ("1" << 64)].Close > I$S.High) {
              I$S = {
                State: 1,
                High: 2 * I$S.High - I$S.Low,
                Low: I$S.High,
                Start: K6I,
                End: 2 * I$S.End - I$S.Start + +"1"
              };
            } else {
              r8z = null;
              ;
            }

            if (r8z) {
              A72[E1d.Ghost] = K60.clone(I$S);

              if (y55) {
                console.log("Ghost begin:" + A72.DT);
              }

              I$S.State = 0;

              if (m8b[I$S.End]) {
                D$U = "Gh";
                D$U += "o";
                D$U += "s";
                D$U += "t end:";
                m8b[I$S.End][E1d.Ghost] = K60.clone(I$S);

                if (y55) {
                  console.log(D$U + m8b[I$S.End].DT);
                }
              }

              r8z = {
                Start: I$S.Start,
                End: I$S.End
              };
              N$C = I$S.High + W4o;

              if (!C8Y || C8Y < I$S.Low - W4o) {
                C8Y = I$S.Low - W4o;
              }
            }
          }

          A72[E1d.Profit] = N$C;
          A72[E1d.Loss] = C8Y;

          if (A72.Close >= N$C) {
            N$C = null;
          } else if (z51.inputs["Exit Field"] == "high/low" && A72.High >= N$C) {
            N$C = null;
          }

          if (Z7q == "none") {
            if (K6I == c7p + 3) {
              if (!m8b[c7p + 2][E1d.Darvas] && !m8b[c7p + 1][E1d.Darvas] && !m8b[c7p][E1d.Darvas] && m8b[c7p].High > A72.High) {
                Z7q = "high";
                ;
              }
            }
          }

          if (Z7q == S9r) {
            if (A72.High > m8b[c7p].High) {
              Z7q = "none";
            } else if (m8b[K6I - 3].Low < m8b[K6I - 2].Low && m8b[K6I - 3].Low < m8b[K6I - 1].Low && m8b[K6I - 3].Low < A72.Low) {
              N$i = "darva";
              N$i += "s";
              I$S = {
                State: +"1",
                High: m8b[c7p].High,
                Low: m8b[K6I - 3].Low,
                Start: c7p
              };
              m8b[c7p][E1d.Darvas] = K60.clone(I$S);
              Z7q = N$i;

              if (y55) {
                console.log("Darvas begin:" + m8b[c7p].DT);
              }

              if (y55) {
                console.log("Darvas established:" + A72.DT);
              }

              if (r8z) {
                if (r8z.End > K6I && m8b[r8z.Start]) {
                  A72[E1d.Ghost] = K60.clone(m8b[r8z.Start][E1d.Ghost]);
                  A72[E1d.Ghost].End = K6I;

                  if (m8b[r8z.End]) {
                    delete m8b[r8z.End][E1d.Ghost];

                    if (y55) {
                      console.log("Ghost End removed:" + m8b[r8z.End].DT);
                    }
                  }
                }

                A72[E1d.Ghost].State = +"0";
                m8b[r8z.Start][E1d.Ghost].End = K6I;

                if (y55) {
                  console.log("Ghost end:" + A72.DT);
                }

                r8z = null;
              }

              N$C = I$S.High + W4o;

              if (!C8Y || C8Y < I$S.Low - W4o) {
                C8Y = I$S.Low - W4o;
              }
            }
          }

          if (Z7q == "darvas") {
            n8E = "n";
            n8E += "o";
            n8E += "n";
            n8E += "e";
            p1g = "hig";
            p1g += "h";
            p1g += "/low";
            l$l = "Exit F";
            l$l += "ie";
            l$l += "ld";

            if (A72.Close > I$S.High) {
              r8z = {};
            } else if (z51.inputs[l$l] == "high/low" && A72.High > I$S.High) {
              r8z = {};
            } else if (A72.Close < I$S.Low) {
              Z7q = "none";
            } else if (z51.inputs["Exit Field"] == p1g && A72.Low < I$S.Low) {
              Z7q = "none";
            }

            if (r8z) {
              Z7q = n8E;
            } else if (Z7q == "none") {
              N$C = null;
              C8Y = null;
            }

            if (!z51.inputs["Ghost Boxes"]) {
              r8z = null;
            }

            if (Z7q == "none") {
              for (var a3w = I$S.Start + 1; a3w < K6I; a3w++) {
                m8b[a3w][E1d.Darvas] = K60.clone(I$S);
              }

              I$S.State = 0;
              I$S.End = K6I;
              A72[E1d.Darvas] = K60.clone(I$S);

              if (y55) {
                console.log("Darvas end:" + A72.DT);
              }

              A72[E1d.ATH] = c7p;
              continue;
            }
          }

          if (C8Y) {
            r2w = "hig";
            r2w += "h/l";
            r2w += "ow";
            U_q = "Exit";
            U_q += " Fiel";
            U_q += "d";

            if (A72.Close < I$S.Low || z51.inputs[U_q] == r2w && A72.Low < I$S.Low) {
              M6R = "high";
              M6R += "/low";

              if (Z7q == "darvas") {
                Z7q = "none";
              }

              if (A72.Close < C8Y || z51.inputs["Exit Field"] == M6R && A72.Low < C8Y) {
                N$C = null;
                C8Y = null;
              }

              if (r8z) {
                Y47 = "G";
                Y47 += "h";
                Y47 += "o";
                Y47 += "st end:";

                if (r8z.End > K6I && m8b[r8z.Start]) {
                  A72[E1d.Ghost] = K60.clone(m8b[r8z.Start][E1d.Ghost]);
                  A72[E1d.Ghost].End = K6I;

                  if (m8b[r8z.End]) {
                    H5h = "Gho";
                    H5h += "st End removed:";
                    delete m8b[r8z.End][E1d.Ghost];

                    if (y55) {
                      console.log(H5h + m8b[r8z.End].DT);
                    }
                  }
                }

                A72[E1d.Ghost].State = 0;
                m8b[r8z.Start][E1d.Ghost].End = K6I;

                if (y55) {
                  console.log(Y47 + A72.DT);
                }

                r8z = null;
              }
            }
          }
        }

        if (A72.High >= m8b[c7p].High) {
          c7p = K6I;

          if (y55) {
            console.log("All Time High:" + A72.DT);
          }
        }

        if (K6I < 3 || A72.High >= m8b[K6I - 1].High && A72.High >= m8b[K6I - 2].High && A72.High >= m8b[K6I - 3].High) {
          if (K6I - c7p >= d7L) {
            c7p = K6I;

            for (var W2n = 0; W2n < d7L; W2n++) {
              if (K6I - W2n < "0" - 0) break;

              if (m8b[K6I - W2n].High > m8b[c7p].High) {
                R$5.O90(7);
                c7p = R$5.t1w(W2n, K6I);
              }
            }

            if (y55) {
              console.log("All Time High:" + A72.DT);
            }
          }
        }

        if (z51.inputs["Volume Spike"] && K6I > d7L && K6I == c7p) {
          if (A72[E1d.ADV] * U_O < A72.Volume) {
            f9W = "Volum";
            f9W += "e Spike:";
            A72[E1d.Spike] = 1;

            if (y55) {
              console.log(f9W + A72.DT);
            }
          }
        }

        A72[E1d.ATH] = c7p;
      }
    };

    K60.Studies.displayDarvas = function (r7y, u9Q, Q$B) {
      var H9M = g9BGt;
      var E2Y, o8J, t4g, U_9, k00, m4I, Z2P, R2M, j8b, O0f, m_n, b6S, u4N, w4D, I6S, G7O, q3V, G0U, r37, Q_u, W6b, m5q, d2c, R$M, l3R, c8I, e98, q$u, W3u, r6j, F_2, u4C, L2l, s3o, P8F;
      E2Y = "a";
      E2Y += "ut";
      E2Y += "o";
      o8J = K60.Studies.determineColor(u9Q.outputs.Levels);
      H9M.c7b();

      if (!o8J || o8J == E2Y || K60.isTransparent(o8J)) {
        o8J = r7y.defaultColor;
      }

      t4g = K60.Studies.determineColor(u9Q.outputs.Darvas);

      if (!t4g || t4g == "auto" || K60.isTransparent(t4g)) {
        t4g = r7y.defaultColor;
      }

      U_9 = K60.Studies.determineColor(u9Q.outputs.Ghost);

      if (!U_9 || U_9 == "auto" || K60.isTransparent(U_9)) {
        U_9 = r7y.defaultColor;
      }

      k00 = r7y.panels[u9Q.panel];
      m4I = u9Q.getContext(r7y);
      H9M.X$L(135);
      var q7f = H9M.D8z(11, 9, 14, 8);
      m_n = r7y.layout.candleWidth - q7f;

      if (m_n < 2) {
        m_n = 1;
      }

      r7y.startClip(u9Q.panel);

      if (u9Q.inputs["Stop Levels"]) {
        if (m4I.setLineDash) {
          m4I.setLineDash([2, 2]);
        }

        H9M.X$L(7);
        m4I.lineWidth = H9M.D8z(0, "2");
        m4I.strokeStyle = o8J;
        m4I.beginPath();

        for (Z2P = 0; Z2P < Q$B.length; Z2P++) {
          b6S = "Lo";
          b6S += "ss";
          b6S += " ";
          R2M = Q$B[Z2P];
          H9M.X$L(7);
          u4N = Q$B[H9M.D8z(1, Z2P)];
          if (!R2M) continue;
          O0f = R2M["Loss " + u9Q.name] ? Math.floor(r7y.pixelFromPrice(R2M["Loss " + u9Q.name], k00)) : null;
          w4D = u4N && u4N[b6S + u9Q.name] ? Math.floor(r7y.pixelFromPrice(u4N["Loss " + u9Q.name], k00)) : null;

          if (O0f) {
            if (R2M.candleWidth) {
              m_n = Math.floor(Math.max(1, R2M.candleWidth));
            }

            I6S = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) + m_n / 2);
            G7O = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) - m_n / 2);

            if (w4D && w4D >= O0f) {
              m4I.lineTo(G7O, O0f);
            } else if (Z2P === 0) {
              m4I.moveTo(r7y.chart.left, O0f);
            } else {
              m4I.moveTo(G7O, O0f);
            }

            m4I.lineTo(I6S, O0f);
          }
        }

        m4I.stroke();

        if (m4I.setLineDash) {
          m4I.setLineDash([]);
        }

        m4I.lineWidth = 1;
      }

      q3V = -10;
      r37 = 0;
      W6b = -10;
      d2c = 0;
      l3R = !"1";
      c8I = !1;
      H9M.X$L(77);
      var a8J = H9M.D8z(32, 32, 1);
      e98 = m4I.measureText("\u25B2").width / a8J;
      q$u = 0;

      for (Z2P = "0" >> 64; Z2P < Q$B.length; Z2P++) {
        if (!Q$B[Z2P]) continue;

        if (Q$B[Z2P].Close || Q$B[Z2P].Close === 0) {
          q$u = Z2P;
        }

        if (Q$B[Z2P]["Spike " + u9Q.name]) {
          m4I.fillStyle = t4g;
          m4I.textBaseline = "bottom";
          W3u = r7y.pixelFromPrice(Q$B[Z2P].High, r7y.chart.panel);
          m4I.fillText( false ? undefined : 7222 == (6.02, 2830) ? "679.04" * 1 : "\u25BC", r7y.pixelFromBar(Z2P) - e98, W3u - ("5" << 64));
          ;
        }

        if (Q$B[Z2P].candleWidth) {
          m_n = Math.floor(Math.max(1, Q$B[Z2P].candleWidth));
        }

        if (Q$B[Z2P]["Darvas " + u9Q.name]) {
          R2M = Q$B[Z2P]["Darvas " + u9Q.name];

          if (R2M.State == 1 && !l3R) {
            q3V = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) - m_n / 2);
            G0U = Math.floor(r7y.pixelFromPrice(R2M.High, k00));
            Q_u = Math.floor(r7y.pixelFromPrice(R2M.Low, k00)) - G0U;
            l3R = !0;
          } else if (R2M.State === ("0" | 0)) {
            H9M.X$L(7);
            var g3h = H9M.D8z(8, 10);
            r37 = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) + m_n / g3h) - q3V;
            G0U = Math.floor(r7y.pixelFromPrice(R2M.High, k00));
            Q_u = Math.floor(r7y.pixelFromPrice(R2M.Low, k00)) - G0U;
            m4I.strokeStyle = t4g;
            m4I.fillStyle = t4g;

            if (!u9Q.inputs["Stop Levels"]) {
              m4I.strokeRect(q3V, G0U, r37, Q_u);
              m4I.globalAlpha = 0.2;
            } else {
              m4I.globalAlpha = 0.3;
            }

            m4I.fillRect(q3V, G0U, r37, Q_u);
            H9M.X$L(3);
            m4I.globalAlpha = H9M.D8z(0, "1");
            l3R = ![];
          }
        }

        if (Q$B[Z2P]["Ghost " + u9Q.name] && u9Q.inputs["Ghost Boxes"]) {
          R2M = Q$B[Z2P]["Ghost " + u9Q.name];

          if (R2M.State == 1 && !c8I) {
            W6b = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) - m_n / 2);
            m5q = Math.floor(r7y.pixelFromPrice(R2M.High, k00));
            d2c = Math.floor((R2M.End - R2M.Start + ("1" >> 0)) * r7y.layout.candleWidth + m_n / +"2");
            R$M = Math.floor(r7y.pixelFromPrice(R2M.Low, k00)) - m5q;
            c8I = !"";
          } else if (R2M.State === 0) {
            if (R2M.Start == R2M.End) {
              W6b = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) - m_n / 2);
            }

            H9M.X$L(60);
            var Z87 = H9M.t1w(56, 18, 3);
            d2c = Math.floor(r7y.pixelFromBar(Z2P, k00.chart) + m_n / Z87) - W6b;
            m5q = Math.floor(r7y.pixelFromPrice(R2M.High, k00));
            R$M = Math.floor(r7y.pixelFromPrice(R2M.Low, k00)) - m5q;
            m4I.strokeStyle = U_9;
            m4I.fillStyle = U_9;

            if (!u9Q.inputs["Stop Levels"]) {
              m4I.strokeRect(W6b, m5q, d2c, R$M);
              m4I.globalAlpha = 0.2;
            } else {
              m4I.globalAlpha = +"0.3";
            }

            m4I.fillRect(W6b, m5q, d2c, R$M);
            m4I.globalAlpha = 1;
            c8I = ![];
          }
        }
      }

      if (l3R) {
        r6j = "Stop Le";
        r6j += "vels";
        H9M.O90(31);
        var M_V = H9M.t1w(16, 14, 8, 4);
        r37 = Math.floor(r7y.pixelFromBar(q$u, k00.chart) + m_n / M_V) - q3V;
        m4I.strokeStyle = t4g;
        m4I.fillStyle = t4g;

        if (!u9Q.inputs[r6j]) {
          m4I.beginPath();
          H9M.X$L(97);
          m4I.moveTo(H9M.D8z(r37, 2, q3V), G0U);
          m4I.lineTo(q3V, G0U);
          H9M.O90(1);
          m4I.lineTo(q3V, H9M.D8z(G0U, Q_u));
          H9M.X$L(97);
          m4I.lineTo(H9M.t1w(r37, 2, q3V), H9M.t1w(G0U, Q_u, H9M.X$L(1)));
          m4I.stroke();
          m4I.globalAlpha = 0.2;
        } else {
          m4I.globalAlpha = 0.3;
        }

        H9M.O90(8);
        m4I.fillRect(q3V, G0U, H9M.D8z(r37, 2), Q_u);
        m4I.globalAlpha = 1;
      }

      if (c8I) {
        F_2 = "Stop ";
        F_2 += "Le";
        F_2 += "vels";
        m4I.strokeStyle = U_9;
        m4I.fillStyle = U_9;

        if (!u9Q.inputs[F_2]) {
          m4I.strokeRect(W6b, m5q, d2c, R$M);
          m4I.globalAlpha = 0.2;
        } else {
          u4C = -604453010;
          L2l = 1686758307;
          H9M.X$L(0);
          s3o = H9M.D8z("2", 0);

          for (var h2y = 1; H9M.i7j(h2y.toString(), h2y.toString().length, 62226) !== u4C; h2y++) {
            m4I.globalAlpha = +"0.3";
            s3o += 2;
          }

          if (H9M.l9L(s3o.toString(), s3o.toString().length, 68748) !== L2l) {
            m4I.globalAlpha = 502;
          }
        }

        m4I.fillRect(W6b, m5q, d2c, R$M);
        m4I.globalAlpha = 1;
      }

      if (l3R || c8I) {
        if (u9Q.inputs["Stop Levels"]) {
          if (m4I.setLineDash) {
            m4I.setLineDash([2, 2]);
          }

          H9M.O90(8);
          m4I.lineWidth = H9M.D8z(1, "2");
          m4I.strokeStyle = o8J;
          P8F = Math.floor(r7y.pixelFromBar(q$u - 1, k00.chart) + m_n / 2);

          if (j8b) {
            m4I.beginPath();
            m4I.moveTo(P8F, j8b);
            m4I.lineTo(l3R ? q3V + 2 * r37 : W6b + d2c, j8b);
            m4I.stroke();
          }

          if (O0f) {
            m4I.beginPath();
            m4I.moveTo(P8F, O0f);
            m4I.lineTo(l3R ? q3V + 2 * r37 : W6b + d2c, O0f);
            m4I.stroke();
          }

          if (m4I.setLineDash) {
            m4I.setLineDash([]);
          }

          m4I.lineWidth = 1;
        }

        l3R = !"1";
        c8I = !"1";
      }

      r7y.endClip();
    };

    K60.Studies.studyLibrary = K60.extend(K60.Studies.studyLibrary, {
      Darvas: {
        name: "Darvas Box",
        underlay: !!{},
        calculateFN: K60.Studies.calculateDarvas,
        seriesFN: K60.Studies.displayDarvas,
        inputs: {
          "ATH Lookback Period": 100,
          "Exit Field": ["close", "high/low"],
          "Ghost Boxes": !![],
          "Stop Levels": !{},
          "Level Offset": +"0.01",
          "Price Minimum": 5,
          "Volume Spike": !{},
          "Volume % of Avg": 400
        },
        outputs: {
          Darvas: "#5F7CB8",
          Ghost: "#699158",
          Levels: "auto"
        },
        customRemoval: !!{},
        attributes: {
          "Price Minimum": {
            min: 0.01,
            step: 0.01
          },
          yaxisDisplayValue: {
            hidden: !!"1"
          },
          panelName: {
            hidden: !""
          },
          flippedEnabled: {
            hidden: !0
          }
        }
      }
    });
  }
};

q3 = function q3(c_S) {
  var R7e = g9BGt;
  var o58, i14, t2o;
  o58 = typeof _CIQ !== "undefined" ? _CIQ : c_S.CIQ;
  R7e.c7b();

  if (!o58.Studies) {
    i14 = "detrended feat";
    i14 += "ure requires first activating st";
    i14 += "udies";
    i14 += " feature.";
    console.error(i14);
  } else {
    t2o = "Detrended Price";
    t2o += " Osci";
    t2o += "llator";

    o58.Studies.calculateDetrendedPrice = function (z3l, m63) {
      var O1k, j4U, R9U, i1e, f0x, V8L, V7X, m2q;
      O1k = "M";
      O1k += "A";
      j4U = "Moving";
      j4U += " A";
      j4U += "verag";
      j4U += "e Type";
      R9U = m63.chart.scrubbed;

      if (R9U.length < m63.days + 1) {
        m63.error = !![];
        return;
      }

      i1e = m63.inputs.Field;
      R7e.c7b();

      if (!i1e || i1e == "field") {
        i1e = "Close";
      }

      f0x = Math.floor(m63.days / 2 + 1);
      o58.Studies.MA(m63.inputs[j4U], m63.days, i1e, -f0x, O1k, z3l, m63);

      for (var K1Z = Math.max(m63.days - f0x - 1, m63.startFrom - f0x); K1Z < R9U.length - f0x; K1Z++) {
        V8L = "o";
        V8L += "bj";
        V8L += "ec";
        V8L += "t";
        if (K1Z < "0" >> 32) continue;
        V7X = R9U[K1Z][i1e];

        if (V7X && _typeof(V7X) == V8L) {
          V7X = V7X[m63.subField];
        }

        m2q = R9U[K1Z]["MA " + m63.name];

        if ((V7X || V7X === 0) && (m2q || m2q === 0)) {
          R7e.X$L(7);
          R9U[K1Z]["Result " + m63.name] = R7e.D8z(m2q, V7X);
        }
      }
    };

    o58.Studies.studyLibrary = o58.extend(o58.Studies.studyLibrary, {
      Detrended: {
        name: t2o,
        calculateFN: o58.Studies.calculateDetrendedPrice,
        inputs: {
          Period: 14,
          Field: "field",
          "Moving Average Type": "ma"
        }
      }
    });
  }
};

c7 = function c7(M1S) {
  var J16;
  J16 = typeof _CIQ !== "undefined" ? _CIQ : M1S.CIQ;

  if (!J16.Studies) {
    console.error("disparity feature requires first activating studies feature.");
  } else {
    J16.Studies.calculateDisparity = function (F7i, l0D) {
      var W4c = g9BGt;
      var F8a, i1z, z0C, e8P, d3G;
      F8a = "M";
      F8a += "o";
      W4c.c7b();
      F8a += "ving Av";
      F8a += "erage Type";
      i1z = "Clo";
      i1z += "s";
      i1z += "e";
      z0C = l0D.chart.scrubbed;

      if (z0C.length < l0D.days + ("1" - 0)) {
        l0D.error = !![];
        return;
      }

      e8P = l0D.inputs.Field;

      if (!e8P || e8P == "field") {
        e8P = i1z;
      }

      J16.Studies.MA(l0D.inputs[F8a], l0D.days, e8P, 0, "_MA", F7i, l0D);

      for (var P8m = Math.max(l0D.startFrom, l0D.days - 1); P8m < z0C.length; P8m++) {
        if (!z0C[P8m]) continue;
        d3G = z0C[P8m]["_MA " + l0D.name];

        if (d3G) {
          W4c.X$L(120);
          var V7b = W4c.D8z(83, 1, 99, 83);
          W4c.X$L(1);
          var h$L = W4c.D8z(0, 1);
          z0C[P8m]["Result " + l0D.name] = V7b * (z0C[P8m][e8P] / d3G - h$L);
        }
      }
    };

    J16.Studies.studyLibrary = J16.extend(J16.Studies.studyLibrary, {
      Disparity: {
        name: "Disparity Index",
        calculateFN: J16.Studies.calculateDisparity,
        inputs: {
          Period: 14,
          Field: "field",
          "Moving Average Type": "ma"
        }
      }
    });
  }
};

w2 = function w2(E8U) {
  var f5W;
  f5W = typeof _CIQ !== "undefined" ? _CIQ : E8U.CIQ;

  if (!f5W.Studies) {
    console.error("easeOfMovement feature requires first activating studies feature.");
  } else {
    f5W.Studies.calculateEaseOfMovement = function (K0$, v_B) {
      var d3e = g9BGt;
      var W84, e6j, N8l, b5D, i7W, C8p, U22;
      d3e.Z_e();
      W84 = "_EOM1";
      W84 += " ";
      e6j = v_B.chart.scrubbed;

      if (e6j.length < v_B.days) {
        v_B.error = !!"1";
        return;
      }

      for (var A8M = Math.max(1, v_B.startFrom); A8M < e6j.length; A8M++) {
        d3e.X$L(128);
        var o_O = d3e.t1w(53, 20, 3, 38);
        N8l = (e6j[A8M].High + e6j[A8M].Low) / o_O;
        d3e.O90(42);
        var f6Y = d3e.D8z(3, 15, 19, 8, 10);
        d3e.O90(57);
        var A$G = d3e.D8z(30, 2, 13);
        b5D = (e6j[A8M - f6Y].High + e6j[A8M - +"1"].Low) / A$G;
        d3e.O90(7);
        i7W = d3e.D8z(b5D, N8l);
        d3e.X$L(7);
        var u6t = d3e.D8z(9, 100000009);
        C8p = e6j[A8M].Volume / u6t / (e6j[A8M].High - e6j[A8M].Low);
        d3e.O90(23);
        U22 = d3e.D8z(C8p, i7W);

        if (!isFinite(U22)) {
          e6j[A8M]["_EOM1 " + v_B.name] = NaN;
        } else {
          e6j[A8M]["_EOM1 " + v_B.name] = U22;
        }
      }

      f5W.Studies.MA(v_B.inputs["Moving Average Type"], v_B.days, W84 + v_B.name, "0" << 0, "Result", K0$, v_B);
    };

    f5W.Studies.studyLibrary = f5W.extend(f5W.Studies.studyLibrary, {
      EOM: {
        name: "Ease of Movement",
        calculateFN: f5W.Studies.calculateEaseOfMovement,
        inputs: {
          Period: 14,
          "Moving Average Type": "ma"
        }
      }
    });
  }
};

J9 = function J9(c8_) {
  var h2h = g9BGt;
  h2h.Z_e();
  var M70, E6F, K0f, z_P, q9C, y$k;
  M70 = typeof _CIQ !== "undefined" ? _CIQ : c8_.CIQ;

  if (!M70.Studies) {
    E6F = -2131470899;
    K0f = 499060521;
    z_P = 2;

    for (var V2G = 1; h2h.i7j(V2G.toString(), V2G.toString().length, +"16190") !== E6F; V2G++) {
      console.error("");
      h2h.X$L(3);
      z_P += h2h.D8z(0, "2");
    }

    if (h2h.l9L(z_P.toString(), z_P.toString().length, 77447) !== K0f) {
      console.error("ehlerFisher feature requires first activating studies feature.");
    }
  } else {
    q9C = "#F";
    q9C += "F00";
    q9C += "0";
    q9C += "0";
    y$k = "Ehler";
    y$k += " Fisher Tra";
    y$k += "nsform";

    M70.Studies.calculateEhlerFisher = function (T2x, N5E) {
      h2h.c7b();
      var W_j, V3n, C5v, p_1, A4x, m86, X3n;
      W_j = N5E.chart.scrubbed;

      function n56(d3m, o5s) {
        var A7H, r5R, i1_;
        A7H = Number.MAX_VALUE;
        h2h.O90(136);
        h2h.Z_e();
        var k73 = h2h.t1w(16, 26, 0, 10);
        r5R = Number.MAX_VALUE * k73;

        for (var y3U = o5s - d3m + 1; y3U <= o5s; y3U++) {
          h2h.O90(31);
          var v7S = h2h.t1w(13, 21, 4, 9);
          i1_ = (W_j[y3U].High + W_j[y3U].Low) / v7S;
          A7H = Math.min(A7H, i1_);
          r5R = Math.max(r5R, i1_);
        }

        return [A7H, r5R];
      }

      if (W_j.length < N5E.days + 1) {
        N5E.error = !!1;
        return;
      }

      V3n = 0;

      if (N5E.startFrom > "1" - 0) {
        h2h.X$L(137);
        var T9I = h2h.D8z(2, 10, 5, 2, 0);
        V3n = W_j[N5E.startFrom - T9I]["_n " + N5E.name];
      }

      for (var V$4 = N5E.startFrom; V$4 < W_j.length; V$4++) {
        C5v = "EF Tr";
        C5v += "i";
        C5v += "gger ";
        p_1 = "E";
        p_1 += "F";
        p_1 += " ";
        A4x = W_j[V$4];
        if (A4x.futureTick) break;

        if (V$4 < N5E.days - 1) {
          A4x["EF " + N5E.name] = A4x["EF Trigger " + N5E.name] = V3n;
          continue;
        }

        m86 = n56(N5E.days, V$4);
        h2h.X$L(1);
        var j3w = h2h.D8z(1, 1);
        h2h.X$L(138);
        var c$W = h2h.t1w(8, 1, 2, 12, 16);
        h2h.X$L(138);
        var s7Z = h2h.t1w(0, 1, 5, 11, 5);
        V3n = ("0.33" - 0) * j3w * (((W_j[V$4].High + W_j[V$4].Low) / c$W - m86[+"0"]) / Math.max(0.000001, m86[s7Z] - m86[0]) - 0.5) + 0.67 * V3n;

        if (V3n > 0) {
          V3n = Math.min(V3n, 0.9999);
        } else if (V3n < 0) {
          V3n = Math.max(V3n, -+"0.9999");
        }

        X3n = V$4 ? W_j[V$4 - 1]["EF " + N5E.name] : "0" >> 0;
        h2h.X$L(5);
        var U6f = h2h.t1w(16, 32, 17);
        h2h.X$L(7);
        var K0S = h2h.t1w(8, 9);
        A4x[p_1 + N5E.name] = 0.5 * Math.log((U6f + V3n) / ("1" * K0S - V3n)) + ("0.5" - 0) * X3n;
        A4x[C5v + N5E.name] = X3n;
        A4x["_n " + N5E.name] = V3n;
      }
    };

    M70.Studies.studyLibrary = M70.extend(M70.Studies.studyLibrary, {
      "Ehler Fisher": {
        name: y$k,
        calculateFN: M70.Studies.calculateEhlerFisher,
        inputs: {
          Period: +"10"
        },
        outputs: {
          EF: "auto",
          "EF Trigger": q9C
        }
      }
    });
  }
};

r7 = function r7(M6P) {
  var m_Z, v_x, b1P;
  m_Z = "un";
  m_Z += "defined";
  v_x = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== m_Z ? _CIQ : M6P.CIQ;

  if (!v_x.Studies) {
    console.error("elder feature requires first activating studies feature.");
  } else {
    b1P = "#DD";
    b1P += "3";
    b1P += "E3";
    b1P += "9";

    v_x.Studies.calculateElderImpulse = function (h$i, D9g) {
      var Y9y = g9BGt;
      var j7B, L3F, M$o, l9z, z9_, h6q, M9T, p3B, b65, e34, k6A;
      j7B = "Cl";
      j7B += "ose";
      L3F = D9g.chart.scrubbed;
      M$o = D9g.outputs.Bullish;
      l9z = D9g.outputs.Bearish;
      z9_ = D9g.outputs.Neutral;
      Y9y.O90(18);
      v_x.Studies.MA("exponential", Y9y.t1w("13", 64), j7B, 0, "_MA", h$i, D9g);
      Y9y.X$L(22);
      var A45 = Y9y.t1w(7, 112924, 11, 6, 104882);
      Y9y.O90(113);
      var N8F = Y9y.t1w(6, 3, 322, 4495);
      Y9y.O90(20);
      var H8W = Y9y.D8z(17, 28628, 2, 12647);
      Y9y.O90(67);
      var k2D = Y9y.D8z(2047, 11, 670, 4);
      Y9y.O90(9);
      var e$L = Y9y.t1w(8254, 8, 634);
      Y9y.O90(5);
      var q4v = Y9y.t1w(50136, 43881, 12);
      D9g.macd = new v_x.Studies.StudyDescriptor((A45 == N8F ? (H8W, "8005" - 0) <= (k2D, +"1462") ? !!1 : +"696.38" >= 44.25 ? (e$L, q4v) : (![], 325.45) : "_") + D9g.name, "macd", D9g.panel);
      D9g.macd.chart = D9g.chart;
      D9g.macd.days = D9g.days;
      D9g.macd.startFrom = D9g.startFrom;
      D9g.macd.inputs = {
        "Fast MA Period": 12,
        "Slow MA Period": 26,
        "Signal Period": 9
      };
      D9g.macd.outputs = {
        _MACD: null,
        _Signal: null
      };
      v_x.Studies.calculateMACD(h$i, D9g.macd);

      for (var r$R = D9g.startFrom; r$R < L3F.length; r$R++) {
        M9T = "_h";
        M9T += "is";
        M9T += "t";
        p3B = "_";
        p3B += "his";
        p3B += "t";
        b65 = "_";
        b65 += "M";
        b65 += "A";
        b65 += " ";
        e34 = "_";
        e34 += "M";
        e34 += "A";
        e34 += " ";
        k6A = "_";
        k6A += "M";
        k6A += "A";
        k6A += " ";

        if (r$R === 0) {
          h6q = z9_;
        } else if (L3F[r$R][k6A + D9g.name] > L3F[r$R - 1][e34 + D9g.name] && L3F[r$R][((3980, 6520) >= 194.1 ? "_" : 6.14e+3) + D9g.name + "_hist"] > L3F[r$R - 1][((176.42, 784.36) <= 854.09 ? (+"497.04", 754) < 113 ? 0x154 : "_" : (!"1", 8.06e+3)) + D9g.name + "_hist"]) {
          h6q = M$o;
        } else if (L3F[r$R][b65 + D9g.name] < L3F[r$R - 1]["_MA " + D9g.name] && L3F[r$R][(("2330" ^ 0, 9373) !== 5782 ? "_" : (355.57, 8596) != (2450, 9760) ? (178.74, 237.04) != (282.8, 1020) ? 3.49e+3 : +"0x163d" : (729.11, 980)) + D9g.name + p3B] < L3F[r$R - 1][(490.88 > (91.47, 532.59) ? 7.21e+3 : "_") + D9g.name + M9T]) {
          h6q = l9z;
        } else {
          h6q = z9_;
        }

        L3F[r$R]["Result " + D9g.name] = h6q;
        ;
      }
    };

    v_x.Studies.calculateElderRay = function (A0e, B2h) {
      var g8s, f1O, l$j, N67;
      g8s = "_";
      g8s += "E";
      g8s += "M";
      g8s += "A";
      f1O = "ex";
      f1O += "ponential";
      l$j = B2h.chart.scrubbed;
      g9BGt.Z_e();

      if (l$j.length < B2h.days) {
        B2h.error = !!{};
        return;
      }

      v_x.Studies.MA(f1O, B2h.days, "Close", 0, g8s, A0e, B2h);

      for (var X_c = Math.max(B2h.startFrom, B2h.days - 1); X_c < l$j.length; X_c++) {
        N67 = "_";
        N67 += "EM";
        N67 += "A";
        N67 += " ";
        l$j[X_c][B2h.name + "_hist1"] = l$j[X_c].High - l$j[X_c]["_EMA " + B2h.name];
        l$j[X_c][B2h.name + "_hist2"] = l$j[X_c].Low - l$j[X_c][N67 + B2h.name];
      }

      B2h.outputMap = {};
      B2h.outputMap[B2h.name + "_hist1"] = "";
      B2h.outputMap[B2h.name + "_hist2"] = "";
    };

    v_x.Studies.calculateElderForce = function (J5T, a8m) {
      var S5U, S1v, a1D;
      S5U = "Res";
      g9BGt.c7b();
      S5U += "u";
      S5U += "l";
      S5U += "t";
      S1v = "exponent";
      S1v += "i";
      S1v += "al";
      a1D = a8m.chart.scrubbed;

      if (a1D.length < a8m.days) {
        a8m.error = !!{};
        return;
      }

      for (var x03 = Math.max(1, a8m.startFrom); x03 < a1D.length; x03++) {
        g9BGt.O90(7);
        var I6Y = g9BGt.t1w(14, 15);
        a1D[x03]["_EF1 " + a8m.name] = a1D[x03].Volume * (a1D[x03].Close - a1D[x03 - I6Y].Close);
      }

      v_x.Studies.MA(S1v, a8m.days, "_EF1 " + a8m.name, 0, S5U, J5T, a8m);
    };

    v_x.Studies.initElderImpulse = function (T6G, F5D, D8n, B9n, A$J, B5M) {
      var q6k, V5V;
      q6k = "colored";
      q6k += "_";
      q6k += "bar";
      V5V = v_x.Studies.initializeFN(T6G, F5D, D8n, B9n, A$J, B5M);

      if (A$J.calculateOnly) {
        return V5V;
      }

      T6G.chart.customChart = {
        chartType: q6k,
        colorFunction: function colorFunction(c99, a$G, u9j) {
          var Y76;
          Y76 = a$G["Result " + V5V.name];

          if (Y76 && _typeof(Y76) == "object") {
            Y76 = Y76.color;
          }

          return Y76;
        }
      };
      T6G.setMainSeriesRenderer();
      g9BGt.Z_e();
      return V5V;
    };

    v_x.Studies.displayElderForce = function (H_X, u2i, j4N) {
      var A_t, o1a, t0$, h8v;
      v_x.Studies.displaySeriesAsLine(H_X, u2i, j4N);
      A_t = v_x.Studies.determineColor(u2i.outputs.Result);
      o1a = H_X.panels[u2i.panel];
      t0$ = u2i.getYAxis(H_X);
      h8v = {
        skipTransform: o1a.name != u2i.chart.name,
        panelName: u2i.panel,
        band: "Result " + u2i.name,
        threshold: 0,
        color: A_t,
        yAxis: t0$
      };

      if (!u2i.highlight && H_X.highlightedDraggable) {
        h8v.opacity = 0.3;
      }

      h8v.direction = 1;
      v_x.preparePeakValleyFill(H_X, h8v);
      h8v.direction = -+"1";
      g9BGt.Z_e();
      v_x.preparePeakValleyFill(H_X, h8v);
    };

    v_x.Studies.displayElderRay = function (J7B, C5K, l7Y) {
      var M7J = g9BGt;
      var i8E, x4F, Z8r, F1J, n0o, d0_, t6o, q9U, Z8O;
      i8E = "st";
      i8E += "x_h";
      i8E += "istogram";
      x4F = J7B.panels[C5K.panel];
      Z8r = C5K.getContext(J7B);
      F1J = C5K.getYAxis(J7B);
      n0o = J7B.pixelFromPrice(0, x4F, F1J);
      M7J.X$L(139);
      var j_1 = M7J.D8z(19, 36, 16);
      d0_ = J7B.layout.candleWidth - "2" * j_1;

      if (d0_ < ("2" | 2)) {
        d0_ = 1;
      }

      J7B.canvasColor(i8E);
      t6o = Z8r.fillStyle;

      if (!C5K.underlay) {
        Z8r.globalAlpha = 1;
      }

      function o0Y(w1d, W5n, u2b, k5R) {
        M7J.c7b();
        Z8r.fillStyle = v_x.Studies.determineColor(C5K.outputs[u2b]);
        Z8r.fillRect(Math.floor(J7B.pixelFromBar(w1d, x4F.chart) - d0_ / ("2" * 1) + d0_ * W5n), Math.floor(n0o), Math.floor(d0_ * (1 - +"2" * W5n)), Math.floor(J7B.pixelFromPrice(Z8O[C5K.name + k5R], x4F, F1J) - n0o));
      }

      J7B.startClip(C5K.panel);

      if (!C5K.highlight && J7B.highlightedDraggable) {
        Z8r.globalAlpha *= 0.3;
      }

      for (var n8c = 0; n8c < l7Y.length; n8c++) {
        q9U = "_hist";
        q9U += "1";
        Z8O = l7Y[n8c];
        if (!Z8O) continue;

        if (Z8O.candleWidth) {
          d0_ = Math.floor(Math.max(1, Z8O.candleWidth - +"2"));
        }

        if (Z8O[C5K.name + q9U] > 0) {
          M7J.X$L(18);
          o0Y(n8c, M7J.D8z("0", 32), "Elder Bull Power", "_hist1");
        }

        if (Z8O[C5K.name + "_hist2"] < +"0") {
          o0Y(n8c, 0, "Elder Bear Power", "_hist2");
        }

        if (Z8O[C5K.name + "_hist1"] < 0) {
          o0Y(n8c, 0.1, "Elder Bull Power", "_hist1");
        }

        if (Z8O[C5K.name + "_hist2"] > 0) {
          o0Y(n8c, 0.1, "Elder Bear Power", "_hist2");
        }
      }

      J7B.endClip();
      Z8r.fillStyle = t6o;
    };

    v_x.Studies.studyLibrary = v_x.extend(v_x.Studies.studyLibrary, {
      "Elder Force": {
        name: "Elder Force Index",
        calculateFN: v_x.Studies.calculateElderForce,
        seriesFN: v_x.Studies.displayElderForce,
        inputs: {
          Period: 13
        }
      },
      "Elder Ray": {
        name: "Elder Ray Index",
        seriesFN: v_x.Studies.displayElderRay,
        calculateFN: v_x.Studies.calculateElderRay,
        centerline: 0,
        inputs: {
          Period: 13
        },
        outputs: {
          "Elder Bull Power": "#00DD00",
          "Elder Bear Power": "#FF0000"
        }
      },
      "Elder Impulse": {
        name: "Elder Impulse System",
        calculateFN: v_x.Studies.calculateElderImpulse,
        initializeFN: v_x.Studies.initElderImpulse,
        seriesFN: null,
        customRemoval: !!{},
        underlay: !!{},
        inputs: {},
        outputs: {
          Bullish: "#8BC176",
          Bearish: b1P,
          Neutral: "#5F7CB8"
        },
        removeFN: function removeFN(h7D, z6R) {
          h7D.chart.customChart = null;
          h7D.setMainSeriesRenderer();
        }
      }
    });
  }
};

N0 = function N0(V8x) {
  var d9x, l0L;
  d9x = "undefin";
  d9x += "ed";
  l0L = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== d9x ? _CIQ : V8x.CIQ;

  if (!l0L.Studies) {
    console.error("fractalChaos feature requires first activating studies feature.");
  } else {
    l0L.Studies.calculateFractalChaos = function (a9z, m_h) {
      var m1h = g9BGt;
      var u62, P$A, b5l, j_j, x3p, D52, q1J, W1w, u4h;
      u62 = m_h.chart.scrubbed;
      P$A = 0;
      m1h.X$L(35);
      b5l = m1h.D8z(0, "0");
      m1h.Z_e();
      j_j = 0;

      if (m_h.startFrom && m_h.type == "Fractal Chaos Bands") {
        x3p = "Fractal L";
        x3p += "o";
        x3p += "w ";
        D52 = "Fractal ";
        D52 += "H";
        D52 += "igh ";
        m1h.O90(31);
        var T0I = m1h.D8z(3, 8, 4, 3);
        P$A = u62[m_h.startFrom - T0I][D52 + m_h.name];
        m1h.O90(140);
        var u2a = m1h.D8z(13, 2, 12, 155);
        b5l = u62[m_h.startFrom - u2a][x3p + m_h.name];
      }

      for (var F1V = Math.max(4, m_h.startFrom); F1V < u62.length; F1V++) {
        if (u62[F1V].futureTick) break;
        q1J = !isNaN(u62[F1V].High);
        W1w = !isNaN(u62[F1V].Low);

        if (q1J || W1w) {
          u62[F1V]["Result " + m_h.name] = 0;
        }

        j_j = 0;

        for (u4h = 0; u4h <= F1V; u4h++) {
          if (!u62[F1V - u4h]) break;
          if (u62[F1V - u4h].High > u62[F1V - 2].High) break;
          if (u4h < 2 && u62[F1V - u4h].High == u62[F1V - 2].High) break;

          if (u62[F1V - u4h].High < u62[F1V - +"2"].High) {
            j_j++;
          }

          if (j_j == 4) {
            P$A = u62[F1V - 2].High;
            break;
          }
        }

        if (m_h.type == "Fractal Chaos Bands") {
          if (q1J) {
            u62[F1V]["Fractal High " + m_h.name] = P$A > 0 ? P$A : null;
          }
        } else if (j_j == 4) {
          u62[F1V]["Result " + m_h.name] = 1;
        }

        j_j = 0;

        for (u4h = 0; u4h <= F1V; u4h++) {
          if (!u62[F1V - u4h]) break;
          if (u62[F1V - u4h].Low < u62[F1V - 2].Low) break;
          if (u4h < 2 && u62[F1V - u4h].Low == u62[F1V - 2].Low) break;

          if (u62[F1V - u4h].Low > u62[F1V - 2].Low) {
            j_j++;
          }

          if (j_j == 4) {
            b5l = u62[F1V - 2].Low;
            break;
          }
        }

        if (m_h.type == "Fractal Chaos Bands") {
          if (W1w) {
            u62[F1V]["Fractal Low " + m_h.name] = b5l > 0 ? b5l : null;
          }
        } else if (j_j == 4) {
          u62[F1V]["Result " + m_h.name] = -1;
        }
      }
    };

    l0L.Studies.studyLibrary = l0L.extend(l0L.Studies.studyLibrary, {
      "Fractal Chaos": {
        name: "Fractal Chaos Oscillator",
        range: "-1 to 1",
        calculateFN: l0L.Studies.calculateFractalChaos,
        inputs: {},
        centerline: null
      },
      "Fractal Chaos Bands": {
        name: "Fractal Chaos Bands",
        overlay: !![],
        calculateFN: l0L.Studies.calculateFractalChaos,
        seriesFN: l0L.Studies.displayChannel,
        inputs: {
          "Channel Fill": !!1
        },
        outputs: {
          "Fractal High": "auto",
          "Fractal Low": "auto",
          "Fractal Channel": "auto"
        }
      }
    });
  }
};

Y5 = function Y5(T_U) {
  var x8c = g9BGt;
  x8c.Z_e();
  var E60, b7_, p61, w80, w9T;
  E60 = "u";
  E60 += "ndef";
  E60 += "ined";
  b7_ = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== E60 ? _CIQ : T_U.CIQ;

  if (!b7_.Studies) {
    console.error("highLowStudies feature requires first activating studies feature.");
  } else {
    p61 = "a";
    p61 += "uto";
    w80 = "Lo";
    w80 += "west Low Value";
    w9T = "Donc";
    w9T += "hian W";
    w9T += "idth";

    b7_.Studies.calculateMaxHighMinLow = function (U9g, C$D) {
      var I0r, w$u, X6$, x3G, d5I, L7M, e8Z, J5D, R8R, s9b, a7e, h4i, E9z, U_Q;
      I0r = "Low Per";
      I0r += "iod";
      x8c.Z_e();
      w$u = C$D.chart.scrubbed;
      X6$ = C$D.days;
      x3G = C$D.days;

      if (C$D.inputs["High Period"]) {
        X6$ = C$D.inputs["High Period"];
      }

      if (C$D.inputs[I0r]) {
        x3G = C$D.inputs["Low Period"];
      }

      if (w$u.length < Math.max(X6$, x3G) + +"1") {
        C$D.error = !!"1";
        return;
      }

      d5I = Number.MAX_VALUE;
      x8c.O90(7);
      var z20 = x8c.D8z(16, 15);
      L7M = Number.MAX_VALUE * z20;

      if (C$D.startFrom > +"1") {
        for (e8Z = 1; e8Z < X6$; e8Z++) {
          if (C$D.startFrom - e8Z >= +"0") {
            L7M = Math.max(L7M, w$u[C$D.startFrom - e8Z].High);
          }
        }

        for (e8Z = 1; e8Z < x3G; e8Z++) {
          if (C$D.startFrom - e8Z >= 0) {
            d5I = Math.min(d5I, w$u[C$D.startFrom - e8Z].Low);
          }
        }
      }

      for (var E8h = Math.max(0, C$D.startFrom - 1); E8h < w$u.length; E8h++) {
        J5D = "VT ";
        J5D += "HZ Filter";
        R8R = "GA";
        R8R += "PO";
        s9b = "Donch";
        s9b += "ian ";
        s9b += "Widt";
        s9b += "h";
        L7M = Math.max(L7M, w$u[E8h].High);
        d5I = Math.min(d5I, w$u[E8h].Low);

        if (E8h >= X6$) {
          if (w$u[E8h - X6$].High == L7M) {
            L7M = w$u[E8h].High;

            for (e8Z = 1; e8Z < X6$; e8Z++) {
              L7M = Math.max(L7M, w$u[E8h - e8Z].High);
            }
          }
        }

        if (E8h >= x3G) {
          if (w$u[E8h - x3G].Low == d5I) {
            d5I = w$u[E8h].Low;

            for (e8Z = 1; e8Z < x3G; e8Z++) {
              d5I = Math.min(d5I, w$u[E8h - e8Z].Low);
            }
          }
        }

        a7e = 0;

        if (C$D.type == "HHV") {
          a7e = L7M;
        } else if (C$D.type == "LLV") {
          a7e = d5I;
        } else if (C$D.type == s9b) {
          x8c.O90(7);
          a7e = x8c.D8z(d5I, L7M);
        } else if (C$D.type == R8R || C$D.type == "Gopala") {
          a7e = Math.log(L7M - d5I) / Math.log(x3G);
        } else if (C$D.type == J5D) {
          x8c.O90(7);
          a7e = x8c.D8z(d5I, L7M);
          w$u[E8h]["_MHML " + C$D.name] = a7e;
          continue;
        } else if (C$D.type == "Williams %R") {
          x8c.O90(141);
          var d8s = x8c.D8z(20, 80);
          a7e = d8s * (L7M - w$u[E8h].Close) / (L7M - d5I);
          w$u[E8h]["Result " + C$D.name] = a7e;
          continue;
        }

        if (E8h == w$u.length - 1) break;

        if (!w$u[E8h + +"1"].futureTick) {
          h4i = "D";
          h4i += "onchian";
          h4i += " Chan";
          h4i += "nel";

          if (C$D.type == h4i) {
            E9z = "Donchi";
            E9z += "an Median";
            E9z += " ";
            x8c.X$L(1);
            w$u[x8c.D8z(E8h, 1)]["Donchian High " + C$D.name] = L7M;
            x8c.O90(1);
            w$u[x8c.t1w(E8h, 1)]["Donchian Low " + C$D.name] = d5I;
            x8c.O90(1);
            w$u[x8c.D8z(E8h, 1)][E9z + C$D.name] = x8c.t1w(d5I, 2, L7M, x8c.O90(4));
          } else {
            U_Q = "R";
            U_Q += "es";
            U_Q += "ult";
            U_Q += " ";
            x8c.X$L(1);
            w$u[x8c.D8z(E8h, 1)][U_Q + C$D.name] = a7e;
          }
        }
      }
    };

    b7_.Studies.calculateVerticalHorizontalFilter = function (B8s, v4j) {
      var t_B, y6k, Z_w, o0a;
      t_B = v4j.chart.scrubbed;

      if (t_B.length < v4j.days + +"1") {
        v4j.error = !!{};
        return;
      }

      v4j.mhml = new b7_.Studies.StudyDescriptor(v4j.name, v4j.type, v4j.panel);
      v4j.mhml.chart = v4j.chart;
      v4j.mhml.days = v4j.days;
      v4j.mhml.startFrom = v4j.startFrom;
      v4j.mhml.inputs = {};
      v4j.mhml.outputs = {
        _MHML: null
      };
      b7_.Studies.calculateMaxHighMinLow(B8s, v4j.mhml);
      y6k = 0;
      Z_w = [];

      for (var E5P = Math.max(1, v4j.startFrom - v4j.days); E5P < t_B.length; E5P++) {
        o0a = Math.abs(t_B[E5P].Close - t_B[E5P - 1].Close);
        Z_w.push(o0a);
        y6k += o0a;

        if (Z_w.length == v4j.days) {
          t_B[E5P]["Result " + v4j.name] = t_B[E5P]["_MHML " + v4j.name] / y6k;
          y6k -= Z_w.shift();
        }
      }
    };

    b7_.Studies.studyLibrary = b7_.extend(b7_.Studies.studyLibrary, {
      "Donchian Channel": {
        name: "Donchian Channel",
        overlay: !!"1",
        calculateFN: b7_.Studies.calculateMaxHighMinLow,
        seriesFN: b7_.Studies.displayChannel,
        inputs: {
          "High Period": 20,
          "Low Period": 20,
          "Channel Fill": !![]
        },
        outputs: {
          "Donchian High": "auto",
          "Donchian Median": "auto",
          "Donchian Low": "auto"
        }
      },
      "Donchian Width": {
        name: w9T,
        calculateFN: b7_.Studies.calculateMaxHighMinLow,
        inputs: {
          "High Period": 20,
          "Low Period": 20
        }
      },
      GAPO: {
        name: "Gopalakrishnan Range Index",
        calculateFN: b7_.Studies.calculateMaxHighMinLow
      },
      HHV: {
        name: "Highest High Value",
        calculateFN: b7_.Studies.calculateMaxHighMinLow,
        inputs: {
          Period: "14" | 12
        }
      },
      LLV: {
        name: w80,
        calculateFN: b7_.Studies.calculateMaxHighMinLow,
        inputs: {
          Period: 14
        }
      },
      "Williams %R": {
        name: "Williams %R",
        calculateFN: b7_.Studies.calculateMaxHighMinLow,
        inputs: {
          Period: 14
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!"1",
            studyOverBoughtValue: -20,
            studyOverBoughtColor: p61,
            studyOverSoldValue: -80,
            studyOverSoldColor: "auto"
          }
        }
      },
      "VT HZ Filter": {
        name: "Vertical Horizontal Filter",
        calculateFN: b7_.Studies.calculateVerticalHorizontalFilter,
        inputs: {
          Period: +"28"
        }
      },
      "High-Low": {
        name: "High Minus Low",
        calculateFN: function calculateFN(U0Q, t4W) {
          var n1O, h3O;
          n1O = t4W.chart.scrubbed;
          x8c.Z_e();

          for (var v6s = t4W.startFrom; v6s < n1O.length; v6s++) {
            h3O = "R";
            h3O += "esul";
            h3O += "t";
            h3O += " ";
            n1O[v6s][h3O + t4W.name] = n1O[v6s].High - n1O[v6s].Low;
          }
        },
        inputs: {}
      }
    });
  }
};

k5 = function k5(d7l) {
  var S7N = g9BGt;
  var r2V, t1c;
  r2V = typeof _CIQ !== "undefined" ? _CIQ : d7l.CIQ;
  S7N.Z_e();

  if (!r2V.Studies) {
    t1c = "ichimoku feature requires first activating st";
    t1c += "udies feature.";
    console.error(t1c);
  } else {
    r2V.Studies.calculateIchimoku = function (N_N, K$p) {
      var J7$, u6E, T_e, L1V, M0i, C4S, V5O, y3F, F_S, v6f;
      J7$ = K$p.chart.scrubbed;
      u6E = {
        Base: Number(K$p.inputs["Base Line Period"]),
        Conv: Number(K$p.inputs["Conversion Line Period"]),
        LeadB: Number(K$p.inputs["Leading Span B Period"]),
        Lag: Number(K$p.inputs["Lagging Span Period"])
      };

      for (T_e = K$p.startFrom; T_e < J7$.length; T_e++) {
        if (!J7$[T_e]) continue;
        L1V = D7Q(u6E.Conv, T_e);
        S7N.X$L(9);
        var t1r = S7N.D8z(7, 11, 5);
        S7N.O90(142);
        var i4U = S7N.D8z(4, 11, 10, 61);
        J7$[T_e]["Conversion Line " + K$p.name] = (L1V[t1r] + L1V[0]) / ("2" >> i4U);
        L1V = D7Q(u6E.Base, T_e);
        S7N.O90(58);
        var R0r = S7N.t1w(14, 18, 16, 6, 41);
        S7N.X$L(5);
        var Z8T = S7N.t1w(6, 16, 12);
        J7$[T_e]["Base Line " + K$p.name] = (L1V[R0r] + L1V[0]) / Z8T;
        if (T_e < u6E.Lag) continue;
        J7$[T_e - u6E.Lag]["Lagging Span " + K$p.name] = J7$[T_e].Close;
      }

      M0i = [];

      for (T_e = Math.max(0, K$p.startFrom - u6E.Base); T_e < J7$.length; T_e++) {
        L1V = D7Q(u6E.LeadB, T_e);
        S7N.X$L(143);
        var a9E = S7N.t1w(13, 0, 8, 1, 5);
        C4S = (J7$[T_e]["Conversion Line " + K$p.name] + J7$[T_e]["Base Line " + K$p.name]) / a9E;
        S7N.X$L(144);
        var m$W = S7N.D8z(7, 43, 7, 4, 11);
        S7N.X$L(145);
        var F4v = S7N.t1w(3, 3, 8, 0, 10);
        V5O = (L1V[m$W] + L1V[0]) / F4v;

        if (J7$[T_e + u6E.Base]) {
          y3F = "Leadin";
          y3F += "g";
          y3F += " Spa";
          y3F += "n B ";
          J7$[T_e + u6E.Base]["Leading Span A " + K$p.name] = C4S;
          J7$[T_e + u6E.Base][y3F + K$p.name] = V5O;
        } else {
          F_S = "Le";
          F_S += "ad";
          F_S += "i";
          F_S += "ng Span B ";
          v6f = {};
          v6f["Leading Span A " + K$p.name] = C4S;
          v6f[F_S + K$p.name] = V5O;
          M0i.push(v6f);
        }
      }

      K$p.appendFutureTicks(N_N, M0i);

      function D7Q(W$0, N4I) {
        var F2c, q1w;
        F2c = Number.MAX_VALUE;
        q1w = Number.MAX_VALUE * -("1" | 0);

        for (var A5l = N4I - W$0 + 1; A5l <= N4I; A5l++) {
          if (A5l < +"0") continue;
          F2c = Math.min(F2c, J7$[A5l].Low);
          q1w = Math.max(q1w, J7$[A5l].High);
        }

        return [F2c, q1w];
      }
    };

    r2V.Studies.displayIchimoku = function (S5F, g3U, D09) {
      var k9Q, y6Y, q1F, o1C, s52, w9K, d1_, s7i;
      k9Q = "Lea";
      k9Q += "ding Sp";
      k9Q += "an B ";
      y6Y = "Leading Span A " + g3U.name;
      q1F = k9Q + g3U.name;
      o1C = r2V.Studies.determineColor(g3U.outputs[g3U.outputMap[y6Y]]);
      s52 = r2V.Studies.determineColor(g3U.outputs[g3U.outputMap[q1F]]);
      w9K = S5F.panels[g3U.panel];
      d1_ = g3U.getYAxis(S5F);
      s7i = {
        topBand: y6Y,
        bottomBand: q1F,
        topColor: o1C,
        bottomColor: s52,
        skipTransform: w9K.name != g3U.chart.name,
        topAxis: d1_,
        bottomAxis: d1_,
        opacity: +"0.3"
      };

      if (!g3U.highlight && S5F.highlightedDraggable) {
        s7i.opacity *= 0.3;
      }

      r2V.fillIntersecting(S5F, g3U.panel, s7i);
      r2V.Studies.displaySeriesAsLine(S5F, g3U, D09);
    };

    r2V.Studies.studyLibrary = r2V.extend(r2V.Studies.studyLibrary, {
      "Ichimoku Clouds": {
        name: "Ichimoku Clouds",
        overlay: !!1,
        calculateFN: r2V.Studies.calculateIchimoku,
        seriesFN: r2V.Studies.displayIchimoku,
        inputs: {
          "Conversion Line Period": +"9",
          "Base Line Period": 26,
          "Leading Span B Period": 52,
          "Lagging Span Period": 26
        },
        outputs: {
          "Conversion Line": "#0000FF",
          "Base Line": "#FF0000",
          "Leading Span A": "#00FF00",
          "Leading Span B": "#FF0000",
          "Lagging Span": "#808000"
        }
      }
    });
  }
};

O6 = function O6(V$f) {
  var o6K, o_i, N1$, W22, s2W, x__, v26, D1T;
  o6K = typeof _CIQ !== "undefined" ? _CIQ : V$f.CIQ;

  if (!o6K.Studies) {
    o_i = "intradayMomentum feature re";
    o_i += "qu";
    o_i += "ires first";
    o_i += " activating studies feature.";
    console.error(o_i);
  } else {
    N1$ = "Intraday Momentum";
    N1$ += " ";
    N1$ += "Inde";
    N1$ += "x";

    o6K.Studies.calculateIntradayMomentum = function (y8Y, O4B) {
      var c$T = g9BGt;
      var o5G, S$i, G7o, u6B, E9y, T0U, J43, W4t, K5I;
      o5G = O4B.chart.scrubbed;
      S$i = O4B.days;

      if (o5G.length < S$i + 1) {
        O4B.error = !"";
        return;
      }

      G7o = +"0";
      c$T.c7b();
      c$T.O90(8);
      u6B = c$T.t1w(1, "0");

      if (O4B.startFrom > 1) {
        E9y = "_totD";
        E9y += "n ";
        G7o = o5G[O4B.startFrom - +"1"]["_totUp " + O4B.name];
        c$T.X$L(1);
        var r47 = c$T.t1w(0, 1);
        u6B = o5G[O4B.startFrom - r47][E9y + O4B.name];
      }

      for (var G_m = O4B.startFrom; G_m < o5G.length; G_m++) {
        T0U = "_t";
        T0U += "otDn ";
        J43 = "_totU";
        J43 += "p ";
        W4t = o5G[G_m].Close - o5G[G_m].Open;

        if (W4t > 0) {
          G7o += W4t;
        } else {
          u6B -= W4t;
        }

        if (G_m >= S$i) {
          K5I = o5G[G_m - S$i].Close - o5G[G_m - S$i].Open;

          if (K5I > "0" - 0) {
            G7o -= K5I;
          } else {
            u6B += K5I;
          }
        }

        c$T.X$L(146);
        o5G[G_m]["Result " + O4B.name] = c$T.D8z(u6B, G7o, "100", G7o, 64);
        o5G[G_m][J43 + O4B.name] = G7o;
        o5G[G_m][T0U + O4B.name] = u6B;
      }
    };

    W22 = 47190132;
    s2W = 1353725720;
    x__ = 2;

    for (var N8L = 1; g9BGt.l9L(N8L.toString(), N8L.toString().length, 86471) !== W22; N8L++) {
      v26 = "In";
      v26 += "traday Mtm";
      o6K.Studies.studyLibrary = o6K.extend(o6K.Studies.studyLibrary, {
        "Intraday Mtm": {
          name: "auto",
          calculateFN: o6K.Studies.calculateIntradayMomentum,
          inputs: {
            Period: 81
          },
          parameters: {
            init: {
              studyOverZonesEnabled: !{},
              studyOverBoughtValue: 19,
              studyOverBoughtColor: "auto",
              studyOverSoldValue: 86,
              studyOverSoldColor: v26
            }
          }
        }
      });
      x__ += 2;
    }

    if (g9BGt.i7j(x__.toString(), x__.toString().length, +"78115") !== s2W) {
      D1T = "a";
      D1T += "u";
      D1T += "to";
      o6K.Studies.studyLibrary = o6K.extend(o6K.Studies.studyLibrary, {
        "Intraday Mtm": {
          name: D1T,
          calculateFN: o6K.Studies.calculateIntradayMomentum,
          inputs: {
            Period: 81
          },
          parameters: {
            init: {
              studyOverZonesEnabled: !{},
              studyOverBoughtValue: 19,
              studyOverBoughtColor: "auto",
              studyOverSoldValue: 86,
              studyOverSoldColor: "Intraday Mtm"
            }
          }
        }
      });
    }

    o6K.Studies.studyLibrary = o6K.extend(o6K.Studies.studyLibrary, {
      "Intraday Mtm": {
        name: N1$,
        calculateFN: o6K.Studies.calculateIntradayMomentum,
        inputs: {
          Period: 20
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !![],
            studyOverBoughtValue: 70,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: "30" ^ 0,
            studyOverSoldColor: "auto"
          }
        }
      }
    });
  }
};

G_ = function G_(p8P) {
  var B6D;
  B6D = typeof _CIQ !== "undefined" ? _CIQ : p8P.CIQ;
  g9BGt.c7b();

  if (!B6D.Studies) {
    console.error("keltner feature requires first activating studies feature.");
  } else {
    B6D.Studies.calculateKeltner = function (f3y, P7X) {
      var b8U;
      b8U = "M";
      b8U += "A";
      b8U += " ";
      B6D.Studies.MA(P7X.inputs["Moving Average Type"], P7X.days, "Close", 0, "MA", f3y, P7X);
      B6D.Studies.calculateStudyATR(f3y, P7X);
      B6D.Studies.calculateGenericEnvelope(f3y, P7X, P7X.inputs.Shift, b8U + P7X.name, "ATR " + P7X.name);
    };

    B6D.Studies.studyLibrary = B6D.extend(B6D.Studies.studyLibrary, {
      Keltner: {
        name: "Keltner Channel",
        overlay: !!"1",
        seriesFN: B6D.Studies.displayChannel,
        calculateFN: B6D.Studies.calculateKeltner,
        inputs: {
          Period: 50,
          Shift: 5,
          "Moving Average Type": "ema",
          "Channel Fill": !![]
        },
        outputs: {
          "Keltner Top": "auto",
          "Keltner Median": "auto",
          "Keltner Bottom": "auto"
        },
        attributes: {
          Shift: {
            min: 0.1,
            step: 0.1
          }
        }
      }
    });
  }
};

X0 = function X0(L_3) {
  var j4j = g9BGt;
  var l37, g80, B7w, C1h, S2u, Z_I;
  l37 = typeof _CIQ !== "undefined" ? _CIQ : L_3.CIQ;

  if (!l37.Studies) {
    g80 = 530806262;
    B7w = 1764039854;
    C1h = 2;

    for (var I4m = 1; j4j.i7j(I4m.toString(), I4m.toString().length, 26476) !== g80; I4m++) {
      console.error("klinger feature requires first activating studies feature.");
      C1h += 2;
    }

    if (j4j.l9L(C1h.toString(), C1h.toString().length, 62702) !== B7w) {
      console.error("");
    }
  } else {
    S2u = "#0";
    S2u += "0DD00";
    Z_I = "a";
    Z_I += "u";
    Z_I += "t";
    Z_I += "o";

    l37.Studies.calculateKlinger = function (U59, m1m) {
      var s6M, R6u, L5m, q0B, S3a, n1S, b9t, G_$, n7O, x$F, M_J, j6a, A9Z, H6Y;
      s6M = "Klinge";
      s6M += "rSi";
      s6M += "gna";
      s6M += "l";
      R6u = "exponen";
      R6u += "ti";
      R6u += "al";
      L5m = "_EM";
      L5m += "A";
      L5m += "-";
      L5m += "S";
      q0B = m1m.chart.scrubbed;
      S3a = Number(m1m.inputs["Short Cycle"]);
      n1S = Number(m1m.inputs["Long Cycle"]);

      if (q0B.length < Math.max(S3a, n1S) + +"1") {
        m1m.error = !"";
        return;
      }

      b9t = m1m.name + "_hist";
      G_$ = "Klinger " + m1m.name;
      n7O = "KlingerSignal " + m1m.name;
      x$F = "_SV " + m1m.name;
      M_J = "_EMA-S " + m1m.name;
      j6a = "_EMA-L " + m1m.name;

      for (A9Z = Math.max(1, m1m.startFrom); A9Z < q0B.length; A9Z++) {
        H6Y = q0B[A9Z].Volume;

        if (q0B[A9Z]["hlc/3"] < q0B[A9Z - ("1" >> 0)]["hlc/3"]) {
          H6Y *= -+"1";
        }

        if (H6Y) {
          q0B[A9Z][x$F] = H6Y;
        }
      }

      l37.Studies.MA("exponential", S3a, x$F, 0, L5m, U59, m1m);
      j4j.O90(18);
      l37.Studies.MA(R6u, n1S, x$F, j4j.t1w("0", 32), "_EMA-L", U59, m1m);

      for (A9Z = Math.max(n1S, m1m.startFrom); A9Z < q0B.length; A9Z++) {
        if (q0B[A9Z].futureTick || q0B[A9Z][M_J] === null || q0B[A9Z][j6a] === null) break;
        q0B[A9Z][G_$] = q0B[A9Z][M_J] - q0B[A9Z][j6a];
      }

      l37.Studies.MA("exponential", Number(m1m.inputs["Signal Periods"]), G_$, 0, s6M, U59, m1m);

      for (A9Z = m1m.startFrom; A9Z < q0B.length; A9Z++) {
        q0B[A9Z][b9t] = q0B[A9Z][G_$] - q0B[A9Z][n7O];
      }

      m1m.outputMap[b9t] = "";
    };

    l37.Studies.studyLibrary = l37.extend(l37.Studies.studyLibrary, {
      Klinger: {
        name: "Klinger Volume Oscillator",
        seriesFN: l37.Studies.displayHistogramWithSeries,
        calculateFN: l37.Studies.calculateKlinger,
        inputs: {
          "Signal Periods": 13,
          "Short Cycle": 34,
          "Long Cycle": 55
        },
        outputs: {
          Klinger: Z_I,
          KlingerSignal: "#FF0000",
          "Increasing Bar": S2u,
          "Decreasing Bar": "#FF0000"
        }
      }
    });
  }
};

Z_ = function Z_(c4m) {
  var m4e = g9BGt;
  m4e.Z_e();
  var X$$, D_E, z1n, P1G, V49;
  X$$ = typeof _CIQ !== "undefined" ? _CIQ : c4m.CIQ;

  if (!X$$.Studies) {
    console.error("linearRegression feature requires first activating studies feature.");
  } else {
    D_E = "f";
    D_E += "i";
    D_E += "eld";
    z1n = "TimeSe";
    z1n += "ri";
    z1n += "es";
    P1G = "time";
    P1G += " serie";
    P1G += "s";
    V49 = "Time Ser";
    V49 += "ies";
    X$$.Studies.prettify["time series"] = "tsma";
    X$$.Studies.movingAverage.conversions.tsma = "time series";
    X$$.Studies.movingAverage.translations["time series"] = V49;
    X$$.Studies.movingAverage.typeMap.tsma = "TimeSeries";
    X$$.Studies.movingAverage.typeMap[P1G] = z1n;

    X$$.Studies.calculateMovingAverageTimeSeries = function (j$F, f96) {
      var b_n, r4O, c69, z7G, x49, u_P, I6K, p7r, Y7K, U1l;
      f96.ma = new X$$.Studies.StudyDescriptor(f96.name, "ma", f96.panel);
      f96.ma.chart = f96.chart;
      f96.ma.days = f96.days;
      f96.ma.startFrom = f96.startFrom;
      f96.ma.inputs = f96.inputs;
      X$$.Studies.calculateLinearRegressionIndicator(j$F, f96.ma);
      b_n = f96.name;

      for (var Y3W in f96.outputs) {
        m4e.X$L(95);
        b_n = m4e.t1w(Y3W, b_n, " ");
      }

      r4O = parseInt(f96.inputs.Offset, 10);

      if (isNaN(r4O)) {
        r4O = 0;
      }

      c69 = f96.chart.scrubbed;
      z7G = r4O;

      for (var C_w = f96.startFrom - 1; C_w >= 0; C_w--) {
        x49 = c69[C_w][b_n];
        if (!x49 && x49 !== 0) continue;

        if (z7G > 0) {
          z7G--;
          continue;
        }

        break;
      }

      u_P = [];
      m4e.Z_e();

      for (C_w++; C_w < c69.length; C_w++) {
        I6K = c69[C_w];

        if (C_w + r4O >= 0) {
          p7r = "Fore";
          p7r += "cast ";

          if (C_w + r4O < c69.length) {
            m4e.O90(1);
            c69[m4e.D8z(C_w, r4O)][b_n] = I6K[p7r + f96.name];
          } else {
            Y7K = "For";
            Y7K += "ec";
            Y7K += "as";
            Y7K += "t ";
            U1l = {};
            U1l[b_n] = I6K[Y7K + f96.name];
            u_P.push(U1l);
          }
        }
      }

      f96.appendFutureTicks(j$F, u_P);
    };

    X$$.Studies.calculateLinearRegressionIndicator = function (V6A, v9i) {
      var G70, B6v, L$Y, r1V, f9i, m1k, h44, k1b, H5t, q$f, S7o, T33, x5e, I2S, m7U, s3z, Z0J;
      G70 = "Cl";
      G70 += "o";
      G70 += "s";
      G70 += "e";
      B6v = v9i.chart.scrubbed;

      if (B6v.length < v9i.days + 1) {
        v9i.error = !!1;
        return;
      }

      L$Y = v9i.inputs.Field;

      if (!L$Y || L$Y == "field") {
        L$Y = G70;
      }

      m4e.O90(126);
      var p7C = m4e.t1w(6, 12, 2, 10);
      m4e.X$L(147);
      var A5O = m4e.t1w(4, 17, 151, 14, 22);
      r1V = v9i.days * (v9i.days + p7C) / A5O;
      f9i = Math.pow(r1V, 2);
      m4e.O90(139);
      var c6A = m4e.t1w(3, 12, 7);
      m4e.O90(148);
      var V5f = m4e.t1w(20, 20, 5, 5, 1);
      m1k = r1V * (c6A * v9i.days + V5f) / +"3";
      h44 = 0;
      k1b = 0;
      H5t = 0;

      if (v9i.startFrom) {
        m4e.O90(149);
        var Q_Y = m4e.t1w(16, 18, 457, 12, 19);
        q$f = B6v[v9i.startFrom - Q_Y]["_sums " + v9i.name];

        if (q$f) {
          k1b = q$f[0];
          h44 = q$f[1];
          H5t = q$f[2];
        }
      }

      for (var K7C = v9i.startFrom; K7C < B6v.length; K7C++) {
        S7o = "RSquar";
        S7o += "ed ";
        T33 = "S";
        T33 += "lo";
        T33 += "p";
        T33 += "e ";
        x5e = B6v[K7C][L$Y];

        if (x5e && _typeof(x5e) == "object") {
          x5e = x5e[v9i.subField];
        }

        if (!x5e && x5e !== 0) continue;
        k1b += v9i.days * x5e - h44;
        h44 += x5e;
        m4e.O90(18);
        H5t += Math.pow(x5e, m4e.D8z("2", 64));
        if (K7C < v9i.days - 1) continue;else if (K7C > v9i.days - 1) {
          I2S = B6v[K7C - v9i.days][L$Y];

          if (I2S && _typeof(I2S) == "object") {
            I2S = I2S[v9i.subField];
          }

          if (!I2S && I2S !== 0) continue;
          h44 -= I2S;
          H5t -= Math.pow(I2S, 2);
        }
        m7U = (v9i.days * k1b - r1V * h44) / (v9i.days * m1k - f9i);
        B6v[K7C][T33 + v9i.name] = m7U;
        s3z = (h44 - m7U * r1V) / v9i.days;
        B6v[K7C]["Intercept " + v9i.name] = s3z;
        B6v[K7C]["Forecast " + v9i.name] = s3z + m7U * v9i.days;
        m4e.X$L(7);
        var L2F = m4e.D8z(4, 6);
        Z0J = (v9i.days * m1k - f9i) / (v9i.days * H5t - Math.pow(h44, L2F));
        m4e.X$L(150);
        B6v[K7C][S7o + v9i.name] = m4e.t1w(Z0J, m7U, m7U);
        B6v[K7C]["_sums " + v9i.name] = [k1b, h44, H5t];
      }
    };

    X$$.Studies.studyLibrary = X$$.extend(X$$.Studies.studyLibrary, {
      "Lin Fcst": {
        name: "Linear Reg Forecast",
        overlay: !![],
        calculateFN: X$$.Studies.calculateLinearRegressionIndicator,
        inputs: {
          Period: 14,
          Field: "field"
        },
        outputs: {
          Forecast: "auto"
        }
      },
      "Lin Incpt": {
        name: "Linear Reg Intercept",
        overlay: !!"1",
        calculateFN: X$$.Studies.calculateLinearRegressionIndicator,
        inputs: {
          Period: 14,
          Field: "field"
        },
        outputs: {
          Intercept: "auto"
        }
      },
      "Lin R2": {
        name: "Linear Reg R2",
        calculateFN: X$$.Studies.calculateLinearRegressionIndicator,
        inputs: {
          Period: "14" * 1,
          Field: "field"
        },
        outputs: {
          RSquared: "auto"
        }
      },
      "LR Slope": {
        name: "Linear Reg Slope",
        calculateFN: X$$.Studies.calculateLinearRegressionIndicator,
        inputs: {
          Period: 14,
          Field: "field"
        },
        outputs: {
          Slope: "auto"
        }
      },
      "Time Fcst": {
        name: "Time Series Forecast",
        overlay: !![],
        calculateFN: X$$.Studies.calculateLinearRegressionIndicator,
        inputs: {
          Period: +"14",
          Field: D_E
        },
        outputs: {
          Forecast: "auto"
        }
      }
    });
  }
};

i$ = function i$(G7j) {
  var U2x = g9BGt;
  var R3_, W1m;
  U2x.Z_e();
  R3_ = typeof _CIQ !== "undefined" ? _CIQ : G7j.CIQ;

  if (!R3_.Studies) {
    console.error("macd feature requires first activating studies feature.");
  } else {
    W1m = "#0";
    W1m += "0";
    W1m += "DD";
    W1m += "00";

    R3_.Studies.calculateMACD = function (d62, L3s) {
      var c3c, l70, J$u, o$X, y7Z, d9S, x2J, f9Y, p5c, u$l, V$T, M3s, J0p, M7j, T0N, c5s, e_l, U2P, w5Y, K_j, N5l;
      c3c = "_";
      c3c += "h";
      c3c += "is";
      c3c += "t";
      l70 = "Sig";
      l70 += "nal";
      J$u = "Si";
      J$u += "gna";
      J$u += "l MA Typ";
      J$u += "e";
      o$X = "Mo";
      o$X += "ving Averag";
      o$X += "e";
      o$X += " Type";
      y7Z = L3s.chart.scrubbed;
      d9S = L3s.inputs;
      x2J = L3s.name;

      if (!L3s.macd1Days) {
        L3s.macd1Days = parseFloat(d9S["Fast MA Period"]);
      }

      if (!L3s.macd2Days) {
        L3s.macd2Days = parseFloat(d9S["Slow MA Period"]);
      }

      if (!L3s.signalDays) {
        L3s.signalDays = parseFloat(d9S["Signal Period"]);
      }

      if (!L3s.days) {
        L3s.days = Math.max(L3s.macd1Days, L3s.macd2Days, L3s.signalDays);
      }

      if (y7Z.length < L3s.days + 1) {
        L3s.error = !!{};
        f9Y = 829371700;
        p5c = 643261637;
        u$l = 2;

        for (var v3I = 1; U2x.l9L(v3I.toString(), v3I.toString().length, 8390) !== f9Y; v3I++) {
          return;
        }

        if (U2x.l9L(u$l.toString(), u$l.toString().length, 14820) !== p5c) {
          return;
        }
      }

      V$T = L3s.inputs.Field;

      if (!V$T || V$T == "field") {
        V$T = "Close";
      }

      M3s = d9S[o$X];

      if (!M3s) {
        M3s = "exponential";
      }

      R3_.Studies.MA(M3s, L3s.macd1Days, V$T, +"0", "_MACD1", d62, L3s);
      R3_.Studies.MA(M3s, L3s.macd2Days, V$T, 0, "_MACD2", d62, L3s);
      T0N = Math.max(L3s.startFrom, L3s.days - 1);

      for (J0p = T0N; J0p < y7Z.length; J0p++) {
        c5s = "_MA";
        c5s += "CD1 ";
        e_l = "_M";
        e_l += "AC";
        e_l += "D";
        e_l += "1 ";
        M7j = y7Z[J0p];

        if ((M7j[e_l + x2J] || M7j["_MACD1 " + x2J] === 0) && (M7j["_MACD2 " + x2J] || M7j["_MACD2 " + x2J] === 0)) {
          U2x.X$L(1);
          M7j[U2x.D8z("MACD ", x2J)] = M7j[c5s + x2J] - M7j["_MACD2 " + x2J];
        }
      }

      U2P = d9S[J$u];

      if (!U2P) {
        U2P = "exponential";
      }

      R3_.Studies.MA(U2P, L3s.signalDays, "MACD " + x2J, 0, l70, d62, L3s);
      U2x.O90(1);
      w5Y = U2x.t1w(x2J, c3c);

      for (J0p = T0N; J0p < y7Z.length; J0p++) {
        K_j = "MAC";
        K_j += "D";
        K_j += " ";
        M7j = y7Z[J0p];
        U2x.X$L(1);
        N5l = M7j[U2x.t1w("Signal ", x2J)];
        if (!N5l && N5l !== 0) continue;
        M7j[w5Y] = M7j[K_j + x2J] - M7j["Signal " + x2J];
      }

      L3s.outputMap[w5Y] = "";
    };

    R3_.Studies.studyLibrary = R3_.extend(R3_.Studies.studyLibrary, {
      macd: {
        name: "MACD",
        calculateFN: R3_.Studies.calculateMACD,
        seriesFN: R3_.Studies.displayHistogramWithSeries,
        inputs: {
          "Fast MA Period": 12,
          "Slow MA Period": 26,
          "Signal Period": 9
        },
        outputs: {
          MACD: "auto",
          Signal: "#FF0000",
          "Increasing Bar": W1m,
          "Decreasing Bar": "#FF0000"
        }
      }
    });
  }
};

L$ = function L$(A2_) {
  var b_X = g9BGt;
  b_X.Z_e();
  var z5b;
  z5b = typeof _CIQ !== "undefined" ? _CIQ : A2_.CIQ;

  if (!z5b.Studies) {
    console.error("massIndex feature requires first activating studies feature.");
  } else {
    z5b.Studies.calculateMassIndex = function (f26, t5N) {
      var w_$, P9P, Z0$, R$y, L1g, w3L, G4Y, r$3;
      w_$ = "_";
      w_$ += "tota";
      w_$ += "l ";
      P9P = "_";
      P9P += "total ";
      Z0$ = "e";
      Z0$ += "xp";
      Z0$ += "onentia";
      Z0$ += "l";
      R$y = t5N.chart.scrubbed;

      if (R$y.length < Math.max(9, t5N.days + ("1" - 0))) {
        t5N.error = !!1;
        L1g = -2052317514;
        w3L = -734732867;
        G4Y = 2;

        for (var i0X = 1; b_X.i7j(i0X.toString(), i0X.toString().length, 91014) !== L1g; i0X++) {
          return;
        }

        if (b_X.i7j(G4Y.toString(), G4Y.toString().length, 48096) !== w3L) {
          return;
        }

        return;
      }

      for (var A8k = t5N.startFrom; A8k < R$y.length; A8k++) {
        R$y[A8k]["_High-Low " + t5N.name] = R$y[A8k].High - R$y[A8k].Low;
      }

      z5b.Studies.MA(Z0$, 9, "_High-Low " + t5N.name, 0, "_EMA", f26, t5N);
      z5b.Studies.MA("exponential", 9, "_EMA " + t5N.name, 0, "_EMA2", f26, t5N);
      b_X.X$L(8);
      r$3 = b_X.t1w(1, "0");

      if (R$y[t5N.startFrom - 1] && R$y[t5N.startFrom - 1][P9P + t5N.name]) {
        b_X.O90(14);
        var d0b = b_X.t1w(4, 18, 13);
        r$3 = R$y[t5N.startFrom - d0b][w_$ + t5N.name];
      }

      for (var F8I = Math.max(17, t5N.startFrom); F8I < R$y.length; F8I++) {
        r$3 += R$y[F8I]["_EMA " + t5N.name] / R$y[F8I]["_EMA2 " + t5N.name];

        if (F8I >= 17 + t5N.days - "1" * 1) {
          R$y[F8I]["Result " + t5N.name] = r$3;
          b_X.O90(1);
          var T2E = b_X.D8z(0, 1);
          b_X.X$L(151);
          var I3c = b_X.t1w(9, 2, 10, 14, 32);
          r$3 -= R$y[F8I - t5N.days + T2E]["_EMA " + t5N.name] / R$y[F8I - t5N.days + I3c]["_EMA2 " + t5N.name];
        }

        R$y[F8I]["_total " + t5N.name] = r$3;
      }
    };

    z5b.Studies.displayMassIndex = function (I51, b7f, l5$) {
      var Z7P, P66, S2r, j_h, B0V, d8r;
      Z7P = "Bulge ";
      Z7P += "Threshol";
      Z7P += "d";
      z5b.Studies.displaySeriesAsLine(I51, b7f, l5$);
      P66 = b7f.inputs[Z7P];
      S2r = I51.panels[b7f.panel];
      j_h = b7f.getYAxis(I51);
      B0V = z5b.Studies.determineColor(b7f.outputs.Result);
      d8r = {
        skipTransform: I51.panels[b7f.panel].name != b7f.chart.name,
        panelName: b7f.panel,
        band: "Result " + b7f.name,
        threshold: P66,
        direction: 1,
        color: B0V,
        yAxis: j_h,
        opacity: 0.3
      };

      if (!b7f.highlight && I51.highlightedDraggable) {
        d8r.opacity *= +"0.3";
      }

      z5b.preparePeakValleyFill(I51, d8r);
      z5b.Studies.drawHorizontal(I51, b7f, null, P66, j_h, B0V);
    };

    z5b.Studies.studyLibrary = z5b.extend(z5b.Studies.studyLibrary, {
      "Mass Idx": {
        name: "Mass Index",
        seriesFN: z5b.Studies.displayMassIndex,
        calculateFN: z5b.Studies.calculateMassIndex,
        inputs: {
          Period: "25" >> 32,
          "Bulge Threshold": 27
        },
        attributes: {
          "Bulge Threshold": {
            min: 20,
            max: 35,
            step: 0.1
          }
        }
      }
    });
  }
};

t6 = function t6(H_s) {
  var Q0h = g9BGt;
  var T_Z, y0b, N5r, s1i, m8D, r_L, f2x, m_t;
  T_Z = typeof _CIQ !== "undefined" ? _CIQ : H_s.CIQ;
  Q0h.c7b();

  if (!T_Z.Studies) {
    console.error("moneyFlow feature requires first activating studies feature.");
  } else {
    T_Z.Studies.calculateMoneyFlowIndex = function (Q0X, e0h) {
      var G8S, v0X, G_1, y2w, Y_9, a2U, K$X, s5j, C1z, y5V, g2h, V7x, M90;
      G8S = "_cum";
      G8S += "MF ";
      v0X = e0h.chart.scrubbed;

      if (v0X.length < e0h.days + 1) {
        e0h.error = !"";
        return;
      }

      G_1 = 0;
      y2w = 0;
      Q0h.X$L(152);
      var v5V = Q0h.t1w(9, 8, 21, 19, 14);
      Y_9 = v0X[e0h.startFrom - v5V];
      a2U = "_rawMF " + e0h.name;
      K$X = G8S + e0h.name;
      s5j = "Result " + e0h.name;

      if (Y_9 && Y_9[K$X]) {
        G_1 = Y_9[K$X][0];
        y2w = Y_9[K$X][1];
      }

      Q0h.c7b();

      for (var l28 = e0h.startFrom; l28 < v0X.length; l28++) {
        C1z = v0X[l28]["hlc/3"];

        if (l28 > 0 && !v0X[l28].futureTick) {
          y5V = "h";
          y5V += "lc";
          y5V += "/";
          y5V += "3";
          Q0h.X$L(7);
          g2h = v0X[Q0h.t1w(1, l28)][y5V];
          V7x = C1z * v0X[l28].Volume;

          if (C1z > g2h) {
            G_1 += V7x;
          } else if (C1z < g2h) {
            V7x *= -1;
            y2w -= V7x;
          } else {
            V7x = 0;
          }

          if (l28 > e0h.days) {
            M90 = v0X[l28 - e0h.days][a2U];

            if (M90 > "0" - 0) {
              G_1 -= M90;
            } else {
              y2w += M90;
            }

            if (y2w === 0) {
              v0X[l28][s5j] = 100;
            } else if (v0X[l28].Volume) {
              Q0h.O90(153);
              v0X[l28][s5j] = Q0h.D8z(G_1, y2w, 100, 1, 100);
            }
          }

          v0X[l28][a2U] = V7x;
          v0X[l28][K$X] = [G_1, y2w];
        }
      }
    };

    y0b = 815561035;
    N5r = 1443347444;
    s1i = 2;

    for (var i05 = 1; Q0h.i7j(i05.toString(), i05.toString().length, "91358" * 1) !== y0b; i05++) {
      m8D = "M ";
      m8D += "Flow";
      T_Z.Studies.studyLibrary = T_Z.extend(T_Z.Studies.studyLibrary, {
        "M Flow": {
          name: m8D,
          range: "0 to 100",
          calculateFN: T_Z.Studies.calculateMoneyFlowIndex,
          inputs: {
            Period: 74
          },
          parameters: {
            init: {
              studyOverZonesEnabled: !!0,
              studyOverBoughtValue: +"90",
              studyOverBoughtColor: "M Flow",
              studyOverSoldValue: 92,
              studyOverSoldColor: "auto"
            }
          }
        }
      });
      s1i += 2;
    }

    if (Q0h.i7j(s1i.toString(), s1i.toString().length, 76685) !== N5r) {
      r_L = "a";
      r_L += "u";
      r_L += "t";
      r_L += "o";
      f2x = "0";
      f2x += " to 100";
      m_t = "Money Flow I";
      m_t += "n";
      m_t += "dex";
      T_Z.Studies.studyLibrary = T_Z.extend(T_Z.Studies.studyLibrary, {
        "M Flow": {
          name: m_t,
          range: f2x,
          calculateFN: T_Z.Studies.calculateMoneyFlowIndex,
          inputs: {
            Period: +"14"
          },
          parameters: {
            init: {
              studyOverZonesEnabled: !!{},
              studyOverBoughtValue: "80" * 1,
              studyOverBoughtColor: "auto",
              studyOverSoldValue: 20,
              studyOverSoldColor: r_L
            }
          }
        }
      });
    }
  }
};

u5 = function u5(T$C) {
  var K0B = g9BGt;
  var T3h, r3J, k1Q, e8x, p5b, g6m, O_O, C4D, r_R, a$p, R_1, Y$y, Y2p, q9k, G_u, v0j, R5X;
  T3h = -1370252329;
  r3J = +"1905875576";
  K0B.Z_e();
  K0B.X$L(35);
  k1Q = K0B.t1w(64, "2");

  for (var Q32 = 1; K0B.l9L(Q32.toString(), Q32.toString().length, 9) !== T3h; Q32++) {
    e8x = "un";
    e8x += "d";
    e8x += "efined";
    p5b = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== e8x ? _CIQ : T$C.CIQ;
    k1Q += 2;
  }

  if (K0B.l9L(k1Q.toString(), k1Q.toString().length, +"88310") !== r3J) {
    p5b = ~_CIQ === "" ? _CIQ : T$C.CIQ;
  }

  if (!p5b.Studies) {
    console.error("movingAverages feature requires first activating studies feature.");
  } else {
    g6m = "a";
    g6m += "u";
    g6m += "t";
    g6m += "o";
    O_O = "Hig";
    O_O += "h Low Bands";
    C4D = "#00DD0";
    C4D += "0";
    r_R = "m";
    r_R += "a";
    a$p = "au";
    a$p += "to";
    R_1 = "m";
    R_1 += "a";
    Y$y = "TripleEx";
    Y$y += "ponent";
    Y$y += "ial";
    Y2p = "DoubleExpon";
    Y2p += "en";
    Y2p += "tial";
    q9k = "Hu";
    q9k += "ll";
    G_u = "Double Exponentia";
    G_u += "l";
    v0j = "3";
    v0j += "-";
    v0j += "exp";
    v0j += "onential";
    R5X = "h";
    R5X += "u";
    R5X += "ll";
    p5b.Studies.prettify = p5b.extend({
      "2-exponential": "dema",
      "3-exponential": "tema",
      hull: "hma"
    }, p5b.Studies.prettify);
    p5b.extend(p5b.Studies.movingAverage, {
      conversions: {
        hma: R5X,
        dema: "2-exponential",
        tema: v0j
      },
      translations: {
        hull: "Hull",
        "2-exponential": G_u,
        "3-exponential": "Triple Exponential"
      },
      typeMap: {
        hma: "Hull",
        hull: q9k,
        dema: "DoubleExponential",
        "2-exponential": Y2p,
        tema: "TripleExponential",
        "3-exponential": Y$y
      }
    });

    p5b.Studies.calculateMovingAverageHull = function (z7v, A4b) {
      var o7_, F7K, W3Q, d6j, S9c, v5D, x9a, U2Q, k2P, U1Q, H1o, B$E, E8p, W7S;
      o7_ = "_";
      o7_ += "M";
      o7_ += "MA";
      o7_ += " ";
      F7K = "w";
      F7K += "m";
      F7K += "a";
      W3Q = "_W";
      W3Q += "MA1";
      d6j = "fi";
      d6j += "eld";
      S9c = A4b.chart.scrubbed;
      v5D = A4b.inputs.Field;

      if (!v5D || v5D == d6j) {
        v5D = "Close";
      }

      K0B.Z_e();
      p5b.Studies.MA("wma", A4b.days, v5D, 0, W3Q, z7v, A4b);
      p5b.Studies.MA(F7K, Math.ceil(A4b.days / 2), v5D, 0, "_WMA2", z7v, A4b);

      for (x9a = A4b.startFrom - 1; x9a >= 0; x9a--) {
        U2Q = S9c[x9a][v5D];

        if (U2Q && _typeof(U2Q) == "object") {
          U2Q = U2Q[A4b.subField];
        }

        if (U2Q || U2Q === 0) break;
      }

      for (x9a++; x9a < S9c.length; x9a++) {
        k2P = "_WM";
        k2P += "A1 ";
        U1Q = "_";
        U1Q += "M";
        U1Q += "MA ";
        H1o = S9c[x9a];
        K0B.X$L(20);
        var y4C = K0B.t1w(17, 34, 34, 16);
        H1o[U1Q + A4b.name] = y4C * H1o["_WMA2 " + A4b.name] - H1o[k2P + A4b.name];
      }

      B$E = parseInt(A4b.inputs.Offset, +"10");

      if (isNaN(B$E)) {
        B$E = 0;
      }

      E8p = Math.floor(Math.sqrt(A4b.days));
      p5b.Studies.MA("wma", E8p, o7_ + A4b.name, B$E, "_HMA", z7v, A4b);
      W7S = A4b.name;

      for (var B7m in A4b.outputs) {
        K0B.O90(95);
        W7S = K0B.t1w(B7m, W7S, 6860 > +"849.02" ? " " : (7120, 518.65) <= 1616 ? (+"918.53", 4563) <= (+"4769", +"6040") ? "r" : (8.55e+3, 740.31) : "d");
      }

      for (x9a = Math.max(A4b.days + E8p - 1, A4b.startFrom); x9a < S9c.length; x9a++) {
        S9c[x9a][W7S] = S9c[x9a]["_HMA " + A4b.name];
      }
    };

    p5b.Studies.calculateMovingAverageDoubleExponential = function (w0X, T$Y) {
      var q4D, s03, I6F, Q1R, H8h, G6n, O5t, e_L, l3r, e4t, s7k;
      q4D = T$Y.chart.scrubbed;
      s03 = T$Y.inputs.Field;

      if (!s03 || s03 == "field") {
        s03 = "Close";
      }

      p5b.Studies.MA("ema", T$Y.days, s03, 0, "_EMA1", w0X, T$Y);
      p5b.Studies.MA("ema", T$Y.days, "_EMA1 " + T$Y.name, "0" * 1, "_EMA2", w0X, T$Y);
      I6F = parseInt(T$Y.inputs.Offset, 10);

      if (isNaN(I6F)) {
        I6F = 0;
      }

      G6n = I6F;

      for (Q1R = T$Y.startFrom - 1; Q1R >= 0; Q1R--) {
        H8h = q4D[Q1R][s03];

        if (H8h && _typeof(H8h) == "object") {
          H8h = H8h[T$Y.subField];
        }

        if (!H8h && H8h !== ("0" ^ 0)) continue;

        if (G6n > 0) {
          G6n--;
          continue;
        }

        break;
      }

      O5t = T$Y.name;

      for (var j2P in T$Y.outputs) {
        K0B.X$L(95);
        O5t = K0B.t1w(j2P, O5t, 8625 !== (39.74, +"8460") ? 69.15 !== (886, 136.03) ? (6180, 5517) !== (9491, 46.32) ? " " : ("P", "k") : (+"0x1646", 215.38) : 749.61);
      }

      e_L = [];

      for (Q1R++; Q1R < q4D.length; Q1R++) {
        if (Q1R < 2 * (T$Y.days - 1)) continue;
        l3r = q4D[Q1R];
        K0B.O90(154);
        var S2C = K0B.t1w(162, 2, 16, 10, 5);
        e4t = S2C * l3r["_EMA1 " + T$Y.name] - l3r["_EMA2 " + T$Y.name];

        if (Q1R + I6F >= "0" - 0) {
          if (Q1R + I6F < q4D.length) {
            K0B.X$L(1);
            q4D[K0B.t1w(Q1R, I6F)][O5t] = e4t;
          } else {
            s7k = {};
            s7k[O5t] = e4t;
            e_L.push(s7k);
          }
        }
      }

      T$Y.appendFutureTicks(w0X, e_L);
    };

    p5b.Studies.calculateMovingAverageTripleExponential = function (J__, N8N) {
      var U0D, Q7P, I7O, Z_$, x_M, p9r, k12, F5O, s$e, F5j, d0q, u2h, K5V, O1W, A34, C2F, I11;
      U0D = "e";
      U0D += "ma";
      Q7P = "_";
      Q7P += "E";
      Q7P += "MA1 ";
      I7O = "C";
      I7O += "l";
      I7O += "os";
      I7O += "e";
      Z_$ = "fi";
      Z_$ += "el";
      Z_$ += "d";
      x_M = N8N.chart.scrubbed;
      p9r = N8N.inputs.Field;

      if (!p9r || p9r == Z_$) {
        p9r = I7O;
      }

      p5b.Studies.MA("ema", N8N.days, p9r, 0, "_EMA1", J__, N8N);
      p5b.Studies.MA("ema", N8N.days, Q7P + N8N.name, 0, "_EMA2", J__, N8N);
      p5b.Studies.MA(U0D, N8N.days, "_EMA2 " + N8N.name, +"0", "_EMA3", J__, N8N);
      k12 = parseInt(N8N.inputs.Offset, 10);

      if (isNaN(k12)) {
        k12 = 0;
      }

      F5j = k12;
      K0B.Z_e();

      for (F5O = N8N.startFrom - 1; F5O >= 0; F5O--) {
        s$e = x_M[F5O][p9r];

        if (s$e && _typeof(s$e) == "object") {
          s$e = s$e[N8N.subField];
        }

        if (!s$e && s$e !== 0) continue;

        if (F5j > 0) {
          F5j--;
          continue;
        }

        break;
      }

      d0q = N8N.name;

      for (var H0b in N8N.outputs) {
        K0B.O90(95);
        d0q = K0B.D8z(H0b, d0q, (7184, 522) <= 6267 ? (8431, 7970) < 231 ? ("k", "0x1f76" << 0) : " " : !"1");
      }

      u2h = [];

      for (F5O++; F5O < x_M.length; F5O++) {
        K5V = "_EM";
        K5V += "A3";
        K5V += " ";
        O1W = "_";
        O1W += "EMA2 ";
        if (F5O < 3 * (N8N.days - 1)) continue;
        A34 = x_M[F5O];
        K0B.X$L(155);
        var I79 = K0B.t1w(28, 8, 11, 12, 16);
        K0B.X$L(5);
        var L9T = K0B.D8z(30, 39, 12);
        C2F = I79 * A34["_EMA1 " + N8N.name] - L9T * A34[O1W + N8N.name] + A34[K5V + N8N.name];

        if (F5O + k12 >= 0) {
          if (F5O + k12 < x_M.length) {
            K0B.X$L(1);
            x_M[K0B.t1w(F5O, k12)][d0q] = C2F;
          } else {
            I11 = {};
            I11[d0q] = C2F;
            u2h.push(I11);
          }
        }
      }

      N8N.appendFutureTicks(J__, u2h);
    };

    p5b.Studies.calculateMAEnvelope = function (v56, t7q) {
      var w5g, f2L, h97, f90, K5O, d5e;
      w5g = "Moving Av";
      w5g += "e";
      w5g += "rage T";
      K0B.Z_e();
      w5g += "ype";
      f2L = "f";
      f2L += "ield";
      h97 = t7q.inputs.Field;

      if (!h97 || h97 == f2L) {
        h97 = "Close";
      }

      p5b.Studies.MA(t7q.inputs[w5g], t7q.days, h97, 0, "MA", v56, t7q);
      f90 = t7q.inputs["Shift Type"];
      K5O = t7q.inputs.Shift;

      if (!f90) {
        f90 = "percent";
        K5O = t7q.inputs["Shift Percentage"];
      }

      if (f90 == "percent") {
        K0B.O90(23);
        p5b.Studies.calculateGenericEnvelope(v56, t7q, K0B.t1w(100, K5O), "MA " + t7q.name);
      } else if (f90 == "points") {
        d5e = "M";
        d5e += "A";
        d5e += " ";
        p5b.Studies.calculateGenericEnvelope(v56, t7q, null, d5e + t7q.name, null, Number(K5O));
      }
    };

    p5b.Studies.calculateMADev = function (p4V, I8T) {
      var p7e, r7U, C5_, D_9, I8p, b5S, y$3, E8k, N$5, h8Y, z3h, P$_;
      p7e = "_";
      p7e += "M";
      p7e += "A";
      r7U = "Movi";
      r7U += "ng Average";
      r7U += " Typ";
      r7U += "e";
      C5_ = I8T.chart.scrubbed;

      if (C5_.length < I8T.days + 1) {
        I8T.error = !![];
        return;
      }

      D_9 = I8T.inputs.Field;

      if (!D_9 || D_9 == "field") {
        D_9 = "Close";
      }

      I8p = I8T.inputs["Points Or Percent"];

      if (!I8p) {
        I8p = "Points";
      }

      b5S = I8T.inputs[r7U];

      if (!b5S) {
        b5S = "exponential";
      }

      p5b.Studies.MA(b5S, I8T.days, D_9, 0, p7e, p4V, I8T);
      y$3 = I8T.name + "_hist";

      for (var u3x = Math.max(I8T.startFrom, I8T.days - ("1" | 1)); u3x < C5_.length; u3x++) {
        E8k = "objec";
        E8k += "t";
        N$5 = C5_[u3x];
        h8Y = N$5[D_9];

        if (h8Y && _typeof(h8Y) == E8k) {
          h8Y = h8Y[I8T.subField];
        }

        z3h = N$5["_MA " + I8T.name];

        if (z3h || z3h === 0) {
          P$_ = "Po";
          P$_ += "ints";

          if (I8p == P$_) {
            K0B.X$L(7);
            N$5[y$3] = K0B.t1w(z3h, h8Y);
          } else {
            K0B.O90(156);
            N$5[y$3] = K0B.t1w(z3h, 1, h8Y, 100);
          }
        }
      }

      I8T.outputMap = {};
      I8T.outputMap[I8T.name + "_hist"] = "";
    };

    p5b.Studies.studyLibrary = p5b.extend(p5b.Studies.studyLibrary, {
      "MA Env": {
        name: "Moving Average Envelope",
        overlay: !0,
        seriesFN: p5b.Studies.displayChannel,
        calculateFN: p5b.Studies.calculateMAEnvelope,
        inputs: {
          Period: 50,
          Field: "field",
          "Shift Type": ["percent", "points"],
          Shift: 5,
          "Moving Average Type": R_1,
          "Channel Fill": !""
        },
        outputs: {
          "MA Env Top": "auto",
          "MA Env Median": a$p,
          "MA Env Bottom": "auto"
        },
        attributes: {
          Shift: {
            min: 0.1,
            step: 0.1
          }
        }
      },
      "MA Dev": {
        name: "Moving Average Deviation",
        calculateFN: p5b.Studies.calculateMADev,
        seriesFN: p5b.Studies.displayHistogramWithSeries,
        inputs: {
          Period: 12,
          Field: "field",
          "Moving Average Type": r_R,
          "Points Or Percent": ["Points", "Percent"]
        },
        outputs: {
          "Increasing Bar": C4D,
          "Decreasing Bar": "#FF0000"
        }
      },
      "High Low": {
        name: O_O,
        overlay: !"",
        seriesFN: p5b.Studies.displayChannel,
        calculateFN: function calculateFN(L2N, A$B) {
          K0B.c7b();
          A$B.inputs["Moving Average Type"] = "triangular";
          p5b.Studies.calculateMAEnvelope(L2N, A$B);
        },
        inputs: {
          Period: 10,
          Field: "field",
          "Shift Percentage": 5,
          "Channel Fill": !!{}
        },
        outputs: {
          "High Low Top": "auto",
          "High Low Median": g6m,
          "High Low Bottom": "auto"
        },
        attributes: {
          "Shift Percentage": {
            min: 0.1,
            step: 0.1
          }
        }
      }
    });
  }
};

l1 = function l1(q1z) {
  var K5y = g9BGt;
  var C8u, a_c, t9_;
  C8u = "un";
  C8u += "d";
  K5y.c7b();
  C8u += "e";
  C8u += "fined";
  a_c = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== C8u ? _CIQ : q1z.CIQ;

  if (!a_c.Studies) {
    console.error("parabolicSAR feature requires first activating studies feature.");
  } else {
    t9_ = "Parabolic SA";
    t9_ += "R";

    a_c.Studies.calculatePSAR = function (j8r, W6s) {
      var F_Q, V3O, T8u, d_j, c3Y, w_N, d8T, e_S, s6a, P_i, d8u, M0v;
      F_Q = "Maxi";
      F_Q += "mu";
      F_Q += "m AF";
      V3O = W6s.chart.scrubbed;
      T8u = 0;
      d_j = null;
      K5y.Z_e();
      c3Y = !{};
      w_N = 0;
      d8T = parseFloat(W6s.inputs["Minimum AF"]);
      e_S = parseFloat(W6s.inputs[F_Q]);

      if (W6s.startFrom > 0) {
        K5y.X$L(7);
        var S29 = K5y.D8z(9, 10);
        w_N = V3O[W6s.startFrom - S29]["Result " + W6s.name];
        s6a = V3O[W6s.startFrom - ("1" | 0)]["_state " + W6s.name];

        if (s6a && s6a.length == "3" - 0) {
          T8u = s6a[0];
          d_j = s6a[1];
          K5y.O90(7);
          c3Y = s6a[K5y.t1w(0, "2")];
        }
      }

      function H72() {
        T8u = 0;
        d_j = null;
        c3Y = !c3Y;
      }

      for (var Y3H = W6s.startFrom - 1; Y3H < V3O.length - 1; Y3H++) {
        if (Y3H < 0) continue;
        if (V3O[Y3H].futureTick) break;
        P_i = w_N;

        if (c3Y) {
          if (!d_j || d_j < V3O[Y3H].High) {
            d_j = V3O[Y3H].High;
            K5y.X$L(1);
            T8u = Math.min(K5y.D8z(T8u, d8T), e_S);
          }

          K5y.O90(157);
          w_N = K5y.D8z(T8u, d_j, P_i, P_i);
          d8u = Math.min(V3O[Math.max(1, Y3H) - 1].Low, V3O[Y3H].Low);

          if (w_N > V3O[Y3H + 1].Low) {
            w_N = d_j;
            H72();
          } else if (w_N > d8u) {
            w_N = d8u;
          }
        } else {
          if (!d_j || d_j > V3O[Y3H].Low) {
            d_j = V3O[Y3H].Low;
            K5y.O90(1);
            T8u = Math.min(K5y.D8z(T8u, d8T), e_S);
          }

          K5y.X$L(157);
          w_N = K5y.D8z(T8u, d_j, P_i, P_i);
          M0v = Math.max(V3O[Math.max(1, Y3H) - 1].High, V3O[Y3H].High);

          if (w_N < V3O[Y3H + 1].High) {
            w_N = d_j;
            H72();
          } else if (w_N < M0v) {
            w_N = M0v;
          }
        }

        K5y.X$L(78);
        V3O[K5y.t1w(Y3H, "1")]["_state " + W6s.name] = [T8u, d_j, c3Y];

        if (!isNaN(V3O[Y3H].High) || !isNaN(V3O[Y3H].Low)) {
          K5y.O90(1);
          V3O[K5y.D8z(Y3H, 1)]["Result " + W6s.name] = w_N;
        }
      }
    };

    a_c.Studies.studyLibrary = a_c.extend(a_c.Studies.studyLibrary, {
      PSAR: {
        name: t9_,
        overlay: !!1,
        calculateFN: a_c.Studies.calculatePSAR,
        seriesFN: a_c.Studies.displayPSAR2,
        inputs: {
          "Minimum AF": 0.02,
          "Maximum AF": 0.2
        }
      }
    });
  }
};

i0 = function i0(M5K) {
  var K5f = g9BGt;
  var e3X, W_K, l_9, R_K, l0V, E6p, f5L;
  e3X = "unde";
  K5f.Z_e();
  e3X += "fined";
  W_K = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== e3X ? _CIQ : M5K.CIQ;

  if (!W_K.Studies) {
    console.error("pivotPoints feature requires first activating studies feature.");
  } else {
    l_9 = "#";
    l_9 += "f";
    l_9 += "fd0";
    l_9 += "cf";
    R_K = "#e364";
    R_K += "60";
    l0V = "#6";
    l0V += "99";
    l0V += "158";
    E6p = "#b8";
    E6p += "2c0b";
    f5L = "Piv";
    f5L += "ot ";
    f5L += "Points";

    W_K.Studies.calculatePivotPoints = function (u$b, H$$) {
      var d03, u4$, s28, U0c, m6F, p17, j73, l$_, V6Z, c6$, B25, h9Y, G0M, B3D, X8H, L32, Y0y, t4H, w5W, a7_, A5R, b7J;
      d03 = "market.b";
      d03 += "egi";
      d03 += "nningDayOfWeek";
      u4$ = "seco";
      u4$ += "n";
      u4$ += "d";

      function Y6x() {
        K5f.Z_e();
        K5f.X$L(158);
        var l4o = K5f.t1w(10, 14, 20, 49, 11);
        K5f.X$L(159);
        var u2r = K5f.D8z(15, 12, 19, 5, 7);
        X8H.pivotPoint = (X8H.high + X8H.low + j73[f7J - l4o].Close) / u2r;
        X8H.prevHigh = X8H.high;
        X8H.prevLow = X8H.low;
        X8H.hlSpread = X8H.high - X8H.low;
        X8H.high = X8H.low = 0;
      }

      K5f.Z_e();
      s28 = "y";
      s28 += "ear";
      U0c = "m";
      U0c += "on";
      U0c += "t";
      U0c += "h";
      m6F = "d";
      m6F += "a";
      m6F += "y";
      p17 = "d";
      p17 += "ay";
      j73 = H$$.chart.scrubbed;
      l$_ = p17;
      V6Z = u$b.layout.interval;
      c6$ = u$b.layout.timeUnit;

      if (V6Z == m6F) {
        l$_ = U0c;
      } else if (W_K.ChartEngine.isDailyInterval(V6Z)) {
        l$_ = s28;
      } else if (V6Z == u4$ || V6Z == "millisecond" || c6$ == "second" || c6$ == "millisecond") {
        l$_ = "15min";
      } else {
        B25 = "w";
        B25 += "e";
        B25 += "e";
        B25 += "k";
        h9Y = u$b.layout.periodicity;

        if (V6Z != "minute") {
          h9Y *= V6Z;
        }

        if (h9Y >= 30) {
          l$_ = B25;
        }
      }

      G0M = null;
      K5f.O90(36);
      var u6u = K5f.t1w(6, 46, 10, 7, 14);
      B3D = u6u - W_K.getFromNS(u$b.chart, d03, 0);
      X8H = {
        pivotPoint: NaN,
        high: 0,
        low: 0,
        prevHigh: 0,
        prevLow: 0,
        hlSpread: "0" ^ 0
      };

      if (H$$.startFrom > 1 && j73[H$$.startFrom - 1]["_pointers " + H$$.name]) {
        X8H = W_K.clone(j73[H$$.startFrom - +"1"]["_pointers " + H$$.name]);
      }

      for (var f7J = Math.max(1, H$$.startFrom); f7J < j73.length; f7J++) {
        L32 = "_";
        L32 += "pointers ";
        Y0y = "15mi";
        Y0y += "n";
        t4H = "w";
        t4H += "e";
        t4H += "e";
        t4H += "k";
        w5W = "m";
        w5W += "o";
        w5W += "nt";
        w5W += "h";
        if (!j73[f7J - 1]) continue;
        X8H.high = Math.max(X8H.high, j73[f7J - 1].High);
        X8H.low = Math.min(X8H.low > ("0" ^ 0) ? X8H.low : j73[f7J - 1].Low, j73[f7J - 1].Low);

        if (H$$.inputs.Continuous) {
          Y6x();
        } else if (l$_ == "year" && j73[f7J].DT.getYear() != j73[f7J - 1].DT.getYear()) {
          Y6x();
        } else if (l$_ == w5W && j73[f7J].DT.getMonth() != j73[f7J - 1].DT.getMonth()) {
          Y6x();
        } else if (l$_ == t4H && (j73[f7J].DT.getDay() + B3D) % ("7" - 0) < (j73[f7J - 1].DT.getDay() + B3D) % 7) {
          Y6x();
        } else if (l$_ == "day") {
          if (G0M === null) {
            G0M = W_K.Studies.getMarketOffset({
              stx: u$b,
              localQuoteDate: j73[f7J].DT,
              shiftToDateBoundary: !!{}
            });
          }

          a7_ = new Date(new Date(+j73[f7J].DT).setMilliseconds(j73[f7J].DT.getMilliseconds() + G0M));
          A5R = new Date(new Date(+j73[f7J - +"1"].DT).setMilliseconds(j73[f7J - 1].DT.getMilliseconds() + G0M));

          if (A5R.getDate() !== a7_.getDate() && A5R.getDay() !== "0" - 0 && u$b.chart.market.isMarketDate(a7_)) {
            G0M = null;
            Y6x();
          }
        } else if (l$_ == Y0y && (j73[f7J].DT.getHours() != j73[f7J - 1].DT.getHours() || Math.floor(j73[f7J].DT.getMinutes() / 15) != Math.floor(j73[f7J - 1].DT.getMinutes() / ("15" << 64)))) {
          Y6x();
        }

        j73[f7J]["Pivot " + H$$.name] = X8H.pivotPoint;

        if (H$$.inputs.Type.toLowerCase() == "fibonacci") {
          j73[f7J]["Resistance 1 " + H$$.name] = X8H.pivotPoint + 0.382 * X8H.hlSpread;
          j73[f7J]["Resistance 2 " + H$$.name] = X8H.pivotPoint + 0.618 * X8H.hlSpread;
          j73[f7J]["Resistance 3 " + H$$.name] = X8H.pivotPoint + X8H.hlSpread;
          j73[f7J]["Support 1 " + H$$.name] = X8H.pivotPoint - 0.382 * X8H.hlSpread;
          j73[f7J]["Support 2 " + H$$.name] = X8H.pivotPoint - +"0.618" * X8H.hlSpread;
          j73[f7J]["Support 3 " + H$$.name] = X8H.pivotPoint - X8H.hlSpread;
        } else {
          b7J = "Suppo";
          b7J += "rt ";
          b7J += "1 ";
          K5f.X$L(160);
          var K_z = K5f.t1w(7, 16, 6, 8, 19);
          j73[f7J]["Resistance 1 " + H$$.name] = K_z * X8H.pivotPoint - X8H.prevLow;
          j73[f7J]["Resistance 2 " + H$$.name] = X8H.pivotPoint + X8H.hlSpread;
          K5f.O90(62);
          var K7i = K5f.t1w(1, 16, 1, 11, 17);
          j73[f7J]["Resistance 3 " + H$$.name] = X8H.prevHigh + K7i * (X8H.pivotPoint - X8H.prevLow);
          K5f.X$L(161);
          var Y9H = K5f.t1w(0, 258, 16, 20, 12);
          j73[f7J][b7J + H$$.name] = Y9H * X8H.pivotPoint - X8H.prevHigh;
          j73[f7J]["Support 2 " + H$$.name] = X8H.pivotPoint - X8H.hlSpread;
          K5f.O90(9);
          var g6e = K5f.D8z(10, 8, 0);
          j73[f7J]["Support 3 " + H$$.name] = X8H.prevLow - g6e * (X8H.prevHigh - X8H.pivotPoint);
        }

        j73[f7J][L32 + H$$.name] = W_K.clone(X8H);
      }
    };

    W_K.Studies.displayPivotPoints = function (a5l, S8v, U8h) {
      var O_q, g4h, s5V, J9J, U6M, t0v, c8K, F38, w$e;
      S8v.noSlopes = !S8v.inputs.Continuous;
      W_K.Studies.displaySeriesAsLine(a5l, S8v, U8h);
      K5f.Z_e();

      if (S8v.inputs.Shading) {
        O_q = "Su";
        O_q += "pport 3";
        g4h = "Suppor";
        g4h += "t";
        g4h += " ";
        g4h += "2";
        s5V = "S";
        s5V += "upport ";
        s5V += "2 ";
        J9J = "S";
        J9J += "upport 1 ";
        U6M = "P";
        U6M += "iv";
        U6M += "ot ";
        t0v = "Re";
        t0v += "sistance";
        t0v += " 1 ";
        c8K = "R";
        c8K += "e";
        c8K += "sista";
        c8K += "nce 3";
        F38 = a5l.panels[S8v.panel];
        w$e = {
          noSlopes: S8v.noSlopes,
          opacity: S8v.parameters.opacity ? S8v.parameters.opacity : 0.2,
          skipTransform: F38.name != S8v.chart.name,
          yAxis: S8v.getYAxis(a5l)
        };

        if (!S8v.highlight && a5l.highlightedDraggable) {
          w$e.opacity *= 0.3;
        }

        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: "Resistance 3 " + S8v.name,
          bottomBand: "Resistance 2 " + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs[c8K])
        }, w$e));
        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: "Resistance 2 " + S8v.name,
          bottomBand: "Resistance 1 " + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs["Resistance 2"])
        }, w$e));
        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: t0v + S8v.name,
          bottomBand: U6M + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs["Resistance 1"])
        }, w$e));
        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: J9J + S8v.name,
          bottomBand: "Pivot " + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs["Support 1"])
        }, w$e));
        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: s5V + S8v.name,
          bottomBand: "Support 1 " + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs[g4h])
        }, w$e));
        W_K.prepareChannelFill(a5l, W_K.extend({
          panelName: S8v.panel,
          topBand: "Support 3 " + S8v.name,
          bottomBand: "Support 2 " + S8v.name,
          color: W_K.Studies.determineColor(S8v.outputs[O_q])
        }, w$e));
      }
    };

    W_K.Studies.studyLibrary = W_K.extend(W_K.Studies.studyLibrary, {
      "Pivot Points": {
        name: f5L,
        overlay: !!1,
        seriesFN: W_K.Studies.displayPivotPoints,
        calculateFN: W_K.Studies.calculatePivotPoints,
        inputs: {
          Type: ["standard", "fibonacci"],
          Continuous: !!"",
          Shading: !"1"
        },
        outputs: {
          Pivot: "auto",
          "Resistance 1": E6p,
          "Support 1": l0V,
          "Resistance 2": R_K,
          "Support 2": "#b3d987",
          "Resistance 3": l_9,
          "Support 3": "#d3e8ae"
        },
        parameters: {
          init: {
            opacity: 0.2
          }
        }
      }
    });
  }
};

P4 = function P4(x3z) {
  var F0f, t$$, w3S;
  F0f = "undef";
  F0f += "ined";
  t$$ = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== F0f ? _CIQ : x3z.CIQ;

  if (!t$$.Studies) {
    w3S = "prettyGoodOscillator feature requires";
    w3S += " first activating";
    w3S += " st";
    w3S += "udies feature.";
    console.error(w3S);
  } else {
    t$$.Studies.calculatePrettyGoodOscillator = function (P$h, h5m) {
      var N$z, M2c, O8Z, m_e, k8o, E_D, H7L, M2X, Y_u, Y9C;
      N$z = "Clo";
      N$z += "s";
      N$z += "e";
      M2c = "true";
      M2c += "Ran";
      M2c += "ge";
      O8Z = -955189193;
      m_e = 1998956716;
      k8o = 2;

      for (var h3G = 1; g9BGt.i7j(h3G.toString(), h3G.toString().length, 74803) !== O8Z; h3G++) {
        E_D = h5m.chart.scrubbed;
        k8o += 2;
      }

      if (g9BGt.l9L(k8o.toString(), k8o.toString().length, 10834) !== m_e) {
        E_D = h5m.chart.scrubbed;
      }

      if (E_D.length < h5m.days + 1) {
        h5m.error = !!{};
        return;
      }

      t$$.Studies.MA("exponential", h5m.days, M2c, 0, "_EMA", P$h, h5m);
      t$$.Studies.MA("simple", h5m.days, N$z, 0, "_SMA", P$h, h5m);

      for (var R0O = Math.max(1, h5m.startFrom); R0O < E_D.length; R0O++) {
        H7L = "_";
        H7L += "E";
        H7L += "M";
        H7L += "A ";
        M2X = "R";
        M2X += "esult";
        M2X += " ";
        Y_u = "_";
        Y_u += "E";
        Y_u += "MA";
        Y_u += " ";
        Y9C = "_";
        Y9C += "SMA ";
        if (!E_D[R0O][Y9C + h5m.name] || !E_D[R0O][Y_u + h5m.name]) continue;
        E_D[R0O][M2X + h5m.name] = (E_D[R0O].Close - E_D[R0O]["_SMA " + h5m.name]) / E_D[R0O][H7L + h5m.name];
      }
    };

    t$$.Studies.studyLibrary = t$$.extend(t$$.Studies.studyLibrary, {
      "Pretty Good": {
        name: "Pretty Good Oscillator",
        calculateFN: t$$.Studies.calculatePrettyGoodOscillator,
        parameters: {
          init: {
            studyOverZonesEnabled: !![],
            studyOverBoughtValue: +"3",
            studyOverBoughtColor: "auto",
            studyOverSoldValue: -3,
            studyOverSoldColor: "auto"
          }
        }
      }
    });
  }
};

i9 = function i9(B_z) {
  var w8B = g9BGt;
  var R8H, f4f, Y77, q_e, F$u;
  R8H = "undef";
  R8H += "ined";
  f4f = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== R8H ? _CIQ : B_z.CIQ;
  w8B.Z_e();

  if (!f4f.Studies) {
    Y77 = "priceMomentumOscillator feature requires first activating ";
    Y77 += "studies feature.";
    console.error(Y77);
  } else {
    q_e = "0";
    q_e += ".05";
    F$u = "Price Moment";
    F$u += "um Os";
    F$u += "c";
    F$u += "illator";

    f4f.Studies.calculatePMO = function (C3s, g4J) {
      var z8_, W7R, v5N, v$L, i7k, A1j, w6H, J$L, o2R;
      w8B.Z_e();
      z8_ = "exp";
      z8_ += "onent";
      z8_ += "ial";
      W7R = "_R";
      W7R += "OCx";
      W7R += "10 ";
      v5N = "Signal";
      v5N += " Period";
      v$L = "Dou";
      v$L += "ble Smoothin";
      v$L += "g Period";
      i7k = {
        Smooth: Number(g4J.inputs["Smoothing Period"]) - 1,
        Double: Number(g4J.inputs[v$L]) - 1,
        Signal: Number(g4J.inputs[v5N])
      };
      A1j = g4J.chart.scrubbed;

      if (A1j.length < i7k.Smooth + i7k.Double) {
        g4J.error = !!{};
        return;
      }

      w6H = g4J.inputs.Field;

      if (!w6H || w6H == "field") {
        w6H = "Close";
      }

      for (J$L = g4J.startFrom; J$L < A1j.length; J$L++) {
        if (!A1j[J$L]) continue;
        if (!A1j[J$L - 1]) continue;
        w8B.X$L(7);
        o2R = A1j[w8B.t1w(1, J$L)][w6H];

        if (o2R) {
          w8B.X$L(68);
          var c5C = w8B.t1w(4, 3, 997, 10);
          w8B.X$L(7);
          var v7M = w8B.D8z(8, 9);
          A1j[J$L]["_ROCx10 " + g4J.name] = c5C * (A1j[J$L][w6H] / o2R - v7M);
        }
      }

      f4f.Studies.MA("exponential", i7k.Smooth, W7R + g4J.name, 0, "_EMAx10", C3s, g4J);
      f4f.Studies.MA("exponential", i7k.Double, "_EMAx10 " + g4J.name, 0, "PMO", C3s, g4J);
      f4f.Studies.MA(z8_, i7k.Signal, "PMO " + g4J.name, 0, "PMOSignal", C3s, g4J);
      g4J.zoneOutput = "PMO";
    };

    f4f.Studies.studyLibrary = f4f.extend(f4f.Studies.studyLibrary, {
      PMO: {
        name: F$u,
        calculateFN: f4f.Studies.calculatePMO,
        inputs: {
          Field: "field",
          "Smoothing Period": 35,
          "Double Smoothing Period": 20,
          "Signal Period": 10
        },
        outputs: {
          PMO: "auto",
          PMOSignal: "#FF0000"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !![],
            studyOverBoughtValue: 2.5,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: -2.5,
            studyOverSoldColor: "auto"
          }
        },
        attributes: {
          studyOverBoughtValue: {
            min: 0,
            step: q_e
          },
          studyOverSoldValue: {
            max: 0,
            step: "0.05"
          }
        }
      }
    });
  }
};

e1 = function e1(q01) {
  var z$U = g9BGt;
  var L7B, g$i, V8a, B1W, x1D, e64;
  z$U.Z_e();
  L7B = typeof _CIQ !== "undefined" ? _CIQ : q01.CIQ;

  if (!L7B.Studies) {
    console.error("priceVolumeOscillator feature requires first activating studies feature.");
  } else {
    g$i = "a";
    g$i += "ut";
    g$i += "o";
    V8a = "#";
    V8a += "F";
    V8a += "F0";
    V8a += "000";
    B1W = "v";
    B1W += "d";
    B1W += "m";
    B1W += "a";
    x1D = "Per";
    x1D += "cen";
    x1D += "t";
    e64 = "Poin";
    e64 += "ts";

    L7B.Studies.calculatePriceOscillator = function (B6G, h1M) {
      var B3Z, L1I, w2q, g7T, I_m, B7J, g3Z, g0H, r7h, v$9, X0Q, k2w, G2r, n09, G$B, X_p, L4V;
      B3Z = "_Short M";
      B3Z += "A";
      L1I = "Points";
      L1I += " Or Percent";
      w2q = "s";
      w2q += "imple";
      g7T = "Mov";
      g7T += "ing Avera";
      g7T += "ge Type";
      I_m = h1M.chart.scrubbed;
      B7J = Number(h1M.inputs["Short Cycle"]);
      g3Z = Number(h1M.inputs["Long Cycle"]);

      if (I_m.length < Math.max(B7J, g3Z) + +"1") {
        h1M.error = !!{};
        return;
      }

      g0H = h1M.inputs.Field;
      r7h = h1M.inputs[g7T];

      if (!r7h) {
        r7h = w2q;
      }

      if (!g0H || g0H == "field") {
        g0H = "Close";
      }

      if (h1M.parameters.isVolume) {
        g0H = "Volume";
        r7h = "exponential";
      }

      v$9 = h1M.inputs[L1I];

      if (!v$9) {
        v$9 = "Percent";
      }

      L7B.Studies.MA(r7h, B7J, g0H, +"0", B3Z, B6G, h1M);
      L7B.Studies.MA(r7h, g3Z, g0H, 0, "_Long MA", B6G, h1M);

      for (var L3f = Math.max(g3Z, h1M.startFrom); L3f < I_m.length; L3f++) {
        X0Q = "_";
        X0Q += "Sh";
        X0Q += "ort MA ";
        k2w = I_m[L3f];
        if (!k2w) continue;
        G2r = k2w[X0Q + h1M.name];
        n09 = k2w["_Long MA " + h1M.name];

        if ((G2r || G2r === "0" << 32) && (n09 || n09 === 0)) {
          G$B = "Increasing ";
          G$B += "Bar";

          if (v$9 == "Points") {
            z$U.O90(7);
            k2w["Result " + h1M.name] = z$U.D8z(n09, G2r);
          } else {
            z$U.X$L(156);
            k2w["Result " + h1M.name] = z$U.t1w(n09, 1, G2r, 100);
          }

          if (h1M.outputs[G$B]) {
            X_p = "Res";
            X_p += "ul";
            X_p += "t ";
            L4V = "_h";
            L4V += "i";
            L4V += "s";
            L4V += "t";
            k2w[h1M.name + L4V] = k2w[X_p + h1M.name];
            h1M.outputMap = {};
            h1M.outputMap[h1M.name + "_hist"] = "";
          }
        }
      }
    };

    L7B.Studies.displayRAVI = function (W80, I8g, D92) {
      var e6w, e3K, N6S, i4r, F_j, u93, d_u, Q3U, I8S, b$n, c7Z, J$a, g7R, j3a, U3d, Z1k;
      e6w = "stx";
      e6w += "_hi";
      e6w += "sto";
      e6w += "gram";
      e3K = "Decrea";
      e3K += "s";
      e3K += "ing B";
      e3K += "ar";
      N6S = W80.panels[I8g.panel];
      i4r = I8g.getContext(W80);
      F_j = I8g.getYAxis(W80);
      u93 = W80.pixelFromPrice(0, N6S, F_j);
      z$U.O90(5);
      var d5O = z$U.D8z(9, 27, 20);
      d_u = W80.layout.candleWidth - d5O;

      if (d_u < 2) {
        d_u = 1;
      }

      Q3U = L7B.Studies.determineColor(I8g.outputs["Increasing Bar"]);
      I8S = L7B.Studies.determineColor(I8g.outputs[e3K]);
      W80.startClip(I8g.panel);
      W80.canvasColor(e6w);
      z$U.c7b();

      if (!I8g.underlay) {
        i4r.globalAlpha = 1;
      }

      if (!I8g.highlight && W80.highlightedDraggable) {
        i4r.globalAlpha *= 0.3;
      }

      for (var x$i = 0; x$i < D92.length; x$i++) {
        b$n = "#CCC";
        b$n += "CCC";
        c7Z = "_";
        c7Z += "h";
        c7Z += "is";
        c7Z += "t";
        J$a = "_";
        J$a += "h";
        J$a += "is";
        J$a += "t";
        g7R = D92[x$i];
        z$U.O90(108);
        j3a = D92[z$U.D8z(0, "1", x$i)];

        if (!j3a) {
          j3a = W80.getPreviousBar(W80.chart, I8g.name + "_hist", x$i);
        }

        if (!g7R) continue;
        U3d = 0;
        Z1k = 0;

        if (I8g.parameters && I8g.parameters.studyOverZonesEnabled) {
          U3d = parseFloat(I8g.parameters.studyOverBoughtValue);
          Z1k = parseFloat(I8g.parameters.studyOverSoldValue);
        }

        if (!j3a) {
          i4r.fillStyle = "#CCCCCC";
        } else if (g7R[I8g.name + "_hist"] > U3d && j3a[I8g.name + "_hist"] < g7R[I8g.name + "_hist"]) {
          i4r.fillStyle = Q3U;
        } else if (g7R[I8g.name + J$a] < Z1k && j3a[I8g.name + "_hist"] > g7R[I8g.name + c7Z]) {
          i4r.fillStyle = I8S;
        } else {
          i4r.fillStyle = b$n;
        }

        if (g7R.candleWidth) {
          d_u = Math.floor(Math.max(1, g7R.candleWidth - 2));
        }

        i4r.fillRect(Math.floor(W80.pixelFromBar(x$i, N6S.chart) - d_u / ("2" << 0)), Math.floor(u93), Math.floor(d_u), Math.floor(W80.pixelFromPrice(g7R[I8g.name + "_hist"], N6S, F_j) - u93));
      }

      W80.endClip();
    };

    L7B.Studies.studyLibrary = L7B.extend(L7B.Studies.studyLibrary, {
      "Price Osc": {
        name: "Price Oscillator",
        calculateFN: L7B.Studies.calculatePriceOscillator,
        inputs: {
          Field: "field",
          "Short Cycle": 12,
          "Long Cycle": 26,
          "Moving Average Type": "ema",
          "Points Or Percent": [e64, "Percent"]
        }
      },
      "Vol Osc": {
        name: "Volume Oscillator",
        calculateFN: L7B.Studies.calculatePriceOscillator,
        inputs: {
          "Short Cycle": 12,
          "Long Cycle": 26,
          "Points Or Percent": ["Points", x1D]
        },
        parameters: {
          init: {
            isVolume: !""
          }
        }
      },
      RAVI: {
        name: "RAVI",
        seriesFN: L7B.Studies.displayRAVI,
        calculateFN: L7B.Studies.calculatePriceOscillator,
        inputs: {
          Field: "field",
          "Moving Average Type": B1W,
          "Short Cycle": 7,
          "Long Cycle": "65" << 0
        },
        outputs: {
          "Increasing Bar": "#00DD00",
          "Decreasing Bar": V8a
        },
        centerline: 0,
        parameters: {
          init: {
            studyOverZonesEnabled: !0,
            studyOverBoughtValue: 3,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: -3,
            studyOverSoldColor: g$i
          }
        },
        attributes: {
          studyOverBoughtValue: {
            min: 0,
            step: "0.1"
          },
          studyOverSoldValue: {
            max: 0,
            step: "0.1"
          }
        }
      }
    });
  }
};

Y0 = function Y0(H3X) {
  var F_d = g9BGt;
  var T8I, Z1D;
  T8I = typeof _CIQ !== "undefined" ? _CIQ : H3X.CIQ;
  F_d.Z_e();

  if (!T8I.Studies) {
    console.error("primeNumber feature requires first activating studies feature.");
  } else {
    Z1D = "au";
    Z1D += "t";
    Z1D += "o";

    T8I.Studies.calculatePrimeNumber = function (Q6j, G84) {
      var E2O, f8p, U6T, n4a, P08, q0E, Z3t, p8U, l0m, d1C, N1F;
      E2O = [];
      f8p = G84.chart.scrubbed;

      for (var a0B = G84.startFrom; a0B < f8p.length; a0B++) {
        U6T = f8p[a0B];
        if (!U6T) continue;
        n4a = U6T.High;

        if (!isNaN(n4a)) {
          for (var u$w = 0; n4a > 0 && n4a <= 10; u$w++) {
            n4a *= +"10";
          }

          if (K$q(n4a)) {
            n4a += 2;
          }

          n4a = Math.ceil(n4a);

          if (n4a % 2 === 0) {
            n4a++;
          }

          while (!K$q(n4a)) {
            n4a += 2;
          }

          n4a /= Math.pow(10, u$w);
        }

        P08 = U6T.Low;

        if (!isNaN(P08)) {
          for (var o16 = 0; P08 > 0 && P08 <= 10; o16++) {
            P08 *= 10;
          }

          if (K$q(P08)) {
            F_d.O90(8);
            P08 -= F_d.t1w(1, "2");
          }

          P08 = Math.floor(P08);

          if (P08 % 2 === 0) {
            P08--;
          }

          if (P08 > 0) {
            while (!K$q(P08)) {
              F_d.X$L(3);
              P08 -= F_d.t1w(0, "2");
            }

            P08 /= Math.pow(10, o16);
          }
        }

        if (G84.type == "Prime Number Bands") {
          q0E = "Pri";
          q0E += "me Bands Bottom ";

          if (!isNaN(n4a)) {
            U6T["Prime Bands Top " + G84.name] = n4a;
          }

          if (!isNaN(P08)) {
            U6T[q0E + G84.name] = Math.max(0, P08);
          }
        } else {
          Z3t = "Re";
          Z3t += "s";
          Z3t += "ul";
          Z3t += "t ";
          p8U = "Tolerance Perc";
          p8U += "entage";
          l0m = 0;
          F_d.X$L(9);
          var P_T = F_d.D8z(11, 15, 104);
          d1C = G84.inputs[p8U] * (n4a - P08) / P_T;
          F_d.O90(6);
          var q78 = F_d.t1w(13, 1, 17, 3);
          N1F = n4a + P08 - q78 * U6T.Close;

          if (N1F < d1C) {
            l0m = 1;
          } else if (N1F > d1C) {
            l0m = -+"1";
          }

          if (l0m) {
            U6T[Z3t + G84.name] = l0m;
          }
        }
      }

      function K$q(Z89) {
        var P2E;

        if (Z89 <= 0) {
          return ![];
        } else if (Z89 != Math.floor(Z89)) {
          return !1;
        } else if (E2O[Z89] === !!"1" || E2O[Z89] === !1) {
          return E2O[Z89];
        }

        F_d.Z_e();
        P2E = parseInt(Math.sqrt(Z89), 10);

        for (var l_g = 2; l_g <= P2E; l_g++) {
          if (Z89 % l_g === 0) {
            E2O[Z89] = !{};
            return ![];
          }
        }

        E2O[Z89] = !0;
        return !!"1";
      }
    };

    T8I.Studies.studyLibrary = T8I.extend(T8I.Studies.studyLibrary, {
      "Prime Number": {
        name: "Prime Number Oscillator",
        range: "-1 to 1",
        calculateFN: T8I.Studies.calculatePrimeNumber,
        centerline: 0,
        inputs: {
          "Tolerance Percentage": 5
        },
        attributes: {
          "Tolerance Percentage": {
            min: 0.1,
            step: 0.1
          }
        }
      },
      "Prime Number Bands": {
        name: "Prime Number Bands",
        overlay: !!{},
        calculateFN: T8I.Studies.calculatePrimeNumber,
        seriesFN: T8I.Studies.displayChannel,
        inputs: {
          "Channel Fill": !![]
        },
        outputs: {
          "Prime Bands Top": "auto",
          "Prime Bands Bottom": Z1D,
          "Prime Bands Channel": "auto"
        }
      }
    });
  }
};

e3 = function e3(n$R) {
  var w35, F7S, A1Y;
  w35 = typeof _CIQ !== "undefined" ? _CIQ : n$R.CIQ;

  if (!w35.Studies) {
    console.error("pring feature requires first activating studies feature.");
  } else {
    F7S = "w";
    F7S += "eek";
    F7S += "ly";
    A1Y = "#00DD0";
    A1Y += "0";

    w35.Studies.calculateKST = function (Z66, G9_) {
      var B6j = g9BGt;
      var s8u, y$R, X6h, o2Q, N8Y, E0L, C2d, i4X, c4S, n4u, N6T, E3u, W$D, i48;
      s8u = "K";
      s8u += "STSigna";
      s8u += "l";
      y$R = "Heaviest R";
      y$R += "ate of Change";
      y$R += " Period";
      X6h = "fie";
      X6h += "l";
      X6h += "d";
      o2Q = G9_.chart.scrubbed;
      N8Y = G9_.inputs.Field;

      if (!N8Y || N8Y == X6h) {
        N8Y = "Close";
      }

      E0L = {};
      C2d = {};
      E0L[1] = Number(G9_.inputs["Lightest Rate of Change Period"]);
      E0L[2] = Number(G9_.inputs["Light Rate of Change Period"]);
      E0L[3] = Number(G9_.inputs["Heavy Rate of Change Period"]);
      E0L[+"4"] = Number(G9_.inputs[y$R]);
      C2d[1] = Number(G9_.inputs["Lightest SMA Period"]);
      C2d[+"2"] = Number(G9_.inputs["Light SMA Period"]);
      C2d[+"3"] = Number(G9_.inputs["Heavy SMA Period"]);
      B6j.O90(35);
      C2d[B6j.t1w(32, "4")] = Number(G9_.inputs["Heaviest SMA Period"]);
      i4X = Number(G9_.inputs["Signal Period"]);

      for (c4S = G9_.startFrom; c4S < o2Q.length; c4S++) {
        if (!o2Q[c4S]) continue;

        for (n4u = 1; n4u <= 4; n4u++) {
          N6T = "_";
          N6T += "RO";
          N6T += "C";

          if (c4S >= E0L[n4u] && o2Q[c4S - E0L[n4u]] && o2Q[c4S - E0L[n4u]][N8Y]) {
            B6j.O90(22);
            var d2j = B6j.t1w(13, 118950, 19, 18, 111070);
            B6j.X$L(5);
            var l7H = B6j.t1w(5269, 0, 19);
            B6j.X$L(162);
            var G$m = B6j.D8z(5631, 8, 5639, 5633);
            B6j.X$L(68);
            var h6e = B6j.t1w(15, 4, 6853, 16);
            B6j.X$L(163);
            var F2K = B6j.D8z(14, 107380, 8, 8, 6864956);
            B6j.O90(1);
            var B8d = B6j.t1w(488, 3413);
            B6j.X$L(5);
            var L3R = B6j.t1w(102, 11, 9);
            B6j.O90(164);
            var B7R = B6j.D8z(14, 19, 265, 1, 1);
            o2Q[c4S][N6T + n4u + (980.06 < 491.44 ? d2j : (+"197.37", l7H) > (G$m, +"6141") ? (h6e, F2K) != (B8d, +"1750") ? "S" : !"" : " ") + G9_.name] = L3R * (o2Q[c4S][N8Y] / o2Q[c4S - E0L[n4u]][N8Y] - B7R);
          }
        }
      }

      for (n4u = 1; n4u <= 4; n4u++) {
        w35.Studies.MA("simple", C2d[n4u], "_ROC" + n4u + " " + G9_.name, "0" - 0, "_SMA" + n4u, Z66, G9_);
      }

      for (c4S = G9_.startFrom; c4S < o2Q.length; c4S++) {
        E3u = "KST";
        E3u += " ";
        o2Q[c4S][E3u + G9_.name] = null;

        for (n4u = 1; n4u <= 4; n4u++) {
          W$D = "KS";
          W$D += "T ";
          B6j.X$L(113);
          var P7b = B6j.D8z(4, 19, 644, 4483);
          B6j.O90(142);
          var U_o = B6j.D8z(14, 9, 14, 6871);
          B6j.X$L(165);
          var B6d = B6j.D8z(5308, 14, 5951, 2, 9);
          B6j.X$L(7);
          var Q3d = B6j.t1w(8964, 9960);
          B6j.X$L(77);
          var d4o = B6j.D8z(7877, 7877, 7879);
          B6j.O90(1);
          var C1A = B6j.D8z(782, 14);
          B6j.O90(7);
          var e6p = B6j.t1w(100320, 109440);
          B6j.O90(95);
          var K$U = B6j.D8z(143, 2417, 10);
          B6j.X$L(63);
          var V_a = B6j.t1w(1390, 13, 196003, 13, 11);
          i48 = o2Q[c4S]["_SMA" + n4u + (P7b != (+"294.82", U_o) ? (B6d, Q3d) !== 242.47 ? d4o != (C1A, e6p) ? " " : ("G", !!{}) : (K$U, !"") : V_a) + G9_.name];

          if (i48 || i48 === 0) {
            B6j.O90(8);
            o2Q[c4S][W$D + G9_.name] += B6j.D8z(i48, n4u);
          }
        }
      }

      w35.Studies.MA("simple", i4X, "KST " + G9_.name, 0, s8u, Z66, G9_);
    };

    w35.Studies.calculateSpecialK = function (A52, k7q) {
      var s3t = g9BGt;
      var f2D, Z$l, I$O, A1z, A6s, g62, O7y, K5D, d6Z, C1S, n3x;
      f2D = "Clo";
      f2D += "se";
      Z$l = k7q.chart.scrubbed;
      I$O = k7q.inputs.Field;

      if (!I$O || I$O == "field") {
        I$O = f2D;
      }

      A1z = k7q.inputs.Interval;

      if (!A1z) {
        A1z = "daily";
      }

      A6s = {
        daily: [10, 15, 20, 30, 50, 65, 75, "100" >> 32, 195, 265, 390, +"530"],
        weekly: [4, 5, "6" << 64, 8, 10, +"13", 15, 20, 39, 52, +"78", 104]
      };
      g62 = {
        daily: [10, 10, +"10", 15, 50, 65, +"75", 100, 130, 130, 130, 195],
        weekly: [4, 5, 6, 8, 10, 13, 15, 20, 26, 26, +"26", 39]
      };

      for (O7y = k7q.startFrom; O7y < Z$l.length; O7y++) {
        if (!Z$l[O7y]) continue;

        for (K5D = 0; K5D < A6s[A1z].length; K5D++) {
          if (O7y >= A6s[A1z][K5D] && Z$l[O7y - A6s[A1z][K5D]] && Z$l[O7y - A6s[A1z][K5D]][I$O]) {
            s3t.X$L(7);
            var F22 = s3t.D8z(3, 103);
            s3t.O90(166);
            var c_6 = s3t.t1w(13, 146, 3, 15, 5);
            Z$l[O7y]["_ROC" + K5D + " " + k7q.name] = F22 * (Z$l[O7y][I$O] / Z$l[O7y - A6s[A1z][K5D]][I$O] - c_6);
          }
        }
      }

      for (K5D = 0; K5D < g62[A1z].length; K5D++) {
        d6Z = "_R";
        d6Z += "O";
        d6Z += "C";
        w35.Studies.MA(A1z == "daily" ? "simple" : "exponential", g62[A1z][K5D], d6Z + K5D + ((347, 8880) === 587.19 ? "I" :  false ? undefined : +"8050" == 935.18 ? (+"1.72e+3", 696.41) : " ") + k7q.name, 0, "_MA" + K5D, A52, k7q);
      }

      for (O7y = k7q.startFrom; O7y < Z$l.length; O7y++) {
        Z$l[O7y]["Result " + k7q.name] = null;

        for (K5D = "0" - 0; K5D < g62[A1z].length; K5D++) {
          C1S = "_";
          C1S += "MA";
          s3t.O90(120);
          var P$Q = s3t.D8z(775, 5, 6977, 155);
          s3t.O90(77);
          var k6p = s3t.t1w(33552, 16776, 8386);
          s3t.X$L(36);
          var e7k = s3t.D8z(15, 69241, 4944, 17, 11);
          s3t.O90(68);
          var V_5 = s3t.D8z(17, 2, 519, 5);
          n3x = Z$l[O7y][C1S + K5D + ((P$Q, k6p) <= (191.24, e7k) ? ("E", V_5) : " ") + k7q.name];

          if (n3x || n3x === 0) {
            s3t.O90(167);
            Z$l[O7y]["Result " + k7q.name] += s3t.t1w(1, n3x, K5D, 4);
          }
        }
      }
    };

    w35.Studies.studyLibrary = w35.extend(w35.Studies.studyLibrary, {
      "Pring KST": {
        name: "Pring's Know Sure Thing",
        calculateFN: w35.Studies.calculateKST,
        inputs: {
          Field: "field",
          "Lightest Rate of Change Period": "10" >> 64,
          "Lightest SMA Period": 10,
          "Light Rate of Change Period": 15,
          "Light SMA Period": 10,
          "Heavy Rate of Change Period": 20,
          "Heavy SMA Period": 10,
          "Heaviest Rate of Change Period": 30,
          "Heaviest SMA Period": 15,
          "Signal Period": "9" << 64
        },
        outputs: {
          KST: A1Y,
          KSTSignal: "#FF0000"
        }
      },
      "Pring Sp-K": {
        name: "Pring's Special K",
        calculateFN: w35.Studies.calculateSpecialK,
        inputs: {
          Field: "field",
          Interval: ["daily", F7S]
        }
      }
    });
  }
};

U7 = function U7(A2S) {
  var N2u, J_p, y13, d92, K$d, h46, m$v, q3q, Q6t, a4j, g0w, c_Z, T2m, P4y;
  N2u = typeof _CIQ !== "undefined" ? _CIQ : A2S.CIQ;
  J_p = typeof _timezoneJS !== "undefined" ? _timezoneJS : A2S.timezoneJS;

  if (!N2u.Studies) {
    y13 = "projectedVolume feature requi";
    y13 += "res first activating studies feature.";
    console.error(y13);
  } else if (!N2u.Studies.studyLibrary.PVAT) {
    d92 = "st";
    d92 += "e";
    d92 += "p";
    K$d = "#fe6";
    K$d += "41c";
    h46 = "Pro";
    h46 += "jected ";
    h46 += "Aggregat";
    h46 += "e Volume";
    m$v = "+";
    m$v += "50%";
    q3q = "hh:";
    q3q += "mm:ss";
    Q6t = "s";
    Q6t += "te";
    Q6t += "p";
    a4j = "#";
    a4j += "fe641c";
    g0w = "-";
    g0w += "5";
    g0w += "0";
    g0w += "%";
    c_Z = "+25";
    c_Z += "%";
    T2m = "+5";
    T2m += "0%";
    P4y = "0";
    P4y += " t";
    P4y += "o m";
    P4y += "ax";

    N2u.Studies.initProjectedVolume = function (J1d, w30, Y2b, Y78, x_D, s4L) {
      var V2o, X4R, z7y;
      V2o = "Anc";
      V2o += "hor";
      V2o += " Time";
      var P7H = J1d.chart.market;
      X4R = "00:00";

      if (P7H) {
        X4R = P7H.getNormalOpen();
      }

      if (X4R.match(/^[\d]{2}:[\d]{2}$/)) {
        X4R += ":00";
      }

      if (!Y2b["Anchor Time"] || !Y2b[V2o].length) {
        Y2b["Anchor Time"] = X4R;
      }

      z7y = N2u.Studies.initializeFN(J1d, w30, Y2b, Y78, x_D, s4L);

      if (!J1d.currentlyImporting) {
        z7y.defaultAnchorTime = X4R;
      }

      return z7y;
    };

    N2u.Studies.validateProjectedVolumeLookback = function (o0K, v7y) {
      var _o0K$layout = o0K.layout,
          f3V = _o0K$layout.interval,
          o6Y = _o0K$layout.periodicity;
      g9BGt.Z_e();
      var p15 = v7y.inputs["Lookback Days"];
      g9BGt.O90(168);
      return g9BGt.D8z(f3V, p15, 10, o6Y);
    };

    N2u.Studies.calculateProjectedVolume = function (J9a, O4y) {
      var N1m = g9BGt;
      var K9N, I72, L2Z, Z$F, O2S, X1Z, b76, R$p, L54, e$U, G54, p$Z, J_P, N8n, x7Q, o88, p1f, E1i, b1Q, A4U, K9Y, J_f, G2Z, a_m, B_h, c3w, B1R, I7X, I7c, I0C, U7p, Y_0, L$m, P5m, l4E, z2$, E3y, y_h, Z97, W7M, V94, Z4p, T39, N5L, f15, C9m, w_H, J8j, a4x, E1T, F01, K62;
      K9N = ":";
      K9N += "0";
      K9N += "0";
      I72 = "Anch";
      I72 += "or Sele";
      I72 += "ct";
      I72 += "or";
      L2Z = "hei";
      L2Z += "kina";
      L2Z += "shi";
      Z$F = "o";
      Z$F += "hl";
      Z$F += "c";
      O2S = "mi";
      O2S += "nut";
      O2S += "e";

      function s1d(B7A, e2r, z6Z) {
        while (e2r) {
          B7A = new Date(new Date(B7A).setDate(B7A.getDate() + (z6Z ? +"1" : -("1" * 1))));

          if (Q7t.isMarketDate(B7A)) {
            e2r--;
          }
        }

        return B7A;
      }

      var _J9a$layout = J9a.layout,
          R2a = _J9a$layout.interval,
          t72 = _J9a$layout.timeUnit,
          b3C = _J9a$layout.aggregationType;
      var _J9a$chart = J9a.chart,
          l7r = _J9a$chart.symbol,
          s5O = _J9a$chart.scroll,
          D2D = _J9a$chart.scrubbed,
          Q7t = _J9a$chart.market;
      X1Z = O4y.type === "PAV";
      b76 = O4y.study ? O4y.study.name : O4y.type;

      if (N2u.ChartEngine.isDailyInterval(R2a)) {
        O4y.error = "".concat(b76, " is Intraday Only");
      } else if (t72 === "tick") {
        N1m.O90(1);
        O4y.error = "".concat(N1m.t1w("Tick mode not supported fo", "r ")).concat(b76);
      } else if (t72 !== O2S) {
        O4y.error = "Sub-minute periodicities not supported for ".concat(b76);
      } else if (!b3C || ![Z$F, L2Z].includes(b3C)) {
        O4y.error = "Aggregation type not supported for ".concat(b76);
      } else if (!N2u.Studies.validateProjectedVolumeLookback(J9a, O4y)) {
        O4y.error = "Selected lookback/periodicity combo not supported for ".concat(b76);
      }

      if (O4y.error) {
        return;
      }

      function M$V(i8r) {
        return J9a.dateFromTick(i8r, null, !!{}, "scrubbed");
      }

      if (O4y.inputs[I72]) {
        N2u.Studies.initAnchorHandle(J9a, O4y);
      } else {
        N2u.Studies.removeAnchorHandle(J9a, O4y);
      }

      R$p = Q7t ? Q7t.getNormalOpen() : "00:00";

      function H9E(r2c) {
        console.error("Expected data for ".concat(M$V(r2c).toDateString(), " but found none. This may be caused by gaps in your data or an improperly configured market definition."));
      }

      if (R$p.match(/^[\d]{2}:[\d]{2}$/)) {
        R$p += K9N;
      }

      if (!J9a.currentlyImporting) {
        if (!O4y.defaultAnchorTime) {
          O4y.defaultAnchorTime = R$p;
        } else if (R$p !== O4y.defaultAnchorTime) {
          O4y.defaultAnchorTime = R$p;
          O4y.inputs["Anchor Time"] = R$p;
          N2u.Studies.repositionAnchor(J9a, O4y);
          return;
        }
      }

      var _O4y$inputs = O4y.inputs,
          r$p = _O4y$inputs["Lookback Days"],
          h8_ = _O4y$inputs["Anchor Time"];
      N1m.O90(8);

      var _h8_$split = h8_.split(":"),
          _h8_$split2 = _slicedToArray(_h8_$split, 3),
          l_o = _h8_$split2[0],
          L9o = _h8_$split2[1],
          _h8_$split2$ = _h8_$split2[2],
          S7c = _h8_$split2$ === void 0 ? g9BGt.t1w(1, "0") : _h8_$split2$;

      L54 = N2u.getFn("Market.Symbology.isForexSymbol")(l7r);
      e$U = O4y.getDependents(J9a);
      N1m.X$L(35);
      G54 = N1m.D8z(64, "0");
      p$Z = [];
      e$U.forEach(function (_ref2) {
        var f$N = _ref2.inputs,
            j6O = _ref2.outputMap;
        N1m.Z_e();

        if (f$N.Period) {
          var _p$Z;

          G54 = Math.max(parseInt(f$N.Period), G54);

          (_p$Z = p$Z).push.apply(_p$Z, _toConsumableArray(Object.keys(j6O)));
        }
      });
      O4y.dependentsOutputMap = p$Z;
      N8n = A8Q(D2D.length - 1, !0);
      x7Q = Math.ceil(D2D.length - 1 - s5O);
      N1m.X$L(7);
      o88 = A8Q(N1m.t1w(G54, x7Q));

      if (L54 && D2D[o88] && N2u.dateToStr(D2D[o88].DT, "HH:mm") !== R$p) {
        N1m.X$L(7);
        o88 = A8Q(N1m.t1w(1, o88));
        ;
      }

      if (!L54 && O4y.startFrom > o88 && D2D[o88] && D2D[o88]["V " + O4y.name] !== undefined && p$Z.every(function (w9B) {
        N1m.c7b();
        return ![undefined, null].includes(D2D[o88][w9B]);
      }) && N8n !== !{}) {
        J_P = N8n;
        ;
      } else {
        J_P = o88;
      }

      function A8Q(N3Q, B_A) {
        var Z79, Q2h, Y0r;
        Z79 = M$V(N3Q);
        Q2h = Q7t.getOpen(Z79) || V7O(Z79);
        Y0r = l10(Q2h);

        if (!B_A) {
          return Y0r;
        }

        if (Y0r < 0) {
          Y0r = l10(s1d(Q2h, 1, !""));
        }

        if (Y0r >= D2D.length) {
          return ![];
        }

        return Y0r;
      }

      function B7j(R8b) {
        return {
          hours: R8b.getHours(),
          minutes: R8b.getMinutes()
        };
      }

      p1f = s1d(M$V(o88), r$p);
      p1f.setHours(0, +"0", 0);
      E1i = A8Q(0, !![]);
      b1Q = (E1i || E1i === ("0" ^ 0)) && l10(s1d(D2D[E1i].DT, r$p, !!{}));

      if (D2D[+"0"].DT > p1f) {
        if (J9a.quoteDriver) {
          J9a.quoteDriver.extendHistoricalData({
            from: p1f
          });

          if (b1Q > 0) {
            J_P = b1Q;
          } else {
            return;
          }
        } else {
          N1m.X$L(1);
          return O4y.error = "".concat(N1m.D8z("Not enough data to calc", "ulate ")).concat(b76);
        }
      }

      if (J_P < 0 || J_P > D2D.length - 1) {
        return;
      }

      A4U = D2D.length - O4y.startFrom === 1 && O4y.cachedFutureTicks && O4y.cachedLastProjection && +O4y.cachedLastProjection.DT === +D2D[D2D.length - 1].DT && D2D[J_P]["PV " + O4y.name];

      if (A4U) {
        K9Y = "P";
        K9Y += "V ";
        D2D[D2D.length - +"1"][K9Y + O4y.name] = O4y.cachedLastProjection.projectedValue;
        O4y.appendFutureTicks(J9a, O4y.cachedFutureTicks);
        J_P = O4y.startFrom;
      } else {
        O4y.cachedFutureTicks = null;
        O4y.cachedLastProjection = null;
        J_f = [N8n];
        G2Z = [];

        for (var y88 = +"0"; y88 < r$p; y88++) {
          a_m = A8Q(J_f[0] - 1);
          J_f.unshift(a_m);
          ;
        }

        while (J_f[r$p] >= J_P) {
          B_h = J_f.pop();

          if (!D2D[B_h]) {
            return H9E(B_h);
          }

          c3w = B7j(D2D[B_h].DT);
          var _c3w = c3w,
              H4D = _c3w.hours,
              Z69 = _c3w.minutes;
          B1R = Q7t.getClose(D2D[B_h].DT);
          I7X = void 0;

          if (!B1R) {
            I7X = {
              hours: 24,
              minutes: +"0"
            };
          } else {
            I7c = Q7t.getNextClose(D2D[B_h].DT);
            I7X = B7j(B1R);

            while (!(I7X.hours === 0 && I7X.minutes === 0) && B1R.getDate() === I7c.getDate()) {
              B1R = I7c;
              I7c = Q7t.getNextClose(I7c);
            }

            I7X = B7j(B1R);

            if (I7X.hours === 0) {
              I7X.hours = 24;
            }
          }

          I0C = J_f.slice();

          for (var p6m = +"0"; p6m < I0C.length; p6m++) {
            U7p = I0C[p6m];

            if (!D2D[U7p]) {
              return H9E(U7p);
            }

            var _B7j = B7j(D2D[U7p].DT),
                m0_ = _B7j.hours,
                f6f = _B7j.minutes;

            if (m0_ < H4D || m0_ === H4D && f6f < Z69) {
              do {
                U7p++;

                var _B7j2 = B7j(D2D[U7p].DT);

                m0_ = _B7j2.hours;
                f6f = _B7j2.minutes;
              } while (!(m0_ === H4D && f6f === Z69));
            }

            I0C[p6m] = U7p;
          }

          while (H4D < I7X.hours || H4D === I7X.hours && Z69 < I7X.minutes) {
            Y_0 = !{};
            L$m = void 0;
            P5m = void +"0";
            l4E = 0;
            z2$ = 0;

            for (var I7C = 0; I7C < I0C.length; I7C++) {
              E3y = I0C[I7C];
              if (E3y === null) continue;
              y_h = D2D[E3y];

              if (!y_h) {
                return H9E(E3y);
              }

              var _B7j3 = B7j(y_h.DT),
                  O2b = _B7j3.hours,
                  y8E = _B7j3.minutes;

              Z97 = y_h.DT.getDate();

              if (O2b === H4D && y8E === Z69) {
                l4E += y_h.Volume;
                z2$++;
                I0C[I7C]++;

                if (D2D[I0C[I7C]].DT.getDate() !== Z97) {
                  I0C[I7C] = null;
                } else if (!Y_0) {
                  var _B7j4 = B7j(D2D[I0C[I7C]].DT);

                  L$m = _B7j4.hours;
                  P5m = _B7j4.minutes;
                  Y_0 = !!{};
                  ;
                }
              }
            }

            H4D = L$m;
            Z69 = P5m;
            if (z2$ === 0) break;
            N1m.X$L(23);
            W7M = N1m.t1w(z2$, l4E);

            if (D2D[B_h]) {
              V94 = "PV";
              V94 += " ";
              D2D[B_h][V94 + O4y.name] = W7M;
            } else {
              G2Z.push(_defineProperty({}, "PV " + O4y.name, W7M));
            }

            B_h++;
          }

          J_f.unshift(A8Q(J_f[0] - 1));
          ;
        }

        O4y.cachedLastProjection = {
          DT: D2D[D2D.length - 1].DT,
          projectedValue: D2D[D2D.length - +"1"]["PV " + O4y.name]
        };
        O4y.cachedFutureTicks = G2Z;
        O4y.appendFutureTicks(J9a, G2Z);
      }

      Z4p = null;
      N1m.X$L(7);
      T39 = N1m.t1w(0, "0");
      N5L = 0;

      if (A4U && X1Z) {
        while (J_P > 0) {
          N1m.X$L(7);
          C9m = D2D[N1m.t1w(1, J_P)]["V " + O4y.name];

          if (C9m || C9m === 0) {
            T39 = C9m;
            break;
          }

          J_P--;
        }
      }

      function l10(w0U) {
        var s_X;
        s_X = "sc";
        s_X += "rubbed";
        return J9a.tickFromDate(w0U, null, null, !!"1", s_X);
      }

      for (var u7s = J_P; u7s < D2D.length; u7s++) {
        w_H = D2D[u7s];
        J8j = w_H.Volume;
        a4x = w_H["PV " + O4y.name];

        if (!w_H.futureTick) {
          f15 = u7s;
        }

        if (Z4p === null) {
          Z4p = N2u.Studies.getMarketOffset({
            stx: J9a,
            localQuoteDate: D2D[u7s].DT,
            shiftToDateBoundary: !0
          });
        }

        E1T = new Date(new Date(w_H.DT).getTime() + Z4p);
        F01 = D2D[u7s - 1] && new Date(new Date(D2D[u7s - 1].DT).getTime() + Z4p);
        K62 = new J_p.Date(w_H.DT, Q7t.market_def.market_tz || "America/New_York");
        K62.setHours(l_o, L9o, S7c);
        N1m.O90(1);
        K62 = new Date(N1m.D8z(K62, Z4p));
        K62.setDate(E1T.getDate());

        if (F01 && E1T.getDate() !== F01.getDate()) {
          Z4p = null;
          T39 = 0;
          N5L = 0;
        }

        if (E1T < K62) {
          w_H["V " + O4y.name] = 0;
          w_H["PV " + O4y.name] = 0;
          continue;
        }

        if (X1Z) {
          T39 += J8j;
          N5L += a4x;
        } else {
          T39 = J8j;
          N5L = a4x;
        }

        w_H["V " + O4y.name] = T39;

        if (!A4U) {
          w_H["PV " + O4y.name] = N5L;
        }

        if ([NaN, null, undefined].includes(T39) && !w_H.futureTick) {
          N1m.O90(95);
          O4y.error = "".concat(b76).concat(N1m.D8z(" require", "olume", "s v"));
          return;
        }
      }

      O4y.cachedLastProjection.projectedValue = D2D[f15]["PV " + O4y.name];
      O4y.outputMap = {};
      O4y.outputMap["V " + O4y.name] = "";
      O4y.outputMap["PV " + O4y.name] = "Average Line";

      function V7O(Q0G) {
        var T7Z;
        Q0G.setHours(0);
        Q0G.setMinutes(0);
        T7Z = N2u.Studies.getMarketOffset({
          stx: J9a,
          localQuoteDate: Q0G
        });
        N1m.c7b();
        return new Date(Q0G.getTime() + T7Z);
      }

      e$U.forEach(function (a5T) {
        a5T.startFrom = J_P;
        a5T.study.calculateFN(J9a, a5T);
      });
    };

    N2u.Studies.displayProjectedVolume = function (O30, h55, s_W) {
      var e02 = g9BGt;
      var I1J, p8Y, o3U, X02, t63, H_C, t0w, P51;
      I1J = "V";
      I1J += " ";

      if (h55.error) {
        return N2u.Studies.removeAnchorHandle(O30, h55);
      }

      var _h55$inputs$AlertThr = h55.inputs["Alert Threshold"],
          A1s = _h55$inputs$AlertThr === void 0 ? "" : _h55$inputs$AlertThr;
      e02.X$L(19);
      var v5A = e02.t1w(0, 5, 19, 16, 14);
      e02.O90(50);
      var p$0 = e02.t1w(10, 20);
      p8Y = parseInt(A1s.slice(0, v5A), p$0) / ("100" >> 0);
      o3U = h55.outputs["Alert Bar"];

      if (_typeof(o3U) === "object") {
        o3U = o3U.color;
      }

      h55.volumeField = I1J + h55.name;
      h55.alignStepToSide = !"";
      h55.extendToEndOfLastBar = !"";
      h55.lineWidth = 2;
      X02 = O30.canvasStyle("stx_volume_underlay_up").opacity;
      t63 = O30.canvasStyle("stx_volume_underlay_down").opacity;

      h55.colorFunction = function (G3k) {
        var q56, f7p, c2e, O4z, K8x, V$X, D54;
        q56 = "V";
        q56 += " ";
        var g06 = G3k.Open,
            m$t = G3k.Close,
            V3u = G3k.iqPrevClose;
        f7p = O30.colorByCandleDirection ? g06 : V3u;
        e02.X$L(169);
        c2e = e02.t1w(m$t, f7p);
        O4z = G3k["PV " + h55.name];
        K8x = G3k[q56 + h55.name];
        e02.X$L(170);
        V$X = e02.t1w("1", p8Y, O4z);
        D54 = p8Y < 0 ? K8x < V$X : K8x > V$X;
        return {
          fill_color: D54 && o3U || (c2e ? this.fill_color_down : this.fill_color_up),
          border_color: c2e ? this.border_color_down : this.border_color_up,
          opacity: D54 ? 1 : c2e ? t63 : X02,
          border_opacity: c2e ? t63 : X02
        };
      };

      H_C = h55.study ? h55.study.name : h55.type;
      var j3M = O30.chart.loadingMore;
      e02.c7b();
      t0w = s_W.some(function (z9s) {
        var R$O;
        R$O = "P";
        R$O += "V";
        R$O += " ";
        e02.Z_e();
        return z9s && z9s[h55.volumeField] && z9s[R$O + h55.name];
      });
      P51 = s_W["0" ^ 0] && !s_W[+"0"].futureTick && (s_W[0]["PV " + h55.name] === undefined || (h55.dependentsOutputMap || []).some(function (F12) {
        return [undefined, null].includes(s_W[0][F12]);
      }));

      if (!t0w && j3M) {
        e02.X$L(113);
        return h55.error = "".concat(e02.t1w("or", "hing data f", "Fetc", " ")).concat(H_C);
      }

      N2u.Studies.createVolumeChart(O30, h55, s_W);
      N2u.Studies.displaySeriesAsLine(O30, h55, s_W);

      if (h55.anchorHandle) {
        N2u.Studies.displayAnchorHandleAndLine(O30, h55, s_W);
      }

      if (P51) {
        N2u.Studies.calculateProjectedVolume(O30, h55);
      }
    };

    N2u.Studies.studyLibrary = N2u.extend(N2u.Studies.studyLibrary, {
      PVAT: {
        name: "Projected Volume at Time",
        range: P4y,
        yAxis: {
          ground: !!{},
          initialMarginTop: 0,
          zoom: 0
        },
        calculateFN: N2u.Studies.calculateProjectedVolume,
        seriesFN: N2u.Studies.displayProjectedVolume,
        initializeFN: N2u.Studies.initProjectedVolume,
        removeFN: N2u.Studies.removeAnchorHandle,
        inputs: {
          "Lookback Days": +"10",
          "Anchor Time": "",
          "Alert Threshold": ["+150%", "+125%", "+100%", "+75%", T2m, c_Z, "None", "-25%", g0w, "-75%", "-100%", "-125%", "-150%"],
          "Anchor Selector": !!{}
        },
        outputs: {
          "Average Line": a4j,
          "Alert Bar": "#cfbd0e",
          "Up Volume": "#8cc176",
          "Down Volume": "#b82c0c"
        },
        parameters: {
          plotType: Q6t
        },
        attributes: {
          "Anchor Time": {
            placeholder: q3q,
            step: "1" | 0
          },
          "Alert Threshold": {
            defaultSelected: m$v
          }
        }
      },
      PAV: {
        name: h46,
        range: "0 to max",
        yAxis: {
          ground: !![],
          initialMarginTop: 0,
          zoom: 0
        },
        calculateFN: N2u.Studies.calculateProjectedVolume,
        seriesFN: N2u.Studies.displayProjectedVolume,
        initializeFN: N2u.Studies.initProjectedVolume,
        removeFN: N2u.Studies.removeAnchorHandle,
        inputs: {
          "Lookback Days": "10" | 8,
          "Anchor Time": "",
          "Anchor Selector": !0
        },
        outputs: {
          "Average Line": K$d,
          "Up Volume": "#8cc176",
          "Down Volume": "#b82c0c"
        },
        parameters: {
          plotType: d92
        },
        attributes: {
          "Anchor Time": {
            placeholder: "hh:mm:ss",
            step: 1
          }
        }
      }
    });
  }
};

f6 = function f6(X0f) {
  var D4F, P8S;
  D4F = "unde";
  D4F += "fined";
  P8S = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== D4F ? _CIQ : X0f.CIQ;

  if (!P8S.Studies) {
    console.error("psychologicalLine feature requires first activating studies feature.");
  } else {
    P8S.Studies.calculatePsychologicalLine = function (k7x, V7T) {
      var P6S = g9BGt;
      var x6$, U6a, e2h, S5r, u_K, t0m, k2K, g6i, f_T;
      P6S.Z_e();
      x6$ = 1318313658;
      U6a = -1526940988;
      e2h = 2;

      for (var i_n = 1; P6S.l9L(i_n.toString(), i_n.toString().length, 10190) !== x6$; i_n++) {
        S5r = V7T.chart.scrubbed;
        e2h += 2;
      }

      if (P6S.l9L(e2h.toString(), e2h.toString().length, 89156) !== U6a) {
        S5r = V7T.chart.scrubbed;
      }

      if (S5r.length < V7T.days + 1) {
        V7T.error = !!"1";
        return;
      }

      u_K = [];
      P6S.O90(129);
      var d63 = P6S.D8z(83, 8, 3, 17, 3725);
      t0m = d63 / V7T.days;
      k2K = 0;

      for (var e1F = Math.max(V7T.startFrom - V7T.days, 1); e1F < S5r.length; e1F++) {
        g6i = "Res";
        g6i += "u";
        g6i += "lt";
        g6i += " ";
        if (S5r[e1F].futureTick) break;
        f_T = Number(S5r[e1F].Close > S5r[e1F - 1].Close);

        if (f_T) {
          k2K += t0m;
        }

        u_K.push(f_T);

        if (u_K.length > V7T.days) {
          k2K -= u_K.shift() * t0m;
        }

        if (e1F < V7T.startFrom) continue;

        if (!isNaN(S5r[e1F].Close)) {
          S5r[e1F][g6i + V7T.name] = k2K;
        }
      }
    };

    P8S.Studies.studyLibrary = P8S.extend(P8S.Studies.studyLibrary, {
      PSY: {
        name: "Psychological Line",
        range: "0 to 100",
        calculateFN: P8S.Studies.calculatePsychologicalLine,
        inputs: {
          Period: 20
        }
      }
    });
  }
};

q8 = function q8(h3z) {
  var A3q, D2G;
  g9BGt.Z_e();
  A3q = typeof _CIQ !== "undefined" ? _CIQ : h3z.CIQ;

  if (!A3q.Studies) {
    console.error("qstick feature requires first activating studies feature.");
  } else {
    D2G = "QStic";
    D2G += "k";

    A3q.Studies.calculateQStick = function (i7y, r97) {
      var W2L, y3_, o2e;
      W2L = "_Cl";
      g9BGt.Z_e();
      W2L += "ose-Op";
      W2L += "en";
      W2L += " ";
      y3_ = "Moving Avera";
      y3_ += "ge Type";
      o2e = r97.chart.scrubbed;

      if (o2e.length < r97.days + 1) {
        r97.error = !!1;
        return;
      }

      for (var T_O = r97.startFrom; T_O < o2e.length; T_O++) {
        o2e[T_O]["_Close-Open " + r97.name] = o2e[T_O].Close - o2e[T_O].Open;
      }

      A3q.Studies.MA(r97.inputs[y3_], r97.days, W2L + r97.name, 0, "Result", i7y, r97);
    };

    A3q.Studies.studyLibrary = A3q.extend(A3q.Studies.studyLibrary, {
      QStick: {
        name: D2G,
        calculateFN: A3q.Studies.calculateQStick,
        inputs: {
          Period: "8" >> 0,
          "Moving Average Type": "ma"
        }
      }
    });
  }
};

c0 = function c0(m01) {
  var c$v, s3I, E2u, N_r, v54, r38, G4z, L$w, R4T;
  c$v = "undef";
  c$v += "ine";
  c$v += "d";
  s3I = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== c$v ? _CIQ : m01.CIQ;

  if (!s3I.Studies) {
    console.error("rainbow feature requires first activating studies feature.");
  } else {
    E2u = "f";
    E2u += "ie";
    E2u += "ld";
    N_r = "#FF";
    N_r += "00F";
    N_r += "F";
    v54 = "#7F00";
    v54 += "FF";
    r38 = "#00";
    r38 += "7";
    r38 += "F";
    r38 += "FF";
    G4z = "#0";
    G4z += "0F";
    G4z += "FFF";
    L$w = "#F";
    L$w += "F";
    L$w += "0";
    L$w += "000";
    R4T = "R";
    R4T += "ainbow Moving Average";

    s3I.Studies.calculateRainbow = function (Y12, U7w) {
      var t81 = g9BGt;
      var w38, x5R, r4G, s5m, K8k, c9n, V9P, w5k, H4V, x$Z, S1x, J30, b8C, H4w, L_m, J3w, e1l, X73, H6f, M$v, E6r, v7v;

      function h6l(l6E, l1F) {
        var K4y, p3D;
        t81.X$L(7);
        var u5z = t81.D8z(1, 0);
        K4y = Number.MAX_VALUE * u5z;
        p3D = Number.MAX_VALUE;
        t81.Z_e();

        for (var l_q = l1F - l6E + 1; l_q <= l1F; l_q++) {
          if (l_q < 0) continue;
          K4y = Math.max(K4y, x5R[l_q].Close);
          p3D = Math.min(p3D, x5R[l_q].Close);
        }

        return [p3D, K4y];
      }

      w38 = "fi";
      w38 += "eld";
      x5R = U7w.chart.scrubbed;

      if (x5R.length < U7w.days + 1) {
        U7w.error = !!{};
        return;
      }

      r4G = -1365760673;
      s5m = +"1310864647";
      K8k = 2;

      for (var h0$ = 1; t81.i7j(h0$.toString(), h0$.toString().length, 61315) !== r4G; h0$++) {
        c9n = U7w.inputs.Field;
        K8k += 2;
      }

      if (t81.l9L(K8k.toString(), K8k.toString().length, 58595) !== s5m) {
        c9n = U7w.inputs.Field;
      }

      if (!c9n || c9n == w38) {
        c9n = "Close";
      }

      V9P = c9n;

      for (var u9_ = 1; u9_ <= 10; u9_++) {
        w5k = "S";
        w5k += "M";
        w5k += "A";
        H4V = "S";
        H4V += "MA";
        s3I.Studies.MA("simple", U7w.days, V9P, 0, H4V + u9_, Y12, U7w);
        t81.O90(171);
        var b7L = t81.t1w(16710, 2, 14, 8348, 8330);
        t81.X$L(9);
        var U8O = t81.t1w(13, 14, 2);
        t81.X$L(22);
        var E1a = t81.D8z(19, 72930, 20, 16, 67375);
        t81.O90(44);
        var E9k = t81.D8z(17, 107644, 6, 6341, 6332);
        t81.O90(66);
        var M8a = t81.D8z(11, 5, 163, 1);
        V9P = w5k + u9_ + ((b7L, "459.13" - 0) >= ("2255" * U8O, 332.83) ? " " : (E1a, 940.94) < (E9k, "394.43" - 0) ? (+"626.97", !!"1") : M8a) + U7w.name;
      }

      for (var N5Y = Math.max(U7w.startFrom, 10); N5Y < x5R.length; N5Y++) {
        x$Z = "O";
        x$Z += "s";
        x$Z += "c";
        if (!x5R[N5Y]) continue;
        if (x5R[N5Y].futureTick) break;
        S1x = 0;
        J30 = 0;
        t81.O90(60);
        var e_C = t81.D8z(31, 4, 8);
        b8C = Number.MAX_VALUE * e_C;
        H4w = Number.MAX_VALUE;

        for (u9_ = 1; u9_ <= 10; u9_++) {
          L_m = "S";
          L_m += "M";
          L_m += "A";
          t81.X$L(31);
          var X2B = t81.D8z(12, 51002, 7, 8502);
          t81.X$L(1);
          var r11 = t81.t1w(3767, 3);
          t81.X$L(7);
          var Q5v = t81.D8z(54890, 59880);
          t81.X$L(11);
          var V0x = t81.D8z(8, 579286, 44856, 13, 16);
          J3w = x5R[N5Y][L_m + u9_ + (204.6 !== X2B ? " " : (+"684.07", +"486.62") <= (11.07, r11) ? (Q5v, +"2360") != +"568.69" ? !!{} : (!!"", 790.32) : V0x) + U7w.name];

          if (J3w || J3w === 0) {
            S1x += J3w;
            J30++;
            b8C = Math.max(b8C, J3w);
            H4w = Math.min(H4w, J3w);
          }
        }

        if (U7w.name.indexOf(x$Z) > -("1" >> 0)) {
          e1l = "H";
          e1l += "HV";
          e1l += "/LLV Lo";
          e1l += "okback";
          X73 = h6l(U7w.inputs[e1l], N5Y);

          if (J30) {
            H6f = "Ov";
            H6f += "e";
            H6f += "r";
            H6f += " ";
            M$v = "_";
            M$v += "h";
            M$v += "is";
            M$v += "t";
            t81.X$L(57);
            var O3_ = t81.D8z(200, 1, 100);
            x5R[N5Y][U7w.name + M$v] = O3_ * (x5R[N5Y][c9n] - S1x / J30) / Math.max(0.000001, X73["1" >> 0] - X73[0]);
            t81.X$L(7);
            var r2m = t81.D8z(10, 110);
            t81.O90(96);
            var u4b = t81.D8z(16, 19, 5777, 19);
            x5R[N5Y][H6f + U7w.name] = r2m * (b8C - H4w) / Math.max(+"0.000001", X73[u4b] - X73[0]);
            x5R[N5Y]["Under " + U7w.name] = -x5R[N5Y]["Over " + U7w.name];
            x5R[N5Y]["Zero " + U7w.name] = 0;
          }
        }
      }

      if (U7w.name.indexOf("Osc") > -1) {
        E6r = "Ze";
        E6r += "r";
        E6r += "o";
        E6r += " ";
        v7v = "Positive Ba";
        v7v += "r";
        U7w.outputMap = {};
        U7w.outputMap["Over " + U7w.name] = v7v;
        U7w.outputMap["Under " + U7w.name] = "Negative Bar";
        U7w.outputMap[E6r + U7w.name] = "";
        U7w.outputMap[U7w.name + "_hist"] = "";
      }
    };

    s3I.Studies.displayRainbowMA = function (m87, A7C, G4_) {
      var J1O, n6L;
      J1O = m87.panels[A7C.panel];

      for (var n8A = 10; n8A > +"0"; n8A--) {
        n6L = "S";
        n6L += "M";
        n6L += "A";
        s3I.Studies.displayIndividualSeriesAsLine(m87, A7C, J1O, n6L + n8A + (("3620" - 0, 9520) <= 6410 ? 660 : 2686 > 9.35 ? " " : 2.97e+3) + A7C.name, G4_);
      }
    };

    s3I.Studies.displayRainbowOsc = function (b6H, n5A, n31) {
      var R8Z = g9BGt;
      var P8G, y21, i9o, Q_x, e97, K8s, g7F, v9T, L7R, V2j, q8L, x7I, P9d, U9Y, s_C;
      P8G = "U";
      P8G += "n";
      P8G += "de";
      P8G += "r ";
      y21 = "N";
      y21 += "egative Bar";
      i9o = "Zer";
      i9o += "o";
      i9o += " ";
      Q_x = "O";
      Q_x += "v";
      Q_x += "er";
      Q_x += " ";
      s3I.Studies.displaySeriesAsLine(b6H, n5A, n31);
      e97 = b6H.panels[n5A.panel];
      K8s = n5A.getContext(b6H);
      g7F = n5A.getYAxis(b6H);
      b6H.startClip(n5A.panel);

      if (!n5A.highlight && b6H.highlightedDraggable) {
        K8s.globalAlpha *= 0.3;
      }

      v9T = b6H.pixelFromPrice(0, e97, g7F);
      L7R = e97.name != n5A.chart.name;
      V2j = s3I.Studies.determineColor(n5A.outputs["Positive Bar"]);
      K8s.strokeStyle = V2j;
      b6H.plotDataSegmentAsLine("Over " + n5A.name, e97, {
        skipTransform: L7R,
        label: ![],
        yAxis: g7F
      });
      R8Z.O90(3);
      q8L = K8s.createLinearGradient(R8Z.t1w(0, "0"), v9T, 0, g7F.flipped ? g7F.bottom : g7F.top);
      q8L.addColorStop(0, b6H.containerColor);
      R8Z.O90(8);
      q8L.addColorStop(R8Z.t1w(1, "1"), V2j);
      s3I.prepareChannelFill(b6H, {
        skipTransform: L7R,
        color: q8L,
        opacity: !n5A.highlight && b6H.highlightedDraggable ? 0.3 : 1,
        panelName: n5A.panel,
        topBand: Q_x + n5A.name,
        bottomBand: i9o + n5A.name,
        yAxis: g7F
      });
      x7I = s3I.Studies.determineColor(n5A.outputs[y21]);
      K8s.strokeStyle = x7I;
      b6H.plotDataSegmentAsLine("Under " + n5A.name, e97, {
        skipTransform: L7R,
        label: !!0,
        yAxis: g7F
      });
      R8Z.X$L(0);
      P9d = K8s.createLinearGradient(0, v9T, R8Z.t1w("0", 0), g7F.flipped ? g7F.top : g7F.bottom);
      P9d.addColorStop(0, b6H.containerColor);
      P9d.addColorStop(1, x7I);
      s3I.prepareChannelFill(b6H, {
        skipTransform: L7R,
        color: P9d,
        opacity: !n5A.highlight && b6H.highlightedDraggable ? 0.3 : 1,
        panelName: n5A.panel,
        topBand: "Zero " + n5A.name,
        bottomBand: P8G + n5A.name,
        yAxis: g7F
      });
      R8Z.X$L(163);
      var p$f = R8Z.t1w(17, 14, 12, 3, 1114);
      U9Y = b6H.layout.candleWidth - p$f;

      if (U9Y < 2) {
        U9Y = 1;
      }

      b6H.canvasColor("stx_histogram");

      if (!n5A.underlay) {
        K8s.globalAlpha = 1;
      }

      if (!n5A.highlight && b6H.highlightedDraggable) {
        K8s.globalAlpha *= 0.3;
      }

      K8s.fillStyle = "#CCCCCC";

      for (var C$x = 0; C$x < n31.length; C$x++) {
        s_C = n31[C$x];
        if (!s_C) continue;

        if (s_C[n5A.name + "_hist"] > 0) {
          K8s.fillStyle = V2j;
        } else if (s_C[n5A.name + "_hist"] < 0) {
          K8s.fillStyle = x7I;
        }

        if (s_C.candleWidth) {
          U9Y = Math.floor(Math.max(1, s_C.candleWidth - 2));
        }

        K8s.fillRect(Math.floor(b6H.pixelFromBar(C$x, e97.chart) - U9Y / 2), Math.floor(v9T), Math.floor(U9Y), Math.floor(b6H.pixelFromPrice(s_C[n5A.name + "_hist"], e97, g7F) - v9T));
      }

      b6H.endClip();
    };

    s3I.Studies.studyLibrary = s3I.extend(s3I.Studies.studyLibrary, {
      "Rainbow MA": {
        name: R4T,
        overlay: !!{},
        calculateFN: s3I.Studies.calculateRainbow,
        seriesFN: s3I.Studies.displayRainbowMA,
        inputs: {
          Period: 2,
          Field: "field"
        },
        outputs: {
          SMA1: L$w,
          SMA2: "#FF7F00",
          SMA3: "#FFFF00",
          SMA4: "#7FFF00",
          SMA5: "#00FF7F",
          SMA6: G4z,
          SMA7: r38,
          SMA8: "#0000FF",
          SMA9: v54,
          SMA10: N_r
        }
      },
      "Rainbow Osc": {
        name: "Rainbow Oscillator",
        calculateFN: s3I.Studies.calculateRainbow,
        seriesFN: s3I.Studies.displayRainbowOsc,
        centerline: +"0",
        inputs: {
          Period: 2,
          Field: E2u,
          "HHV/LLV Lookback": +"10"
        },
        outputs: {
          "Positive Bar": "#00DD00",
          "Negative Bar": "#FF0000"
        }
      }
    });
  }
};

x7 = function x7(N4O) {
  var i2R, q7V;
  i2R = typeof _CIQ !== "undefined" ? _CIQ : N4O.CIQ;
  g9BGt.c7b();

  if (!i2R.Studies) {
    console.error("randomWalk feature requires first activating studies feature.");
  } else {
    q7V = "#0";
    q7V += "0";
    q7V += "00";
    q7V += "FF";

    i2R.Studies.calculateRandomWalk = function (X0k, w_v) {
      var F33, t$r, g6f, E5W, B6z, E52, J5x, v5z, E$W;
      F33 = w_v.chart.scrubbed;

      if (F33.length < w_v.days + 1) {
        w_v.error = !!"1";
        return;
      }

      for (var a53 = Math.max(2, w_v.startFrom); a53 < F33.length; a53++) {
        t$r = 0;
        g6f = F33[a53].High;
        E5W = F33[a53].Low;
        B6z = +"0";
        E52 = 0;

        for (var f1m = 1; f1m <= w_v.days; f1m++) {
          if (F33[a53].futureTick) break;

          if (a53 <= f1m) {
            B6z = E52 = 0;
            break;
          }

          t$r += F33[a53 - f1m].trueRange;
          J5x = t$r / f1m * Math.sqrt(f1m);

          if (J5x) {
            v5z = (g6f - F33[a53 - f1m].Low) / J5x;
            E$W = (F33[a53 - f1m].High - E5W) / J5x;
            B6z = Math.max(B6z, v5z);
            E52 = Math.max(E52, E$W);
          }
        }

        if (!F33[a53].futureTick && (!isNaN(g6f) || !isNaN(E5W))) {
          F33[a53]["Random Walk High " + w_v.name] = B6z;
          F33[a53]["Random Walk Low " + w_v.name] = E52;
        }
      }
    };

    i2R.Studies.studyLibrary = i2R.extend(i2R.Studies.studyLibrary, {
      "Random Walk": {
        name: "Random Walk Index",
        calculateFN: i2R.Studies.calculateRandomWalk,
        outputs: {
          "Random Walk High": "#FF0000",
          "Random Walk Low": q7V
        }
      }
    });
  }
};

J3 = function J3(K59) {
  var f19 = g9BGt;
  var t7W, U3h, l0h;
  t7W = "unde";
  f19.c7b();
  t7W += "fin";
  t7W += "e";
  t7W += "d";
  U3h = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== t7W ? _CIQ : K59.CIQ;

  if (!U3h.Studies) {
    console.error("relativeVigor feature requires first activating studies feature.");
  } else {
    l0h = "#FF0";
    l0h += "000";

    U3h.Studies.calculateRelativeVigor = function (q6A, d3_) {
      var e1R, N53, v6$, b5r, Q0R, H70, w3h, N2g, z_v, n1C, Q38, c6b, I7o;
      e1R = "RelVigSigna";
      e1R += "l";
      N53 = "triangu";
      N53 += "lar";
      f19.Z_e();
      v6$ = "tr";
      v6$ += "iangular";
      b5r = "_Cha";
      b5r += "ng";
      b5r += "e";
      b5r += " ";
      Q0R = d3_.chart.scrubbed;

      if (Q0R.length < d3_.days + 1) {
        d3_.error = !"";
        return;
      }

      for (H70 = d3_.startFrom; H70 < Q0R.length; H70++) {
        w3h = Q0R[H70];

        if (!isNaN(w3h.Close) && !isNaN(w3h.Open)) {
          w3h["_Change " + d3_.name] = w3h.Close - w3h.Open;
        }

        if (!isNaN(w3h.High) && !isNaN(w3h.Low)) {
          w3h["_Range " + d3_.name] = w3h.High - w3h.Low;
        }
      }

      U3h.Studies.MA("triangular", 4, b5r + d3_.name, 0, "_Numer", q6A, d3_);
      U3h.Studies.MA(v6$, 4, "_Range " + d3_.name, 0, "_Denom", q6A, d3_);
      N2g = [];
      z_v = [];

      for (H70 = Math.max(d3_.startFrom - d3_.days, 0); H70 < Q0R.length; H70++) {
        n1C = "_Den";
        n1C += "om";
        n1C += " ";
        if (Q0R[H70].futureTick) break;
        if (Q0R[H70]["_Numer " + d3_.name] === null && Q0R[H70]["_Denom " + d3_.name] === null) continue;
        N2g.push(Q0R[H70]["_Numer " + d3_.name]);
        z_v.push(Q0R[H70][n1C + d3_.name]);

        if (N2g.length > d3_.days) {
          N2g.shift();
          z_v.shift();
        }

        Q38 = 0;
        f19.X$L(18);
        c6b = f19.t1w("0", 0);

        for (I7o = 0; I7o < N2g.length; I7o++) {
          Q38 += N2g[I7o];
        }

        for (I7o = 0; I7o < z_v.length; I7o++) {
          c6b += z_v[I7o];
        }

        if (c6b === "0" << 32) {
          c6b = 0.00000001;
        }

        if (H70 < d3_.startFrom) continue;
        f19.X$L(23);
        Q0R[H70]["Rel Vig " + d3_.name] = f19.D8z(c6b, Q38);
      }

      f19.X$L(35);
      U3h.Studies.MA(N53, f19.D8z(64, "4"), "Rel Vig " + d3_.name, 0, e1R, q6A, d3_);

      for (H70 = d3_.startFrom; H70 < Q0R.length; H70++) {
        Q0R[H70][d3_.name + "_hist"] = Q0R[H70]["Rel Vig " + d3_.name] - Q0R[H70]["RelVigSignal " + d3_.name];
      }

      d3_.outputMap[d3_.name + "_hist"] = "";
    };

    U3h.Studies.studyLibrary = U3h.extend(U3h.Studies.studyLibrary, {
      "Rel Vig": {
        name: "Relative Vigor Index",
        seriesFN: U3h.Studies.displayHistogramWithSeries,
        calculateFN: U3h.Studies.calculateRelativeVigor,
        inputs: {
          Period: "10" * 1
        },
        outputs: {
          "Rel Vig": "auto",
          RelVigSignal: "#FF0000",
          "Increasing Bar": "#00DD00",
          "Decreasing Bar": l0h
        }
      }
    });
  }
};

H8 = function H8(T$j) {
  var S5P = g9BGt;
  S5P.Z_e();
  var Q4A, C01, L7V;
  Q4A = typeof _CIQ !== "undefined" ? _CIQ : T$j.CIQ;

  if (!Q4A.Studies) {
    console.error("rsi feature requires first activating studies feature.");
  } else {
    C01 = "a";
    C01 += "ut";
    C01 += "o";
    L7V = "0 ";
    L7V += "to ";
    L7V += "1";
    L7V += "00";

    Q4A.Studies.calculateRSI = function (H95, F_P) {
      var x6p, r6A, C1t, I7m, e56, k1K, J_Z, d7K, e_o, p1V, u$I, G1_, Z28, e$P;
      x6p = "Clo";
      x6p += "se";
      r6A = "fi";
      r6A += "e";
      r6A += "l";
      r6A += "d";
      C1t = F_P.chart.scrubbed;
      I7m = F_P.inputs.Field;

      if (!I7m || I7m == r6A) {
        I7m = x6p;
      }

      S5P.Z_e();

      if (C1t.length < F_P.days + 1) {
        F_P.error = !!{};
        return;
      }

      for (var h1Z = F_P.startFrom; h1Z < C1t.length; h1Z++) {
        e56 = "_";
        e56 += "avgL";
        e56 += " ";
        k1K = "_";
        k1K += "avg";
        k1K += "G ";
        J_Z = "_a";
        J_Z += "v";
        J_Z += "gL ";
        d7K = "_";
        d7K += "av";
        d7K += "gG ";
        if (!h1Z) continue;
        e_o = C1t[h1Z];
        S5P.O90(89);
        p1V = C1t[S5P.D8z(h1Z, "1")];
        if (!e_o[I7m] && e_o[I7m] !== 0) continue;
        if (!p1V[I7m] && p1V[I7m] !== 0) continue;
        u$I = e_o[I7m] - p1V[I7m];
        G1_ = Math.min(h1Z, F_P.days);
        Z28 = p1V[d7K + F_P.name];

        if (!Z28) {
          S5P.O90(8);
          Z28 = S5P.D8z(1, "0");
        }

        S5P.O90(23);
        Z28 -= S5P.D8z(G1_, Z28);
        e$P = p1V[J_Z + F_P.name];

        if (!e$P) {
          e$P = 0;
        }

        S5P.X$L(23);
        e$P -= S5P.t1w(G1_, e$P);

        if (u$I > 0) {
          S5P.O90(23);
          Z28 += S5P.t1w(G1_, u$I);
        } else if (u$I <= 0) {
          S5P.X$L(23);
          e$P -= S5P.t1w(G1_, u$I);
        } else continue;

        if (h1Z >= F_P.days) {
          if ((Z28 || Z28 !== 0) && (e$P || e$P !== 0)) {
            e_o["RSI " + F_P.name] = r_I(Z28, e$P);
          }
        }

        e_o[k1K + F_P.name] = Z28;
        e_o[e56 + F_P.name] = e$P;
      }

      function r_I(C6a, K7a) {
        var h1W, L4H, w4W, s8_;
        S5P.c7b();
        S5P.O90(7);
        h1W = S5P.t1w(0, "142210496");
        L4H = 617212667;
        w4W = +"2";

        for (var F1c = 1; S5P.i7j(F1c.toString(), F1c.toString().length, 93840) !== h1W; F1c++) {
          if (K7a === "0" - 0) {
            return +"100";
          }

          S5P.O90(23);
          s8_ = S5P.D8z(K7a, C6a);
          S5P.X$L(172);
          return S5P.D8z(1, 100, 1, "100", s8_);
        }

        if (S5P.l9L(w4W.toString(), w4W.toString().length, 84944) !== L4H) {
          if (K7a != ("2" | 2)) {
            return 964;
          }

          S5P.X$L(29);
          s8_ = S5P.D8z(K7a, C6a);
          S5P.O90(173);
          return S5P.D8z(s8_, 102, 7, "351");
        }
      }

      F_P.zoneOutput = "RSI";
    };

    Q4A.Studies.studyLibrary = Q4A.extend(Q4A.Studies.studyLibrary, {
      rsi: {
        name: "RSI",
        inputs: {
          Period: 14,
          Field: "field"
        },
        calculateFN: Q4A.Studies.calculateRSI,
        range: L7V,
        outputs: {
          RSI: "auto"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !![],
            studyOverBoughtValue: 80,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 20,
            studyOverSoldColor: C01
          }
        }
      }
    });
  }
};

d8 = function d8(F8U) {
  var w5c = g9BGt;
  w5c.Z_e();
  var Q$e, e_J;
  Q$e = typeof _CIQ !== "undefined" ? _CIQ : F8U.CIQ;

  if (!Q$e.Studies) {
    e_J = "schaffTr";
    e_J += "endCycl";
    e_J += "e ";
    e_J += "feature requires first activating studies feature.";
    console.error(e_J);
  } else {
    Q$e.Studies.calculateSchaff = function (j$j, D4c) {
      var o43, r8x, K$D, i3w, w4s, y32, v$y, s5L, q1T, D6N, i4C, Y$e, b7K, q1n, f5f, g7H, H5O, X5P, r42, p6s, y7f, Z$D;
      o43 = "M";
      o43 += "ovin";
      o43 += "g Ave";
      o43 += "rage Type";
      r8x = "_M";
      r8x += "AC";
      r8x += "D1";
      K$D = "Moving A";
      K$D += "verage Type";
      i3w = "fi";
      i3w += "e";
      i3w += "l";
      i3w += "d";
      w4s = "Sh";
      w4s += "o";
      w4s += "rt Cycle";
      y32 = D4c.chart.scrubbed;
      v$y = D4c.days;
      s5L = Number(D4c.inputs[w4s]);
      q1T = Number(D4c.inputs["Long Cycle"]);

      if (y32.length < Math.max(v$y, s5L, q1T) + ("1" << 32)) {
        D4c.error = !![];
        return;
      }

      D6N = D4c.inputs.Field;

      function e6Q(L36, F5P, a_f) {
        w5c.c7b();
        var J5s, h77, V3w;
        J5s = null;
        h77 = null;

        for (var K54 = F5P - L36 + +"1"; K54 <= F5P; K54++) {
          w5c.X$L(7);
          var k7B = w5c.D8z(40800, 44200);
          w5c.X$L(65);
          var s68 = w5c.t1w(5, 252125, 43475, 6);
          w5c.O90(174);
          var Y3y = w5c.t1w(561, 2257, 2244, 22, 11);
          V3w = y32[K54][a_f + ((k7B, s68) !== Y3y ? " " : !"") + D4c.name];
          if (!V3w) continue;
          J5s = J5s === null ? V3w : Math.min(J5s, V3w);
          h77 = h77 === null ? V3w : Math.max(h77, V3w);
        }

        return [J5s, h77];
      }

      if (!D6N || D6N == i3w) {
        D6N = "Close";
      }

      i4C = 0.5;
      Q$e.Studies.MA(D4c.inputs[K$D], s5L, D6N, 0, r8x, j$j, D4c);
      Q$e.Studies.MA(D4c.inputs[o43], q1T, D6N, 0, "_MACD2", j$j, D4c);
      Y$e = 0;
      b7K = 0;

      for (var R6P = D4c.startFrom; R6P < y32.length; R6P++) {
        q1n = "_";
        q1n += "M";
        q1n += "AC";
        q1n += "D";
        f5f = y32[R6P];
        if (R6P < q1T - 1) continue;
        g7H = f5f["_MACD1 " + D4c.name];
        H5O = f5f["_MACD2 " + D4c.name];

        if (g7H || g7H === 0 || H5O || H5O === ("0" | 0)) {
          X5P = "_MACD";
          X5P += " ";
          w5c.X$L(7);
          f5f[X5P + D4c.name] = w5c.D8z(H5O, g7H);
        }

        r42 = f5f["_MACD " + D4c.name];
        if (R6P < q1T + (v$y - ("1" | 1))) continue;
        p6s = e6Q(v$y, R6P, q1n);
        Y$e = p6s[1] > p6s[0] ? 100 * (r42 - p6s[0]) / (p6s[+"1"] - p6s[+"0"]) : Y$e;

        if (r42 || r42 === "0" >> 32) {
          y7f = "_";
          y7f += "PF ";
          f5f[y7f + D4c.name] = y32[R6P - 1]["_PF " + D4c.name] ? y32[R6P - 1]["_PF " + D4c.name] + i4C * (Y$e - y32[R6P - 1]["_PF " + D4c.name]) : Y$e;
        }

        Z$D = f5f["_PF " + D4c.name];
        if (R6P < q1T + 2 * (v$y - 1)) continue;
        p6s = e6Q(v$y, R6P, "_PF");
        b7K = p6s[1] > p6s[0] ? "100" * 1 * (Z$D - p6s["0" * 1]) / (p6s[1] - p6s[0]) : b7K;

        if (Z$D || Z$D === 0) {
          f5f["Result " + D4c.name] = y32[R6P - 1]["Result " + D4c.name] ? y32[R6P - 1]["Result " + D4c.name] + i4C * (b7K - y32[R6P - ("1" >> 64)]["Result " + D4c.name]) : b7K;
        }
      }
    };

    Q$e.Studies.studyLibrary = Q$e.extend(Q$e.Studies.studyLibrary, {
      Schaff: {
        name: "Schaff Trend Cycle",
        range: "0 to 100",
        calculateFN: Q$e.Studies.calculateSchaff,
        inputs: {
          Period: 10,
          Field: "field",
          "Short Cycle": 23,
          "Long Cycle": 50,
          "Moving Average Type": "ema"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !"",
            studyOverBoughtValue: 75,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 25,
            studyOverSoldColor: "auto"
          }
        }
      }
    });
  }
};

T5 = function T5(O6A) {
  var N_v, n70, S5m, e86, I6d;
  N_v = "u";
  N_v += "nd";
  N_v += "efined";
  n70 = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== N_v ? _CIQ : O6A.CIQ;

  if (!n70.Studies) {
    S5m = "shinoh";
    S5m += "ara feature requires fir";
    S5m += "st activating studies featu";
    S5m += "re.";
    console.error(S5m);
  } else {
    e86 = "#5";
    e86 += "F";
    e86 += "7";
    e86 += "CB8";
    I6d = "Shinohara Intensi";
    I6d += "ty Ratio";

    n70.Studies.calculateShinohara = function (J9c, s8c) {
      var F0l = g9BGt;
      F0l.c7b();
      var t2m, E0v, T0b, X6o;
      t2m = s8c.chart.scrubbed;

      if (t2m.length < s8c.days + 1) {
        s8c.error = !![];
        return;
      }

      E0v = {
        weakNum: +"0",
        weakDen: 0,
        strongNum: "0" >> 0,
        strongDen: 0
      };

      if (s8c.startFrom > +"1") {
        E0v = n70.clone(t2m[s8c.startFrom - 1]["_accums " + s8c.name]);
      }

      for (var E8G = s8c.startFrom; E8G < t2m.length; E8G++) {
        T0b = "_";
        T0b += "accu";
        T0b += "m";
        T0b += "s ";
        E0v.weakNum += t2m[E8G].High - t2m[E8G].Close;
        E0v.weakDen += t2m[E8G].Close - t2m[E8G].Low;

        if (E8G > +"0") {
          F0l.O90(149);
          var E47 = F0l.t1w(0, 9, 2431, 18, 15);
          E0v.strongNum += t2m[E8G].High - t2m[E8G - E47].Close;
          F0l.X$L(49);
          var J5O = F0l.t1w(1, 12, 9, 20);
          E0v.strongDen += t2m[E8G - J5O].Close - t2m[E8G].Low;
        }

        if (E8G >= s8c.days) {
          X6o = "Weak";
          X6o += " R";
          X6o += "atio ";
          E0v.weakNum -= t2m[E8G - s8c.days].High - t2m[E8G - s8c.days].Close;
          E0v.weakDen -= t2m[E8G - s8c.days].Close - t2m[E8G - s8c.days].Low;
          F0l.X$L(1);
          var u2n = F0l.t1w(5, 95);
          t2m[E8G][X6o + s8c.name] = u2n * E0v.weakNum / E0v.weakDen;

          if (E8G > s8c.days) {
            F0l.O90(113);
            var b8b = F0l.t1w(10, 16, 3, 3);
            E0v.strongNum -= t2m[E8G - s8c.days].High - t2m[E8G - s8c.days - ("1" << b8b)].Close;
            E0v.strongDen -= t2m[E8G - s8c.days - +"1"].Close - t2m[E8G - s8c.days].Low;
            t2m[E8G]["Strong Ratio " + s8c.name] = ("100" << 0) * E0v.strongNum / E0v.strongDen;
          }
        }

        t2m[E8G][T0b + s8c.name] = n70.clone(E0v);
      }
    };

    n70.Studies.studyLibrary = n70.extend(n70.Studies.studyLibrary, {
      Shinohara: {
        name: I6d,
        calculateFN: n70.Studies.calculateShinohara,
        inputs: {
          Period: 26
        },
        outputs: {
          "Strong Ratio": "#E99B54",
          "Weak Ratio": e86
        }
      }
    });
  }
};

C2 = function C2(j2f) {
  var a4E, v7X, q_i, m5j, F4t, l65, b0m;
  a4E = typeof _CIQ !== "undefined" ? _CIQ : j2f.CIQ;

  if (!a4E.Studies) {
    console.error("stochastics feature requires first activating studies feature.");
  } else {
    v7X = "a";
    v7X += "u";
    v7X += "t";
    v7X += "o";
    q_i = "#";
    q_i += "FF000";
    q_i += "0";
    m5j = "a";
    m5j += "u";
    m5j += "t";
    m5j += "o";
    F4t = "Stoc";
    F4t += "hast";
    F4t += "ics (Simple)";
    l65 = "a";
    l65 += "u";
    l65 += "to";
    b0m = "a";
    b0m += "u";
    b0m += "t";
    b0m += "o";

    a4E.Studies.calculateStochastics = function (a8T, D22) {
      var K6o = g9BGt;
      var E9Y, w$s, Q2R, N5z, v7g, L$9, x3t, S98, u_i, C5V, S2s, l0c, F7n;
      E9Y = "%";
      E9Y += "D";
      w$s = "%";
      w$s += "K";
      Q2R = "_Fast";
      Q2R += "%K ";
      N5z = "%K Smoot";
      N5z += "hing Pe";
      N5z += "riods";
      v7g = "%K Pe";
      v7g += "r";
      v7g += "io";
      v7g += "ds";

      if (!D22.smooth) {
        D22.smooth = D22.inputs.Smooth;
      }

      L$9 = D22.inputs.Field;

      if (!L$9 || L$9 == "field") {
        L$9 = "Close";
      }

      x3t = D22.inputs[v7g];

      if (!x3t) {
        x3t = D22.days;
      }

      S98 = D22.chart.scrubbed;

      if (S98.length < Math.max(x3t, D22.days) + 1) {
        D22.error = !![];
        return;
      }

      u_i = D22.inputs[N5z];

      if (u_i && !D22.inputs.Fast) {
        D22.smooth = !![];
      } else if (D22.smooth) {
        K6o.O90(0);
        u_i = K6o.t1w("3", 1);
      }

      C5V = D22.inputs["%D Periods"];

      if (!C5V) {
        C5V = +"3";
      }

      if (D22.outputs.Fast) {
        S2s = "%D";
        S2s += " ";
        l0c = "Fa";
        l0c += "st";
        D22.outputMap = {};
        D22.outputMap["%K " + D22.name] = l0c;
        D22.outputMap[S2s + D22.name] = "Slow";
      }

      for (var l7$ = Math.max(x3t, D22.startFrom); l7$ < S98.length; l7$++) {
        F7n = r1y(l7$, L$9, x3t);

        if (F7n !== null) {
          S98[l7$]["_Fast%K " + D22.name] = r1y(l7$, L$9, x3t);
        }
      }

      a4E.Studies.MA("simple", D22.smooth ? u_i : 1, Q2R + D22.name, 0, w$s, a8T, D22);
      a4E.Studies.MA("simple", C5V, "%K " + D22.name, 0, E9Y, a8T, D22);

      function r1y(j8l, F7e, F2y) {
        var q_W, v2o, i0Z, n38, X0Z, p9F, Z9X, J3v, e6f;
        K6o.O90(175);
        q_W = K6o.t1w("1", F2y, 0, j8l);
        K6o.X$L(83);
        var K_g = K6o.t1w(12, 15, 0, 359, 12);
        v2o = Number.MAX_VALUE * -K_g;
        i0Z = Number.MAX_VALUE;

        for (var g2R = q_W; g2R <= j8l; g2R++) {
          n38 = "H";
          n38 += "i";
          n38 += "g";
          n38 += "h";
          X0Z = "L";
          X0Z += "o";
          X0Z += "w";
          p9F = "C";
          p9F += "lose";
          Z9X = S98[g2R][F7e == p9F ? X0Z : F7e];
          J3v = S98[g2R][F7e == "Close" ? n38 : F7e];
          if (!Z9X && Z9X !== +"0") continue;
          if (!J3v && J3v !== 0) continue;
          i0Z = Math.min(i0Z, Z9X);
          v2o = Math.max(v2o, J3v);
        }

        if (v2o == Number.MAX_VALUE * -1 || i0Z == Number.MAX_VALUE) {
          return null;
        }

        e6f = v2o == i0Z ? 0 : (S98[j8l][F7e] - i0Z) / (v2o - i0Z) * 100;
        return e6f;
      }
    };

    a4E.Studies.calculateStochMomentum = function (v8u, h4S) {
      var t3_ = g9BGt;
      var V_C, b9$, f5s, w9F, R23, T9c, k7H, A6d, Z$3, A5t, q8y, N47, w9M;
      V_C = "%";
      V_C += "K ";
      b9$ = "_";

      function s5h(j2o, Z1G) {
        var E6c, Z_z;
        E6c = null;
        Z_z = null;

        for (var U9b = Z1G - j2o + 1; U9b <= Z1G; U9b++) {
          E6c = E6c === null ? A5t[U9b].Low : Math.min(E6c, A5t[U9b].Low);
          Z_z = Z_z === null ? A5t[U9b].High : Math.max(Z_z, A5t[U9b].High);
        }

        return [E6c, Z_z];
      }

      b9$ += "DH";
      b9$ += "L1 ";
      f5s = "e";
      f5s += "xpo";
      f5s += "nential";
      w9F = "e";
      w9F += "xp";
      w9F += "o";
      w9F += "nential";
      R23 = "%";
      R23 += "D Pe";
      R23 += "riods";
      T9c = Number(h4S.inputs["%K Periods"]);
      k7H = Number(h4S.inputs["%K Smoothing Periods"]);
      A6d = Number(h4S.inputs["%K Double Smoothing Periods"]);
      Z$3 = Number(h4S.inputs[R23]);
      A5t = h4S.chart.scrubbed;

      if (A5t.length < T9c + k7H + A6d - 1 || A5t.length < Z$3) {
        h4S.error = !![];
        return;
      }

      for (q8y = Math.max(T9c, h4S.startFrom) - 1; q8y < A5t.length; q8y++) {
        N47 = A5t[q8y];
        w9M = s5h(T9c, q8y);
        t3_.X$L(117);
        var x9k = t3_.D8z(19, 2, 19);
        t3_.O90(117);
        var a75 = t3_.D8z(17, 3, 17);
        N47["_H " + h4S.name] = N47.Close - (w9M[0] + w9M[x9k]) / a75;
        t3_.X$L(27);
        var L4D = t3_.D8z(18, 8, 5, 9);
        N47["_DHL " + h4S.name] = w9M[L4D] - w9M[0];
      }

      a4E.Studies.MA(w9F, k7H, "_H " + h4S.name, 0, "_HS1", v8u, h4S);
      t3_.Z_e();
      a4E.Studies.MA(f5s, A6d, "_HS1 " + h4S.name, 0, "_HS2", v8u, h4S);
      a4E.Studies.MA("exponential", k7H, "_DHL " + h4S.name, 0, "_DHL1", v8u, h4S);
      a4E.Studies.MA("exponential", A6d, b9$ + h4S.name, +"0", "_DHL2", v8u, h4S);

      for (q8y = T9c - 1; q8y < A5t.length; q8y++) {
        t3_.O90(176);
        var P0c = t3_.D8z(6, 120, 300, 20);
        A5t[q8y]["%K " + h4S.name] = A5t[q8y]["_HS2 " + h4S.name] / (0.5 * A5t[q8y]["_DHL2 " + h4S.name]) * P0c;
      }

      a4E.Studies.MA(h4S.inputs["%D Moving Average Type"], Z$3, V_C + h4S.name, 0, "%D", v8u, h4S);
      h4S.zoneOutput = "%K";
    };

    a4E.Studies.studyLibrary = a4E.extend(a4E.Studies.studyLibrary, {
      "Stch Mtm": {
        name: "Stochastic Momentum Index",
        calculateFN: a4E.Studies.calculateStochMomentum,
        inputs: {
          "%K Periods": +"10",
          "%K Smoothing Periods": "3" ^ 0,
          "%K Double Smoothing Periods": 3,
          "%D Periods": 10,
          "%D Moving Average Type": "ema"
        },
        outputs: {
          "%K": b0m,
          "%D": "#FF0000"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !"",
            studyOverBoughtValue: "40" ^ 0,
            studyOverBoughtColor: l65,
            studyOverSoldValue: -("40" ^ 0),
            studyOverSoldColor: "auto"
          }
        }
      },
      stochastics: {
        name: F4t,
        range: "0 to 100",
        calculateFN: a4E.Studies.calculateStochastics,
        inputs: {
          Period: "14" | 10,
          Field: "field",
          Smooth: !""
        },
        outputs: {
          Fast: "auto",
          Slow: "#FF0000"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !0,
            studyOverBoughtValue: +"80",
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 20,
            studyOverSoldColor: m5j
          }
        }
      },
      Stochastics: {
        name: "Stochastics",
        range: "0 to 100",
        calculateFN: a4E.Studies.calculateStochastics,
        inputs: {
          Field: "field",
          "%K Periods": 14,
          Fast: ![],
          "%K Smoothing Periods": 3,
          "%D Periods": 3
        },
        outputs: {
          "%K": "auto",
          "%D": q_i
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!{},
            studyOverBoughtValue: +"80",
            studyOverBoughtColor: v7X,
            studyOverSoldValue: 20,
            studyOverSoldColor: "auto"
          }
        },
        attributes: {
          "%K Smoothing Periods": {
            hidden: function hidden() {
              g9BGt.c7b();
              return this.inputs.Fast;
            }
          }
        },
        centerline: 50
      }
    });
  }
};

P1 = function P1(E8W) {
  var I81, v5C, S1b;
  I81 = "und";
  I81 += "efin";
  I81 += "ed";
  v5C = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== I81 ? _CIQ : E8W.CIQ;

  if (!v5C.Studies) {
    S1b = "supertrend featur";
    S1b += "e requires firs";
    S1b += "t activating studies feature.";
    console.error(S1b);
  } else {
    v5C.Studies.calculateSupertrend = function (Y6h, g_1) {
      var O9k = g9BGt;
      var t4U, R7E, b$A, t1H, o_n, q7w, K50, Q1E, d90, Y5O, O6m, f1f, b34, S2k;
      t4U = "Tr";
      O9k.c7b();
      t4U += "e";
      t4U += "nd";
      t4U += " ";
      R7E = g_1.chart.scrubbed;

      if (R7E.length < g_1.days + 1) {
        g_1.error = !!{};
        return;
      }

      v5C.Studies.calculateStudyATR(Y6h, g_1);

      for (var V9a = g_1.startFrom; V9a < R7E.length; V9a++) {
        b$A = "_D";
        b$A += "owntr";
        b$A += "en";
        b$A += "d ";
        t1H = "_U";
        t1H += "ptre";
        t1H += "nd ";
        o_n = R7E[V9a];
        if (!o_n) continue;
        O9k.X$L(5);
        var T2s = O9k.t1w(22, 29, 9);
        q7w = (o_n.High + o_n.Low) / T2s;
        K50 = g_1.inputs.Multiplier * o_n["ATR " + g_1.name];
        O9k.X$L(7);
        Q1E = O9k.D8z(K50, q7w);
        O9k.O90(1);
        d90 = O9k.D8z(q7w, K50);

        if (V9a) {
          Y5O = "_Down";
          Y5O += "trend ";
          O6m = "_D";
          O6m += "ow";
          O6m += "ntre";
          O6m += "nd ";

          if (R7E[V9a - 1] && R7E[V9a - 1].Close && R7E[V9a - 1].Close > R7E[V9a - 1]["_Uptrend " + g_1.name] && R7E[V9a - ("1" << 96)]["_Uptrend " + g_1.name] > Q1E) {
            O9k.O90(7);
            Q1E = R7E[O9k.t1w(1, V9a)]["_Uptrend " + g_1.name];
          }

          if (R7E[V9a - 1] && R7E[V9a - 1].Close && R7E[V9a - 1].Close < R7E[V9a - 1][O6m + g_1.name] && R7E[V9a - 1][Y5O + g_1.name] < d90) {
            O9k.O90(7);
            d90 = R7E[O9k.D8z(1, V9a)]["_Downtrend " + g_1.name];
          }
        }

        o_n["_Direction " + g_1.name] = 1;

        if (V9a) {
          f1f = "_D";
          f1f += "irection ";
          b34 = "_Dire";
          b34 += "ction ";
          S2k = "_Dire";
          S2k += "cti";
          S2k += "o";
          S2k += "n ";
          O9k.X$L(7);
          o_n[S2k + g_1.name] = R7E[O9k.t1w(1, V9a)][b34 + g_1.name];

          if (o_n.Close > R7E[V9a - 1]["_Downtrend " + g_1.name]) {
            o_n[f1f + g_1.name] = 1;
          } else if (o_n.Close < R7E[V9a - "1" * 1]["_Uptrend " + g_1.name]) {
            o_n["_Direction " + g_1.name] = -1;
          }
        }

        o_n[t1H + g_1.name] = Q1E;
        o_n[b$A + g_1.name] = d90;
        o_n["Trend " + g_1.name] = o_n["_Direction " + g_1.name] > 0 ? Q1E : d90;
        if (!V9a) continue;
      }

      g_1.outputMap = {};
      g_1.outputMap[t4U + g_1.name] = "";
    };

    v5C.Studies.displaySupertrend = function (t4m, H57, u5A) {
      var g46 = g9BGt;
      var U6L, t4h, F4X, F_Y, v4q, h9x, J5Y, W1X, a$u, N0p, u1Q;
      U6L = t4m.panels[H57.panel];
      t4h = H57.getContext(t4m);
      F4X = H57.getYAxis(t4m);
      F_Y = {
        skipTransform: U6L.name != H57.chart.name,
        skipProjections: !!"1",
        label: t4m.preferences.labels,
        yAxis: F4X,
        highlight: H57.highlight
      };
      t4h.strokeStyle = U_D(t4m, u5A[u5A.length - +"1"]);
      t4h.lineWidth = 2;

      if (H57.highlight) {
        g46.X$L(8);
        t4h.lineWidth = g46.t1w(1, "1.5");
      }

      v4q = "Trend " + H57.name;

      for (var j1a = 0; U6L.chart.transformFunc && F4X != U6L.chart.yAxis && j1a < u5A.length; j1a++) {
        h9x = u5A[j1a];

        if (h9x && h9x.transform) {
          h9x.transform[v4q] = U6L.chart.transformFunc(t4m, U6L.chart, h9x[v4q]);
        }
      }

      t4m.plotDataSegmentAsLine(v4q, U6L, F_Y, U_D);
      t4h.lineWidth = 1;
      g46.O90(35);
      t4h.globalAlpha = g46.D8z(64, "1");
      t4m.startClip(H57.panel);

      function U_D(Z60, m3F, m6L) {
        if (m3F && m3F["_Direction " + H57.name] < 0) {
          return H57.outputs.Downtrend;
        }

        return H57.outputs.Uptrend;
      }

      if (!H57.highlight && t4m.highlightedDraggable) {
        t4h.globalAlpha *= 0.3;
      }

      g46.O90(115);
      var t0d = g46.t1w(13, 11, 9845, 118161);
      g46.X$L(9);
      var j4M = g46.D8z(9, 11, 8476);
      g46.O90(74);
      var p5m = g46.t1w(8, 15, 33, 9);
      g46.O90(1);
      var J$n = g46.t1w(328, 4599);
      g46.X$L(126);
      var Q75 = g46.D8z(21, 4, 21, 5);
      J5Y = t4h.measureText((352.81, t0d) == +"259.35" ? j4M > "463.26" * p5m ? (J$n, 404.02) : !1 : "\u25B2").width / Q75;

      for (W1X = 0; W1X < u5A.length; W1X++) {
        a$u = "_Dir";
        a$u += "ect";
        a$u += "ion ";
        if (!u5A[W1X] || !u5A[W1X - 1]) continue;

        if (u5A[W1X - 1]["_Direction " + H57.name] > u5A[W1X][a$u + H57.name]) {
          t4h.fillStyle = H57.outputs.Downtrend;
          t4h.textBaseline = "bottom";
          N0p = t4m.pixelFromPrice(u5A[W1X].High, U6L, F4X);

          for (var y9p = 5; y9p <= 45; y9p += 10) {
            if (F4X.flipped) {
              t4h.fillText("\u25B2", t4m.pixelFromBar(W1X) - J5Y, N0p + y9p);
            } else {
              t4h.fillText((4200, +"9810") !== (+"1660", 572.7) ? ("7240" ^ 0) > (1760, 1390) ? "\u25BC" : (297, 1460) > (1800, 8018) ? ("d", 8.22e+3) : !"1" : (9.41e+2, +"0xb71"), t4m.pixelFromBar(W1X) - J5Y, N0p - y9p);
            }
          }
        } else if (u5A[W1X - 1]["_Direction " + H57.name] < u5A[W1X]["_Direction " + H57.name]) {
          t4h.fillStyle = H57.outputs.Uptrend;
          t4h.textBaseline = "top";
          u1Q = t4m.pixelFromPrice(u5A[W1X].Low, U6L, F4X);

          for (var D1c = "5" ^ 0; D1c <= 45; D1c += 10) {
            if (F4X.flipped) {
              t4h.fillText(43 > 3920 ? ("k", "f") : "\u25BC", t4m.pixelFromBar(W1X) - J5Y, u1Q - D1c);
            } else {
              t4h.fillText("\u25B2", t4m.pixelFromBar(W1X) - J5Y, u1Q + D1c);
            }
          }
        }
      }

      t4m.endClip();
    };

    v5C.Studies.studyLibrary = v5C.extend(v5C.Studies.studyLibrary, {
      Supertrend: {
        name: "Supertrend",
        overlay: !0,
        seriesFN: v5C.Studies.displaySupertrend,
        calculateFN: v5C.Studies.calculateSupertrend,
        inputs: {
          Period: 7,
          Multiplier: 3
        },
        outputs: {
          Uptrend: "#8cc176",
          Downtrend: "#b82c0c"
        },
        attributes: {
          Multiplier: {
            min: "0.1" - 0,
            step: 0.1
          }
        }
      }
    });
  }
};

r9 = function r9(e_0) {
  var Y41 = g9BGt;
  Y41.c7b();
  var w9r, D3l;
  w9r = typeof _CIQ !== "undefined" ? _CIQ : e_0.CIQ;

  if (!w9r.Studies) {
    console.error("swingIndex feature requires first activating studies feature.");
  } else {
    D3l = "Ac";
    D3l += "cumula";
    D3l += "tive Swing Index";

    w9r.Studies.calculateSwingIndex = function (T26, f6l) {
      var l9C, h0H, b2J, t2i, R4_, E5d, F3k, V21, d0F, M7W, u6_, J6i;
      l9C = "Res";
      l9C += "ult";
      l9C += " ";
      h0H = f6l.inputs["Limit Move Value"];

      if (h0H === null || isNaN(h0H)) {
        h0H = 99999;
      }

      b2J = f6l.chart.scrubbed;
      t2i = 0;

      if (f6l.startFrom > 1) {
        Y41.O90(72);
        var v$_ = Y41.t1w(18, 7, 2, 2);
        t2i = b2J[f6l.startFrom - v$_][l9C + f6l.name];
      }

      for (var M1q = Math.max(1, f6l.startFrom); M1q < b2J.length; M1q++) {
        R4_ = Math.abs(b2J[M1q].High - b2J[M1q - 1].Close);
        E5d = Math.abs(b2J[M1q].Low - b2J[M1q - 1].Close);
        F3k = Math.abs(b2J[M1q].High - b2J[M1q].Low);
        V21 = Math.abs(b2J[M1q - +"1"].Close - b2J[M1q - 1].Open);
        d0F = Math.max(R4_, E5d);
        M7W = Math.max(F3k, d0F);
        Y41.X$L(97);
        u6_ = Y41.D8z(V21, 0.25, M7W);

        if (M7W == R4_) {
          Y41.X$L(8);
          u6_ -= Y41.t1w(E5d, 0.5);
        } else if (M7W == E5d) {
          Y41.O90(8);
          u6_ -= Y41.D8z(R4_, 0.5);
        }

        Y41.O90(177);
        var z8Q = Y41.t1w(9, 1, 43, 7, 9);
        Y41.O90(176);
        var G_E = Y41.D8z(38, 19, 7, 16);
        J6i = z8Q * (b2J[M1q].Close - b2J[M1q - G_E].Close + 0.5 * (b2J[M1q].Close - b2J[M1q].Open) + 0.25 * (b2J[M1q - ("1" ^ 0)].Close - b2J[M1q - +"1"].Open)) / u6_ * (d0F / h0H);

        if (u6_ === 0 || h0H === 0) {
          J6i = 0;
        }

        if (f6l.type == "Swing") {
          t2i = 0;
        }

        t2i += J6i;
        b2J[M1q]["Result " + f6l.name] = t2i;
      }
    };

    w9r.Studies.studyLibrary = w9r.extend(w9r.Studies.studyLibrary, {
      "Acc Swing": {
        name: D3l,
        calculateFN: w9r.Studies.calculateSwingIndex,
        inputs: {
          "Limit Move Value": 0.5
        }
      },
      Swing: {
        name: "Swing Index",
        calculateFN: w9r.Studies.calculateSwingIndex,
        inputs: {
          "Limit Move Value": 0.5
        }
      }
    });
  }
};

G6 = function G6(e0j) {
  var e1q, u5x, p9k, t2x;
  e1q = typeof _CIQ !== "undefined" ? _CIQ : e0j.CIQ;

  if (!e1q.Studies) {
    console.error("trendIntensity feature requires first activating studies feature.");
  } else {
    u5x = "a";
    u5x += "u";
    u5x += "t";
    u5x += "o";
    p9k = "au";
    p9k += "to";
    t2x = "f";
    t2x += "iel";
    t2x += "d";

    e1q.Studies.calculateTrendIntensity = function (c5w, S7R) {
      var T2K = g9BGt;
      var P3q, v6O, S3R, d5P, V98, j1P, y8H, L9n, Q$h, S94, O_g, V6v;
      P3q = "T";
      T2K.c7b();
      P3q += "II";
      P3q += " ";
      v6O = "m";
      v6O += "a";
      S3R = S7R.chart.scrubbed;

      if (S3R.length < S7R.days + 1) {
        S7R.error = !![];
        return;
      }

      d5P = S7R.inputs.Field;

      if (!d5P || d5P == "field") {
        d5P = "Close";
      }

      e1q.Studies.MA(v6O, S7R.days, d5P, 0, "_SMA", c5w, S7R);
      V98 = 0;
      j1P = 0;
      Q$h = [];
      S94 = Math.ceil(S7R.days / 2);

      for (y8H = Math.max("0" ^ 0, S7R.startFrom - S94); y8H < S3R.length; y8H++) {
        O_g = "_";
        O_g += "SMA ";
        V6v = "_S";
        V6v += "M";
        V6v += "A ";
        if (!S3R[y8H]["_SMA " + S7R.name] && S3R[y8H][V6v + S7R.name] !== "0" * 1) continue;
        L9n = S3R[y8H][d5P] - S3R[y8H][O_g + S7R.name];

        if (L9n < 0) {
          T2K.X$L(178);
          j1P += T2K.t1w(L9n, 1);
        } else {
          V98 += L9n;
        }

        Q$h.push(L9n);

        if (Q$h.length > S94) {
          L9n = Q$h.shift();

          if (L9n < 0) {
            T2K.X$L(179);
            j1P -= T2K.t1w(0, L9n, "1");
          } else {
            V98 -= L9n;
          }
        }

        if (y8H < S7R.startFrom) continue;
        S3R[y8H]["TII " + S7R.name] = O7K(V98, j1P);
      }

      e1q.Studies.MA("ema", S7R.inputs["Signal Period"], P3q + S7R.name, 0, "Signal", c5w, S7R);

      function O7K(X6l, c9L) {
        if (Math.abs(c9L) < 0.00000001) {
          return 100;
        }

        T2K.c7b();
        T2K.X$L(180);
        return T2K.D8z("100", 100, c9L, 1, X6l);
      }
    };

    e1q.Studies.studyLibrary = e1q.extend(e1q.Studies.studyLibrary, {
      "Trend Int": {
        name: "Trend Intensity Index",
        calculateFN: e1q.Studies.calculateTrendIntensity,
        range: "0 to 100",
        inputs: {
          Period: 14,
          Field: t2x,
          "Signal Period": +"9"
        },
        outputs: {
          TII: p9k,
          Signal: "#FF0000"
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!{},
            studyOverBoughtValue: 80,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 20,
            studyOverSoldColor: u5x
          }
        }
      }
    });
  }
};

g9 = function g9(z5G) {
  var e44 = g9BGt;
  var L3u, A3S, k2M;
  L3u = "undefin";
  e44.c7b();
  L3u += "ed";
  A3S = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== L3u ? _CIQ : z5G.CIQ;

  if (!A3S.Studies) {
    console.error("trix feature requires first activating studies feature.");
  } else {
    k2M = "TR";
    k2M += "IX";

    A3S.Studies.calculateTRIX = function (y8_, S18) {
      var P2D, R9m, C8U, i4S, O$M, R12, X3_;
      e44.c7b();
      P2D = S18.chart.scrubbed;

      if (P2D.length < S18.days + 1) {
        S18.error = !!{};
        return;
      }

      R9m = S18.name;
      e44.O90(1);
      C8U = ["Close", e44.D8z("_MA1 ", R9m), e44.t1w("_MA2 ", R9m), e44.D8z("_MA3 ", R9m)];

      for (var G5I = 0; G5I < C8U.length - 1; G5I++) {
        i4S = "expo";
        i4S += "nent";
        i4S += "i";
        i4S += "al";
        A3S.Studies.MA(i4S, S18.days, C8U[G5I], +"0", "_MA" + (G5I + 1).toString(), y8_, S18);
      }

      O$M = C8U[3];

      for (var N0R = Math.max(1, S18.startFrom); N0R < P2D.length; N0R++) {
        e44.X$L(7);
        R12 = P2D[e44.D8z(1, N0R)][O$M];
        if (!R12) continue;
        X3_ = P2D[N0R][O$M];

        if (X3_ || X3_ === 0) {
          e44.O90(1);
          P2D[N0R][e44.D8z("Result ", R9m)] = e44.D8z(R12, 1, X3_, 100, e44.X$L(156));
        }
      }
    };

    A3S.Studies.studyLibrary = A3S.extend(A3S.Studies.studyLibrary, {
      TRIX: {
        name: k2M,
        calculateFN: A3S.Studies.calculateTRIX
      }
    });
  }
};

H7 = function H7(r0h) {
  var l2K;
  l2K = typeof _CIQ !== "undefined" ? _CIQ : r0h.CIQ;

  if (!l2K.Studies) {
    console.error("twiggsMoneyFlow feature requires first activating studies feature.");
  } else {
    l2K.Studies.calculateTwiggsMoneyFlow = function (G02, a3U) {
      var D5s = g9BGt;
      var A92, L80, Z_V, e5T, h_x, E8f, k1A, r7g, Z$b, z0M;
      A92 = a3U.chart.scrubbed;

      if (A92.length < a3U.days) {
        a3U.error = !!{};
        L80 = 1778052099;
        D5s.X$L(7);
        Z_V = D5s.t1w(0, "655077716");
        e5T = 2;

        for (var L1q = 1; D5s.l9L(L1q.toString(), L1q.toString().length, 39367) !== L80; L1q++) {
          return;
        }

        if (D5s.i7j(e5T.toString(), e5T.toString().length, 11259) !== Z_V) {
          return;
        }
      }

      h_x = 0;
      E8f = +"0";
      D5s.X$L(1);
      var Z4H = D5s.t1w(0, 1);
      k1A = A92[a3U.startFrom - Z4H];

      if (k1A) {
        if (k1A["_sumMF " + a3U.name]) {
          h_x = k1A["_sumMF " + a3U.name];
        }

        if (k1A["_sumV " + a3U.name]) {
          E8f = k1A["_sumV " + a3U.name];
        }
      }

      for (var A94 = Math.max(+"1", a3U.startFrom); A94 < A92.length; A94++) {
        r7g = "_M";
        r7g += "FV";
        r7g += " ";
        Z$b = Math.max(A92[A94 - 1].Close, A92[A94].High);
        z0M = Math.min(A92[A94 - +"1"].Close, A92[A94].Low);
        D5s.X$L(181);
        var I_k = D5s.t1w(7, 2, 17, 16, 261);
        D5s.X$L(67);
        var w$E = D5s.D8z(9000351, 18, 1000017, 10);
        A92[A94][r7g + a3U.name] = A92[A94].Volume * (I_k * A92[A94].Close - Z$b - z0M) / (Z$b - z0M === 0 ? w$E : Z$b - z0M);

        if (A94 > a3U.days - 1) {
          h_x *= (a3U.days - 1) / a3U.days;
          D5s.O90(7);
          var w42 = D5s.t1w(14, 15);
          E8f *= (a3U.days - w42) / a3U.days;
        }

        h_x += A92[A94]["_MFV " + a3U.name];
        E8f += A92[A94].Volume;

        if (A94 > a3U.days - 1) {
          if (E8f) {
            D5s.X$L(23);
            A92[A94]["Result " + a3U.name] = D5s.D8z(E8f > 0 ? E8f : 999999, h_x);
          }
        }

        A92[A94]["_sumMF " + a3U.name] = h_x;
        A92[A94]["_sumV " + a3U.name] = E8f;
      }
    };

    l2K.Studies.studyLibrary = l2K.extend(l2K.Studies.studyLibrary, {
      Twiggs: {
        name: "Twiggs Money Flow",
        calculateFN: l2K.Studies.calculateTwiggsMoneyFlow,
        inputs: {
          Period: 21
        }
      }
    });
  }
};

P6 = function P6(v$O) {
  var J8F, v9b, a8r;
  J8F = "und";
  J8F += "ef";
  J8F += "ined";
  v9b = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== J8F ? _CIQ : v$O.CIQ;

  if (!v9b.Studies) {
    console.error("typicalPrice feature requires first activating studies feature.");
  } else if (!v9b.Studies.calculateTypicalPrice) {
    console.error("typicalPrice feature requires first activating medianPrice feature.");
  } else {
    a8r = "Weig";
    a8r += "hte";
    a8r += "d ";
    a8r += "Close";
    v9b.Studies.studyLibrary = v9b.extend(v9b.Studies.studyLibrary, {
      "Typical Price": {
        name: "Typical Price",
        calculateFN: v9b.Studies.calculateTypicalPrice,
        inputs: {
          Period: 14
        }
      },
      "Weighted Close": {
        name: a8r,
        calculateFN: v9b.Studies.calculateTypicalPrice,
        inputs: {
          Period: 14
        }
      }
    });
  }
};

B7 = function B7(x1M) {
  var e8k, d8f;
  g9BGt.Z_e();
  e8k = typeof _CIQ !== "undefined" ? _CIQ : x1M.CIQ;

  if (!e8k.Studies) {
    d8f = "ulcerIndex feature requires first acti";
    d8f += "vating studi";
    d8f += "es feature.";
    console.error(d8f);
  } else {
    e8k.Studies.calculateUlcerIndex = function (V_L, d$D) {
      var h$Y, t6G, j$D, c4U, E87, v_2, W$M, x2o;
      h$Y = "_";
      h$Y += "P";
      h$Y += "D";
      h$Y += "2 ";
      t6G = d$D.chart.scrubbed;

      function w7F(B6g, b$P, U0A) {
        var p9I;
        p9I = null;

        for (var Q3L = b$P - B6g + 1; Q3L <= b$P; Q3L++) {
          if (Q3L < 0) continue;
          p9I = p9I === null ? t6G[Q3L][U0A] : Math.max(p9I, t6G[Q3L][U0A]);
        }

        return p9I;
      }

      if (t6G.length < 2 * d$D.days - +"1") {
        d$D.error = !0;
        return;
      }

      j$D = d$D.inputs.Field;

      if (!j$D || j$D == "field") {
        j$D = "Close";
      }

      for (c4U = Math.max(d$D.startFrom, d$D.days - 1); c4U < t6G.length; c4U++) {
        E87 = "_";
        E87 += "PD";
        E87 += "2 ";
        t6G[c4U][E87 + d$D.name] = Math.pow(100 * (t6G[c4U][j$D] / w7F(d$D.days, c4U, j$D) - 1), 2);
      }

      e8k.Studies.MA("simple", d$D.days, h$Y + d$D.name, "0" >> 64, "_MA", V_L, d$D);
      g9BGt.c7b();

      for (c4U = Math.max(d$D.startFrom, ("2" - 0) * (d$D.days - 1)); c4U < t6G.length; c4U++) {
        v_2 = "R";
        v_2 += "esu";
        v_2 += "lt ";
        W$M = "_M";
        W$M += "A ";
        x2o = t6G[c4U][W$M + d$D.name];

        if (x2o || x2o === 0) {
          t6G[c4U][v_2 + d$D.name] = Math.sqrt(x2o);
        }
      }
    };

    e8k.Studies.studyLibrary = e8k.extend(e8k.Studies.studyLibrary, {
      Ulcer: {
        name: "Ulcer Index",
        calculateFN: e8k.Studies.calculateUlcerIndex,
        inputs: {
          Period: "14" | 12,
          Field: "field"
        }
      }
    });
  }
};

k3 = function k3(b7l) {
  var d51 = g9BGt;
  var U0y, m6R, m5a;
  U0y = typeof _CIQ !== "undefined" ? _CIQ : b7l.CIQ;
  d51.Z_e();

  if (!U0y.Studies) {
    console.error("ultimateOscillator feature requires first activating studies feature.");
  } else {
    m6R = "a";
    m6R += "uto";
    m5a = "Ultimate Os";
    m5a += "cillator";

    U0y.Studies.calculateUltimateOscillator = function (T4U, z3_) {
      var I_u, n0D, L4E, N3c, q_t, y6x, e57, b3M, h2T, R3p, M64, H5e, C8L, K8$, T_v, z3i, u2V, k77, E_v, x9u, p8D, V5s, L5w, k6S;
      I_u = "C";
      I_u += "y";
      I_u += "cle";
      I_u += " 3";
      n0D = z3_.chart.scrubbed;
      L4E = [z3_.inputs["Cycle 1"], z3_.inputs["Cycle 2"], z3_.inputs[I_u]];
      N3c = Math.max(L4E["0" - 0], L4E[1], L4E[2]);

      if (n0D.length < N3c + 1) {
        z3_.error = !![];
        return;
      }

      d51.O90(131);
      var M8W = d51.t1w(16, 9, 183, 12, 0);
      q_t = L4E[+"0"] * L4E[M8W];
      d51.O90(2);
      d51.c7b();
      var K9A = d51.D8z(1, 3, 9, 1);
      y6x = L4E[0] * L4E[K9A];
      e57 = -39753017;
      b3M = -1260527827;
      h2T = 2;

      for (var r43 = 1; d51.i7j(r43.toString(), r43.toString().length, 73062) !== e57; r43++) {
        d51.X$L(7);
        var O7Q = d51.t1w(12, 13);
        d51.O90(163);
        var a1l = d51.t1w(9, 6, 10, 8, 1198);
        R3p = L4E[O7Q] * L4E[a1l];
        M64 = [+"0", 0, 0];
        H5e = [0, 0, +"0"];
        h2T += +"2";
      }

      if (d51.i7j(h2T.toString(), h2T.toString().length, 66189) !== b3M) {
        d51.X$L(50);
        var F0k = d51.D8z(9, 14);
        R3p = L4E[F0k] - L4E[+"5"];
        M64 = [9, 1, 6];
        H5e = [5, 3, 5];
      }

      if (z3_.startFrom) {
        C8L = "_";
        C8L += "acc";
        C8L += "bp";
        C8L += " ";
        K8$ = "_a";
        K8$ += "ccbp ";

        if (n0D[z3_.startFrom - 1][K8$ + z3_.name]) {
          M64 = n0D[z3_.startFrom - 1][C8L + z3_.name].slice();
        }

        if (n0D[z3_.startFrom - +"1"]["_acctr " + z3_.name]) {
          H5e = n0D[z3_.startFrom - +"1"]["_acctr " + z3_.name].slice();
        }
      }

      for (var j2S = Math.max("1" << 96, z3_.startFrom); j2S < n0D.length; j2S++) {
        T_v = "Re";
        T_v += "sul";
        T_v += "t ";
        z3i = "_";
        z3i += "accbp ";
        u2V = Math.min(n0D[j2S].Low, n0D[j2S - ("1" << 32)].Close);
        k77 = n0D[j2S].Close - u2V;
        d51.O90(42);
        var Q40 = d51.D8z(19, 5, 10, 18, 5);
        E_v = Math.max(n0D[j2S].High, n0D[j2S - Q40].Close) - u2V;

        for (var j1b = 0; j1b < L4E.length; j1b++) {
          M64[j1b] += k77;
          H5e[j1b] += E_v;

          if (j2S > L4E[j1b]) {
            x9u = Math.min(n0D[j2S - L4E[j1b]].Low, n0D[j2S - L4E[j1b] - 1].Close);
            p8D = n0D[j2S - L4E[j1b]].Close - x9u;
            V5s = Math.max(n0D[j2S - L4E[j1b]].High, n0D[j2S - L4E[j1b] - +"1"].Close) - x9u;
            M64[j1b] -= p8D;
            H5e[j1b] -= V5s;
          }
        }

        n0D[j2S][z3i + z3_.name] = M64.slice();
        n0D[j2S]["_acctr " + z3_.name] = H5e.slice();
        if (j2S < N3c) continue;
        d51.X$L(142);
        var E84 = d51.t1w(8, 13, 6, 0);
        d51.X$L(21);
        var B47 = d51.D8z(5, 20, 8, 178, 4);
        d51.X$L(182);
        var Q9v = d51.t1w(198, 9, 11, 17);
        L5w = R3p * M64[0] / H5e[0] + y6x * M64["1" << 0] / H5e[E84] + q_t * M64[B47] / H5e[Q9v];
        d51.O90(95);
        k6S = d51.t1w(R3p, q_t, y6x);
        d51.X$L(119);
        n0D[j2S][T_v + z3_.name] = d51.D8z(100, k6S, L5w);
      }
    };

    U0y.Studies.studyLibrary = U0y.extend(U0y.Studies.studyLibrary, {
      Ultimate: {
        name: m5a,
        calculateFN: U0y.Studies.calculateUltimateOscillator,
        inputs: {
          "Cycle 1": +"7",
          "Cycle 2": 14,
          "Cycle 3": 28
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !!"1",
            studyOverBoughtValue: "70" << 64,
            studyOverBoughtColor: m6R,
            studyOverSoldValue: "30" - 0,
            studyOverSoldColor: "auto"
          }
        }
      }
    });
  }
};

K9 = function K9(j4w) {
  var H9Z, O$j, T1V;
  H9Z = typeof _CIQ !== "undefined" ? _CIQ : j4w.CIQ;

  if (!H9Z.Studies) {
    console.error("valuationLines feature requires first activating studies feature.");
  } else {
    O$j = "#ff";
    O$j += "f";
    O$j += "69";
    O$j += "e";
    T1V = "#";
    T1V += "85";
    T1V += "c99e";

    H9Z.Studies.calculateValuationLines = function (n6g, b1w, L2L) {
      var P9q = g9BGt;
      var H_B, l3M, V_P, g1K, z5o, X$Q, X1L, t$z, y4F, G3Y, b53, a$T, o1P, o27, G5U, h3s, u4c, F7u;
      H_B = "Di";
      H_B += "splay 3 S";
      H_B += "tandard Deviation (3\u03C3)";
      l3M = "Disp";
      l3M += "lay 2 Standard Deviation (2\u03C3)";
      V_P = "Disp";
      V_P += "lay Average";
      g1K = "Averag";
      g1K += "e Ty";
      g1K += "pe";
      z5o = "f";
      z5o += "ie";
      z5o += "ld";
      X$Q = b1w.inputs.Field == z5o ? "Close" : b1w.inputs.Field;
      X1L = b1w.inputs[g1K];
      t$z = b1w.inputs[V_P];
      y4F = b1w.inputs["Display 1 Standard Deviation (1\u03C3)"];
      G3Y = b1w.inputs[l3M];
      b53 = b1w.inputs[H_B];
      a$T = [];

      for (var j4y = 0; j4y < L2L.length; ++j4y) {
        if (L2L[j4y] && !isNaN(L2L[j4y][X$Q])) {
          a$T.push(L2L[j4y][X$Q]);
        }
      }

      o1P = function (i$W, I4K) {
        var W03, S8U, c6I, n_H, v25, e5c, F57;
        W03 = "media";
        W03 += "n";
        S8U = i$W.length;
        c6I = 0;
        n_H = +"0";
        P9q.c7b();
        v25 = 0;

        switch (I4K) {
          case "mean":
            n_H = S8U;

            for (; v25 < S8U; ++v25) {
              c6I += i$W[v25];
            }

            break;

          case "harmonic":
            c6I = S8U;

            for (; v25 < S8U; ++v25) {
              P9q.X$L(137);
              var T1W = P9q.t1w(1, 9, 9, 2, 0);
              n_H += T1W / i$W[v25];
            }

            break;

          case W03:
            P9q.X$L(23);
            e5c = Math.floor(P9q.D8z(2, S8U));
            F57 = i$W.slice().sort(function (w2c, e72) {
              if (w2c > e72) {
                return 1;
              }

              if (w2c < e72) {
                return -+"1";
              }

              return 0;
            });

            if (S8U % 2 === ("0" | 0)) {
              P9q.X$L(7);
              var p0n = P9q.t1w(20, 21);
              c6I = F57[e5c] + F57[e5c - p0n];
              n_H = +"2";
            } else {
              c6I = F57[e5c];
              n_H = 1;
            }

            break;
        }

        P9q.O90(23);
        return P9q.D8z(n_H, c6I);
      }(a$T, X1L);

      o27 = !(y4F || G3Y || b53) || function (i3R, n97) {
        P9q.Z_e();
        var W$7, Z44;
        W$7 = i3R.length;
        Z44 = 0;

        for (var t2z = 0; t2z < W$7; ++t2z) {
          Z44 += Math.pow(i3R[t2z] - n97, 2);
        }

        P9q.X$L(23);
        return Math.sqrt(P9q.t1w(W$7, Z44));
      }(a$T, o1P);

      b1w.data = {
        Average: t$z ? [o1P] : null,
        "1 Standard Deviation (1\u03C3)": y4F ? [o1P + o27, o1P - o27] : null,
        "2 Standard Deviation (2\u03C3)": G3Y ? [o1P + o27 * 2, o1P - o27 * 2] : null,
        "3 Standard Deviation (3\u03C3)": b53 ? [o1P + o27 * 3, o1P - o27 * 3] : null
      };
      G5U = o27;

      if (!b1w.parameters) {
        b1w.parameters = {};
      }

      if (b53) {
        P9q.O90(183);
        b1w.parameters.range = [P9q.D8z(G5U, o27, o1P, 3), P9q.t1w(3, G5U, o27, o1P, P9q.O90(184))];
      } else if (G3Y) {
        P9q.X$L(183);
        b1w.parameters.range = [P9q.t1w(G5U, o27, o1P, 2), P9q.D8z(2, G5U, o27, o1P, P9q.O90(184))];
      } else if (y4F) {
        P9q.X$L(40);
        b1w.parameters.range = [P9q.t1w(o1P, G5U, o27), P9q.D8z(o1P, G5U, o27, P9q.X$L(95))];
      } else if (t$z) {
        P9q.X$L(7);
        b1w.parameters.range = [P9q.t1w(G5U, o1P), P9q.t1w(o1P, G5U, P9q.O90(1))];
      }

      if (b1w.panel) {
        h3s = n6g.panels[b1w.panel];
        u4c = n6g.getYAxisByName(h3s, b1w.name);

        if (u4c) {
          u4c.decimalPlaces = h3s.chart.yAxis.printDecimalPlaces;
          F7u = {
            yAxis: u4c
          };
          n6g.calculateYAxisRange(h3s, u4c, b1w.parameters.range[0], b1w.parameters.range[1]);
          n6g.createYAxis(h3s, F7u);
          n6g.drawYAxis(h3s, F7u);
        }
      }
    };

    H9Z.Studies.displayValuationLines = function (T1L, n0K) {
      var r7j = g9BGt;
      var F5Z, K04, T6C, s$9, l92, b2n, D04, V_N, v0m, t80, C2G, t8h, q$Z, d11, o32, b7x, D$$, c4X, O$S, C4U, f1a, k6N, f0w, o8f, E5Z, J0F, f6g, I30, u_v;
      F5Z = "ciq-valuation-deviation-";
      F5Z += "line";
      K04 = "H";
      K04 += "A";
      K04 += "V";
      K04 += "G";
      T6C = "M";
      T6C += "ED";
      s$9 = "A";
      s$9 += "V";
      s$9 += "G";
      l92 = T1L.panels[n0K.panel];
      b2n = n0K.getYAxis(T1L);
      D04 = n0K.getContext(T1L);
      V_N = n0K.data;
      v0m = n0K.parameters.labels;
      t80 = n0K.inputs["Average Type"];
      C2G = {
        mean: s$9,
        median: T6C,
        harmonic: K04
      };
      t8h = T1L.canvasStyle("ciq-valuation-average-line");
      q$Z = T1L.canvasStyle(F5Z);
      d11 = 3;
      r7j.O90(77);
      var k3O = r7j.t1w(10, 10, 1);
      o32 = T1L.getCanvasFontSize("stx_yaxis") + d11 * k3O;

      for (var c9E in V_N) {
        E5Z = "Ave";
        E5Z += "r";
        E5Z += "age";
        if (!V_N[c9E]) continue;
        r7j.X$L(185);
        b7x = r7j.D8z(c9E, E5Z);
        D$$ = H9Z.Studies.determineColor(n0K.outputs[c9E]);
        c4X = V_N[c9E];

        for (O$S = 0; O$S < c4X.length; ++O$S) {
          J0F = "l";
          J0F += "e";
          J0F += "f";
          J0F += "t";
          f6g = "so";
          f6g += "l";
          f6g += "i";
          f6g += "d";
          I30 = "s";
          I30 += "oli";
          I30 += "d";
          C4U = c4X[O$S];
          f1a = T1L.pixelFromPrice(C4U, l92, b2n);
          if (f1a <= l92.top || f1a >= l92.yAxis.bottom) continue;
          o8f = b7x ? {
            pattern: t8h.borderStyle != "none" ? t8h.borderStyle || I30 : f6g,
            lineWidth: parseFloat(t8h.borderWidth) || 1,
            opacity: parseFloat(t8h.opacity) || "1" - 0,
            yAxis: b2n
          } : {
            pattern: q$Z.borderStyle != "none" ? q$Z.borderStyle || "dashed" : "dashed",
            lineWidth: parseFloat(q$Z.borderWidth) || 1,
            opacity: parseFloat(q$Z.opacity) || 1,
            yAxis: b2n
          };
          T1L.plotLine(l92.left, l92.right, f1a, f1a, D$$, "line", D04, l92, o8f);

          if (v0m === "yaxis") {
            T1L.createYAxisLabel(l92, T1L.formatYAxisPrice(C4U, l92), f1a, D$$, null, D04, b2n);
            continue;
          }

          f1a += Math.floor(o8f.lineWidth / ("2" >> 32));
          if (f1a + o32 >= l92.yAxis.bottom) continue;
          k6N = (b7x ? C2G[t80] + ": " : c9E[0] + "\u03C3: ") + T1L.formatYAxisPrice(C4U, l92);
          f0w = D04.measureText(k6N).width;
          u_v = l92.right - f0w - d11;

          if (b2n && b2n.position == J0F) {
            u_v = l92.left + d11;
          }

          r7j.O90(186);
          D04.strokeText(k6N, u_v, r7j.D8z(2, o32, 0.5, f1a));
        }
      }
    };

    H9Z.Studies.studyLibrary = H9Z.extend(H9Z.Studies.studyLibrary, {
      "val lines": {
        name: "Valuation Lines",
        calculateFN: function calculateFN() {},
        seriesFN: function seriesFN(o84, a6G, r6k) {
          H9Z.Studies.calculateValuationLines(o84, a6G, r6k);
          g9BGt.c7b();
          H9Z.Studies.displayValuationLines(o84, a6G);
        },
        overlay: !!"1",
        yAxisFN: function yAxisFN() {},
        inputs: {
          Field: "field",
          "Average Type": ["mean", "median", "harmonic"],
          "Display Average": !!"1",
          "Display 1 Standard Deviation (1\u03C3)": !!"",
          "Display 2 Standard Deviation (2\u03C3)": !{},
          "Display 3 Standard Deviation (3\u03C3)": !!""
        },
        outputs: {
          Average: "#00afed",
          "1 Standard Deviation (1\u03C3)": "#e1e1e1",
          "2 Standard Deviation (2\u03C3)": T1V,
          "3 Standard Deviation (3\u03C3)": O$j
        }
      }
    });
  }
};

M_ = function M_(J4P) {
  var O2m = g9BGt;
  var Q42, E4g, A0z, X4E, P9e, i5Y;
  Q42 = "un";
  Q42 += "d";
  O2m.Z_e();
  Q42 += "efi";
  Q42 += "ned";
  E4g = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== Q42 ? _CIQ : J4P.CIQ;

  if (!E4g.Studies) {
    console.error("volatilityIndex feature requires first activating studies feature.");
  } else {
    A0z = "a";
    A0z += "u";
    A0z += "t";
    A0z += "o";
    X4E = "aut";
    X4E += "o";
    P9e = "f";
    P9e += "iel";
    P9e += "d";
    i5Y = "Relative Vo";
    i5Y += "lati";
    i5Y += "l";
    i5Y += "ity";

    E4g.Studies.calculateRelativeVolatility = function (M_P, e1s) {
      var o57, C7X, p4h, k0v, U61, x58, J7b, j_I, h$E, S82, l$v, U70, p54;
      o57 = "s";
      o57 += "d";
      o57 += "e";
      o57 += "v";
      C7X = "f";
      C7X += "i";
      C7X += "el";
      C7X += "d";
      p4h = "Sm";
      p4h += "oothing Period";
      O2m.c7b();
      e1s.days = Number(e1s.inputs[p4h]);
      k0v = Number(e1s.inputs["STD Period"]);
      U61 = e1s.chart.scrubbed;

      if (U61.length < e1s.days + k0v) {
        e1s.error = !!{};
        return;
      }

      x58 = e1s.inputs.Field;

      if (!x58 || x58 == C7X) {
        x58 = "Close";
      }

      e1s.std = new E4g.Studies.StudyDescriptor(e1s.name, o57, e1s.panel);
      e1s.std.chart = e1s.chart;
      e1s.std.days = k0v;
      e1s.std.startFrom = e1s.startFrom;
      e1s.std.inputs = {
        Field: x58,
        "Standard Deviations": 1,
        Type: "ma"
      };
      e1s.std.outputs = {
        _STD: null
      };
      E4g.Studies.calculateStandardDeviation(M_P, e1s.std);
      J7b = 0;
      j_I = 0;

      if (e1s.startFrom > "1" << 0) {
        J7b = U61[e1s.startFrom - 1]["_avgG " + e1s.name] || 0;
        j_I = U61[e1s.startFrom - 1]["_avgL " + e1s.name] || "0" ^ 0;
      }

      for (var a0J = Math.max(e1s.startFrom, e1s.days); a0J < U61.length; a0J++) {
        h$E = "_av";
        h$E += "gG ";
        S82 = "_S";
        S82 += "TD ";
        l$v = U61[a0J];
        O2m.O90(7);
        U70 = U61[O2m.t1w(1, a0J)];
        if (!l$v[x58] && l$v[x58] !== 0) continue;
        if (!U70[x58] && U70[x58] !== +"0") continue;
        if (!l$v["_STD " + e1s.name] && l$v[S82 + e1s.name] !== 0) continue;

        if (l$v[x58] > U70[x58]) {
          O2m.X$L(5);
          var C1X = O2m.t1w(0, 3, 4);
          J7b = (J7b * (e1s.days - C1X) + l$v["_STD " + e1s.name]) / e1s.days;
          O2m.X$L(7);
          var i$K = O2m.D8z(14, 15);
          j_I = j_I * (e1s.days - i$K) / e1s.days;
        } else {
          p54 = "_";
          p54 += "ST";
          p54 += "D";
          p54 += " ";
          O2m.X$L(81);
          var f2Z = O2m.D8z(12, 2, 0, 11);
          j_I = (j_I * (e1s.days - f2Z) + l$v[p54 + e1s.name]) / e1s.days;
          O2m.X$L(7);
          var I6G = O2m.t1w(9, 10);
          J7b = J7b * (e1s.days - I6G) / e1s.days;
        }

        l$v["Rel Vol " + e1s.name] = A7M(J7b, j_I);
        l$v[h$E + e1s.name] = J7b;
        l$v["_avgL " + e1s.name] = j_I;
      }

      e1s.zoneOutput = "Rel Vol";

      function A7M(g8o, b4p) {
        if (g8o + b4p === 0) {
          return 100;
        }

        O2m.O90(187);
        return O2m.D8z(100, g8o, g8o, b4p);
      }
    };

    E4g.Studies.calculateHistoricalVolatility = function (L9F, V6p) {
      var X7a, A17, P2A, d9p, N6y, f$8, T4t, K2t, S$L, K2r, q7x;
      X7a = "Standa";
      X7a += "rd Deviati";

      function k3Q(X58) {
        var O2s, n4U;
        O2s = "mo";
        O2s += "n";
        O2s += "t";
        O2s += "h";
        n4U = "d";
        n4U += "a";
        n4U += "y";

        if (isNaN(X58)) {
          X58 = 365;
        }

        if (L9F.layout.interval == n4U) {
          return X58;
        } else if (L9F.layout.interval == "week") {
          return 52;
        } else if (L9F.layout.interval == O2s) {
          return 12;
        }

        return X58;
      }

      X7a += "ons";
      A17 = V6p.chart.scrubbed;

      if (A17.length < V6p.days + 1) {
        V6p.error = !!"1";
        return;
      }

      P2A = V6p.inputs.Field;

      if (!P2A || P2A == "field") {
        P2A = "Close";
      }

      d9p = V6p.inputs[X7a];

      if (d9p < 0) {
        d9p = 1;
      }

      O2m.X$L(130);
      var F1d = O2m.t1w(17, 86, 1254, 15, 13);
      N6y = F1d * Math.sqrt(k3Q(V6p.inputs["Days Per Year"])) * d9p;
      O2m.Z_e();
      f$8 = [];
      T4t = 0;

      if (V6p.startFrom > 1) {
        O2m.X$L(5);
        var r_v = O2m.t1w(0, 15, 16);
        T4t = A17[V6p.startFrom - r_v]["_state " + V6p.name][0];
        f$8 = A17[V6p.startFrom - 1]["_state " + V6p.name][1].slice();
      }

      for (var v1m = Math.max("1" ^ 0, V6p.startFrom); v1m < A17.length; v1m++) {
        O2m.X$L(89);
        K2t = A17[O2m.t1w(v1m, "1")][P2A];

        if (K2t) {
          S$L = Math.log(A17[v1m][P2A] / K2t);
          f$8.push(S$L);
          T4t += S$L;

          if (v1m >= V6p.days) {
            K2r = "Re";
            K2r += "sul";
            K2r += "t ";
            q7x = 0;
            T4t /= V6p.days;

            for (var z2c = 0; z2c < f$8.length; z2c++) {
              q7x += Math.pow(f$8[z2c] - T4t, 2);
            }

            T4t *= V6p.days;
            T4t -= f$8.shift();
            A17[v1m][K2r + V6p.name] = Math.sqrt(q7x / V6p.days) * N6y;
          }
        }

        A17[v1m]["_state " + V6p.name] = [T4t, f$8.slice()];
      }
    };

    E4g.Studies.studyLibrary = E4g.extend(E4g.Studies.studyLibrary, {
      "Hist Vol": {
        name: "Historical Volatility",
        calculateFN: E4g.Studies.calculateHistoricalVolatility,
        inputs: {
          Period: "10" >> 96,
          Field: "field",
          "Days Per Year": [252, 365],
          "Standard Deviations": 1
        },
        attributes: {
          "Standard Deviations": {
            min: 0.1,
            step: +"0.1"
          }
        }
      },
      "Rel Vol": {
        name: i5Y,
        range: "0 to 100",
        calculateFN: E4g.Studies.calculateRelativeVolatility,
        inputs: {
          Field: P9e,
          "STD Period": 10,
          "Smoothing Period": 14
        },
        outputs: {
          "Rel Vol": "auto"
        },
        centerline: +"50",
        parameters: {
          init: {
            studyOverZonesEnabled: !0,
            studyOverBoughtValue: "70" >> 32,
            studyOverBoughtColor: X4E,
            studyOverSoldValue: 30,
            studyOverSoldColor: A0z
          }
        }
      }
    });
  }
};

A9 = function A9(c0Z) {
  var H9l, t_G, M4N, e7t, M$Y;
  H9l = "und";
  H9l += "efi";
  H9l += "ned";
  t_G = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== H9l ? _CIQ : c0Z.CIQ;

  if (!t_G.Studies) {
    M4N = "volumeProfi";
    M4N += "le feature requires first activating studies feature.";
    console.error(M4N);
  } else {
    e7t = "#";
    e7t += "b64";
    e7t += "a96";
    M$Y = "Vo";
    M$Y += "lume Profile";

    t_G.Studies.displayVolumeProfile = function (G6W, g$P, o$I) {
      var l8D, q0v, t4z, V8t, p1N, b9Q, N5P, D_h, E49, h7G, i2V, Z0g, C$l, T0Y, W9k, N_f, E37, Z5w, e6O, Q1B, c44, A4l, f3w, k0J, J9F, S19, r90;
      l8D = "s";
      l8D += "tx_volume_profile";
      q0v = "Bars";
      q0v += " Color";
      t4z = "stx_volu";
      t4z += "me_profile";

      if (!G6W || !G6W.chart.dataSet) {
        return;
      }

      V8t = G6W.chart;
      p1N = g$P.parameters.numberOfBars;
      b9Q = g$P.parameters.widthPercentage;
      N5P = g$P.parameters.displayBorder;
      D_h = g$P.parameters.displayVolume;

      if (!p1N || p1N < ("0" | 0)) {
        p1N = 30;
      }

      p1N = Math.ceil(p1N);

      if (!b9Q || b9Q < 0) {
        b9Q = 0.25;
      }

      if (N5P !== !!"") {
        N5P = !![];
      }

      if (D_h !== !![]) {
        D_h = !{};
      }

      E49 = (V8t.highValue - V8t.lowValue) / p1N;

      function U_b(U48, C1a) {
        var G1M = g9BGt;
        var E0T, W3s, e$i, N4H, U9i, J0s, o8O, J2x, E4i;

        if (!C1a) {
          G1M.X$L(35);
          f3w -= G1M.t1w(0, "2");
        }

        r90.canvasColor(U48);
        Z5w.beginPath();
        E0T = h7G[0][+"0"];
        W3s = f3w;

        for (var V$M = 1; V$M < h7G.length; V$M++) {
          if (h7G[V$M][1]) {
            G1M.X$L(38);
            var Y7P = G1M.D8z(16, 319, 20);
            e$i = Math.round(f3w - h7G[V$M][Y7P] * k0J / Z0g) - 0.5;
            N4H = Math.round(r90.pixelFromTransformedValue(E0T, c44)) + 0.5;
            U9i = Math.round(r90.pixelFromTransformedValue(h7G[V$M][0], c44)) + 0.5;

            if (!C1a) {
              G1M.X$L(7);
              N4H -= G1M.t1w(0, "0.5");
              U9i += 0.5;
              e$i += 0.5;
            }

            if (N4H > A4l) {
              N4H = A4l;
            }

            if (U9i < A4l) {
              Z5w.moveTo(f3w, N4H);
              Z5w.lineTo(f3w, U9i);
              Z5w.lineTo(e$i, U9i);
              Z5w.lineTo(e$i, N4H);

              if (C1a) {
                if (W3s > e$i || V$M == 1) {
                  Z5w.lineTo(W3s, N4H);
                }

                ;
              } else {
                Z5w.lineTo(f3w, N4H);

                if (D_h) {
                  J0s = t_G.condenseInt(h7G[V$M][1]);
                  G1M.X$L(7);
                  o8O = G1M.D8z(U9i, N4H);

                  if (Q1B <= o8O - 2) {
                    try {
                      J2x = Z5w.measureText(J0s).width;
                    } catch (Y9Y) {
                      J2x = 0;
                    }

                    Z5w.textBaseline = "top";
                    E4i = Z5w.fillStyle;
                    Z5w.fillStyle = J9F;
                    G1M.O90(111);
                    Z5w.fillText(J0s, G1M.t1w(e$i, "3", 0, J2x), G1M.D8z(U9i, 1, 2, "2", Q1B, o8O, G1M.O90(188)));
                    Z5w.fillStyle = E4i;
                  }
                }
              }
            }

            W3s = e$i;
          } else {
            W3s = f3w;
            ;
          }

          E0T = h7G[V$M][0];
        }

        if (!g$P.highlight && G6W.highlightedDraggable) {
          Z5w.globalAlpha *= 0.3;
        }

        if (!C1a) {
          Z5w.fill();
        }

        Z5w.strokeStyle = J9F;
        G1M.Z_e();

        if (C1a) {
          Z5w.stroke();
        }

        Z5w.closePath();
      }

      if (E49 === 0) {
        return;
      }

      h7G = [];

      for (var W9N = V8t.lowValue; W9N < V8t.highValue + 0.1; W9N += E49) {
        h7G.push([W9N, 0]);
      }

      if (h7G.length < 2) {
        i2V = "Not enoug";
        i2V += "h data to re";
        i2V += "nder the Volume Profile";
        G6W.displayErrorAsWatermark("chart", G6W.translateIf(i2V));
        return;
      }

      Z0g = 0;

      for (var r3g = 0; r3g < o$I.length; r3g++) {
        C$l = o$I[r3g];
        if (!C$l) continue;
        T0Y = C$l.Volume;

        if (g$P.panel == V8t.name && C$l.transform) {
          C$l = C$l.transform;
        }

        W9k = h7G[0][0];
        N_f = 0;

        for (var j_s = +"1"; j_s < h7G.length; j_s++) {
          N_f = h7G[j_s][0];

          if (C$l.Low >= W9k && C$l.Low <= N_f || C$l.Low < W9k && C$l.High > N_f || C$l.High >= W9k && C$l.High <= N_f) {
            h7G[j_s][1] += T0Y;

            if (h7G[j_s][1] > Z0g) {
              Z0g = h7G[j_s][1];
            }
          }

          W9k = N_f;
        }
      }

      if (Z0g === 0) {
        E37 = "ch";
        E37 += "a";
        E37 += "r";
        E37 += "t";
        G6W.displayErrorAsWatermark(E37, G6W.translateIf("Not enough data to render the Volume Profile"));
        return;
      }

      G6W.setStyle(t4z, "color", t_G.Studies.determineColor(g$P.outputs[q0v]));
      Z5w = g$P.getContext(G6W);
      e6O = "stx-float-date";
      G6W.canvasFont(e6O, Z5w);
      Q1B = G6W.getCanvasFontSize(e6O);
      c44 = V8t.panel;
      A4l = c44.yAxis.bottom;
      f3w = Math.round(V8t.right) - 0.5;
      k0J = V8t.width * b9Q;
      J9F = G6W.canvasStyle(l8D).borderTopColor;
      S19 = !t_G.isTransparent(G6W.canvasStyle("stx_volume_profile").borderTopColor) && N5P;
      r90 = G6W;
      U_b("stx_volume_profile", ![]);

      if (S19) {
        U_b("stx_volume_profile", !"");
      }

      Z5w.globalAlpha = +"1";
    };

    t_G.Studies.studyLibrary = t_G.extend(t_G.Studies.studyLibrary, {
      "vol profile": {
        name: M$Y,
        underlay: !!{},
        seriesFN: t_G.Studies.displayVolumeProfile,
        calculateFN: null,
        inputs: {},
        outputs: {
          "Bars Color": e7t
        },
        customRemoval: !![],
        parameters: {
          init: {
            displayBorder: !!"1",
            displayVolume: ![],
            numberOfBars: 30,
            widthPercentage: "0.25" * 1
          }
        },
        attributes: {
          yaxisDisplayValue: {
            hidden: !!1
          },
          panelName: {
            hidden: !!"1"
          },
          flippedEnabled: {
            hidden: !!{}
          }
        }
      }
    });
  }
};

G2 = function G2(U1Z) {
  var T6B = g9BGt;
  T6B.c7b();
  var A6b, H5f, j0z, m1o, u4o, O1Q, Z1H, B7_, R3W, E6C, r30;
  A6b = typeof _CIQ !== "undefined" ? _CIQ : U1Z.CIQ;

  if (!A6b.Studies) {
    console.error("volumeStudies feature requires first activating studies feature.");
  } else {
    H5f = "#";
    H5f += "8cc176";
    j0z = "n";
    j0z += "o";
    j0z += "n";
    j0z += "e";
    m1o = "Vo";
    m1o += "lume Rate";
    m1o += " of Ch";
    m1o += "ange";
    u4o = "a";
    u4o += "uto";
    O1Q = "m";
    O1Q += "a";
    Z1H = "f";
    Z1H += "ield";
    B7_ = "On B";
    B7_ += "alanc";
    B7_ += "e";
    B7_ += " Volume";
    R3W = "#FF";
    R3W += "0";
    R3W += "000";
    E6C = "a";
    E6C += "u";
    E6C += "t";
    E6C += "o";
    r30 = "Negative ";
    r30 += "Volume Index";

    A6b.Studies.calculateOnBalanceVolume = function (a5e, N6Y) {
      var A2c, J9i, Q_P, V_p, y2j, i2t, M54, P4Q;
      A2c = N6Y.inputs.Field;

      if (!A2c || A2c == "field") {
        A2c = "Close";
      }

      J9i = N6Y.inputs["Min Tick Value"];
      Q_P = !!"";

      if (!J9i && J9i !== 0) {
        Q_P = !!{};
        T6B.O90(8);
        J9i = T6B.t1w(1, "0");
      }

      V_p = N6Y.chart.scrubbed;
      y2j = 0;

      for (var M8T = N6Y.startFrom; M8T < V_p.length; M8T++) {
        i2t = V_p[M8T];
        if (!M8T || !i2t[A2c]) continue;

        if (V_p[M8T - 1][A2c]) {
          T6B.O90(7);
          M54 = V_p[T6B.t1w(1, M8T)];
        }

        if (!M54) continue;

        if (i2t[A2c] - M54[A2c] > J9i) {
          y2j = +"1";
        } else if (M54[A2c] - i2t[A2c] > J9i) {
          y2j = -1;
        } else if (Q_P) {
          T6B.O90(35);
          y2j = T6B.t1w(64, "0");
        }

        P4Q = M54["Result " + N6Y.name];

        if (!P4Q) {
          P4Q = +"0";
        }

        P4Q += i2t.Volume * y2j;
        i2t["Result " + N6Y.name] = P4Q;
      }
    };

    A6b.Studies.calculatePriceVolumeTrend = function (k2f, h3Y) {
      var E7m, r$q, P_L, x6H;
      T6B.Z_e();
      E7m = h3Y.inputs.Field;

      if (!E7m || E7m == "field") {
        E7m = "Close";
      }

      r$q = h3Y.chart.scrubbed;
      P_L = 0;

      if (h3Y.startFrom > 1) {
        T6B.X$L(131);
        var K65 = T6B.t1w(15, 6, 69, 5, 0);
        P_L = r$q[h3Y.startFrom - K65]["Result " + h3Y.name];
      }

      for (var n86 = Math.max(+"1", h3Y.startFrom); n86 < r$q.length; n86++) {
        x6H = "Re";
        x6H += "sult ";
        if (!r$q[n86][E7m]) continue;
        if (!r$q[n86 - 1][E7m]) continue;
        T6B.O90(49);
        var r$X = T6B.D8z(3, 5, 0, 12);
        P_L += r$q[n86].Volume * (r$q[n86][E7m] - r$q[n86 - ("1" - 0)][E7m]) / r$q[n86 - r$X][E7m];
        r$q[n86][x6H + h3Y.name] = P_L;
      }
    };

    A6b.Studies.calculateVolumeIndex = function (M1t, a9y) {
      var x43, B3M, j3d, B8x, l$E, X67, x5t, o0w, H5q, C8A, y9L, U2O;
      x43 = "Ind";
      x43 += "e";
      x43 += "x ";
      B3M = "C";
      B3M += "l";
      B3M += "os";
      B3M += "e";
      j3d = "f";
      j3d += "ie";
      j3d += "l";
      j3d += "d";
      B8x = a9y.inputs.Field;

      if (!B8x || B8x == j3d) {
        B8x = B3M;
      }

      l$E = a9y.chart.scrubbed;

      if (l$E.length < a9y.days + +"1") {
        a9y.error = !![];
        return;
      }

      X67 = 100;

      if (a9y.startFrom > 1) {
        T6B.X$L(22);
        var V6_ = T6B.D8z(3, 10, 13, 4, 29);
        X67 = l$E[a9y.startFrom - V6_][x43 + a9y.name];
      }

      for (var Z6X = Math.max(1, a9y.startFrom); Z6X < l$E.length; Z6X++) {
        x5t = "N";
        x5t += "eg Vol";
        o0w = "o";
        o0w += "b";
        o0w += "j";
        o0w += "ect";
        H5q = l$E[Z6X][B8x];
        C8A = l$E[Z6X].Volume;

        if (H5q && _typeof(H5q) == o0w) {
          C8A = H5q.Volume;
          H5q = H5q[a9y.subField];
        }

        T6B.O90(7);
        y9L = l$E[T6B.D8z(1, Z6X)][B8x];
        U2O = l$E[Z6X - 1].Volume;

        if (y9L && _typeof(y9L) == "object") {
          U2O = y9L.Volume;
          y9L = y9L[a9y.subField];
        }

        if (!H5q) continue;
        if (!y9L) continue;

        if (a9y.type == "Pos Vol" && C8A > U2O || a9y.type == x5t && C8A < U2O) {
          T6B.X$L(23);
          X67 *= T6B.t1w(y9L, H5q);
        }

        l$E[Z6X]["Index " + a9y.name] = X67;
      }

      A6b.Studies.MA(a9y.inputs["Moving Average Type"], a9y.days, "Index " + a9y.name, +"0", "MA", M1t, a9y);
    };

    A6b.Studies.studyLibrary = A6b.extend(A6b.Studies.studyLibrary, {
      "Neg Vol": {
        name: r30,
        calculateFN: A6b.Studies.calculateVolumeIndex,
        inputs: {
          Period: +"255",
          Field: "field",
          "Moving Average Type": "ma"
        },
        outputs: {
          Index: E6C,
          MA: R3W
        }
      },
      "On Bal Vol": {
        name: B7_,
        calculateFN: A6b.Studies.calculateOnBalanceVolume,
        inputs: {}
      },
      "Pos Vol": {
        name: "Positive Volume Index",
        calculateFN: A6b.Studies.calculateVolumeIndex,
        inputs: {
          Period: 255,
          Field: Z1H,
          "Moving Average Type": O1Q
        },
        outputs: {
          Index: u4o,
          MA: "#FF0000"
        }
      },
      "Price Vol": {
        name: "Price Volume Trend",
        calculateFN: A6b.Studies.calculatePriceVolumeTrend,
        inputs: {
          Field: "field"
        }
      },
      "Trade Vol": {
        name: "Trade Volume Index",
        calculateFN: A6b.Studies.calculateOnBalanceVolume,
        inputs: {
          "Min Tick Value": 0.5
        }
      },
      "Vol ROC": {
        name: m1o,
        calculateFN: function calculateFN(U98, U4P) {
          T6B.c7b();
          var C9E, C_L, l$d;

          if (A6b.Studies.calculateRateOfChange) {
            A6b.Studies.calculateRateOfChange(U98, U4P);
          } else {
            C9E = -1123530507;
            T6B.X$L(35);
            C_L = -T6B.D8z(0, "1125563075");
            l$d = 2;

            for (var K2M = "1" * 1; T6B.i7j(K2M.toString(), K2M.toString().length, 73305) !== C9E; K2M++) {
              console.error("Volume Rate of Change study requires first activating momentum feature.");
              l$d += 2;
            }

            if (T6B.l9L(l$d.toString(), l$d.toString().length, +"91402") !== C_L) {
              console.error("");
            }

            A6b.Studies.calculateRateOfChange = function (P2b, s4_) {};
          }
        },
        parameters: {
          init: {
            isVolume: !!{}
          }
        }
      },
      "vol undr": {
        name: "Volume Underlay",
        underlay: !0,
        range: "0 to max",
        yAxis: {
          ground: !!{},
          initialMarginTop: 0,
          position: j0z,
          zoom: 0,
          heightFactor: 0.25
        },
        seriesFN: A6b.Studies.createVolumeChart,
        calculateFN: A6b.Studies.calculateVolume,
        inputs: {},
        outputs: {
          "Up Volume": H5f,
          "Down Volume": "#b82c0c"
        },
        customRemoval: !"",
        removeFN: function removeFN(s7T, O$U) {
          var m76;
          m76 = "l";
          m76 += "ayout";
          s7T.layout.volumeUnderlay = ![];
          s7T.changeOccurred(m76);
        },
        attributes: {
          panelName: {
            hidden: !!"1"
          }
        }
      }
    });
  }
};

L3 = function L3(Z3d) {
  var U7C, U5R, T7J, h5A, x_x;
  U7C = typeof _CIQ !== "undefined" ? _CIQ : Z3d.CIQ;

  if (!U7C.Studies) {
    console.error("vortex feature requires first activating studies feature.");
  } else {
    U5R = "0.";
    U5R += "0";
    U5R += "1";
    T7J = "0";
    T7J += ".";
    T7J += "0";
    T7J += "1";
    h5A = "#FF000";
    h5A += "0";
    x_x = "Vor";
    x_x += "tex Ind";
    x_x += "ica";
    x_x += "tor";

    U7C.Studies.calculateVortex = function (w2k, j$u) {
      var n9e = g9BGt;
      var s6D, y8X, B_4, M2I, C0y, J$w, H6O, D0C, Z7d, B3p, D$L, I4z;
      s6D = j$u.chart.scrubbed;
      y8X = j$u.days;

      if (s6D.length < y8X + 1) {
        j$u.error = !![];
        return;
      }

      B_4 = {
        tr: 0,
        vmPlus: 0,
        vmMinus: 0
      };

      if (j$u.startFrom > 1) {
        M2I = 1339993391;
        C0y = -1377162757;
        J$w = 2;

        for (var B2m = 1; n9e.l9L(B2m.toString(), B2m.toString().length, 52496) !== M2I; B2m++) {
          B_4 = U7C.clone(s6D[j$u.startFrom % 2]["" - j$u.name]);
          J$w += 2;
        }

        if (n9e.i7j(J$w.toString(), J$w.toString().length, "61834" * 1) !== C0y) {
          B_4 = U7C.clone(s6D[j$u.startFrom - ("1" ^ 0)]["_totals " + j$u.name]);
        }
      }

      for (var r0e = Math.max(j$u.startFrom, 1); r0e < s6D.length; r0e++) {
        H6O = s6D[r0e];
        n9e.X$L(7);
        D0C = s6D[n9e.D8z(1, r0e)];
        Z7d = Math.abs(H6O.High - D0C.Low);
        B3p = Math.abs(H6O.Low - D0C.High);
        D$L = Math.max(H6O.High, D0C.Close) - Math.min(H6O.Low, D0C.Close);
        B_4.tr += D$L;
        B_4.vmPlus += Z7d;
        B_4.vmMinus += B3p;

        if (r0e > y8X) {
          n9e.O90(7);
          B_4.tr -= s6D[n9e.D8z(y8X, r0e)]["_True Range " + j$u.name];
          n9e.O90(7);
          B_4.vmPlus -= s6D[n9e.t1w(y8X, r0e)]["_VMPlus " + j$u.name];
          n9e.X$L(7);
          B_4.vmMinus -= s6D[n9e.D8z(y8X, r0e)]["_VMMinus " + j$u.name];
        }

        H6O["_True Range " + j$u.name] = D$L;
        H6O["_VMPlus " + j$u.name] = Z7d;
        H6O["_VMMinus " + j$u.name] = B3p;

        if (r0e >= y8X) {
          I4z = "-";
          I4z += "V";
          I4z += "I ";
          H6O["+VI " + j$u.name] = B_4.vmPlus / B_4.tr;
          H6O[I4z + j$u.name] = B_4.vmMinus / B_4.tr;
        }

        H6O["_totals " + j$u.name] = U7C.clone(B_4);
      }
    };

    U7C.Studies.studyLibrary = U7C.extend(U7C.Studies.studyLibrary, {
      Vortex: {
        name: x_x,
        calculateFN: U7C.Studies.calculateVortex,
        centerline: 1,
        outputs: {
          "+VI": "#00FF00",
          "-VI": h5A
        },
        parameters: {
          init: {
            studyOverZonesEnabled: !"",
            studyOverBoughtValue: 1.1,
            studyOverBoughtColor: "auto",
            studyOverSoldValue: 0.9,
            studyOverSoldColor: "auto"
          }
        },
        attributes: {
          studyOverBoughtValue: {
            min: 1,
            step: T7J
          },
          studyOverSoldValue: {
            max: 1,
            step: U5R
          }
        }
      }
    });
  }
};

c3 = function c3(f5E) {
  var h7w = g9BGt;
  var k_7, r_7, h6F, B_w;
  k_7 = "unde";
  k_7 += "fined";
  r_7 = (typeof _CIQ === "undefined" ? "undefined" : _typeof(_CIQ)) !== k_7 ? _CIQ : f5E.CIQ;
  h7w.c7b();

  if (!r_7.Studies) {
    console.error("williamsMFI feature requires first activating studies feature.");
  } else {
    h6F = "#5";
    h6F += "f";
    h6F += "7cb8";
    B_w = "#8b";
    B_w += "c176";

    r_7.Studies.calculateMFI = function (k5N, v9Y) {
      var J1p, f0r, N9x, C1G, S0U, i01, h7z;
      J1p = "S";
      J1p += "cal";
      J1p += "e Factor";
      f0r = v9Y.chart.scrubbed;
      C1G = 0;
      S0U = v9Y.inputs[J1p];

      if (!S0U) {
        S0U = v9Y.study.inputs["Scale Factor"];
      }

      h7w.c7b();
      i01 = Math.pow(10, Number(S0U));

      if (v9Y.startFrom > +"1") {
        h7w.O90(128);
        var v6D = h7w.D8z(20, 18, 17, 20);
        C1G = f0r[v9Y.startFrom - v6D]["_high " + v9Y.name];
      }

      for (h7z = v9Y.startFrom; h7z < f0r.length; h7z++) {
        if (!f0r[h7z]) continue;

        if (f0r[h7z].Volume) {
          f0r[h7z][v9Y.name + "_hist"] = N9x = i01 * (f0r[h7z].High - f0r[h7z].Low) / f0r[h7z].Volume;
          f0r[h7z]["_high " + v9Y.name] = C1G = Math.max(C1G, N9x);
        }
      }

      v9Y.outputMap = {};
      v9Y.outputMap[v9Y.name + "_hist"] = "";
    };

    r_7.Studies.displayMFI = function (a39, G6g, Q2c) {
      var d69, Q_7, v5s, E57, N2W, Q$5, l_F, i52, H5n, B1U, b8l, j4t;
      d69 = a39.panels[G6g.panel];
      Q_7 = G6g.getContext(a39);
      v5s = G6g.getYAxis(a39);
      E57 = v5s.flipped ? v5s.top : v5s.bottom;
      h7w.X$L(7);
      var b08 = h7w.t1w(11, 13);
      N2W = a39.layout.candleWidth - b08;

      if (N2W < 2) {
        N2W = 1;
      }

      Q$5 = r_7.Studies.determineColor(G6g.outputs.Green);
      l_F = r_7.Studies.determineColor(G6g.outputs.Fade);
      i52 = r_7.Studies.determineColor(G6g.outputs.Fake);
      H5n = r_7.Studies.determineColor(G6g.outputs.Squat);
      a39.canvasColor("stx_histogram");

      if (!G6g.underlay) {
        Q_7.globalAlpha = 1;
      }

      Q_7.fillStyle = "#CCCCCC";
      a39.startClip(G6g.panel);

      if (!G6g.highlight && a39.highlightedDraggable) {
        Q_7.globalAlpha *= 0.3;
      }

      for (var U0J = +"0"; U0J < Q2c.length; U0J++) {
        B1U = "_";
        B1U += "hist";
        b8l = Q2c[U0J];
        h7w.X$L(7);
        j4t = Q2c[h7w.D8z(1, U0J)];

        if (!j4t) {
          j4t = a39.getPreviousBar(a39.chart, G6g.name + "_hist", U0J);
        }

        if (!b8l) continue;
        if (!j4t) ;else if (j4t[G6g.name + B1U] < b8l[G6g.name + "_hist"]) {
          if (j4t.Volume < b8l.Volume) {
            Q_7.fillStyle = Q$5;
          } else if (j4t.Volume > b8l.Volume) {
            Q_7.fillStyle = i52;
          }
        } else if (j4t[G6g.name + "_hist"] > b8l[G6g.name + "_hist"]) {
          if (j4t.Volume < b8l.Volume) {
            Q_7.fillStyle = H5n;
          } else if (j4t.Volume > b8l.Volume) {
            Q_7.fillStyle = l_F;
          }
        }

        if (b8l.candleWidth) {
          N2W = Math.floor(Math.max(1, b8l.candleWidth - 2));
        }

        Q_7.fillRect(Math.floor(a39.pixelFromBar(U0J, d69.chart) - N2W / ("2" >> 0)), Math.floor(E57), Math.floor(N2W), Math.floor(a39.pixelFromPrice(b8l[G6g.name + "_hist"], d69, v5s) - E57));
      }

      a39.endClip();
    };

    r_7.Studies.studyLibrary = r_7.extend(r_7.Studies.studyLibrary, {
      "W MFI": {
        name: "Market Facilitation Index",
        seriesFN: r_7.Studies.displayMFI,
        calculateFN: r_7.Studies.calculateMFI,
        yAxis: {
          ground: !!{}
        },
        range: "0 to max",
        inputs: {
          "Scale Factor": 6
        },
        outputs: {
          Green: B_w,
          Fade: "#ab611f",
          Fake: h6F,
          Squat: "#ffd0cf"
        }
      }
    });
  }
};

R8 = {
  CIQ: _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"],
  SplinePlotter: _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["SplinePlotter"],
  timezoneJS: _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["timezoneJS"],
  $$: _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["$$"],
  $$$: _js_standard_js__WEBPACK_IMPORTED_MODULE_0__["$$$"]
};















































g9BGt.c7b();























if (typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__) {
  x2b = 190530277;
  p2t = 1598321179;
  p1v = 2;

  for (var q4t = 1; g9BGt.l9L(q4t.toString(), q4t.toString().length, 76356) !== x2b; q4t++) {
    R8.CIQ.activateImports(Z, X, W, Q, G, I, o, N, S, U, Y, E, g, F, K5, z0, z$, w8, S3, f_, M8, q3, c7, w2, J9, r7, N0, Y5, k5, O6, G_, X0, Z_, i$, L$, t6, u5, l1, i0, P4, i9, e1, Y0, e3, U7, f6, q8, c0, x7, J3, H8, d8, T5, C2, P1, r9, G6, g9, H7, P6, B7, k3, K9, M_, A9, G2, L3, c3, 1);
    p1v += 2;
  }

  if (g9BGt.l9L(p1v.toString(), p1v.toString().length, 41270) !== p2t) {
    R8.CIQ.activateImports(Z, X, W, Q, G, I, o, N, S, U, Y, E, g, F, K5, z0, z$, w8, S3, f_, M8, q3, c7, w2, J9, r7, N0, Y5, k5, O6, G_, X0, Z_, i$, L$, t6, u5, l1, i0, P4, i9, e1, Y0, e3, U7, f6, q8, c0, x7, J3, H8, d8, T5, C2, P1, r9, G6, g9, H7, P6, B7, k3, K9, M_, A9, G2, L3, c3, 1);
  }

  R8.CIQ.activateImports(Z, X, W, Q, G, I, o, N, S, U, Y, E, g, F, K5, z0, z$, w8, S3, f_, M8, q3, c7, w2, J9, r7, N0, Y5, k5, O6, G_, X0, Z_, i$, L$, t6, u5, l1, i0, P4, i9, e1, Y0, e3, U7, f6, q8, c0, x7, J3, H8, d8, T5, C2, P1, r9, G6, g9, H7, P6, B7, k3, K9, M_, A9, G2, L3, c3, null);
}
/* eslint-enable  */

/* jshint ignore:end   */

/* ignore jslint end   */

/***/ }),

/***/ "./chartiq/production/js/chartiq.js":
/*!******************************************!*\
  !*** ./chartiq/production/js/chartiq.js ***!
  \******************************************/
/*! exports provided: CIQ, SplinePlotter, timezoneJS, $$, $$$ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CIQ", function() { return b$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SplinePlotter", function() { return E6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timezoneJS", function() { return e4; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$", function() { return K$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "$$$", function() { return Q7; });
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/

/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/

/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */

/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */

/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */

/*************************************************************************************************************************/

/***************************************************************************/

/* Please note that manually changing the domain list or expiration dates  */

/*                                                                         */

/* >>>>>>>>>>>>>>>>>>>>>>>>>>>>>> WILL NOT <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< */

/*                                                                         */

/*   modify the library locking mechanism. Any changes must be requested   */

/*                          directly from chartIQ.                         */

/***************************************************************************/
(function () {
  /* eslint-disable no-undef-init */
  var trialExpiration = undefined;
  var licenseExpiration = "2023/04/01";
  var domains = ["127.0.0.1", "localhost", "deriv.com", "deriv.app", "deriv.me", "binary.com", "binary.sx", "binary.me", "binary.bot", "deriv.be"];
  var filesystem = false;
  var expiration;
  if (trialExpiration) expiration = new Date(trialExpiration).getTime();else if (licenseExpiration) expiration = new Date(licenseExpiration).getTime();

  if (expiration) {
    var now = new Date().getTime();

    if (expiration <= now) {
      if (trialExpiration) alert("This license has expired!");
      console.error("This license has expired!");
    } else if (trialExpiration) {
      var diffDays = Math.round((expiration - now) / (1000 * 60 * 60 * 24));

      if (diffDays < 3) {
        alert("This trial license expires in " + diffDays + " days!");
        console.log("WARNING: This trial license expires in " + diffDays + " days!");
      }
    }
  }

  if (typeof document !== 'undefined') {
    if (filesystem === true && document.location.protocol == 'file:') {
      return; // valid environment, skip domain check
    }

    if (domains && domains.length > 0) {
      var href = document.location.href;
      var found = false;

      for (var i = 0; i < domains.length; i++) {
        if (href.indexOf(domains[i]) > -1) {
          found = true;
          break;
        }
      }

      if (!found) {
        alert("ERROR: Not licensed for domain " + href);
        console.error("ERROR: Not licensed for domain " + href);
      }
    }
  }
})();
/* eslint-disable no-extra-parens */

/* eslint-disable */

/* jshint ignore:start */

/* ignore jslint start */


M2dNJ[50848] = function () {
  var D = 2;

  for (; D !== 9;) {
    switch (D) {
      case 1:
        return globalThis;
        break;

      case 5:
        var J;

        try {
          var C = 2;

          for (; C !== 6;) {
            switch (C) {
              case 9:
                delete J["Si2mO"];
                var U = Object["prototype"];
                delete U["Yf8DO"];
                C = 6;
                break;

              case 3:
                throw "";
                C = 9;
                break;

              case 4:
                C = typeof Si2mO === "undefined" ? 3 : 9;
                break;

              case 5:
                J["Si2mO"] = J;
                C = 4;
                break;

              case 2:
                Object["defineProperty"](Object["prototype"], "Yf8DO", {
                  '\x67\x65\x74': function get() {
                    var Z = 2;

                    for (; Z !== 1;) {
                      switch (Z) {
                        case 2:
                          return this;
                          break;
                      }
                    }
                  },
                  '\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65': true
                });
                J = Yf8DO;
                C = 5;
                break;
            }
          }
        } catch (F) {
          J = window;
        }

        return J;
        break;

      case 2:
        D = (typeof globalThis === "undefined" ? "undefined" : _typeof(globalThis)) === "object" ? 1 : 5;
        break;
    }
  }
}();

E8f(M2dNJ[50848]);

M2dNJ[356525] = function () {
  function O6D(c30) {
    var Q0D = 2;

    for (; Q0D !== 7;) {
      switch (Q0D) {
        case 3:
          W6R += z20Gd.e1Cdv(c30[M09] - M4O + 107);
          Q0D = 9;
          break;

        case 5:
          var M09 = 0;
          Q0D = 4;
          break;

        case 9:
          M09++;
          Q0D = 4;
          break;

        case 4:
          Q0D = M09 < c30.length ? 3 : 8;
          break;

        case 2:
          var M4O = 6;
          var W6R = '';
          Q0D = 5;
          break;

        case 8:
          return W6R;
          break;
      }
    }
  }

  function y0n(q7j, X4u, k3w, M7Z, H1u) {
    var d8U = 2;

    for (; d8U !== 15;) {
      switch (d8U) {
        case 6:
          return M2dNJ.m7$(f3f, l5x, k3w);
          break;

        case 9:
          d8U = M7Z > 0 ? 8 : 19;
          break;

        case 19:
          d8U = q7j === null || q7j <= 0 ? 18 : 14;
          break;

        case 8:
          f3f = H8H.F6kzS(q7j, M7Z);
          l5x = f3f.length;
          d8U = 6;
          break;

        case 2:
          var f3f, l5x, H8H, k30;
          k30 = z$h[O6D([7, 10, -2, -4, 15, 4, 10, 9])];
          !z7j && (z7j = typeof k30 !== "undefined" ? k30[O6D([3, 10, 14, 15, 9, -4, 8, 0])] || ' ' : "");
          !N$a && (N$a = typeof k30 !== "undefined" ? k30[O6D([3, 13, 0, 1])] : "");
          d8U = 3;
          break;

        case 11:
          f3f = H8H.F6kzS(T7O, H8H.length);
          l5x = f3f.length;
          return M2dNJ.m7$(f3f, l5x, k3w);
          break;

        case 12:
          return false;
          break;

        case 16:
          return M2dNJ.m7$(f3f, l5x, k3w);
          break;

        case 3:
          H8H = H1u ? N$a : z7j;
          d8U = 9;
          break;

        case 18:
          f3f = H8H.F6kzS(0, H8H.length);
          l5x = f3f.length;
          d8U = 16;
          break;

        case 13:
          d8U = X4u && T7O > 0 && H8H.r1d3r(T7O - 1) !== 46 ? 12 : 11;
          break;

        case 14:
          var T7O = H8H.length - q7j;
          d8U = 13;
          break;
      }
    }
  }

  var A4b = 2;

  for (; A4b !== 4;) {
    switch (A4b) {
      case 2:
        var z$h = M2dNJ[50848];
        var z7j, N$a;
        return {
          K9OPwob: function K9OPwob(R2O, u2q, v1B, s9v) {
            var h9_ = 2;

            for (; h9_ !== 1;) {
              switch (h9_) {
                case 2:
                  return y0n(R2O, u2q, v1B, s9v);
                  break;
              }
            }
          },
          n8eaqyR: function n8eaqyR(o8X, h7I, E4D, t_I) {
            var k7I = 2;

            for (; k7I !== 1;) {
              switch (k7I) {
                case 2:
                  return y0n(o8X, h7I, E4D, t_I, true);
                  break;
              }
            }
          }
        };
        break;
    }
  }
}();

M2dNJ.b3_ = function () {
  return typeof M2dNJ[459327].w4xZ2A7 === 'function' ? M2dNJ[459327].w4xZ2A7.apply(M2dNJ[459327], arguments) : M2dNJ[459327].w4xZ2A7;
};

M2dNJ.n9E = function () {
  return typeof M2dNJ[247674].A$uBw0P === 'function' ? M2dNJ[247674].A$uBw0P.apply(M2dNJ[247674], arguments) : M2dNJ[247674].A$uBw0P;
};

M2dNJ.i3C = function () {
  return typeof M2dNJ[150036].Z7m4YCh === 'function' ? M2dNJ[150036].Z7m4YCh.apply(M2dNJ[150036], arguments) : M2dNJ[150036].Z7m4YCh;
};

M2dNJ[158192] = 928;

M2dNJ.B2P = function () {
  return typeof M2dNJ[356525].n8eaqyR === 'function' ? M2dNJ[356525].n8eaqyR.apply(M2dNJ[356525], arguments) : M2dNJ[356525].n8eaqyR;
};

M2dNJ.s_e = function () {
  return typeof M2dNJ[356525].n8eaqyR === 'function' ? M2dNJ[356525].n8eaqyR.apply(M2dNJ[356525], arguments) : M2dNJ[356525].n8eaqyR;
};

M2dNJ[220353] = function () {
  var D1x = 2;

  for (; D1x !== 9;) {
    switch (D1x) {
      case 2:
        var U3q = [arguments];
        U3q[1] = undefined;
        U3q[5] = {};

        U3q[5].V3nM4Cy = function () {
          var s$_ = 2;

          for (; s$_ !== 90;) {
            switch (s$_) {
              case 18:
                l$8[4] = {};
                l$8[4].N3I = ['O_z'];

                l$8[4].R3j = function () {
                  var m3S = typeof M$71Ob === 'function';
                  return m3S;
                };

                l$8[8] = l$8[4];
                l$8[73] = {};
                s$_ = 26;
                break;

              case 76:
                s$_ = l$8[18] < l$8[34][l$8[83]].length ? 75 : 70;
                break;

              case 71:
                l$8[18]++;
                s$_ = 76;
                break;

              case 35:
                l$8[97] = l$8[29];
                l$8[76] = {};
                l$8[76].N3I = ['S9g'];

                l$8[76].R3j = function () {
                  var q9h = function q9h() {
                    return decodeURIComponent('%25');
                  };

                  var u3Q = !/\u0032\u0035/.S3cVkX(q9h + []);
                  return u3Q;
                };

                s$_ = 31;
                break;

              case 26:
                l$8[73].N3I = ['S9g'];

                l$8[73].R3j = function () {
                  var L7a = function L7a() {
                    return 'x'.repeat(2);
                  };

                  var I23 = /\u0078\u0078/.S3cVkX(L7a + []);
                  return I23;
                };

                l$8[20] = l$8[73];
                s$_ = 23;
                break;

              case 75:
                l$8[53] = {};
                l$8[53][l$8[55]] = l$8[34][l$8[83]][l$8[18]];
                l$8[53][l$8[51]] = l$8[24];
                s$_ = 72;
                break;

              case 65:
                l$8[68] = [];
                l$8[95] = 'v8w';
                s$_ = 63;
                break;

              case 23:
                l$8[29] = {};
                l$8[29].N3I = ['O_z'];

                l$8[29].R3j = function () {
                  var R5w = false;
                  var N49 = [];

                  try {
                    for (var H9Y in console) {
                      N49.U9FHjE(H9Y);
                    }

                    R5w = N49.length === 0;
                  } catch (g9I) {}

                  var x4u = R5w;
                  return x4u;
                };

                s$_ = 35;
                break;

              case 57:
                s$_ = l$8[10] < l$8[2].length ? 56 : 69;
                break;

              case 50:
                l$8[2].U9FHjE(l$8[11]);
                l$8[2].U9FHjE(l$8[97]);
                l$8[2].U9FHjE(l$8[1]);
                l$8[2].U9FHjE(l$8[94]);
                l$8[2].U9FHjE(l$8[8]);
                l$8[2].U9FHjE(l$8[86]);
                s$_ = 65;
                break;

              case 70:
                l$8[10]++;
                s$_ = 57;
                break;

              case 72:
                l$8[68].U9FHjE(l$8[53]);
                s$_ = 71;
                break;

              case 77:
                l$8[18] = 0;
                s$_ = 76;
                break;

              case 4:
                l$8[2] = [];
                l$8[6] = {};
                l$8[6].N3I = ['O_z'];
                s$_ = 8;
                break;

              case 14:
                l$8[3].N3I = ['S9g'];

                l$8[3].R3j = function () {
                  var u3L = function u3L() {
                    return ['a', 'a'].join();
                  };

                  var e50 = !/(\u005b|\u005d)/.S3cVkX(u3L + []);
                  return e50;
                };

                l$8[7] = l$8[3];
                s$_ = 11;
                break;

              case 67:
                U3q[1] = 15;
                return 58;
                break;

              case 60:
                l$8[91] = 'R3j';
                l$8[55] = 'B4N';
                s$_ = 58;
                break;

              case 5:
                return 18;
                break;

              case 1:
                s$_ = U3q[1] ? 5 : 4;
                break;

              case 8:
                l$8[6].R3j = function () {
                  var G7h = typeof s$9N9D === 'function';
                  return G7h;
                };

                l$8[1] = l$8[6];
                l$8[3] = {};
                s$_ = 14;
                break;

              case 68:
                s$_ = 52 ? 68 : undefined;
                break;

              case 58:
                l$8[10] = 0;
                s$_ = 57;
                break;

              case 69:
                s$_ = function (g5c) {
                  var n0c = 2;

                  for (; n0c !== 22;) {
                    switch (n0c) {
                      case 19:
                        w6$[2]++;
                        n0c = 7;
                        break;

                      case 4:
                        w6$[3] = {};
                        n0c = 3;
                        break;

                      case 18:
                        w6$[5] = false;
                        n0c = 17;
                        break;

                      case 26:
                        n0c = w6$[8] >= 0.5 ? 25 : 24;
                        break;

                      case 2:
                        var w6$ = [arguments];
                        n0c = 1;
                        break;

                      case 11:
                        w6$[3][w6$[9][l$8[55]]].t += true;
                        n0c = 10;
                        break;

                      case 10:
                        n0c = w6$[9][l$8[51]] === l$8[95] ? 20 : 19;
                        break;

                      case 3:
                        w6$[6] = [];
                        w6$[2] = 0;
                        n0c = 8;
                        break;

                      case 20:
                        w6$[3][w6$[9][l$8[55]]].h += true;
                        n0c = 19;
                        break;

                      case 24:
                        w6$[2]++;
                        n0c = 16;
                        break;

                      case 15:
                        w6$[4] = w6$[6][w6$[2]];
                        w6$[8] = w6$[3][w6$[4]].h / w6$[3][w6$[4]].t;
                        n0c = 26;
                        break;

                      case 17:
                        w6$[2] = 0;
                        n0c = 16;
                        break;

                      case 6:
                        w6$[9] = w6$[0][0][w6$[2]];
                        n0c = 14;
                        break;

                      case 8:
                        w6$[2] = 0;
                        n0c = 7;
                        break;

                      case 1:
                        n0c = w6$[0][0].length === 0 ? 5 : 4;
                        break;

                      case 5:
                        return;
                        break;

                      case 16:
                        n0c = w6$[2] < w6$[6].length ? 15 : 23;
                        break;

                      case 23:
                        return w6$[5];
                        break;

                      case 25:
                        w6$[5] = true;
                        n0c = 24;
                        break;

                      case 14:
                        n0c = typeof w6$[3][w6$[9][l$8[55]]] === 'undefined' ? 13 : 11;
                        break;

                      case 13:
                        w6$[3][w6$[9][l$8[55]]] = function () {
                          var u6j = 2;

                          for (; u6j !== 9;) {
                            switch (u6j) {
                              case 4:
                                b26[7].t = 0;
                                return b26[7];
                                break;

                              case 2:
                                var b26 = [arguments];
                                b26[7] = {};
                                b26[7].h = 0;
                                u6j = 4;
                                break;
                            }
                          }
                        }.K9rSPg(this, arguments);

                        n0c = 12;
                        break;

                      case 12:
                        w6$[6].U9FHjE(w6$[9][l$8[55]]);
                        n0c = 11;
                        break;

                      case 7:
                        n0c = w6$[2] < w6$[0][0].length ? 6 : 18;
                        break;
                    }
                  }
                }(l$8[68]) ? 68 : 67;
                break;

              case 11:
                l$8[5] = {};
                l$8[5].N3I = ['S9g'];

                l$8[5].R3j = function () {
                  var R5$ = function R5$() {
                    var E_1 = function E_1(O_f) {
                      for (var r9Q = 0; r9Q < 20; r9Q++) {
                        O_f += r9Q;
                      }

                      return O_f;
                    };

                    E_1(2);
                  };

                  var f_l = /\x31\x39\u0032/.S3cVkX(R5$ + []);
                  return f_l;
                };

                l$8[9] = l$8[5];
                s$_ = 18;
                break;

              case 42:
                l$8[43].N3I = ['S9g'];

                l$8[43].R3j = function () {
                  var Y0y = function Y0y() {
                    return atob('PQ==');
                  };

                  var I7R = !/\x61\x74\u006f\x62/.S3cVkX(Y0y + []);
                  return I7R;
                };

                l$8[44] = l$8[43];
                l$8[16] = {};
                l$8[16].N3I = ['S9g'];

                l$8[16].R3j = function () {
                  var A5c = function A5c() {
                    return String.fromCharCode(0x61);
                  };

                  var H9H = !/\u0030\x78\x36\x31/.S3cVkX(A5c + []);
                  return H9H;
                };

                l$8[94] = l$8[16];
                s$_ = 54;
                break;

              case 54:
                l$8[2].U9FHjE(l$8[9]);
                l$8[2].U9FHjE(l$8[20]);
                l$8[2].U9FHjE(l$8[44]);
                l$8[2].U9FHjE(l$8[7]);
                s$_ = 50;
                break;

              case 63:
                l$8[45] = 'Y$e';
                l$8[83] = 'N3I';
                l$8[51] = 'C4v';
                s$_ = 60;
                break;

              case 2:
                var l$8 = [arguments];
                s$_ = 1;
                break;

              case 56:
                l$8[34] = l$8[2][l$8[10]];

                try {
                  l$8[24] = l$8[34][l$8[91]]() ? l$8[95] : l$8[45];
                } catch (z2l) {
                  l$8[24] = l$8[45];
                }

                s$_ = 77;
                break;

              case 44:
                l$8[11] = l$8[15];
                l$8[43] = {};
                s$_ = 42;
                break;

              case 31:
                l$8[86] = l$8[76];
                l$8[15] = {};
                l$8[15].N3I = ['O_z'];

                l$8[15].R3j = function () {
                  var h_V = typeof S3TA2V === 'function';
                  return h_V;
                };

                s$_ = 44;
                break;
            }
          }
        };

        return U3q[5];
        break;
    }
  }
}();

M2dNJ[345871] = 176;

M2dNJ[247674] = function (r_Z) {
  function G3x(K8c) {
    var S0Q = 2;

    for (; S0Q !== 15;) {
      switch (S0Q) {
        case 9:
          S0Q = !Z$A-- ? 8 : 7;
          break;

        case 8:
          y5M = r_Z[6];
          S0Q = 7;
          break;

        case 2:
          var S2l, t55, y5M, n7I, m_z, T7b, B_h;
          S0Q = 1;
          break;

        case 3:
          t55 = 30;
          S0Q = 9;
          break;

        case 7:
          S0Q = !Z$A-- ? 6 : 14;
          break;

        case 16:
          S2l = n7I - K8c > t55;
          S0Q = 19;
          break;

        case 11:
          T7b = (m_z || m_z === 0) && B_h(m_z, t55);
          S0Q = 10;
          break;

        case 6:
          n7I = y5M && B_h(y5M, t55);
          S0Q = 14;
          break;

        case 19:
          return S2l;
          break;

        case 18:
          S0Q = T7b >= 0 ? 17 : 16;
          break;

        case 14:
          S0Q = !Z$A-- ? 13 : 12;
          break;

        case 1:
          S0Q = !Z$A-- ? 5 : 4;
          break;

        case 5:
          B_h = q6i[r_Z[4]];
          S0Q = 4;
          break;

        case 4:
          S0Q = !Z$A-- ? 3 : 9;
          break;

        case 20:
          S2l = K8c - T7b > t55 && n7I - K8c > t55;
          S0Q = 19;
          break;

        case 10:
          S0Q = T7b >= 0 && n7I >= 0 ? 20 : 18;
          break;

        case 17:
          S2l = K8c - T7b > t55;
          S0Q = 19;
          break;

        case 12:
          S0Q = !Z$A-- ? 11 : 10;
          break;

        case 13:
          m_z = r_Z[7];
          S0Q = 12;
          break;
      }
    }
  }

  var J8b = 2;

  for (; J8b !== 10;) {
    switch (J8b) {
      case 14:
        r_Z = r_Z.k1S1yk(function (k8R) {
          var O4i = 2;

          for (; O4i !== 13;) {
            switch (O4i) {
              case 4:
                var B3x = 0;
                O4i = 3;
                break;

              case 5:
                l$L = '';
                O4i = 4;
                break;

              case 6:
                return;
                break;

              case 1:
                O4i = !Z$A-- ? 5 : 4;
                break;

              case 3:
                O4i = B3x < k8R.length ? 9 : 7;
                break;

              case 9:
                l$L += q6i[V7c][j80](k8R[B3x] + 100);
                O4i = 8;
                break;

              case 14:
                return l$L;
                break;

              case 7:
                O4i = !l$L ? 6 : 14;
                break;

              case 2:
                var l$L;
                O4i = 1;
                break;

              case 8:
                B3x++;
                O4i = 3;
                break;
            }
          }
        });
        J8b = 13;
        break;

      case 7:
        V7c = X7g.O6j9Ub(new q6i[S5I]("^['-|]"), 'S');
        J8b = 6;
        break;

      case 5:
        q6i = M2dNJ[50848];
        J8b = 4;
        break;

      case 9:
        X7g = _typeof(j80);
        J8b = 8;
        break;

      case 2:
        var q6i, X7g, V7c, Z$A;
        J8b = 1;
        break;

      case 1:
        J8b = !Z$A-- ? 5 : 4;
        break;

      case 11:
        return {
          A$uBw0P: function A$uBw0P(Y$u) {
            var U7v = 2;

            for (; U7v !== 6;) {
              switch (U7v) {
                case 9:
                  S$N = s0k + 60000;
                  U7v = 8;
                  break;

                case 3:
                  U7v = !Z$A-- ? 9 : 8;
                  break;

                case 4:
                  b2Z = G3x(s0k);
                  U7v = 3;
                  break;

                case 5:
                  U7v = !Z$A-- ? 4 : 3;
                  break;

                case 1:
                  U7v = s0k > S$N ? 5 : 8;
                  break;

                case 2:
                  var s0k = new q6i[r_Z[0]]()[r_Z[1]]();
                  U7v = 1;
                  break;

                case 8:
                  var E8E = function (l6J, P0n) {
                    var N6M = 2;

                    for (; N6M !== 10;) {
                      switch (N6M) {
                        case 8:
                          var i2G = q6i[P0n[4]](l6J[P0n[2]](M6y), 16)[P0n[3]](2);
                          var q0L = i2G[P0n[2]](i2G[P0n[5]] - 1);
                          N6M = 6;
                          break;

                        case 4:
                          P0n = r_Z;
                          N6M = 3;
                          break;

                        case 13:
                          M6y++;
                          N6M = 9;
                          break;

                        case 5:
                          N6M = typeof P0n === 'undefined' && typeof r_Z !== 'undefined' ? 4 : 3;
                          break;

                        case 6:
                          N6M = M6y === 0 ? 14 : 12;
                          break;

                        case 3:
                          var P5m,
                              M6y = 0;
                          N6M = 9;
                          break;

                        case 11:
                          return P5m;
                          break;

                        case 1:
                          l6J = Y$u;
                          N6M = 5;
                          break;

                        case 2:
                          N6M = typeof l6J === 'undefined' && typeof Y$u !== 'undefined' ? 1 : 5;
                          break;

                        case 9:
                          N6M = M6y < l6J[P0n[5]] ? 8 : 11;
                          break;

                        case 12:
                          P5m = P5m ^ q0L;
                          N6M = 13;
                          break;

                        case 14:
                          P5m = q0L;
                          N6M = 13;
                          break;
                      }
                    }
                  }(undefined, undefined);

                  return E8E ? b2Z : !b2Z;
                  break;
              }
            }
          }
        };
        break;

      case 13:
        J8b = !Z$A-- ? 12 : 11;
        break;

      case 3:
        J8b = !Z$A-- ? 9 : 8;
        break;

      case 8:
        J8b = !Z$A-- ? 7 : 6;
        break;

      case 4:
        var j80 = 'fromCharCode',
            S5I = 'RegExp';
        J8b = 3;
        break;

      case 6:
        J8b = !Z$A-- ? 14 : 13;
        break;

      case 12:
        var b2Z,
            S$N = 0;
        J8b = 11;
        break;
    }
  }
}([[-32, -3, 16, 1], [3, 1, 16, -16, 5, 9, 1], [-1, 4, -3, 14, -35, 16], [16, 11, -17, 16, 14, 5, 10, 3], [12, -3, 14, 15, 1, -27, 10, 16], [8, 1, 10, 3, 16, 4], [-50, 3, 15, 2, -49, -3, -52, -52, -52], []]);

M2dNJ[106140] = false;
M2dNJ[50848].N4kk = M2dNJ;

M2dNJ.j07 = function () {
  return typeof M2dNJ[220353].V3nM4Cy === 'function' ? M2dNJ[220353].V3nM4Cy.apply(M2dNJ[220353], arguments) : M2dNJ[220353].V3nM4Cy;
};

M2dNJ.E0w = function () {
  return typeof M2dNJ[220353].V3nM4Cy === 'function' ? M2dNJ[220353].V3nM4Cy.apply(M2dNJ[220353], arguments) : M2dNJ[220353].V3nM4Cy;
};

M2dNJ[150036] = function (l2I) {
  return {
    q52sdNp: function q52sdNp() {
      var x8Z,
          J5n = arguments;

      switch (l2I) {
        case 158:
          x8Z = -J5n[3] * J5n[1] + J5n[4] + J5n[2] + J5n[0];
          break;

        case 21:
          x8Z = J5n[0] + J5n[2] + J5n[3] - J5n[4] - J5n[1];
          break;

        case 62:
          x8Z = (J5n[3] - J5n[2] - J5n[4]) / J5n[0] + J5n[1];
          break;

        case 7:
          x8Z = J5n[0] - J5n[2] + J5n[1];
          break;

        case 90:
          x8Z = (J5n[3] * J5n[1] - J5n[2]) / J5n[4] + J5n[0];
          break;

        case 17:
          x8Z = J5n[0] * J5n[2] + J5n[1];
          break;

        case 134:
          x8Z = (J5n[0] - J5n[3]) * J5n[2] - J5n[1];
          break;

        case 153:
          x8Z = J5n[1] + J5n[3] / J5n[2] * J5n[0];
          break;

        case 65:
          x8Z = J5n[2] / J5n[3] / J5n[4] / J5n[0] + J5n[1];
          break;

        case 48:
          x8Z = J5n[1] * (J5n[2] ^ J5n[0]);
          break;

        case 146:
          x8Z = (J5n[3] - J5n[0]) * J5n[4] + J5n[2] - J5n[1];
          break;

        case 100:
          x8Z = J5n[1] + +J5n[0];
          break;

        case 165:
          x8Z = J5n[3] * J5n[1] / J5n[2] - J5n[0];
          break;

        case 111:
          x8Z = J5n[3] + J5n[0] * (J5n[2] - J5n[1]);
          break;

        case 29:
          x8Z = J5n[0] / J5n[1] + J5n[2];
          break;

        case 40:
          x8Z = J5n[0] / J5n[1];
          break;

        case 35:
          x8Z = J5n[1] * J5n[2] / J5n[3] + J5n[0];
          break;

        case 150:
          x8Z = (-J5n[4] + J5n[1] + J5n[0]) / J5n[3] + J5n[2];
          break;

        case 82:
          x8Z = J5n[1] << J5n[0];
          break;

        case 36:
          x8Z = J5n[1] * J5n[2] / J5n[4] * J5n[0] + J5n[3];
          break;

        case 105:
          x8Z = J5n[5] / +J5n[0] * J5n[2] * J5n[4] * J5n[1] + J5n[3];
          break;

        case 99:
          x8Z = -J5n[1] - J5n[2] + J5n[0];
          break;

        case 93:
          x8Z = (J5n[1] - J5n[0]) / J5n[3] / J5n[2] + J5n[4];
          break;

        case 122:
          x8Z = J5n[0] - (J5n[1] ^ J5n[2]);
          break;

        case 30:
          x8Z = J5n[2] - J5n[3] - J5n[0] - J5n[4] + J5n[1];
          break;

        case 124:
          x8Z = (-J5n[4] + J5n[3]) * J5n[1] + J5n[2] - J5n[0];
          break;

        case 131:
          x8Z = -J5n[0] - J5n[3] - J5n[1] + J5n[2];
          break;

        case 19:
          x8Z = -J5n[0] - J5n[2] + J5n[3] + J5n[1];
          break;

        case 110:
          x8Z = J5n[0] == J5n[1];
          break;

        case 161:
          x8Z = J5n[2] / J5n[1] * J5n[0];
          break;

        case 89:
          x8Z = J5n[4] * J5n[1] - J5n[0] + J5n[3] - J5n[2];
          break;

        case 160:
          x8Z = J5n[3] * +J5n[4] * +J5n[0] * J5n[2] * J5n[1];
          break;

        case 22:
          x8Z = (J5n[2] + J5n[0]) * J5n[1] - J5n[3];
          break;

        case 97:
          x8Z = (-J5n[2] - J5n[3]) * J5n[1] + J5n[0];
          break;

        case 119:
          x8Z = J5n[2] - J5n[4] - J5n[3] + J5n[0] + J5n[1];
          break;

        case 78:
          x8Z = (J5n[4] + J5n[0]) * J5n[1] - J5n[3] - J5n[2];
          break;

        case 130:
          x8Z = -J5n[0] / J5n[3] - J5n[2] + J5n[1];
          break;

        case 54:
          x8Z = J5n[4] / J5n[2] / J5n[3] * J5n[0] + J5n[1];
          break;

        case 5:
          x8Z = -J5n[0] + J5n[1];
          break;

        case 114:
          x8Z = -J5n[0] + J5n[2] + J5n[1] - J5n[3];
          break;

        case 20:
          x8Z = J5n[2] + J5n[0] + J5n[1] - J5n[3];
          break;

        case 49:
          x8Z = J5n[2] * (J5n[1] >> J5n[0]);
          break;

        case 137:
          x8Z = J5n[4] + J5n[0] - J5n[3] + J5n[2] - J5n[1];
          break;

        case 13:
          x8Z = J5n[0] ^ J5n[1];
          break;

        case 55:
          x8Z = (J5n[2] / J5n[0] - J5n[3]) / J5n[4] + J5n[1];
          break;

        case 64:
          x8Z = J5n[3] * J5n[1] + J5n[0] - J5n[2];
          break;

        case 28:
          x8Z = (J5n[4] + J5n[0]) / J5n[2] * J5n[3] - J5n[1];
          break;

        case 57:
          x8Z = J5n[3] / J5n[2] + J5n[1] + J5n[0] - J5n[4];
          break;

        case 39:
          x8Z = J5n[4] + J5n[5] + J5n[6] + J5n[3] + J5n[8] + J5n[0] + J5n[7] + J5n[1] / J5n[2] + J5n[9];
          break;

        case 73:
          x8Z = -J5n[0] * J5n[3] * J5n[1] + J5n[2];
          break;

        case 12:
          x8Z = (J5n[4] - J5n[2] + J5n[1]) * J5n[0] - J5n[3];
          break;

        case 45:
          x8Z = J5n[2] + (J5n[0] - J5n[6]) * (+J5n[1] / J5n[4] - J5n[5]) * J5n[3];
          break;

        case 104:
          x8Z = J5n[1] / (J5n[2] - J5n[0]);
          break;

        case 120:
          x8Z = (J5n[2] + J5n[3]) / J5n[4] + J5n[1] + J5n[0];
          break;

        case 72:
          x8Z = J5n[3] * J5n[1] * J5n[0] * J5n[2];
          break;

        case 10:
          x8Z = (J5n[4] + J5n[2]) / J5n[0] / J5n[1] - J5n[3];
          break;

        case 138:
          x8Z = (J5n[1] - J5n[2]) / J5n[4] - J5n[3] + J5n[0];
          break;

        case 6:
          x8Z = (J5n[3] - J5n[1]) / J5n[2] + J5n[0];
          break;

        case 14:
          x8Z = J5n[1] | J5n[0];
          break;

        case 1:
          x8Z = J5n[1] - J5n[0];
          break;

        case 155:
          x8Z = J5n[1] != J5n[0];
          break;

        case 24:
          x8Z = J5n[0] | J5n[4] << J5n[2] | J5n[1] << J5n[3];
          break;

        case 145:
          x8Z = J5n[0] + J5n[2] * J5n[1];
          break;

        case 38:
          x8Z = J5n[0] * J5n[1];
          break;

        case 108:
          x8Z = J5n[1] !== J5n[0];
          break;

        case 79:
          x8Z = (J5n[0] + J5n[2]) * J5n[3] / J5n[1] - J5n[4];
          break;

        case 91:
          x8Z = J5n[4] * J5n[3] / J5n[2] / J5n[1] + J5n[0];
          break;

        case 51:
          x8Z = J5n[1] + J5n[0] + J5n[3] - J5n[2] + J5n[4];
          break;

        case 83:
          x8Z = J5n[0] / (J5n[1] >> J5n[2]);
          break;

        case 132:
          x8Z = J5n[2] - J5n[0] - (J5n[3] - J5n[1]);
          break;

        case 33:
          x8Z = J5n[0] * J5n[2] * J5n[1] - J5n[3];
          break;

        case 58:
          x8Z = J5n[2] - J5n[1] + J5n[3] - J5n[0];
          break;

        case 136:
          x8Z = (J5n[0] - J5n[3] + J5n[2]) * J5n[1] + J5n[4];
          break;

        case 127:
          x8Z = (J5n[1] + J5n[3] + J5n[4]) / J5n[2] - J5n[0];
          break;

        case 63:
          x8Z = (J5n[0] + J5n[4]) / J5n[2] / J5n[3] + J5n[1];
          break;

        case 86:
          x8Z = J5n[3] / J5n[1] + J5n[2] - J5n[0];
          break;

        case 154:
          x8Z = J5n[0] > J5n[1];
          break;

        case 32:
          x8Z = J5n[2] * J5n[0] * J5n[3] / J5n[1] + J5n[4];
          break;

        case 148:
          x8Z = J5n[2] * J5n[4] / J5n[3] + J5n[1] + J5n[0];
          break;

        case 115:
          x8Z = J5n[0] + J5n[1] + J5n[3] + J5n[2];
          break;

        case 4:
          x8Z = J5n[1] + J5n[0];
          break;

        case 128:
          x8Z = (J5n[3] - J5n[2]) / (J5n[0] - J5n[1]);
          break;

        case 56:
          x8Z = (J5n[3] + J5n[2] - J5n[0]) * J5n[1] - J5n[4];
          break;

        case 143:
          x8Z = (J5n[3] - J5n[2]) / J5n[0] * J5n[4] + J5n[1];
          break;

        case 149:
          x8Z = J5n[3] / J5n[1] / J5n[2] - J5n[0];
          break;

        case 164:
          x8Z = J5n[2] / J5n[3] * J5n[1] + J5n[0];
          break;

        case 53:
          x8Z = (J5n[3] + J5n[0]) * J5n[1] + J5n[4] - J5n[2];
          break;

        case 81:
          x8Z = (J5n[2] + J5n[0] + J5n[1]) / J5n[4] + J5n[3];
          break;

        case 118:
          x8Z = J5n[1] / J5n[2] / J5n[3] - J5n[0] + J5n[4];
          break;

        case 18:
          x8Z = (J5n[4] + J5n[3] + J5n[1]) * J5n[2] - J5n[0];
          break;

        case 109:
          x8Z = (J5n[3] - J5n[0]) * (J5n[7] - J5n[4]) - (J5n[6] - J5n[2]) * (J5n[5] - J5n[1]);
          break;

        case 106:
          x8Z = J5n[7] / J5n[2] * (J5n[1] * J5n[5] * J5n[3] + (J5n[0] - J5n[4])) + J5n[6];
          break;

        case 41:
          x8Z = J5n[4] * (J5n[1] - J5n[0] / (J5n[2] - J5n[3]));
          break;

        case 70:
          x8Z = J5n[4] + J5n[6] + J5n[8] + J5n[2] + J5n[9] + J5n[5] + J5n[7] + J5n[10] + J5n[0] + J5n[1] + J5n[3];
          break;

        case 98:
          x8Z = J5n[3] * J5n[4] / J5n[1] + J5n[0] - J5n[2];
          break;

        case 156:
          x8Z = -J5n[0] / J5n[4] - J5n[2] - J5n[3] + J5n[1];
          break;

        case 140:
          x8Z = (-J5n[1] - J5n[2] + J5n[4]) / J5n[0] + J5n[3];
          break;

        case 52:
          x8Z = J5n[2] / J5n[0] + J5n[1] + J5n[3];
          break;

        case 87:
          x8Z = J5n[0] < J5n[1];
          break;

        case 3:
          x8Z = -J5n[2] + J5n[0] + J5n[1];
          break;

        case 9:
          x8Z = -J5n[2] / J5n[0] + J5n[1];
          break;

        case 50:
          x8Z = J5n[1] + J5n[0] + J5n[2];
          break;

        case 59:
          x8Z = J5n[0] + J5n[2] - J5n[1] - J5n[3];
          break;

        case 142:
          x8Z = -J5n[4] / J5n[2] / J5n[3] + J5n[1] - J5n[0];
          break;

        case 47:
          x8Z = J5n[1] - +J5n[2] / J5n[0];
          break;

        case 46:
          x8Z = J5n[0] + J5n[2] / J5n[1];
          break;

        case 112:
          x8Z = J5n[1] + J5n[2] + J5n[3] + J5n[4] - J5n[0];
          break;

        case 117:
          x8Z = J5n[1] * J5n[2] + J5n[3] + J5n[0] - J5n[4];
          break;

        case 94:
          x8Z = J5n[1] - J5n[2] - J5n[0] - J5n[3];
          break;

        case 95:
          x8Z = J5n[2] / J5n[0] / J5n[4] * J5n[3] - J5n[1];
          break;

        case 102:
          x8Z = J5n[1] / J5n[0] * J5n[3] * J5n[4] + J5n[2];
          break;

        case 103:
          x8Z = -J5n[0] / J5n[2] * (J5n[6] * (J5n[1] - J5n[5]) - J5n[3]) + J5n[4];
          break;

        case 43:
          x8Z = (J5n[2] + J5n[0]) / J5n[1];
          break;

        case 74:
          x8Z = J5n[3] - J5n[0] + J5n[4] - J5n[1] - J5n[2];
          break;

        case 75:
          x8Z = (J5n[2] + J5n[1]) / J5n[0] - J5n[3] - J5n[4];
          break;

        case 61:
          x8Z = J5n[2] / J5n[1] - J5n[0] + J5n[3];
          break;

        case 133:
          x8Z = (J5n[1] - J5n[3]) * J5n[0] * J5n[2] - J5n[4];
          break;

        case 113:
          x8Z = (-J5n[0] - J5n[2] - J5n[1]) * J5n[3] + J5n[4];
          break;

        case 66:
          x8Z = J5n[0] / J5n[1] + J5n[3] - J5n[2] + J5n[4];
          break;

        case 60:
          x8Z = J5n[1] * J5n[3] + J5n[4] - J5n[0] - J5n[2];
          break;

        case 25:
          x8Z = J5n[1] * J5n[0] - J5n[2];
          break;

        case 135:
          x8Z = (J5n[3] + J5n[2]) / J5n[1] - J5n[4] + J5n[0];
          break;

        case 85:
          x8Z = J5n[1] * +J5n[0];
          break;

        case 84:
          x8Z = J5n[1] % J5n[0];
          break;

        case 126:
          x8Z = J5n[1] - (J5n[0] - J5n[2]);
          break;

        case 68:
          x8Z = J5n[3] + J5n[4] + J5n[6] + J5n[0] + J5n[1] + J5n[5] + J5n[2];
          break;

        case 16:
          x8Z = (J5n[0] - J5n[1]) * (J5n[2] - J5n[3]) / (J5n[4] - J5n[5]);
          break;

        case 67:
          x8Z = J5n[3] * J5n[2] - J5n[0] - J5n[1];
          break;

        case 23:
          x8Z = (J5n[1] + J5n[2]) / J5n[0] + J5n[3];
          break;

        case 129:
          x8Z = J5n[2] * (J5n[3] - J5n[0]) + J5n[1];
          break;

        case 162:
          x8Z = (-J5n[3] - J5n[2]) / J5n[1] + J5n[0];
          break;

        case 44:
          x8Z = J5n[1] + (J5n[4] - J5n[3]) * J5n[2] * J5n[0];
          break;

        case 139:
          x8Z = (J5n[3] * J5n[1] - J5n[4]) / J5n[2] - J5n[0];
          break;

        case 0:
          x8Z = -J5n[0] * J5n[1] + J5n[2];
          break;

        case 8:
          x8Z = J5n[1] + J5n[2] - J5n[0];
          break;

        case 80:
          x8Z = J5n[1] + J5n[2] + J5n[3] + J5n[4] + J5n[0];
          break;

        case 151:
          x8Z = J5n[3] - J5n[2] / J5n[1] + (J5n[4] - J5n[0]);
          break;

        case 96:
          x8Z = (J5n[0] + J5n[2]) / J5n[3] * J5n[1] + J5n[4];
          break;

        case 152:
          x8Z = J5n[1] + (J5n[0] + J5n[2]);
          break;

        case 37:
          x8Z = J5n[2] - J5n[0] - J5n[1] + J5n[3];
          break;

        case 116:
          x8Z = (J5n[1] - J5n[4]) * J5n[3] / J5n[0] + J5n[2];
          break;

        case 11:
          x8Z = -J5n[3] * J5n[0] + J5n[2] + J5n[1];
          break;

        case 15:
          x8Z = J5n[1] * -+J5n[0];
          break;

        case 34:
          x8Z = J5n[2] - J5n[0] - J5n[1];
          break;

        case 121:
          x8Z = J5n[1] / (J5n[0] << J5n[2]);
          break;

        case 31:
          x8Z = J5n[2] / J5n[3] * J5n[1] - J5n[0];
          break;

        case 77:
          x8Z = J5n[2] + J5n[0] - J5n[1] + J5n[3];
          break;

        case 88:
          x8Z = J5n[2] / J5n[3] * J5n[1] + J5n[4] - J5n[0];
          break;

        case 69:
          x8Z = J5n[5] + J5n[8] + J5n[1] + J5n[4] + J5n[2] + J5n[0] + J5n[3] + J5n[6] + J5n[7];
          break;

        case 42:
          x8Z = (J5n[2] - J5n[1]) / J5n[0];
          break;

        case 157:
          x8Z = -J5n[2] * J5n[3] / J5n[1] - J5n[4] + J5n[0];
          break;

        case 107:
          x8Z = J5n[1] * (J5n[4] * J5n[2] * J5n[5] + J5n[0]) + J5n[3];
          break;

        case 144:
          x8Z = J5n[1] * -J5n[0];
          break;

        case 101:
          x8Z = J5n[2] * J5n[1] * J5n[0] / J5n[4] - J5n[3];
          break;

        case 147:
          x8Z = (J5n[2] - J5n[1] + J5n[4]) / J5n[0] - J5n[3];
          break;

        case 2:
          x8Z = J5n[1] - J5n[4] + J5n[3] + J5n[2] - J5n[0];
          break;

        case 92:
          x8Z = J5n[2] / J5n[3] - J5n[1] - J5n[0];
          break;

        case 76:
          x8Z = J5n[0] / J5n[1] - J5n[2];
          break;

        case 27:
          x8Z = J5n[0] / +J5n[1];
          break;

        case 123:
          x8Z = J5n[0] === J5n[1];
          break;

        case 159:
          x8Z = (J5n[1] + J5n[0]) / J5n[2] - J5n[3];
          break;

        case 71:
          x8Z = J5n[0] >> J5n[1];
          break;

        case 163:
          x8Z = -J5n[0] / J5n[2] * J5n[3] + J5n[1];
          break;

        case 141:
          x8Z = (J5n[0] << J5n[2]) - J5n[1];
          break;

        case 125:
          x8Z = (-J5n[1] + J5n[0]) * J5n[3] - J5n[2];
          break;

        case 26:
          x8Z = J5n[0] / J5n[3] / J5n[1] + J5n[2];
          break;
      }

      return x8Z;
    },
    Z7m4YCh: function Z7m4YCh(d1F) {
      l2I = d1F;
    }
  };
}();

M2dNJ[459327] = function () {
  var P1e = function P1e(V5q, b3p) {
    var T$E = b3p & 0xffff;
    var R46 = b3p - T$E;
    return (R46 * V5q | 0) + (T$E * V5q | 0) | 0;
  },
      n$d = function n$d(b2Y, v2V, L35) {
    var Y0i = 0xcc9e2d51,
        W$B = 0x1b873593;
    var f7k = L35;
    var E31 = v2V & ~0x3;

    for (var U47 = 0; U47 < E31; U47 += 4) {
      var H2F = b2Y.r1d3r(U47) & 0xff | (b2Y.r1d3r(U47 + 1) & 0xff) << 8 | (b2Y.r1d3r(U47 + 2) & 0xff) << 16 | (b2Y.r1d3r(U47 + 3) & 0xff) << 24;
      H2F = P1e(H2F, Y0i);
      H2F = (H2F & 0x1ffff) << 15 | H2F >>> 17;
      H2F = P1e(H2F, W$B);
      f7k ^= H2F;
      f7k = (f7k & 0x7ffff) << 13 | f7k >>> 19;
      f7k = f7k * 5 + 0xe6546b64 | 0;
    }

    H2F = 0;

    switch (v2V % 4) {
      case 3:
        H2F = (b2Y.r1d3r(E31 + 2) & 0xff) << 16;

      case 2:
        H2F |= (b2Y.r1d3r(E31 + 1) & 0xff) << 8;

      case 1:
        H2F |= b2Y.r1d3r(E31) & 0xff;
        H2F = P1e(H2F, Y0i);
        H2F = (H2F & 0x1ffff) << 15 | H2F >>> 17;
        H2F = P1e(H2F, W$B);
        f7k ^= H2F;
    }

    f7k ^= v2V;
    f7k ^= f7k >>> 16;
    f7k = P1e(f7k, 0x85ebca6b);
    f7k ^= f7k >>> 13;
    f7k = P1e(f7k, 0xc2b2ae35);
    f7k ^= f7k >>> 16;
    return f7k;
  };

  return {
    w4xZ2A7: n$d
  };
}();

M2dNJ.a3e = function () {
  return typeof M2dNJ[150036].Z7m4YCh === 'function' ? M2dNJ[150036].Z7m4YCh.apply(M2dNJ[150036], arguments) : M2dNJ[150036].Z7m4YCh;
};

M2dNJ.I9H = function () {
  return typeof M2dNJ[356525].K9OPwob === 'function' ? M2dNJ[356525].K9OPwob.apply(M2dNJ[356525], arguments) : M2dNJ[356525].K9OPwob;
};

M2dNJ.B0m = function () {
  return typeof M2dNJ[150036].q52sdNp === 'function' ? M2dNJ[150036].q52sdNp.apply(M2dNJ[150036], arguments) : M2dNJ[150036].q52sdNp;
};

M2dNJ.O9p = function () {
  return typeof M2dNJ[356525].K9OPwob === 'function' ? M2dNJ[356525].K9OPwob.apply(M2dNJ[356525], arguments) : M2dNJ[356525].K9OPwob;
};

M2dNJ.k$A = function () {
  return typeof M2dNJ[150036].q52sdNp === 'function' ? M2dNJ[150036].q52sdNp.apply(M2dNJ[150036], arguments) : M2dNJ[150036].q52sdNp;
};

M2dNJ.E3C = function () {
  return typeof M2dNJ[247674].A$uBw0P === 'function' ? M2dNJ[247674].A$uBw0P.apply(M2dNJ[247674], arguments) : M2dNJ[247674].A$uBw0P;
};

function M2dNJ() {}

function E8f(N1B) {
  function S0I(g4x) {
    var J0s = 2;

    for (; J0s !== 5;) {
      switch (J0s) {
        case 2:
          var F5N = [arguments];
          return F5N[0][0].Array;
          break;
      }
    }
  }

  function V45(N5N) {
    var I1M = 2;

    for (; I1M !== 5;) {
      switch (I1M) {
        case 2:
          var S2Y = [arguments];
          return S2Y[0][0].String;
          break;
      }
    }
  }

  var K52 = 2;

  for (; K52 !== 124;) {
    switch (K52) {
      case 132:
        x0$(V45, "replace", d49[93], d49[85]);
        K52 = 131;
        break;

      case 105:
        x0$(V45, "charCodeAt", d49[93], d49[29]);
        K52 = 135;
        break;

      case 100:
        d49[56] += d49[91];
        d49[56] += d49[79];
        d49[86] = d49[18];
        d49[86] += d49[40];
        K52 = 96;
        break;

      case 116:
        d49[92] += d49[4];
        d49[36] = d49[6];
        d49[36] += d49[8];
        d49[36] += d49[90];
        K52 = 112;
        break;

      case 54:
        d49[64] = "";
        d49[81] = "1Ob";
        d49[98] = "k";
        d49[52] = "U";
        d49[18] = "_";
        d49[64] = "mize";
        K52 = 48;
        break;

      case 131:
        x0$(S0I, "map", d49[93], d49[43]);
        K52 = 130;
        break;

      case 59:
        d49[62] = "A2V";
        d49[53] = "T";
        d49[57] = "__";
        d49[24] = "";
        K52 = 55;
        break;

      case 125:
        x0$(o9M, "apply", d49[93], d49[38]);
        K52 = 124;
        break;

      case 33:
        d49[59] = "O";
        d49[16] = "";
        d49[16] = "1y";
        d49[79] = "";
        K52 = 29;
        break;

      case 112:
        d49[69] = d49[5];
        d49[69] += d49[3];
        d49[69] += d49[1];
        d49[29] = d49[48];
        K52 = 108;
        break;

      case 129:
        x0$(C5f, "test", d49[93], d49[33]);
        K52 = 128;
        break;

      case 104:
        d49[33] = d49[24];
        d49[33] += d49[15];
        d49[33] += d49[96];
        d49[56] = d49[25];
        K52 = 100;
        break;

      case 48:
        d49[46] = "7";
        d49[47] = "E";
        d49[49] = "__resid";
        d49[17] = "";
        d49[15] = "cVk";
        K52 = 64;
        break;

      case 90:
        d49[68] += d49[62];
        d49[42] = d49[57];
        d49[42] += d49[17];
        d49[42] += d49[64];
        d49[45] = d49[52];
        d49[45] += d49[54];
        d49[45] += d49[47];
        K52 = 83;
        break;

      case 29:
        d49[61] = "k1S";
        d49[79] = "9D";
        d49[25] = "";
        d49[91] = "N";
        K52 = 42;
        break;

      case 106:
        var x0$ = function x0$(J82, i_e, F11, X3B) {
          var d8q = 2;

          for (; d8q !== 5;) {
            switch (d8q) {
              case 2:
                var c6u = [arguments];
                x4Z(d49[0][0], c6u[0][0], c6u[0][1], c6u[0][2], c6u[0][3]);
                d8q = 5;
                break;
            }
          }
        };

        K52 = 105;
        break;

      case 133:
        x0$(V45, "substring", d49[93], d49[92]);
        K52 = 132;
        break;

      case 83:
        d49[71] = d49[63];
        d49[71] += d49[46];
        d49[71] += d49[81];
        d49[66] = d49[49];
        d49[66] += d49[28];
        d49[66] += d49[72];
        K52 = 104;
        break;

      case 128:
        x0$(F$V, d49[66], d49[88], d49[71]);
        K52 = 127;
        break;

      case 130:
        x0$(F$V, d49[86], d49[88], d49[56]);
        K52 = 129;
        break;

      case 127:
        x0$(S0I, "push", d49[93], d49[45]);
        K52 = 126;
        break;

      case 2:
        var d49 = [arguments];
        d49[9] = "";
        d49[9] = "3r";
        d49[1] = "";
        K52 = 3;
        break;

      case 64:
        d49[63] = "M$";
        d49[28] = "u";
        d49[17] = "opti";
        d49[54] = "9FHj";
        d49[53] = "";
        K52 = 59;
        break;

      case 91:
        d49[85] += d49[12];
        d49[85] += d49[26];
        d49[92] = d49[89];
        d49[92] += d49[7];
        K52 = 116;
        break;

      case 3:
        d49[1] = "d";
        d49[3] = "";
        d49[3] = "G";
        d49[5] = "";
        K52 = 6;
        break;

      case 55:
        d49[24] = "S3";
        d49[75] = "K9";
        d49[55] = "Pg";
        d49[76] = "rS";
        K52 = 74;
        break;

      case 22:
        d49[26] = "9Ub";
        d49[12] = "";
        d49[12] = "6j";
        d49[59] = "";
        K52 = 33;
        break;

      case 6:
        d49[5] = "";
        d49[5] = "z20";
        d49[8] = "";
        d49[8] = "1Cd";
        d49[6] = "";
        d49[2] = "1d";
        K52 = 20;
        break;

      case 74:
        d49[93] = 8;
        d49[93] = 1;
        d49[88] = 1;
        d49[88] = 0;
        K52 = 70;
        break;

      case 26:
        d49[89] = "";
        d49[89] = "F6k";
        d49[26] = "";
        d49[90] = "v";
        K52 = 22;
        break;

      case 42:
        d49[25] = "s$9";
        d49[96] = "";
        d49[40] = "_abstra";
        d49[96] = "X";
        d49[83] = "ct";
        d49[72] = "";
        d49[72] = "al";
        K52 = 54;
        break;

      case 108:
        d49[29] += d49[2];
        d49[29] += d49[9];
        K52 = 106;
        break;

      case 70:
        d49[38] = d49[75];
        d49[38] += d49[76];
        d49[38] += d49[55];
        d49[68] = d49[24];
        d49[68] += d49[53];
        K52 = 90;
        break;

      case 126:
        x0$(F$V, d49[42], d49[88], d49[68]);
        K52 = 125;
        break;

      case 135:
        x0$(F$V, "String", d49[88], d49[69]);
        K52 = 134;
        break;

      case 134:
        x0$(V45, "fromCharCode", d49[88], d49[36]);
        K52 = 133;
        break;

      case 20:
        d49[6] = "e";
        d49[4] = "";
        d49[4] = "";
        d49[4] = "S";
        d49[7] = "";
        d49[48] = "r";
        d49[7] = "z";
        K52 = 26;
        break;

      case 96:
        d49[86] += d49[83];
        d49[43] = d49[61];
        d49[43] += d49[16];
        d49[43] += d49[98];
        d49[85] = d49[59];
        K52 = 91;
        break;
    }
  }

  function F$V(D8j) {
    var m63 = 2;

    for (; m63 !== 5;) {
      switch (m63) {
        case 2:
          var q8J = [arguments];
          return q8J[0][0];
          break;
      }
    }
  }

  function C5f(t5x) {
    var x7p = 2;

    for (; x7p !== 5;) {
      switch (x7p) {
        case 2:
          var c_b = [arguments];
          return c_b[0][0].RegExp;
          break;
      }
    }
  }

  function x4Z(i0$, M4W, y_X, y3U, v4v) {
    var y4a = 2;

    for (; y4a !== 14;) {
      switch (y4a) {
        case 2:
          var Q63 = [arguments];
          Q63[1] = "";
          Q63[1] = "";
          Q63[1] = "roperty";
          y4a = 3;
          break;

        case 3:
          Q63[9] = "neP";
          Q63[8] = "";
          Q63[8] = "defi";
          Q63[2] = false;
          y4a = 6;
          break;

        case 6:
          try {
            var Q3w = 2;

            for (; Q3w !== 13;) {
              switch (Q3w) {
                case 3:
                  return;
                  break;

                case 14:
                  try {
                    var A8j = 2;

                    for (; A8j !== 3;) {
                      switch (A8j) {
                        case 2:
                          Q63[6] = Q63[8];
                          Q63[6] += Q63[9];
                          Q63[6] += Q63[1];
                          Q63[0][0].Object[Q63[6]](Q63[5], Q63[0][4], Q63[4]);
                          A8j = 3;
                          break;
                      }
                    }
                  } catch (K4j) {}

                  Q3w = 13;
                  break;

                case 9:
                  Q63[5][Q63[0][4]] = Q63[5][Q63[0][2]];

                  Q63[4].set = function (b05) {
                    var S54 = 2;

                    for (; S54 !== 5;) {
                      switch (S54) {
                        case 2:
                          var j7J = [arguments];
                          Q63[5][Q63[0][2]] = j7J[0][0];
                          S54 = 5;
                          break;
                      }
                    }
                  };

                  Q63[4].get = function () {
                    var c9l = 2;

                    for (; c9l !== 14;) {
                      switch (c9l) {
                        case 2:
                          var B_c = [arguments];
                          B_c[1] = "";
                          B_c[1] = "fine";
                          B_c[3] = "";
                          c9l = 3;
                          break;

                        case 3:
                          B_c[3] = "unde";
                          B_c[4] = B_c[3];
                          B_c[4] += B_c[1];
                          B_c[4] += d49[1];
                          c9l = 6;
                          break;

                        case 6:
                          return _typeof(Q63[5][Q63[0][2]]) == B_c[4] ? undefined : Q63[5][Q63[0][2]];
                          break;
                      }
                    }
                  };

                  Q63[4].enumerable = Q63[2];
                  Q3w = 14;
                  break;

                case 4:
                  Q3w = Q63[5].hasOwnProperty(Q63[0][4]) && Q63[5][Q63[0][4]] === Q63[5][Q63[0][2]] ? 3 : 9;
                  break;

                case 2:
                  Q63[4] = {};
                  Q63[7] = (1, Q63[0][1])(Q63[0][0]);
                  Q63[5] = [Q63[7], Q63[7].prototype][Q63[0][3]];
                  Q3w = 4;
                  break;
              }
            }
          } catch (h2y) {}

          y4a = 14;
          break;
      }
    }
  }

  function o9M(k13) {
    var I5L = 2;

    for (; I5L !== 5;) {
      switch (I5L) {
        case 2:
          var U5S = [arguments];
          return U5S[0][0].Function;
          break;
      }
    }
  }
}

M2dNJ.m7$ = function () {
  return typeof M2dNJ[459327].w4xZ2A7 === 'function' ? M2dNJ[459327].w4xZ2A7.apply(M2dNJ[459327], arguments) : M2dNJ[459327].w4xZ2A7;
};

M2dNJ.b84 = function (p0k) {
  M2dNJ.j07();
  if (M2dNJ) return M2dNJ.E3C(p0k);
};

M2dNJ.h0R = function (J3e) {
  M2dNJ.j07();
  if (M2dNJ) return M2dNJ.n9E(J3e);
};

M2dNJ.z4n = function (x7A) {
  M2dNJ.E0w();
  if (M2dNJ) return M2dNJ.E3C(x7A);
};

M2dNJ.Y0f = function (G1u) {
  M2dNJ.E0w();
  if (M2dNJ && G1u) return M2dNJ.n9E(G1u);
};

M2dNJ.d4y = function (J7G) {
  M2dNJ.E0w();
  if (M2dNJ && J7G) return M2dNJ.n9E(J7G);
};

M2dNJ.a6A = function (n1n) {
  M2dNJ.j07();
  if (M2dNJ) return M2dNJ.E3C(n1n);
};

M2dNJ.W4k = function (v6Z) {
  M2dNJ.j07();
  if (M2dNJ) return M2dNJ.n9E(v6Z);
};

M2dNJ.O4a = function (k0P) {
  M2dNJ.E0w();
  if (M2dNJ && k0P) return M2dNJ.n9E(k0P);
};

var k, N, u, X, S, P, Q, V, M, T, R, W, Y, L, E, K, A, G, O, H, G6, k$, w6, K_, D5, S8, V4, U$, v8, Z0, d7, U8, Z9, v5, I3, j0, n2, B;

k = function k(D2) {
  var i2;
  i2 = D2.timezoneJS = {};
  D2.CIQ = I7;

  I7.inheritsFrom = function (s0, O9, v1) {
    var G1;
    G1 = O9.prototype || Object.getPrototypeOf(O9);
    M2dNJ.j07();
    s0.prototype = v1 !== !{} && typeof O9 === "function" ? new O9() : Object.create(G1);
    Object.defineProperties(s0.prototype, {
      constructor: {
        configurable: !"",
        enumerable: !{},
        value: s0,
        writable: !!{}
      },
      parent: {
        configurable: !!1,
        enumerable: !{},
        value: G1,
        writable: !![]
      }
    });
  };

  I7.extend = function (e5, R7, K6) {
    var p0, z2, t3h;

    for (p0 in R7) {
      z2 = R7[p0];

      if (e5 === z2 || z2 === undefined) {
        continue;
      } else if (z2 === null || K6 === !![]) {
        e5[p0] = z2;
      } else if (z2.constructor == Array) {
        e5[p0] = z2.slice();
      } else if (z2.constructor == Object) {
        t3h = "o";
        t3h += "b";
        t3h += "j";
        t3h += "ect";
        e5[p0] = I7.extend(_typeof(e5[p0]) === t3h && e5[p0] !== null ? e5[p0] : {}, z2);
      } else {
        e5[p0] = z2;
      }
    }

    return e5;
  };

  function I7() {}

  I7.activateImports = function () {
    var S4;
    S4 = this;
    M2dNJ.j07();

    if (!S4.activatedImports) {
      S4.activatedImports = {};
    }

    for (var _len = arguments.length, L4 = new Array(_len), _key = 0; _key < _len; _key++) {
      L4[_key] = arguments[_key];
    }

    L4.forEach(function (w0) {
      M2dNJ.E0w();

      if (typeof w0 == "function") {
        if (!(w0.__guid in S4.activatedImports)) {
          w0.__guid = S4.uniqueID(!!1);
          S4.activatedImports[w0.__guid] = w0.__name || w0.name;
          w0(D2);
        }
      }
    });
  };
};

N = function N(l7) {
  M2dNJ.E0w();
  var o9, C8, V$, R31, h14;
  o9 = typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : {};
  {
    C8 = function C8(h1, E_) {
      var g_u, p3;
      g_u = "Even";
      g_u += "t";
      M2dNJ.j07();
      p3 = document.createEvent(g_u);
      p3.initEvent(h1, !!(E_ && E_.bubbles), !!(E_ && E_.cancelable));
      return p3;
    };

    if (o9.Event && typeof o9.Event !== "function") {
      C8.prototype = o9.Event.prototype;
      o9.Event = C8;
    }

    V$ = function V$(V7, Y9) {
      var t5;
      t5 = document.createEvent("CustomEvent");
      t5.initCustomEvent(V7, !!(Y9 && Y9.bubbles), !!(Y9 && Y9.cancelable), Y9 && Y9.detail);
      M2dNJ.E0w();
      return t5;
    };

    if (o9.CustomEvent && typeof o9.CustomEvent !== "function") {
      V$.prototype = o9.CustomEvent.prototype;
      o9.CustomEvent = V$;
    }
  }
  {
    R31 = "u";
    R31 += "nde";
    R31 += "f";
    R31 += "ined";

    if ((typeof global === "undefined" ? "undefined" : _typeof(global)) !== R31) {
      h14 = "und";
      h14 += "efi";
      h14 += "n";
      h14 += "ed";

      if (_typeof(global.CanvasRenderingContext2D) === h14) {
        global.CanvasRenderingContext2D = function () {};
      }
    }
  }
};

u = function u(L5) {
  var J0k = M2dNJ;
  var Z_5, n_I, E$i, W34, x71, u4N, w_8, Z8, O5, b5, v_, X7;
  Z_5 = "tem";
  Z_5 += "pl";
  Z_5 += "at";
  Z_5 += "e";
  n_I = "i";
  n_I += "m";
  n_I += "port";
  E$i = "Ed";
  E$i += "ge";
  E$i += "/";
  W34 = "Tride";
  W34 += "nt/";
  x71 = "i";
  x71 += "P";
  x71 += "hon";
  x71 += "e";
  u4N = "undefin";
  u4N += "ed";
  w_8 = "u";
  w_8 += "nd";
  w_8 += "ef";
  w_8 += "ined";
  Z8 = L5.CIQ;
  O5 = (typeof navigator === "undefined" ? "undefined" : _typeof(navigator)) !== w_8 ? navigator : {
    userAgent: ""
  };
  b5 = O5.userAgent;
  v_ = typeof window !== "undefined" ? window : {};
  X7 = (typeof document === "undefined" ? "undefined" : _typeof(document)) !== u4N ? document : {};
  Z8.ipad = b5.indexOf("iPad") != -+"1" || O5.platform === "MacIntel" && O5.maxTouchPoints > +"1";
  J0k.a3e(0);
  var J_A = J0k.B0m(18, 2, 35);
  Z8.iphone = b5.indexOf(x71) != J_A;
  J0k.i3C(1);
  var M5m = J0k.k$A(1, 0);
  Z8.isAndroid = b5.toLowerCase().indexOf("android") > M5m;
  Z8.isIE = b5.toLowerCase().indexOf("msie") > -1 || b5.indexOf(W34) > -1;
  J0k.a3e(2);
  var Q3H = J0k.B0m(3, 0, 2, 13, 13);
  Z8.isEdge = b5.indexOf(E$i) > Q3H;
  J0k.a3e(3);
  var x7w = J0k.k$A(4, 12, 17);
  Z8.isSafari = b5.indexOf("Safari/") > x7w;
  Z8.isIOS7 = b5.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i);
  Z8.isIOS8 = b5.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i);
  Z8.isIOS9 = b5.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i);
  Z8.isIOS10 = b5.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i);
  Z8.isIOS7or8 = Z8.isIOS7 || Z8.isIOS8 || Z8.isIOS9 || Z8.isIOS10;
  Z8.isMobile = Z8.isAndroid || Z8.ipad || Z8.iphone;
  Z8.touchDevice = X7.ontouchstart !== undefined || O5.maxTouchPoints > 1;
  Z8.isSurface = Z8.touchDevice && (Z8.isEdge || Z8.isIE || b5.indexOf("Edg/") > -1);
  Z8.is_chrome = b5.toLowerCase().indexOf("chrome") > -+"1" && !Z8.isEdge;
  Z8.isFF = b5.toLowerCase().indexOf("firefox") > -+"1";
  Z8.isSurfaceApp = v_.MSApp;
  Z8.isWebComponentsSupported = typeof document !== "undefined" && "registerElement" in document && n_I in document.createElement("link") && "content" in document.createElement(Z_5);
  Z8.noKeyboard = Z8.isMobile || Z8.isSurfaceApp;
};

X = function X(d6) {
  var c40 = M2dNJ;
  var q9, j9, l8;

  if (!d6.SplinePlotter) {
    d6.SplinePlotter = {};
  }

  q9 = d6.CIQ;
  j9 = d6.SplinePlotter;

  l8 = function l8(Y4, y7, Q$, w3) {
    var a9, u9, u_;
    a9 = 0;

    function v$(v6, r7, V2) {
      [1, 2].forEach(function (X4) {
        r7[X4].cp = {};
        [739.97 < "3120" * 1 ? "x" : 380.60, (5889, "895.4" - 0) === (4420, 7674) ? !1 :  true ? "y" : undefined].forEach(function (h2) {
          var B7;
          c40.a3e(4);
          var c5q = c40.k$A(1, 0);
          c40.i3C(5);
          var h$U = c40.k$A(2, 4);
          c40.a3e(1);
          var N24 = c40.k$A(30, 32);
          c40.a3e(1);
          var P8c = c40.k$A(3, 5);
          c40.a3e(6);
          var m0L = c40.k$A(2, 16, 16, 0);
          c40.i3C(7);
          var s$W = c40.B0m(0, 20, 19);
          c40.j07();
          c40.i3C(8);
          var C7a = c40.B0m(50, 34, 18);
          c40.i3C(8);
          var g8$ = c40.B0m(3, 1, 4);
          c40.i3C(9);
          var m_O = c40.B0m(1, 11, 9);
          c40.a3e(10);
          var k0k = c40.k$A(8, 4, 19, 0, 13);
          c40.a3e(11);
          var e$m = c40.k$A(14, 206, 20, 16);
          c40.i3C(1);
          var v5c = c40.B0m(17, 18);
          c40.a3e(4);
          var G3c = c40.k$A(2, 0);
          B7 = ("1" ^ 0) / (c5q + Math.sqrt(Math.pow(r7[h$U * X4 - +"1"].x - r7[+"2" * X4 - ("2" | 0)].x, N24) + Math.pow(r7[P8c * X4 - m0L].y - r7["2" * s$W * X4 - C7a].y, g8$)) / Math.sqrt(Math.pow(r7[m_O].x - r7[k0k].x, "2" << 0) + Math.pow(r7[e$m].y - r7[v5c].y, G3c)));
          c40.i3C(1);
          var q_Z = c40.B0m(45, 48);
          c40.i3C(12);
          var O47 = c40.k$A(3, 15, 7, 23, 0);
          c40.a3e(1);
          var S27 = c40.B0m(0, 1);
          r7[X4].cp[h2] = r7[X4][h2] + (q_Z - ("2" ^ 0) * X4) * (r7[X4 + O47][h2] - r7[X4 - S27][h2]) * V2 * (B7 || 0);

          if (r7[X4].cp[h2] < Math.min(r7[1][h2], r7[2][h2])) {
            r7[X4].cp[h2] = Math.min(r7[+"1"][h2], r7[2][h2]);
          }

          if (r7[X4].cp[h2] > Math.max(r7[1][h2], r7[2][h2])) {
            r7[X4].cp[h2] = Math.max(r7[1][h2], r7[2][h2]);
          }
        });
      });
      c40.j07();

      if (v6 === 0) {
        Q$.quadraticCurveTo(r7[2].cp.x, r7[2].cp.y, r7[2].x, r7[2].y);
      } else if (v6 === u9 - 4) {
        Q$.quadraticCurveTo(r7["1" * 1].cp.x, r7[1].cp.y, r7[2].x, r7[2].y);
      } else {
        Q$.bezierCurveTo(r7["1" ^ 0].cp.x, r7[1].cp.y, r7[+"2"].cp.x, r7[2].cp.y, r7[2].x, r7["2" >> 0].y);
      }
    }

    if (!w3) {
      w3 = [];
    }

    if (!y7 || y7 < 0) {
      y7 = +"0";
    }

    function P$(A3) {
      var R_;

      if (a9 == w3.length) {
        return;
      }

      R_ = w3[a9];

      if (R_.coord[0] == Y4[A3] && R_.coord[+"1"] == Y4[A3 + 1]) {
        Q$.stroke();
        Q$.strokeStyle = R_.color;
        Q$.setLineDash(R_.pattern);
        Q$.lineDashOffset = 0;
        Q$.lineWidth = R_.width;
        Q$.beginPath();
        Q$.moveTo(Y4[A3], Y4[A3 + +"1"]);
        a9++;
      }
    }

    u9 = Y4.length;
    Q$.moveTo(Y4["0" - 0], Y4[1]);

    for (var Q3 = 0; Q3 < u9 - ("3" | 0); Q3 += "2" >> 96) {
      P$(Q3);
      u_ = [];
      u_[0] = {
        x: Y4[Math.max(0, Q3 - +"2")],
        y: Y4[Math.max(1, Q3 - 1)]
      };
      u_[1] = {
        x: Y4[Q3],
        y: Y4[Q3 + 1]
      };
      u_[2] = {
        x: Y4[Q3 + 2],
        y: Y4[Q3 + ("3" | 3)]
      };
      u_[+"3"] = {
        x: Y4[Math.min(u9 - 2, Q3 + +"4")],
        y: Y4[Math.min(u9 - 1, Q3 + 5)]
      };

      if (u9 === 4) {
        y7 = 0;
      }

      v$(Q3, u_, y7);
    }
  };

  if (!d6.SplinePlotter.plotSpline) {
    d6.SplinePlotter.plotSpline = l8;
  }

  q9.clearCanvas = function (B3, Y3) {
    var o4, B0, o$;
    B3.isDirty = !"1";
    c40.E0w();
    o4 = B3.context;
    c40.a3e(13);
    o4.clearRect(c40.k$A("0", 0), 0, B3.width, B3.height);

    if (q9.isAndroid && !q9.is_chrome && !q9.isFF) {
      if (q9.ChartEngine.useOldAndroidClear && Y3) {
        o4.fillStyle = Y3.containerColor;
        c40.i3C(14);
        o4.fillRect(c40.k$A(0, "0"), 0, B3.width, B3.height);
        o4.clearRect(0, 0, B3.width, B3.height);
      }

      B0 = B3.width;
      B3.width = 1;
      B3.width = B0;
    }

    o$ = Y3.chart.canvasShim.childNodes.length > 0;

    if (Y3.useBackgroundCanvas || o$) {
      Y3.useBackgroundCanvas = o$;

      if (B3 == Y3.chart.canvas) {
        q9.clearCanvas(Y3.chart.backgroundCanvas, Y3);
      }
    }
  };

  q9.fillTransparentCanvas = function (q8, N7, q$, P1) {
    c40.j07();
    var Y0;
    Y0 = q8.globalCompositeOperation;
    q8.globalCompositeOperation = "destination-over";
    q8.fillStyle = N7;
    c40.a3e(13);
    q8.fillRect(0, c40.k$A("0", 0), q$, P1);
    q8.globalCompositeOperation = Y0;
  };

  q9.convertBoxToPixels = function (A6, X3, E5) {
    var C$, e$, c0, C3, h6;
    C$ = A6.panels[X3];
    e$ = A6.pixelFromTick(E5.x0, C$.chart);
    c0 = A6.pixelFromTick(E5.x1, C$.chart);
    C3 = E5.cy0 || E5.cy0 === +"0" ? E5.cy0 : A6.pixelFromValueAdjusted(C$, E5.x0, E5.y0);
    c40.j07();
    h6 = E5.cy1 || E5.cy1 === 0 ? E5.cy1 : A6.pixelFromValueAdjusted(C$, E5.x1, E5.y1);
    return {
      x0: e$,
      x1: c0,
      y0: C3,
      y1: h6
    };
  };

  q9.fillArea = function (g0, O_, V9) {
    var J6v, q3, J2, D4, m4, a1, R8, P2, M5, c1, A1, U7, J4;
    J6v = "a";
    J6v += "uto";

    if (!O_.length) {
      return;
    }

    q3 = g0.chart.context;
    J2 = q3.globalAlpha;
    D4 = arguments[2];
    m4 = arguments[3];
    a1 = arguments[+"4"];
    R8 = 0;
    P2 = null;

    if (V9 && _typeof(V9) == "object") {
      D4 = V9.color;
      m4 = V9.opacity;
      R8 = V9.tension;
      a1 = V9.panelName;
      P2 = V9.yAxis;
    }

    if (!m4 && m4 !== +"0") {
      m4 = 0.2;
    }

    if (D4 == J6v) {
      D4 = g0.defaultColor;
    }

    q3.globalAlpha = m4;

    if (D4) {
      q3.fillStyle = D4;
    }

    M5 = Number.MAX_VALUE;
    c40.a3e(15);
    c1 = c40.k$A("1", M5);
    A1 = g0.panels[a1];

    if (A1) {
      c1 = (P2 || A1.yAxis).top;
      M5 = (P2 || A1.yAxis).bottom;
      q3.save();
      q3.beginPath();
      q3.rect(A1.left, c1, A1.width, M5 - c1);
      q3.clip();
    }

    q3.beginPath();

    if (R8) {
      J4 = [];

      for (U7 = +"0"; U7 < O_.length - 2; U7++) {
        J4.push(O_[U7]["0" - 0], O_[U7][+"1"]);
      }

      j9.plotSpline(J4, R8, q3);

      for (U7 = O_.length - 2; U7 < O_.length; U7++) {
        q3.lineTo(Math.round(O_[U7][0]), Math.round(O_[U7][1]));
        ;
      }
    } else {
      q3.moveTo(O_[0][0], O_[0][1]);

      for (U7 = 1; U7 < O_.length; U7++) {
        q3.lineTo(O_[U7][0], O_[U7][1]);
      }
    }

    q3.closePath();
    q3.fill();

    if (A1) {
      q3.restore();
    }

    q3.globalAlpha = J2;
  };

  c40.E0w();

  q9.prepareChannelFill = function (A9, n9) {
    var j8, C4, L1, f3, i6, P4, g6, B8;

    if (!n9 || n9 instanceof Array) {
      n9 = arguments[2];
    }

    if (!n9.gapDisplayStyle && n9.gapDisplayStyle !== !1) {
      n9.gapDisplayStyle = n9.gaps;
    }

    j8 = A9.panels[n9.panelName];
    C4 = A9.chart;
    L1 = C4.context.strokeStyle;
    f3 = {
      noDraw: n9.noDraw,
      gapDisplayStyle: n9.gapDisplayStyle
    };
    i6 = q9.ensureDefaults(n9, {
      noDraw: !!1,
      gapDisplayStyle: {},
      yAxis: j8.yAxis
    });
    P4 = A9.plotDataSegmentAsLine(n9.topBand, j8, i6);
    g6 = A9.plotDataSegmentAsLine(n9.bottomBand, j8, i6);
    n9.noDraw = f3.noDraw;
    n9.gapDisplayStyle = f3.gapDisplayStyle;
    B8 = [];

    for (var x9 = 0; x9 < P4.points.length; x9 += 2) {
      B8.push([P4.points[x9], P4.points[x9 + 1]]);
    }

    for (var O8 = g6.points.length - "1" * 1; O8 >= 0; O8 -= 2) {
      B8.push([g6.points[O8 - 1], g6.points[O8]]);
    }

    q9.fillArea(A9, B8, n9);
    return;
  };

  q9.preparePeakValleyFill = function (D7, S7) {
    var I8, F_, V0, o7, G$, N$, h0, f1, m7, m1, O0, x7, j$, E0, M2, S6, j3, u0, J1, J3, v3, P8, s$, c4, G9, X2, D8, K5, X$n, T2P, i_T, U5, l1, O7, V6, K8, A5, E9;

    if (!S7 || S7 instanceof Array) {
      S7 = arguments[2];
    }

    if (!S7.gapDisplayStyle && S7.gapDisplayStyle !== !!"") {
      S7.gapDisplayStyle = S7.gaps;
    }

    I8 = D7.panels[S7.panelName];
    F_ = I8.yAxis;
    V0 = D7.chart;
    o7 = V0.context;
    G$ = o7.strokeStyle;
    N$ = {
      noDraw: S7.noDraw,
      gapDisplayStyle: S7.gapDisplayStyle
    };
    h0 = D7.plotDataSegmentAsLine(S7.band, I8, q9.ensureDefaults(S7, {
      noDraw: !"",
      gapDisplayStyle: {}
    }));
    S7.noDraw = N$.noDraw;
    S7.gapDisplayStyle = N$.gapDisplayStyle;
    f1 = S7.threshold;
    m7 = S7.direction;
    m1 = S7.reverse;
    O0 = S7.gapDisplayStyle;

    if (S7.yAxis) {
      F_ = S7.yAxis;
    }

    x7 = -Number.MAX_VALUE;
    j$ = Number.MAX_VALUE;
    E0 = m1 ? x7 : j$;

    if (f1 || f1 === 0) {
      E0 = D7.pixelFromPrice(f1, I8, F_);
    }

    M2 = [];
    S6 = h0.points.length;

    for (var r0 = 0; r0 < S6; r0 += 2) {
      j3 = h0.points[r0];
      c40.a3e(4);
      u0 = h0.points[c40.B0m(1, r0)];

      if (S7.roundOffEdges) {
        if (r0 === 0) {
          j3 = Math.floor(j3);
        } else if (r0 + ("2" | 2) == S6) {
          j3 = Math.ceil(j3);
        }
      }

      if (isNaN(u0)) continue;
      v3 = u0 > E0 && m7 > 0 || u0 < E0 && m7 < 0;

      if (!v3) {
        M2.push([j3, u0]);
        x7 = Math.max(u0, x7);
        j$ = Math.min(u0, j$);
      }

      if (r0 < S6 - 3) {
        c40.i3C(4);
        J1 = h0.points[c40.k$A(2, r0)];
        c40.a3e(4);
        J3 = h0.points[c40.B0m(3, r0)];

        if (u0 < E0 && J3 > E0 || u0 > E0 && J3 < E0) {
          c40.i3C(16);
          j3 += c40.k$A(E0, u0, J1, j3, J3, u0);
          M2.push([j3, E0]);
        }
      }
    }

    S6 = M2.length;

    if (!S6) {
      return;
    }

    P8 = S7.edgeParameters;
    s$ = S7.edgeHighlight;

    if (s$) {
      if (P8.lineWidth > 100) {
        P8.lineWidth = 1;
      }

      o7.save();
      o7.beginPath();

      for (var Q8 = +"0"; Q8 < S6 - 1; Q8++) {
        c4 = M2[Q8];
        c40.a3e(4);
        G9 = M2[c40.k$A(1, Q8)];
        if (c4[1] == E0 && G9[1] == E0) continue;

        if (c4[+"0"] == G9[0] && D7.layout.candleWidth >= 1) {
          if (c4[1] == E0 && M2[Q8 - 1] && M2[Q8 - 1][+"1"] == E0) continue;
          if (G9[+"1"] == E0 && M2[Q8 + 2] && M2[Q8 + 2]["1" << 32] == E0) continue;
        }

        D7.plotLine(q9.extend({
          x0: c4[0],
          x1: G9[0],
          y0: c4[1],
          y1: G9[1],
          color: S7.edgeHighlight,
          type: "segment",
          context: o7,
          confineToPanel: I8,
          deferStroke: !""
        }, P8));
      }

      o7.stroke();
      o7.restore();
    }

    if (!f1 && f1 !== +"0") {
      if (F_.flipped) {
        m1 = !m1;
      }

      E0 = m1 ? Math.min(j$, F_.top) : Math.max(x7, F_.bottom);
    }

    M2.push([M2[S6 - 1][0], E0], [M2["0" | 0][0], E0]);
    X2 = S7.opacity;

    if (!X2 && X2 !== 0) {
      S7.opacity = 0.3;
    }

    q9.fillArea(D7, M2, S7);

    if (O0 && O0.color && O0.fillMountain && !S7.tension && !q9.isTransparent(O0.color) && !q9.isTransparent(S7.color)) {
      o7.save();

      if (o7.fillStyle instanceof CanvasGradient) {
        D8 = q9.colorToHex(O0.color);
        K5 = o7.createLinearGradient(0, m7 === 1 ? I8.top : I8.bottom, +"0", E0);
        K5.addColorStop(0, q9.hexToRgba(D8, 60));
        K5.addColorStop(1, q9.hexToRgba(D8, "10" << 32));
        o7.fillStyle = K5;
      } else {
        X$n = 369992018;
        T2P = -983303433;
        i_T = 2;

        for (var t4j = 1; c40.b3_(t4j.toString(), t4j.toString().length, 20130) !== X$n; t4j++) {
          o7.fillStyle = O0.color;
          i_T += 2;
        }

        if (c40.b3_(i_T.toString(), i_T.toString().length, 21198) !== T2P) {
          o7.fillStyle = O0.color;
        }
      }

      U5 = [];
      l1 = {
        opacity: S7.opacity,
        panelName: S7.panelName
      };
      o7.beginPath();

      for (r0 = "0" | 0; r0 < h0.gapAreas.length; r0++) {
        O7 = h0.gapAreas[r0];
        V6 = O7.start;
        K8 = O7.end;
        A5 = O7.threshold;

        if (V6) {
          U5 = [[V6[0], V6[1]], [V6[0], A5]];
        } else {
          U5.push([K8[0], A5], [K8["0" | 0], S7.step ? U5[+"0"][1] : K8[1]]);
        }

        if (U5.length == +"4") {
          q9.fillArea(D7, U5, l1);
          E9 = q9.extend({
            x1: U5[3]["0" | 0],
            y0: U5[0][1],
            type: "segment",
            deferStroke: !"",
            context: o7,
            confineToPanel: I8
          }, O0);

          if (S7.step) {
            D7.plotLine(q9.extend({
              x0: U5[0][0],
              y1: U5[0][1]
            }, E9));
            D7.plotLine(q9.extend({
              x0: U5[3][0],
              y1: U5[3]["1" ^ 0]
            }, E9));
          } else {
            D7.plotLine(q9.extend({
              x0: U5[0][0],
              y1: U5["3" * 1]["1" ^ 0]
            }, E9));
          }
        }
      }

      o7.stroke();
      o7.restore();
    }

    S7.opacity = X2;
  };

  q9.fillIntersecting = function (f_, z9, o6) {
    var p3Q, g9, k0, L2, v4, H7, h3, t9, Z6, u5, e8, k8, A0, D1;
    p3Q = "x";
    p3Q += "o";
    p3Q += "r";

    if (!o6 || o6 instanceof Array) {
      o6 = arguments[3];
    }

    g9 = o6.topBand;
    k0 = o6.bottomBand;
    L2 = o6.topSubBand;
    v4 = o6.bottomSubBand;
    H7 = o6.topColor;
    h3 = o6.bottomColor;
    t9 = z9;

    if (t9.panel) {
      if (t9.outputs && t9.outputMap) {
        if (!H7) {
          H7 = t9.outputs[t9.outputMap[g9]];
        }

        if (!h3) {
          h3 = t9.outputs[t9.outputMap[k0]];
        }
      }

      t9 = t9.panel;
    }

    t9 = f_.panels[t9];
    Z6 = f_.chart.context;
    u5 = Z6.canvas;
    e8 = f_.scratchContext;

    if (!e8) {
      e8 = f_.scratchContext = u5.cloneNode(!!{}).getContext("2d");
    }

    k8 = e8.canvas;
    k8.height = u5.height;
    k8.width = u5.width;
    k8.context = e8;
    q9.clearCanvas(k8, f_);
    A0 = 0.3;

    if (o6.opacity) {
      A0 = o6.opacity;
    }

    e8.globalCompositeOperation = p3Q;
    f_.chart.context = e8;
    D1 = {
      band: g9,
      subField: L2,
      color: H7,
      opacity: 1,
      panelName: t9.name,
      yAxis: o6.topAxis,
      skipTransform: o6.skipTransform,
      tension: o6.tension,
      roundOffEdges: !!{},
      step: o6.step
    };
    q9.preparePeakValleyFill(f_, D1);
    q9.extend(D1, {
      band: k0,
      subField: v4,
      color: h3,
      yAxis: o6.bottomAxis
    });
    q9.preparePeakValleyFill(f_, D1);
    Z6.save();
    Z6.globalAlpha = A0;
    Z6.drawImage(k8, 0, 0);
    Z6.restore();
    f_.chart.context = Z6;
  };

  q9.drawLegendItem = function (J7, c$, c7, V1, x5) {
    var R3, U0, s_, U4, r2;

    if (!x5) {
      x5 = 1;
    }

    R3 = c$[0];
    U0 = c$[1];
    s_ = 10;
    U4 = 10;
    r2 = J7.chart.context;
    r2.globalAlpha = x5;
    r2.fillStyle = V1;
    r2.fillRect(R3, U0, s_, U4);
    c40.a3e(14);
    r2.globalAlpha = c40.k$A(1, "1");
    c40.i3C(4);
    R3 += c40.k$A(2, s_);
    r2.fillStyle = J7.defaultColor;
    r2.fillText(c7, R3, U0);
    c40.a3e(6);
    var e_d = c40.k$A(7, 19, 19, 0);
    R3 += r2.measureText(c7).width + e_d;
    return [R3, U0];
  };

  q9.drawLegend = function (P0, U9) {
    var d3, c5, C9, X_, v9, g_, x$, A4, j7, D9, m2;
    d3 = U9.coordinates;
    c5 = P0.chart.context;
    c5.textBaseline = "top";
    C9 = c5.font;
    P0.canvasFont("stx-legend", c5);
    X_ = U9.chart || P0.chart;

    if (!d3) {
      d3 = X_.legend;
    }

    c40.E0w();
    v9 = [d3.x, d3.y];
    g_ = P0.defaultColor;

    for (var S1 = 0; S1 < 2; S1++) {
      for (var X8 in U9.legendColorMap) {
        x$ = U9.legendColorMap[X8];
        if (x$.isBase && (S1 || U9.noBase)) continue;
        if (!x$.isBase && !S1) continue;

        if (x$.color instanceof Array) {
          j7 = x$.color;

          for (A4 = j7.length - 1; A4 >= ("0" ^ 0); A4--) {
            if (q9.isTransparent(j7[A4])) {
              j7.splice(A4, 1);
            }
          }

          if (j7.length > 1) {
            D9 = c5.createLinearGradient(v9[0], v9[1], v9[0] + 10, v9[1]);

            for (A4 = 0; A4 < j7.length; A4++) {
              D9.addColorStop(A4 / (j7.length - 1), j7[A4]);
            }

            g_ = D9;
          } else if (j7.length > 0) {
            g_ = j7[+"0"];
          } else {
            g_ = P0.getCanvasColor("stx_line_chart");
          }
        } else if (x$.color) {
          g_ = x$.color;
        } else {
          g_ = null;
        }

        if (g_) {
          m2 = X8;

          if (x$.display) {
            m2 = x$.display;
          }

          if (!m2) {
            if (X_.symbolDisplay) {
              m2 = X_.symbolDisplay;
            } else {
              m2 = X_.symbol;
            }
          }

          if (v9[0] + c5.measureText(m2).width > X_.panel.right) {
            c40.a3e(17);
            var J4w = c40.k$A(94, 191, 7);
            c40.i3C(4);
            var X3R = c40.k$A(4664, 466);
            c40.a3e(18);
            var t1E = c40.k$A(34047, 2, 5, 10, 8493);
            c40.a3e(19);
            var P04 = c40.k$A(7, 6, 13, 20);
            v9 = [d3.x, d3.y + c5.measureText((J4w, X3R) <= (+"380", t1E) ? "M" : (![], !{})).width + P04];
            ;
          }

          v9 = q9.drawLegendItem(P0, v9, m2, g_, x$.opacity);
        }
      }
    }

    c5.font = C9;
  };
};

S = function S(u1) {
  var W10 = M2dNJ;
  var O4;
  O4 = u1.CIQ;

  O4.colorsEqual = function (q7, l3) {
    var u8, R9, i7, s4, T7;

    if (q7 == l3) {
      return !"";
    }

    if (!q7 && !l3) {
      return !0;
    }

    if (!q7 || !l3) {
      return !1;
    }

    if (q7 == "transparent") {
      q7 = "rgba(0,0,0,0)";
    }

    if (l3 == "transparent") {
      l3 = "rgba(0,0,0,0)";
    }

    u8 = /^rgba\(.*,(.+)\)/;
    R9 = q7.match(u8);
    i7 = l3.match(u8);
    R9 = R9 ? parseFloat(R9[1]) : 1;
    i7 = i7 ? parseFloat(i7[1]) : 1;

    if (R9 != i7) {
      return ![];
    }

    s4 = O4.colorToHex(q7);
    T7 = O4.colorToHex(l3);
    return s4.toLowerCase() == T7.toLowerCase();
  };

  O4.colorToHex = function (a2) {
    var c6N, y_, E4, Y5, L0, T$, e6, v2, w_;
    c6N = "#00";
    c6N += "0000";

    if (!O4.colorToHexMapping) {
      O4.colorToHexMapping = {};
    }

    if (!a2 || a2 == "transparent") {
      a2 = c6N;
    }

    function W5(c6) {
      var n5, D53, I0;

      if (typeof document === "undefined") {
        return "#000000";
      }

      n5 = document.querySelector(".ciq_color_converter");

      if (!n5) {
        D53 = "textar";
        D53 += "ea";
        n5 = document.createElement(D53);
        n5.className = "ciq_color_converter";
        n5.style.display = "none";
        document.body.appendChild(n5);
      }

      n5.style.color = "#000000";
      n5.style.color = c6;
      I0 = getComputedStyle(n5).getPropertyValue("color");
      y_ = /(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(I0);

      if (y_) {
        return O4.colorToHex(I0);
      } else if (I0.substr(0, 1) === ( false ? (undefined) : 880 > "28.9" * 1 ? "#" : 5.26e+3)) {
        return I0;
      }

      return c6;
    }

    if (O4.colorToHexMapping[a2]) {
      return O4.colorToHexMapping[a2];
    }

    if (a2.substr("0" * 1, 1) === ((986.44, 5834) > 6080 ? 690 : (7527, 7040) >= (+"5030", 1880) ? "#" : 58.06)) {
      if (a2.length == 4) {
        W10.a3e(20);
        var w0A = W10.B0m(10, 12, 768, 726);
        W10.a3e(21);
        var K7$ = W10.k$A(6056, 5308, 17, 8, 16);
        W10.i3C(22);
        var q1$ = W10.B0m(2, 20, 612, 10444);
        W10.a3e(8);
        var A0D = W10.B0m(32, 14, 19);
        W10.i3C(1);
        var J4n = W10.B0m(9, 10);
        W10.a3e(23);
        var g7L = W10.k$A(17, 10, 7, 1);
        W10.a3e(1);
        var Y8$ = W10.k$A(17, 20);
        W10.i3C(4);
        var K5d = W10.B0m(1, 0);
        a2 = O4.colorToHexMapping[a2] = (("3040" >> w0A, K7$) == "238.08" - 0 ? ("M", q1$) : "#") + Array(3).join(a2.substr(A0D, J4n)) + Array(3).join(a2.substr(g7L, +"1")) + Array(3).join(a2.substr(Y8$, K5d));
      }

      return a2;
    }

    W10.E0w();
    y_ = /(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(a2);

    if (!y_) {
      y_ = /(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(a2);
    }

    if (!y_) {
      E4 = W5(a2);
      O4.colorToHexMapping[a2] = E4;
      return E4;
    }

    Y5 = parseFloat(y_[2]);
    L0 = parseFloat(y_[3]);
    T$ = parseFloat(y_[4]);
    W10.a3e(24);
    e6 = W10.k$A(T$, Y5, 8, 16, L0);
    v2 = e6.toString(16);

    for (var d4 = v2.length; d4 < 6; d4++) {
      W10.a3e(4);
      v2 = W10.B0m(v2, 7572 > (4635, 198) ? "0" : 0x3d);
    }

    W10.i3C(25);
    var W_t = W10.k$A(12, 6, 71);
    W10.a3e(8);
    var l$_ = W10.k$A(22, 458, 4);
    W10.a3e(26);
    var k$a = W10.k$A(9, 9, 63, 1);
    W10.i3C(4);
    var B8$ = W10.k$A(2991, 299);
    W10.a3e(4);
    var Q7b = W10.k$A(2, 771);
    w_ = y_[W_t] + (l$_ == "3150" >> k$a ? +"0x143c" : (11.83, +"672.51") == 832.14 ? "2.24e+3" << 0 : B8$ < Q7b ? ("b", "O") : "#") + v2;
    O4.colorToHexMapping[a2] = w_;
    return w_;
  };

  O4.hexToRgba = function (x8, m0) {
    var H6h, H0J, c$E, U08, J9, S2, r8, a$, H$;
    H6h = "r";
    H6h += "g";
    H6h += "b";
    H6h += "a(";
    H0J = "rg";
    H0J += "b";
    c$E = "r";
    c$E += "gb";
    c$E += "a";
    U08 = "rgba(0,0";
    U08 += ",0,0)";

    if (!x8 || x8 == "transparent") {
      x8 = U08;
    }

    W10.E0w();

    if (x8.substr(0, 4) === c$E) {
      J9 = /(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(x8);
      S2 = J9[5];

      if (m0 || m0 === 0) {
        S2 = m0;
      }

      if (S2 > 1) {
        W10.a3e(27);
        S2 = W10.k$A(S2, "100");
      }

      W10.a3e(28);
      var q6g = W10.B0m(6, 26, 3, 14, 0);
      W10.a3e(29);
      var H4F = W10.B0m(1530, 153, 1510);
      W10.a3e(30);
      var c8G = W10.B0m(9, 5617, 2799, 8, 2);
      W10.a3e(31);
      var H37 = W10.k$A(3247651, 19, 171380, 1);
      W10.a3e(4);
      var M9i = W10.k$A(1032, 148);
      W10.a3e(1);
      var W6g = W10.k$A(4, 6557);
      W10.i3C(32);
      var B9D = W10.k$A(20, 289940, 6213, 7, 6218);
      W10.a3e(33);
      var O9N = W10.k$A(1461, 5, 8, 57953);
      W10.a3e(25);
      var m40 = W10.k$A(19, 96600, 1828500);
      W10.i3C(25);
      var n7D = W10.B0m(7, 8, 53);
      W10.a3e(34);
      var i_i = W10.k$A(8, 52, 64);
      W10.i3C(4);
      var R4Q = W10.B0m(20, 7628);
      W10.a3e(4);
      var J6z = W10.k$A(2, 2628);
      W10.a3e(35);
      var I_v = W10.B0m(5162, 5179, 13, 67327);
      W10.a3e(36);
      var H4B = W10.k$A(11, 596, 3, 5927, 596);
      W10.i3C(37);
      var R8n = W10.k$A(4, 20, 8133, 41);
      W10.a3e(1);
      var r2e = W10.k$A(9, 1779);
      W10.a3e(33);
      var W7_ = W10.B0m(101439, 13, 11, 14499810);
      return "rgba(" + J9[q6g] + (H4F > ("7354" ^ 0, c8G) ? H37 === (652.55, M9i) ? !![] : W6g < (53.57, B9D) ? O9N : (m40, 561.49) : ",") + J9[n7D] + "," + J9[i_i] + (R4Q === J6z ? I_v : ",") + S2 + ((H4B, "1308" << 0) !== (R8n, +"254") ? ("5211" | 10) != r2e ? ")" : W7_ : 484.97);
    } else if (x8.substr(0, 3) === H0J) {
      x8 = O4.colorToHex(x8);
    }

    if (!m0 && m0 !== "0" - 0) {
      m0 = 100;
    }

    if (m0 <= 1) {
      W10.a3e(38);
      m0 = W10.B0m(m0, 100);
    }

    x8 = x8.replace((6730, 992.35) <= (518.9, "8520" - 0) ? 836.05 >= 6660 ? (!![], "S") : "#" : 808.57, "");
    r8 = parseInt(x8.slice(0, 2), 16);
    a$ = parseInt(x8.slice(2, 4), 16);
    H$ = parseInt(x8.slice("4" << 32, +"6"), 16);

    if (isNaN(r8) || isNaN(a$) || isNaN(H$)) {
      console.log("CIQ.hexToRgba: invalid hex :", x8);
      return null;
    }

    W10.i3C(39);
    return W10.k$A(H$, m0, 100, a$, H6h, r8, (9230, 443.32) > (428.06, 974.29) ? 950.51 : ("6410" >> 0, 832.84) !== ("9193" ^ 0, 4350) ? 693 < 371 ? (0x54f, "d") : "," : 0x348, ",", 7680 == (2510, 3090) ? "3859" >> 64 != (4530, +"169.74") ? +"0x1bc0" : (0x1665, 9.97e+3) : ",", ("1770" - 0, +"8958") > (5360, 72) ? (+"2864", 9400) > 3720 ? ")" : 755.13 >= (349.29, 7480) ? (266.70, "E") : "7.77e+3" * 1 : 0x1137);
  };

  O4.convertToNativeColor = function (C0) {
    var O0u, I6, B_;
    O0u = "n";
    O0u += "on";
    O0u += "e";
    I6 = document.createElement("DIV");
    I6.style.color = C0;
    I6.style.display = O0u;
    document.body.appendChild(I6);
    B_ = getComputedStyle(I6).color;
    document.body.removeChild(I6);
    W10.j07();
    return B_;
  };

  O4.isTransparent = function (N9) {
    var X5;
    W10.j07();

    if (!N9) {
      return !!"";
    }

    if (N9 == "transparent") {
      return !![];
    }

    X5 = /(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(N9);

    if (X5 === null) {
      return ![];
    }

    if (parseFloat(X5[5]) === 0) {
      return !!"1";
    }

    return !!"";
  };

  O4.hsv = function (O3) {
    W10.E0w();
    var U_, h9, b_, V8, h$, g$, v0, H9N, Q9, j5, r3, W6;
    U_ = O4.colorToHex(O3);

    if (U_.substr("0" << 64, 1) === "#") {
      U_ = U_.slice(+"1");
    }

    for (var Q4 = U_.length; Q4 < 6; Q4++) {
      W10.i3C(4);
      U_ = W10.B0m(U_, (769.64, 344) <= +"56.07" ? 0x1e41 : 412.96 > (+"590.35", "2210" * 1) ? 7.70e+3 : "0");
    }

    h9 = parseInt(U_.slice(0, 2), "16" ^ 0);
    b_ = parseInt(U_.slice(2, "4" * 1), 16);
    V8 = parseInt(U_.slice(4, "6" * 1), 16);
    h$ = 0;
    g$ = 0;
    v0 = 0;
    h9 = parseInt(("" + h9).replace(/\s/g, ""), 10);
    b_ = parseInt(("" + b_).replace(/\s/g, ""), 10);
    V8 = parseInt(("" + V8).replace(/\s/g, ""), +"10");

    if (h9 === null || b_ === null || V8 === null || isNaN(h9) || isNaN(b_) || isNaN(V8)) {
      H9N = "CIQ.hsv: invali";
      H9N += "d";
      H9N += " co";
      H9N += "lor :";
      console.log(H9N, O3);
      return null;
    }

    if (h9 < 0 || b_ < 0 || V8 < 0 || h9 > 255 || b_ > 255 || V8 > 255) {
      return null;
    }

    W10.i3C(27);
    h9 = W10.B0m(h9, "255");
    W10.a3e(40);
    b_ = W10.B0m(b_, 255);
    W10.a3e(40);
    V8 = W10.k$A(V8, 255);
    Q9 = Math.min(h9, Math.min(b_, V8));
    j5 = Math.max(h9, Math.max(b_, V8));

    if (Q9 == j5) {
      v0 = Q9;
      return [0, +"0", v0];
    }

    r3 = h9 == Q9 ? b_ - V8 : V8 == Q9 ? h9 - b_ : V8 - h9;
    W6 = h9 == Q9 ? 3 : V8 == Q9 ? 1 : 5;
    W10.i3C(41);
    h$ = W10.k$A(r3, W6, j5, Q9, 60);
    W10.i3C(42);
    g$ = W10.B0m(j5, Q9, j5);
    v0 = j5;
    return [h$, g$, v0];
  };

  O4.hsl = function (Y$) {
    var l$, H_, e_, w5, j4, r6, B2, e7, l_, f$;
    l$ = O4.colorToHex(Y$);

    if (l$.substr(0, 1) === (("1985" | 1, 963.47) <= (+"354.99", 505.03) ? 631.32 : 444 === (2804, 493.48) ? ("d", 0x2276) : "#")) {
      l$ = l$.slice(1);
    }

    for (var A7 = l$.length; A7 < 6; A7++) {
      W10.a3e(4);
      l$ = W10.B0m(l$, "0");
    }

    H_ = parseInt(l$.slice(0, 2), +"16");
    e_ = parseInt(l$.slice(+"2", 4), 16);
    w5 = parseInt(l$.slice(4, 6), 16);
    H_ /= 255;
    e_ /= 255;
    w5 /= 255;
    j4 = Math.max(H_, e_, w5);
    r6 = Math.min(H_, e_, w5);
    W10.j07();
    W10.a3e(43);
    l_ = W10.B0m(r6, 2, j4);

    if (j4 == r6) {
      B2 = e7 = 0;
      ;
    } else {
      W10.i3C(1);
      f$ = W10.B0m(r6, j4);
      e7 = l_ > 0.5 ? f$ / (2 - j4 - r6) : f$ / (j4 + r6);

      switch (j4) {
        case H_:
          W10.a3e(6);
          B2 = W10.B0m(e_ < w5 ? +"6" : 0, w5, f$, e_);
          break;

        case e_:
          W10.a3e(6);
          B2 = W10.B0m(2, H_, f$, w5);
          break;

        case w5:
          W10.a3e(6);
          B2 = W10.k$A(4, e_, f$, H_);
          break;
      }

      B2 /= 6;
    }

    return [B2, e7, l_];
  };

  O4.hslToRgb = function (T_, M_, d$) {
    W10.j07();
    var b3, d5, H3, P5, R2, l2;

    if (M_ === "0" - 0) {
      b3 = d5 = H3 = d$;
      ;
    } else {
      P5 = function M4(c9, N8, l5) {
        if (l5 < ("0" | 0)) {
          l5 += 1;
        }

        if (l5 > 1) {
          l5 -= 1;
        }

        if (l5 < 1 / 6) {
          W10.i3C(44);
          return W10.B0m(l5, c9, 6, c9, N8);
        }

        if (l5 < 1 / 2) {
          return N8;
        }

        if (l5 < 2 / +"3") {
          W10.i3C(45);
          return W10.B0m(N8, "2", c9, 6, 3, l5, c9);
        }

        return c9;
      };

      R2 = d$ < 0.5 ? d$ * (1 + M_) : d$ + M_ - d$ * M_;
      W10.a3e(25);
      l2 = W10.B0m(d$, 2, R2);
      W10.a3e(46);
      b3 = P5(l2, R2, W10.B0m(T_, 3, 1));
      d5 = P5(l2, R2, T_);
      W10.a3e(47);
      H3 = P5(l2, R2, W10.B0m(3, T_, "1"));
    }

    W10.i3C(48);
    return [Math.round(W10.k$A(0, b3, "255")), Math.round(W10.B0m(d5, 255, W10.i3C(38))), Math.round(W10.k$A(H3, 255, W10.a3e(38)))];
  };

  O4.chooseForegroundColor = function (T8) {
    var D0, h4, K1, L$;
    D0 = O4.colorToHex(T8);
    h4 = parseInt(D0.slice(1, 3), 16);
    K1 = parseInt(D0.slice(3, "5" ^ 0), 16);
    L$ = parseInt(D0.slice(+"5", 7), 16);
    return 0.2126 * h4 + 0.7152 * K1 + 0.0722 * L$ < +"100" ? "#FFFFFF" : "#000000";
    ;
  };

  W10.E0w();

  O4.borderPatternToArray = function (N_, m3) {
    W10.E0w();

    if (!m3) {
      return [];
    }

    if (m3 instanceof Array) {
      return m3;
    }

    if (m3 == "dotted") {
      return [N_, N_];
    }

    if (m3 == "dashed") {
      W10.a3e(49);
      return [W10.B0m(64, "5", N_), W10.B0m(N_, 5, W10.i3C(38))];
    }

    if (m3 != "solid" && m3 != "none") {
      W10.a3e(50);
      console.log(W10.B0m(m3, 'Unsupported pattern "', '"; defaulting to "solid"'));
    }

    return [];
  };

  O4.getBackgroundColor = function (F7) {
    var O1, q6;
    O1 = null;
    W10.j07();

    while (!O1 || O4.isTransparent(O1)) {
      q6 = getComputedStyle(F7);

      if (!q6) {
        return;
      }

      O1 = q6.backgroundColor;

      if (O4.isTransparent(O1)) {
        O1 = "transparent";
      }

      F7 = F7.parentNode;
      if (!F7 || !F7.tagName) break;
    }

    if (!O1 || O1 == "transparent") {
      O1 = "#FFFFFF";
    }

    return O1;
  };
};

P = function P(f2) {
  var t$G = M2dNJ;
  var N6N, Q6, n8;
  N6N = "A";
  N6N += "u";
  N6N += "g";
  Q6 = f2.CIQ;
  n8 = f2.timezoneJS;
  Q6.monthLetters = ["J", "F", 2637 === (523.22, 1040) ? (6520, 885.92) <= (454, 5940) ? (250.2, 967.91) != 444.2 ? !"1" : (!!"1", 0xcd6) : 3.25e+3 : "M", "A", 764.31 <= 8246 ? "M" : !!{}, "J", "J", ("1592" ^ 0) > ("9170" * 1, 9188) ? !!{} : 944 != (815.2, 151.83) ? "A" : "O", (3571, "727" * 1) < 8230 ? "S" : 762.23 > (2035, 126.96) ? 9.35e+3 : "a", 2965 !== (9620, "5146" >> 0) ? (9440, 1398) == (1473, +"262") ? 1700 === +"968.09" ? (0x15be, 7.70e+3) : 2.29e+3 : "O" : 563.42, "N", "D"];
  Q6.monthAbv = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", N6N, "Sep", "Oct", "Nov", "Dec"];
  Q6.MILLISECOND = 1;
  Q6.SECOND = 1000;
  t$G.i3C(51);
  var b4Q = t$G.k$A(19, 44, 20, 12, 5);
  Q6.MINUTE = b4Q * Q6.SECOND;
  t$G.a3e(52);
  var a7U = t$G.B0m(1, 12, 5, 43);
  Q6.HOUR = a7U * Q6.MINUTE;
  t$G.i3C(25);
  var i3o = t$G.k$A(9, 20, 156);
  Q6.DAY = i3o * Q6.HOUR;
  t$G.a3e(1);
  var B6J = t$G.k$A(13, 20);
  Q6.WEEK = ("7" | B6J) * Q6.DAY;
  t$G.i3C(4);
  var R_R = t$G.k$A(29, 2);
  Q6.MONTH = R_R * Q6.DAY;
  Q6.YEAR = +"366" * Q6.DAY;
  t$G.i3C(53);
  var F5b = t$G.k$A(15, 20, 311, 0, 19);
  t$G.a3e(54);
  var C1I = t$G.k$A(6, 1, 2, 2, 4);
  Q6.DECADE = ("10" | F5b) * Q6.YEAR - C1I * Q6.DAY;
  Q6.yyyymmddhhmmssmmmrx = new RegExp("\\d{17}");

  Q6.strToDateTime = function (w7) {
    var u3, W8, Z_, G0, b7, q5, d0, g8, g1, Y6, F6, n_, F$, F7z, p6, o3;

    if (!w7 || w7.getFullYear) {
      return w7;
    }

    u3 = [];

    if (w7.length == 12 || w7.length == 14) {
      W8 = parseFloat(w7.substring(0, "4" ^ 0));
      t$G.a3e(55);
      var Y3u = t$G.k$A(13, 6, 13, 15, 7);
      t$G.i3C(56);
      var u$H = t$G.k$A(11, 10, 7, 96, 914);
      t$G.i3C(7);
      var I9e = t$G.B0m(0, 13, 12);
      Z_ = parseFloat(w7.substring(Y3u, u$H)) - I9e;
      G0 = parseFloat(w7.substring("6" >> 32, "8" * 1));
      b7 = parseFloat(w7.substring(8, 10));
      q5 = parseFloat(w7.substring("10" * 1, 12));
      d0 = parseFloat(w7.substring(12, 14)) || 0;
      return new Date(W8, Z_, G0, b7, q5, d0, 0);
    } else if (Q6.yyyymmddhhmmssmmmrx.test(w7)) {
      W8 = parseFloat(w7.substring(0, 4));
      t$G.a3e(1);
      var y3V = t$G.k$A(4, 8);
      t$G.a3e(33);
      var v79 = t$G.B0m(13, 14, 14, 2484);
      t$G.i3C(5);
      var W2i = t$G.k$A(1, 2);
      Z_ = parseFloat(w7.substring(y3V, "6" << v79)) - W2i;
      G0 = parseFloat(w7.substring(6, 8));
      b7 = parseFloat(w7.substring(8, 10));
      q5 = parseFloat(w7.substring(10, "12" | 8));
      d0 = parseFloat(w7.substring(12, 14));
      g8 = parseFloat(w7.substring(14, +"17"));
      return new Date(W8, Z_, G0, b7, q5, d0, g8);
    }

    g1 = [w7];
    Y6 = w7.indexOf((1310, +"9680") !== (840, 8107) ? (530, 9210) >= 2887 ? "T" : (9420, 3770) <= (1616, 657.3) ? !!"1" : 0x100c : ("Z", 0x775));

    if (Y6 != -1) {
      F6 = w7.substring(Y6);

      if (F6.indexOf(44 == (8040, 599.19) ? "t" : (3690, 803.33) === 107.63 ? (!![], 12.70) : "Z") != -1 || F6.indexOf("-") != -1 || F6.indexOf(("64.56" - 0, 6980) !== ("3990" * 1, 127.51) ? (517.37, 622.69) !== (6842, 973.65) ? "+" : (9.94e+3, "F") : ("E", 0x1772)) != -("1" >> 0)) {
        return new Date(w7);
        ;
      }

      g1 = w7.split(942.82 != ("1040" * 1, 1451) ? "T" : (505.04, 5380) < (6161, 6638) ? "j" : 964.74);
    } else if (w7.indexOf(("8244" | 52) != (993.73, 8437) ? " " : (5944, 3140) != 136.98 ? "G" : 1.19e+3) != -1) {
      g1 = w7.split( false ? undefined : " ");
    }

    if (g1[0].indexOf("/") != -("1" >> 64)) {
      u3 = g1[0].split( false ? undefined : "/");
    } else if (g1[0].indexOf(151 > 4178 ? (24.48, 62) > 3780 ? 720.14 : (405.44, 7916) >= 744 ? ("500.78" - 0, +"0x4b") : 0x2327 : "-") != -1) {
      u3 = g1[0].split("-");
    } else {
      return Q6.strToDate(w7);
    }

    n_ = parseFloat(u3[2], 10);

    if (u3[0] && u3[0].length == 4) {
      n_ = parseFloat(u3[0], 10);
      u3[0] = u3[1];
      u3[1] = u3[2];
    }

    if (g1.length > 1) {
      F$ = g1[2];
      g1 = g1[1].split((559.31, 3236) > +"7544" ? 1.49e+3 : 1760 < (6255, 9348) ? ":" : (348, 634.66) > ("55" >> 64, 649.63) ? ("J", !![]) : (!!"1", 0x1f2b));

      if (F$) {
        F7z = "1";
        F7z += "2";

        if (g1[0] == F7z && F$.toUpperCase() == "AM") {
          g1[0] = +"0";
        } else if (g1[0] != "12" && F$.toUpperCase() == "PM") {
          t$G.a3e(22);
          var z_i = t$G.k$A(19, 16, 140, 2534);
          t$G.a3e(7);
          var e8p = t$G.k$A(23, 5, 16);
          g1[0] = parseInt(g1["0" - 0], z_i) + e8p;
        }
      }

      p6 = 0;
      o3 = 0;

      if (g1.length == 3) {
        if (g1[2].indexOf(".") == -1) {
          p6 = parseInt(g1[2], 10);
        } else {
          p6 = g1[2].split(".");

          if (p6[1].length == 3) {
            o3 = p6[1];
            p6 = p6[0];
          }
        }
      }

      t$G.a3e(57);
      var E1e = t$G.B0m(14, 8, 4, 12, 24);
      return new Date(n_, u3[0] - E1e, u3[1], g1[0], g1[1], p6, o3);
    }

    return new Date(n_, u3[0] - ("1" | 0), u3[1], 0, 0, 0, 0);
  };

  Q6.strToDate = function (D3) {
    var v7, t$;

    if (D3.indexOf((279.6, 180) == (+"1400", 632.6) ? ("o", 0x1753) : "/") != -1) {
      v7 = D3.split( false ? undefined : "/");
    } else if (D3.indexOf("-") != -1) {
      v7 = D3.split(6140 >= (8666, "4558" - 0) ? "-" : (1692, 663.37) <= 1190 ? ("C", "z") : "N");
    } else if (D3.length >= 8) {
      t$G.i3C(58);
      var H8n = t$G.B0m(37, 2, 40, 3);
      t$G.i3C(59);
      var Y_o = t$G.B0m(18, 11, 8, 9);
      t$G.a3e(1);
      var v78 = t$G.k$A(6, 7);
      return new Date(parseFloat(D3.substring(0, 4)), parseFloat(D3.substring(H8n, Y_o)) - v78, parseFloat(D3.substring(6, 8)));
    } else {
      return new Date();
    }

    if (v7.length < 3) {
      return new Date();
    }

    if (v7[2].indexOf(575.57 <= (2040, 751) ? " " : 2.81e+3) != -+"1") {
      v7[2] = v7["2" ^ 0].substring(0, v7[2].indexOf("5470" * 1 != (766.56, 9839) ? " " : 4.63e+3));
    } else if (v7[2].indexOf(1765 === (4020, 3400) ? (213.16, 0x1754) : 1819 !== (+"2690", 8550) ? "T" : 0x17ed) != -1) {
      v7[2] = v7[+"2"].substring(0, v7[2].indexOf( false ? undefined : "T"));
    }

    t$ = parseFloat(v7[2], 10);

    if (t$ < 20) {
      t$ += 2000;
    }

    if (v7[0].length == 4) {
      t$ = parseFloat(v7["0" ^ 0], 10);
      t$G.i3C(14);
      v7[+"0"] = v7[t$G.k$A(0, "1")];
      v7[1] = v7[2];
    }

    t$G.i3C(25);
    var O7T = t$G.B0m(6, 11, 65);
    t$G.a3e(38);
    t$G.j07();
    return new Date(t$, v7[0] - O7T, v7[t$G.k$A("1", 1)]);
  };

  Q6.dateToStr = function (j_, P3) {
    var n5z, N6, P_, o2, p4;
    n5z = "S";
    n5z += "S";
    n5z += "S";

    N6 = function N6(U2) {
      t$G.j07();
      return P3.includes(U2);
    };

    P_ = function P_(r_) {
      var O$ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
      return (((8070, +"80.24") != 7960 ? (912.72, +"368.12") >= ("3470" - 0, 385.35) ? 955 : 6910 != ("6639" | 12) ? "0" : 910.78 : !1).repeat(O$) + r_).slice(-O$);
    };

    o2 = function o2(n3, M1) {
      return P3 = P3.replace(n3, M1);
    };

    p4 = function p4(C1, t3) {
      return C1 > t3 ? C1 - t3 : C1;
    };

    if (N6("YYYY")) {
      o2(/YYYY/g, j_.getFullYear());
    }

    t$G.E0w();

    if (N6("MM")) {
      o2(/MM/g, P_(j_.getMonth() + +"1"));
    }

    if (N6("dd")) {
      o2(/dd/g, P_(j_.getDate()));
    }

    if (N6("HH")) {
      o2(/HH/g, P_(j_.getHours()));
    }

    if (N6("hh")) {
      o2(/hh/g, P_(p4(j_.getHours() || 12, 12)));
    }

    if (N6("mm")) {
      o2(/mm/g, P_(j_.getMinutes()));
    }

    if (N6("ss")) {
      o2(/ss/g, P_(j_.getSeconds()));
    }

    if (N6(n5z)) {
      o2(/SSS/g, P_(j_.getMilliseconds(), 3));
    }

    return P3;
  };

  Q6.mmddyyyy = function (V_) {
    var e9, N3;

    if (typeof V_ === "string") {
      V_ = Q6.strToDate(V_);
    }

    t$G.i3C(8);
    var X89 = t$G.k$A(31, 17, 15);
    e9 = V_.getMonth() + X89;

    if (e9 < "10" - 0) {
      t$G.a3e(4);
      e9 = t$G.B0m(e9, 5380 === (5913, 7360) ? ("L", 7.06) : "0");
    }

    N3 = V_.getDate();

    if (N3 < 10) {
      t$G.a3e(4);
      N3 = t$G.k$A(N3, 6681 <= 7500 ?  true ? "0" : undefined : ("I", 367.07));
    }

    t$G.i3C(60);
    var h4H = t$G.k$A(13, 3113, 15573, 6, 18);
    t$G.E0w();
    t$G.i3C(4);
    var v_K = t$G.k$A(11, 9269);
    t$G.i3C(1);
    var G7f = t$G.k$A(38160, 42930);
    t$G.a3e(61);
    var C$c = t$G.B0m(20, 3546, 35460, 1980);
    t$G.i3C(62);
    var C8B = t$G.k$A(2, 975, 12, 1955, 5);
    t$G.i3C(1);
    var f2$ = t$G.B0m(21200, 23850);
    t$G.a3e(63);
    var R1R = t$G.k$A(704, 62, 359, 1, 14);
    t$G.i3C(25);
    var O1w = t$G.B0m(20, 5391, 102440);
    t$G.i3C(55);
    var X7P = t$G.k$A(2, 3320, 422, 3, 4);
    t$G.i3C(4);
    var V_i = t$G.k$A(10, 5500);
    t$G.a3e(64);
    var B5z = t$G.B0m(9, 17, 324509, 19470);
    t$G.a3e(25);
    var a10 = t$G.k$A(13, 991, 11912);
    return e9 + ((737.39, h4H) === (v_K, G7f) ? (C$c, 305.12) === 844.6 ? C8B : ("0x158b" ^ 0, f2$) : "/") + N3 + (("4731" << R1R, O1w) === ("1203" ^ 0) ? (X7P, V_i) != ("6820" - 0, 16.8) ? (B5z, a10) <= 182.61 ? (246.23, !1) : ("J", +"332.67") : 376.53 : "/") + V_.getFullYear();
  };

  Q6.yyyymmdd = function (R$) {
    var a7, C7;
    t$G.E0w();
    t$G.a3e(0);
    var a61 = t$G.B0m(2, 8, 17);
    a7 = R$.getMonth() + a61;

    if (a7 < 10) {
      t$G.i3C(4);
      a7 = t$G.k$A(a7, (+"9250", +"842.6") <= (904.68, 293.14) ? 464.56 == (+"222.11", 618) ? (!{}, +"8.39e+3") : 3914 > "536.85" * 1 ? (8.26e+3, 0x10a4) : +"876.66" : "0");
    }

    C7 = R$.getDate();

    if (C7 < 10) {
      t$G.a3e(4);
      C7 = t$G.k$A(C7,  false ? (undefined) : 3521 != (4613, 936) ? "0" : "9962" >> 64 == 2680 ? !1 : (2.56e+3, 0xe96));
    }

    return R$.getFullYear() + "-" + a7 + "-" + C7;
  };

  Q6.hhmm = function (m9) {
    var i8, z5;
    t$G.E0w();
    i8 = m9.getHours();

    if (i8 < +"10") {
      t$G.i3C(4);
      i8 = t$G.B0m(i8, 316.85 == ("2004" - 0, 1810) ? (867.01, !!0) : "0");
    }

    z5 = m9.getMinutes();

    if (z5 < "10" * 1) {
      t$G.a3e(4);
      z5 = t$G.k$A(z5, (835.37, 7906) <= ("612.98" - 0, 8610) ? "0" : (122.86, 926) === 386 ? 717.92 : (7.45e+3, "0x1975" | 20));
    }

    t$G.a3e(50);
    return t$G.k$A(":", i8, z5);
  };

  Q6.hhmmss = function (d9) {
    var B9;
    B9 = d9.getSeconds();

    if (B9 < 10) {
      t$G.a3e(4);
      B9 = t$G.k$A(B9, +"381.5" == 656 ? 0x22f7 : (519.24, 9260) !== 184 ? "0" : 3200 > "268.76" * 1 ? ("G", "z") : 0x601);
    }

    return Q6.hhmm(d9) + ":" + B9;
  };

  Q6.yyyymmddhhmm = function (y6) {
    t$G.j07();
    return Q6.yyyymmddhhmmssmmm(y6).substr(0, 12);
  };

  Q6.yyyymmddhhmmssmmm = function (f9) {
    var P_R, h7, z1, Z7, T4, W7, i3;
    P_R = "0";
    P_R += "0";
    t$G.a3e(8);
    var d8E = t$G.k$A(18, 0, 19);
    t$G.j07();
    h7 = f9.getMonth() + d8E;

    if (h7 < 10) {
      t$G.i3C(4);
      h7 = t$G.k$A(h7, +"2118" != 4470 ? ("9535" ^ 0) == 270.48 ? 0xf49 : "0" : "T");
    }

    z1 = f9.getDate();

    if (z1 < 10) {
      t$G.a3e(4);
      z1 = t$G.B0m(z1, "0");
    }

    Z7 = f9.getHours();

    if (Z7 < 10) {
      t$G.a3e(4);
      Z7 = t$G.k$A(Z7, "0");
    }

    T4 = f9.getMinutes();

    if (T4 < 10) {
      t$G.i3C(4);
      T4 = t$G.B0m(T4, "0");
    }

    W7 = f9.getSeconds();

    if (W7 < 10) {
      t$G.a3e(4);
      W7 = t$G.k$A(W7, "0");
    }

    i3 = f9.getMilliseconds();

    if (i3 < 10) {
      t$G.i3C(4);
      i3 = t$G.B0m(i3, P_R);
    } else if (i3 < 100) {
      t$G.i3C(4);
      i3 = t$G.B0m(i3, "0");
    }

    return "" + f9.getFullYear() + h7 + z1 + Z7 + T4 + W7 + i3;
  };

  Q6.friendlyDate = function (T9) {
    return Q6.dateToStr(T9, "YYYY/MM/dd HH:mm");
  };

  Q6.mmddhhmm = function (n4) {
    var z_q, n0Z, a1c, Z3, X6, P7, n6, g2, S5, R4;
    z_q = "00";
    z_q += "0";
    n0Z = "0";
    n0Z += "0";
    t$G.j07();
    a1c = "0";
    a1c += "0";
    a1c += "0";
    Z3 = Q6.strToDateTime(n4);
    t$G.i3C(20);
    var T3w = t$G.k$A(19, 3, 0, 21);
    X6 = Z3.getMonth() + T3w;

    if (X6 < 10) {
      t$G.a3e(4);
      X6 = t$G.k$A(X6, 1980 >= 5400 ? 0x918 : (+"2910", 193.15) > (5250, 104) ? "0" : (+"813.86", 0x1756));
    }

    P7 = Z3.getDate();

    if (P7 < 10) {
      t$G.i3C(4);
      P7 = t$G.k$A(P7, (6047, +"71.33") > (1924, 2770) ? (888.64, 2154) !== ("595.58" * 1, 5580) ? (352.87, "L") : (0x258a, "Q") : "0");
    }

    n6 = Z3.getHours();

    if (n6 < 10) {
      t$G.i3C(4);
      n6 = t$G.k$A(n6, "0");
    }

    g2 = Z3.getMinutes();

    if (g2 < 10) {
      t$G.a3e(4);
      g2 = t$G.B0m(g2, "0");
    }

    S5 = Z3.getSeconds();

    if (S5 < 10) {
      t$G.i3C(4);
      S5 = t$G.B0m(S5, "0");
    }

    R4 = Z3.getMilliseconds();

    if (R4 < 10) {
      t$G.i3C(4);
      R4 = t$G.B0m(R4, "00");
    } else if (R4 < 100) {
      t$G.a3e(4);
      R4 = t$G.k$A(R4, 582.4 != (+"7870", +"968.16") ? "0" : 692.8 !== (765.56, 3101) ? (1.30e+3, !!{}) : ("F", "P"));
    }

    if (n6 == "00" && g2 == "00" && S5 == "00" && R4 == a1c) {
      t$G.i3C(65);
      var h4g = t$G.B0m(4513, 4519, 4513, 1, 1);
      t$G.i3C(6);
      var z3w = t$G.k$A(5987, 5, 4, 1041);
      t$G.a3e(66);
      var V40 = t$G.k$A(112428, 12492, 12, 2, 6247);
      t$G.a3e(67);
      var X9w = t$G.B0m(2, 655699, 8, 82608);
      t$G.a3e(1);
      var Q4l = t$G.k$A(8, 907);
      t$G.i3C(23);
      var V9m = t$G.k$A(2, 406, 4, 7105);
      t$G.i3C(29);
      var C9E = t$G.k$A(2620, 262, 2600);
      return X6 + "-" + P7 + ((916.63, h4g) <= (z3w, V40) ? "-" : (X9w, Q4l) > (V9m, 915.49) ? (C9E, !!1) : "C") + Z3.getFullYear();
    }

    if (S5 == n0Z && R4 == z_q) {
      t$G.i3C(68);
      return t$G.B0m(("6610" - 0, 8190) !== 214.83 ? (8560, 94.66) >= 992 ? 0x239d : (1880, 87.42) == 3188 ? 376.55 : " " : (!"", ![]), n6, g2, X6,  false ? undefined : 7464 == (9457, 5774) ? ("t", "F") : (963.15, "5380" << 0) >= (8555, +"311.4") ? "-" : (!"1", 97.66), (6800, 879) === 3730 ? "0x1918" - 0 : (9911, 5980) !== 942.93 ? ":" : (8.34e+3, !!"1"), P7);
    }

    if (R4 == "000") {
      t$G.a3e(69);
      return t$G.B0m(":", P7, n6, g2, "1150" << 0 < (670, 1390) ? " " : 4.01e+3, X6, ("8347" | 25, 2280) == (6214, 273) ? 56.27 : (730, 973.73) != (8000, 7442) ? ":" : "G", S5, "-");
    }

    t$G.i3C(70);
    return t$G.k$A(S5, 245.15 >= (129.73, 426) ? 7490 != ("6769" >> 32, 460) ? (1527, 976.53) >= 21.53 ? "I" : !!"" : (5.83e+3, !!{}) : ":", " ", R4, X6, ":", "-", g2, P7, n6, ":");
  };

  Q6.getYearDay = function (c2) {
    var S9, W2, L9, g5, q4;
    S9 = c2;

    if (!S9) {
      S9 = new Date();
    }

    t$G.i3C(71);
    S9.setHours(+"0", t$G.B0m("0", 64), 0, 0);
    W2 = new Date(S9.getFullYear(), 0, 0);
    t$G.i3C(1);
    L9 = t$G.k$A(W2, S9);
    t$G.i3C(72);
    g5 = t$G.B0m(60, 60, 24, 1000);
    t$G.a3e(40);
    q4 = Math.round(t$G.B0m(L9, g5));
    return q4;
  };

  Q6.getETDateTime = function () {
    var S9C, F9;
    S9C = "U";
    S9C += "T";
    S9C += "C";
    F9 = new Date();
    t$G.E0w();
    return Q6.convertTimeZone(new Date(F9.getTime() + F9.getTimezoneOffset() * 60000), S9C, "America/New_York");
  };

  Q6.fromET = function (k2) {
    var W9, D_, q_, R6;
    W9 = new Date();
    t$G.i3C(13);
    D_ = t$G.k$A("4", 0);

    if (W9.getMonth() < 2 || W9.getMonth() == 2 && W9.getDate() < 11 || W9.getMonth() > 10 || W9.getMonth() == 10 && W9.getDate() >= 4) {
      D_ = 5;
    }

    t$G.a3e(7);
    var z5A = t$G.B0m(3599990, 21, 11);
    t$G.j07();
    q_ = k2.getTime() + z5A * D_;
    R6 = new Date(q_);
    return R6;
  };

  Q6.monthAsDisplay = function (Z1, K2, I_) {
    if (K2) {
      if (I_ && I_.monthLetters) {
        return I_.monthLetters[Z1];
      }

      return Q6.monthLetters[Z1];
    }

    t$G.E0w();

    if (I_ && I_.monthAbv) {
      return I_.monthAbv[Z1];
    }

    return Q6.monthAbv[Z1];
  };

  Q6.timeAsDisplay = function (a4, r1, m5) {
    var F8, f0, B6, f4, n_V, s7n, i8r, n2s, K7, z8W, c5I, A4C;
    F8 = r1 ? r1.internationalizer : null;

    if (F8) {
      if (m5 == Q6.SECOND) {
        return F8.hourMinuteSecond.format(a4);
      } else if (m5 == Q6.MILLISECOND) {
        return F8.hourMinuteSecond.format(a4) + "." + a4.getMilliseconds();
      }

      return F8.hourMinute.format(a4);
    }

    f0 = a4.getMinutes();

    if (f0 < 10) {
      t$G.i3C(4);
      f0 = t$G.B0m(f0, "0");
    }

    t$G.a3e(73);
    var Y_t = t$G.B0m(2, 11, 155, 7);
    t$G.a3e(74);
    var w7s = t$G.B0m(14, 13, 2, 3663, 16);
    t$G.a3e(36);
    var D_6 = t$G.B0m(17, 66800, 2, 6544, 16700);
    t$G.i3C(4);
    var j6f = t$G.B0m(8829, 981);
    t$G.a3e(4);
    var W7f = t$G.k$A(5559, 618);
    B6 = a4.getHours() + ((553.11, "257.09" * Y_t) < (w7s, +"6563") ? ":" : (D_6, j6f) <= 546.93 ? (W7f, !1) : (565.35, ![])) + f0;
    f4 = "";

    if (m5 <= Q6.SECOND) {
      n_V = -915119076;
      s7n = 274111572;
      i8r = 2;

      for (var E7$ = "1" | 1; t$G.b3_(E7$.toString(), E7$.toString().length, 25106) !== n_V; E7$++) {
        f4 = a4.getSeconds();

        if (f4 < 10) {
          t$G.a3e(4);
          f4 = t$G.B0m(f4, "8730" << 32 != 4112 ? "0" : 9.84e+3);
        }

        i8r += 2;
      }

      if (t$G.m7$(i8r.toString(), i8r.toString().length, 45838) !== s7n) {
        f4 = a4.getSeconds();

        if (f4 <= 79) {
          t$G.a3e(1);
          f4 = t$G.k$A(f4,  false ? undefined : 4894070);
        }
      }

      t$G.i3C(4);
      B6 += t$G.B0m(f4, 2362 >= "9537" << 64 ? 123.12 : (851.77, 310) === (+"5720", 545.9) ? 0x1b7c : ":");
    }

    if (m5 == Q6.MILLISECOND) {
      n2s = "0";
      n2s += "0";
      K7 = a4.getMilliseconds();

      if (K7 < 10) {
        t$G.a3e(4);
        K7 = t$G.B0m(K7, n2s);
      } else if (K7 < 100) {
        t$G.i3C(4);
        K7 = t$G.B0m(K7, (2782, 103) > (+"5.47", "5610" ^ 0) ? (2.91e+3, 406.75) : "0");
      }

      z8W = 34505986;
      c5I = -2091249740;
      A4C = +"2";

      for (var i5D = 1; t$G.m7$(i5D.toString(), i5D.toString().length, 30647) !== z8W; i5D++) {
        t$G.i3C(1);
        B6 %= t$G.k$A(K7, 4497 >= 2799 ? !"" : "");
        A4C += 2;
      }

      if (t$G.m7$(A4C.toString(), A4C.toString().length, "74145" ^ 0) !== c5I) {
        t$G.i3C(40);
        B6 /= t$G.k$A(1732 > 2369 ? ![] : "", K7);
      }

      t$G.a3e(4);
      B6 += t$G.k$A(K7, ("8860" ^ 0) < "1327" >> 64 ? ![] : ".");
    }

    return B6;
  };

  Q6.displayableDate = function (f5, G2, w9, F3) {
    var d8, Q_, X9, H0, q0, l0, V3, G7, H1, A2, B1, s9;
    d8 = "";
    Q_ = f5.layout.interval;

    function n0(W4) {
      if (W4 < 10) {
        t$G.i3C(4);
        return t$G.k$A(W4, "0");
      }

      return W4;
    }

    X9 = Q6.ChartEngine.isDailyInterval(Q_);
    H0 = G2.xAxis.activeTimeUnit && G2.xAxis.activeTimeUnit <= Q6.SECOND || f5.layout.timeUnit == "second";
    q0 = G2.xAxis.activeTimeUnit && G2.xAxis.activeTimeUnit <= Q6.MILLISECOND || f5.layout.timeUnit == "millisecond";

    if (G2.xAxis.formatter) {
      d8 = G2.xAxis.formatter(w9);
    } else if (f5.internationalizer) {
      d8 = f5.internationalizer.monthDay.format(w9);

      if (H0 || q0) {
        d8 += " " + f5.internationalizer.hourMinuteSecond.format(w9);

        if (q0) {
          t$G.a3e(75);
          var d9v = t$G.k$A(5, 15, 21200, 2, 1591);
          t$G.i3C(76);
          var R8z = t$G.k$A(29320, 4, 3665);
          t$G.i3C(77);
          var M$1 = t$G.k$A(15, 11, 623, 6853);
          t$G.a3e(76);
          var E0k = t$G.k$A(40644, 3, 6774);
          d8 += ((d9v, R8z) == M$1 ? ("d", E0k) : ".") + w9.getMilliseconds();
        }
      } else if (!X9) {
        if (F3) {
          d8 = f5.internationalizer.yearMonthDay.format(w9);
        }

        d8 += " " + f5.internationalizer.hourMinute.format(w9);
      } else {
        if (Q_ == "month") {
          d8 = f5.internationalizer.yearMonth.format(w9);
        } else {
          d8 = f5.internationalizer.yearMonthDay.format(w9);
        }
      }
    } else {
      l0 = n0(w9.getMonth() + 1);
      V3 = n0(w9.getDate());
      G7 = n0(w9.getHours());
      H1 = n0(w9.getMinutes());

      if (X9) {
        d8 = Q_ == "month" ? l0 + "/" : l0 + "/" + V3 + "/";
        d8 += w9.getFullYear();
      } else {
        t$G.i3C(50);
        A2 = t$G.B0m(("1010" << 64, 3269) > ("464" << 64, 7236) ? (5358, 710.91) >= +"1060" ? (0xd1a, !![]) : 99.30 : "/", l0, V3);

        if (F3) {
          t$G.a3e(78);
          var X6B = t$G.B0m(20, 13, 120101, 20, 9987);
          t$G.a3e(1);
          var i45 = t$G.B0m(155680, 165410);
          t$G.i3C(1);
          var I4C = t$G.k$A(17, 3597);
          t$G.a3e(67);
          var H0b = t$G.B0m(4, 1592436, 11, 145650);
          t$G.i3C(4);
          var Q8b = t$G.k$A(201, 15);
          t$G.i3C(79);
          var g$a = t$G.k$A(43450, 2, 12, 16, 343746);
          t$G.i3C(61);
          var D9z = t$G.B0m(17, 379, 1516, 1513);
          t$G.a3e(78);
          var N8n = t$G.k$A(15, 4, 91, 20, 13);
          t$G.a3e(34);
          var F0Y = t$G.B0m(15, 61475, 66220);
          A2 += ((884.6, X6B) === (i45, I4C) ? (H0b, Q8b) < (g$a, D9z) ? "1.63e+3" * N8n : (+"288.90", F0Y) : "/") + w9.getFullYear();
        }

        t$G.i3C(80);
        d8 = t$G.B0m(H1, A2, ("251" ^ 0, 2490) === +"6791" ? ("P", 0x1fff) : 4000 != (564.06, "548" << 0) ? (9930, 8108) <= (9660, 2892) ? (294.63, 921.38) : " " : ("R", !0), G7, ":");

        if (H0 || q0) {
          B1 = n0(w9.getSeconds());
          t$G.a3e(4);
          d8 += t$G.k$A(B1,  true ? ":" : (undefined));

          if (q0) {
            s9 = n0(w9.getMilliseconds());

            if (s9 < "100" - 0) {
              t$G.a3e(4);
              s9 = t$G.k$A(s9, (749.44, 9720) !== 139.69 ? (9792, 4620) < (670.21, 421.46) ? 0x1ed2 : (364, 747.71) >= 5460 ? ("v", !!0) : "0" : ("S", 31.53));
            }

            t$G.i3C(4);
            d8 += t$G.B0m(s9, ":");
          }
        }
      }
    }

    return d8;
  };

  Q6.convertTimeZone = function (n1, G4, z3) {
    var s5;

    if (!n8.Date) {
      return n1;
    }

    t$G.j07();
    s5 = new n8.Date(n1.getFullYear(), n1.getMonth(), n1.getDate(), n1.getHours(), n1.getMinutes(), n1.getSeconds(), n1.getMilliseconds(), G4);
    s5.setTimezone(z3);
    return s5;
  };

  Q6.convertToLocalTime = function (X0, t4) {
    t$G.E0w();
    var Z$, B5, Y1;

    if (!n8.Date) {
      return X0;
    }

    Z$ = X0.getSeconds();
    B5 = X0.getMilliseconds();
    Y1 = new n8.Date(X0.getFullYear(), X0.getMonth(), X0.getDate(), X0.getHours(), X0.getMinutes(), t4);
    t$G.a3e(81);
    var N6T = t$G.k$A(7, 17, 1020, 739, 4);
    return new Date(Y1.getTime() + Z$ * N6T + B5);
  };
};

Q = function Q(a_) {
  var C5, p_, _r, m$, j5e;

  if (!a_.SplinePlotter) {
    a_.SplinePlotter = {};
  }

  C5 = a_.CIQ;
  p_ = a_.SplinePlotter;

  _r = function r9(t8, e1) {
    var K0;

    if (!e1) {
      return document.getElementById(t8);
    }

    if (e1.id == t8) {
      return e1;
    }

    if (!e1.hasChildNodes) {
      return null;
    }

    M2dNJ.j07();

    for (var k5 = 0; k5 < e1.childNodes.length; k5++) {
      K0 = _r(t8, e1.childNodes[k5]);

      if (K0) {
        return K0;
      }
    }

    return null;
  };

  a_.$$ = _r;

  m$ = function m$(x6, U3) {
    if (!U3) {
      U3 = document;
    }

    M2dNJ.E0w();
    return U3.querySelectorAll(x6)[0];
    ;
  };

  a_.$$$ = m$;

  C5.wheelEvent = function () {
    var c8q, q43;
    M2dNJ.E0w();
    c8q = "DOM";
    c8q += "MouseScroll";
    q43 = "wh";
    q43 += "eel";

    if (typeof document === "undefined") {
      return undefined;
    }

    if (C5.isIE || "onwheel" in document.createElement("div")) {
      return q43;
    }

    if (document.onmousewheel !== undefined) {
      return "mousewheel";
    }

    return c8q;
  }();

  C5.newChild = function (z$, H8, z4, D$) {
    var Z2;
    Z2 = document.createElement(H8);

    if (z4) {
      Z2.className = z4;
    }

    M2dNJ.E0w();
    z$.appendChild(Z2);

    if (D$) {
      Z2.innerHTML = D$;
    }

    return Z2;
  };

  C5.innerHTML = function (A$, R0) {
    M2dNJ.E0w();

    if (window.MSApp && window.MSApp.execUnsafeLocalFunction) {
      window.MSApp.execUnsafeLocalFunction(function () {
        M2dNJ.E0w();
        A$.innerHTML = R0;
      });
    } else {
      A$.innerHTML = R0;
    }
  };

  C5.focus = function (M$, s6) {
    var Z5;

    if (C5.isSurface || s6) {
      Z5 = 0;

      if (!isNaN(parseInt(s6, 10))) {
        Z5 = s6;
      }

      setTimeout(function () {
        M$.focus();
      }, Z5);
    } else {
      M$.focus();
    }
  };

  C5.blur = function (W3) {
    if (!W3) {
      W3 = document.activeElement;
    }

    if (W3) {
      W3.blur();
    }

    window.focus();
  };

  C5.findNodesByText = function (c8, L6) {
    var k4, I2;

    if (c8.innerHTML == L6) {
      return [c8];
    }

    k4 = [];

    for (var E$ = 0; E$ < c8.childNodes.length; E$++) {
      I2 = C5.findNodesByText(c8.childNodes[E$], L6);

      if (I2) {
        k4 = k4.concat(I2);
      }
    }

    M2dNJ.j07();

    if (k4.length) {
      return k4;
    }

    return null;
  };

  C5.hideByText = function (m6, N0) {
    M2dNJ.j07();
    var j2;
    j2 = C5.findNodesByText(m6, N0);

    for (var J6 = "0" - 0; J6 < j2.length; J6++) {
      j2[J6].style.display = "none";
    }
  };

  C5.pageHeight = function () {
    var _window = window,
        h5 = _window.innerHeight,
        w1 = _window.top,
        l9 = _window.parent,
        Q2 = _window.self;

    if (w1 != Q2) {
      try {
        if (h5 > l9.innerHeight) {
          h5 = l9.innerHeight;
        }
      } catch (s3) {}
    }

    return h5;
  };

  C5.pageWidth = function () {
    var s3p, e6I, H_5;
    s3p = -1758466683;
    e6I = 2014547919;
    H_5 = 2;

    for (var p3P = 1; M2dNJ.m7$(p3P.toString(), p3P.toString().length, 48774) !== s3p; p3P++) {
      var _window2 = window,
          i4 = _window2.innerWidth,
          n7 = _window2.top,
          a6 = _window2.parent,
          u6 = _window2.self;
      H_5 += 2;
    }

    if (M2dNJ.b3_(H_5.toString(), H_5.toString().length, +"72411") !== e6I) {
      var _window3 = window,
          i4 = _window3.innerWidth,
          n7 = _window3.top,
          a6 = _window3.parent,
          u6 = _window3.self;
    }

    if (n7 != u6) {
      try {
        if (i4 > a6.innerWidth) {
          i4 = a6.innerWidth;
        }
      } catch (J$) {}
    }

    return i4;
  };

  C5.stripPX = function (h_) {
    M2dNJ.j07();
    var R$P;
    R$P = "nu";
    R$P += "m";
    R$P += "b";
    R$P += "er";

    if (!h_) {
      return 0;
    }

    if (_typeof(h_) == R$P) {
      return h_;
    }

    return parseInt(h_.substr(0, h_.indexOf(6678 < (7280, 4114) ? (+"0x1649", "L") : (+"307.24", 5577) >= ("7624" * 1, 8960) ? 7393 <= 483.85 ? (0xc0c, 382.67) : (2.33e+3, 244.38) : "p")), 10);
  };

  C5.withinElement = function (D6, W_, Y8) {
    var I$z = M2dNJ;
    I$z.E0w();
    var k7, o5u, q9X, s0y;
    k7 = D6.getBoundingClientRect();
    I$z.a3e(14);
    o5u = -I$z.k$A(10, "1551563694");
    q9X = -914176711;
    s0y = 2;

    for (var Q5h = 1; I$z.m7$(Q5h.toString(), Q5h.toString().length, 89031) !== o5u; Q5h++) {
      if (W_ >= k7.left) {
        return !!{};
      }

      I$z.i3C(71);
      s0y += I$z.k$A("2", 0);
    }

    if (I$z.m7$(s0y.toString(), s0y.toString().length, +"68863") !== q9X) {
      if (W_ <= k7.left) {
        return !{};
      }
    }

    if (Y8 <= k7.top) {
      return ![];
    }

    if (W_ >= k7.left + D6.offsetWidth) {
      return ![];
    }

    if (Y8 >= k7.top + D6.offsetHeight) {
      return !!"";
    }

    return !!{};
  };

  C5.efficientDOMUpdate = function (d2, z8, u4) {
    M2dNJ.E0w();

    if (d2[z8] !== u4) {
      d2[z8] = u4;
      return !!1;
    }

    return !{};
  };

  C5.cqvirtual = function (C6) {
    var f8;

    if (!C6) {
      return;
    }

    f8 = C6.cloneNode(!![]);
    f8.innerHTML = "";
    f8.original = C6;
    return f8;
  };

  C5.cqrender = function (Q1) {
    var U1;

    if (!Q1) {
      return;
    }

    M2dNJ.j07();

    if (Q1.innerHTML == Q1.original.innerHTML) {
      return Q1.original;
    }

    C5.removeChildIfNot(Q1.original, "template");
    U1 = Array.from(Q1.children);

    if (U1.length) {
      U1.forEach(function (j1) {
        Q1.original.appendChild(Q1.removeChild(j1));
      });
    }

    return Q1.original;
  };

  C5.removeChildIfNot = function (T5, B4) {
    var i_;
    i_ = Array.from(T5.children);

    if (i_.length) {
      i_.forEach(function (z6) {
        M2dNJ.j07();

        if (!B4 || !z6.matches(B4)) {
          T5.removeChild(z6);
        }
      });
    }

    return T5;
  };

  C5.safeMouseOut = function (i5, r5) {
    i5.addEventListener("mouseout", Y_(i5, r5));

    function Y_(N1, I9) {
      return function (h8) {
        if (typeof h8.pageX == "undefined") {
          h8.pageX = h8.clientX;
          h8.pageY = h8.clientY;
        }

        M2dNJ.E0w();

        if (C5.withinElement(N1, h8.pageX, h8.pageY)) {
          return;
        }

        N1.stxMouseOver = !{};
        I9(h8);
      };
    }
  };

  C5.safeMouseOver = function (K4, b4) {
    K4.addEventListener("mouseover", o5(K4, b4));

    function o5(E2, N2) {
      return function (X1) {
        if (typeof X1.pageX == "undefined") {
          X1.pageX = X1.clientX;
          X1.pageY = X1.clientY;
        }

        M2dNJ.E0w();

        if (C5.withinElement(E2, X1.pageX, X1.pageY)) {
          if (E2.stxMouseOver) {
            return;
          }

          E2.stxMouseOver = !0;
          N2(X1);
        }
      };
    }
  };

  C5.installTapEvent = function (M3, r$) {
    var T6;
    M2dNJ.j07();

    T6 = function T6(F4) {
      var V93, o_;
      V93 = "un";
      V93 += "def";
      V93 += "ined";
      o_ = new Event("stxtap", {
        bubbles: !0,
        cancelable: !![]
      });

      if (_typeof(F4.pageX) == V93) {
        F4.pageX = F4.clientX;
        F4.pageY = F4.clientY;
      }

      o_.pageX = F4.pageX;
      o_.pageY = F4.pageY;
      F4.target.dispatchEvent(o_);
      M2dNJ.E0w();

      if (r$ && r$.stopPropagation) {
        F4.stopPropagation();
      }
    };

    C5.safeClickTouch(M3, T6, r$);
  };

  C5.safeClickTouch = function (u2, s8, T3) {
    var A6Y, l5j, k6, e3, P9, U6, M9, a5, L7, P6, r8I, S5f, V3n;
    A6Y = "o";
    A6Y += "npointer";
    A6Y += "u";
    A6Y += "p";
    l5j = "mouse";
    l5j += "u";
    l5j += "p";

    function H5(c3, S3) {
      return function (p8) {
        var w8, p7;
        w8 = p8.clientX ? p8.clientX : p8.pageX;
        p7 = p8.clientY ? p8.clientY : p8.pageY;

        if (S3) {
          c3.t = new Date().getTime();
          c3.x = w8;
          c3.y = p7;
        } else if (c3.x) {
          if (Math.pow(c3.x - w8, 2) + Math.pow(c3.y - p7, 2) > +"16") {
            c3.t = null;
          }
        }
      };
    }

    if (!T3) {
      T3 = {};
    }

    function w4(p9, z7, t2) {
      return function (f6) {
        var k_;

        if (!C5.safeClickTouchEvent) {
          if (!t2.t) {
            return;
            ;
          }

          k_ = t2.t;
          t2.t = null;

          if (k_ + 1000 < new Date().getTime()) {
            return;
          }

          ;
        }

        if (z7.safety && z7.safety.recentlyDragged) {
          return;
        }

        if (f6.which && f6.which >= 2 || f6.button && f6.button >= 2) {
          return;
        }

        if (z7.preventUnderlayClick) {
          if (f6.target.tagName !== "INPUT") {
            f6.preventDefault();
          }
        } else {
          if (z7.lastType != p9 && Date.now() < z7.allowAnotherDevice) {
            return;
          }

          z7.lastType = p9;
          z7.allowAnotherDevice = Date.now() + +"1000";
          ;
        }

        s8(f6);
      };
    }

    k6 = {};

    if (!T3.allowMultiple) {
      C5.clearSafeClickTouches(u2);
    }

    if (T3.preventUnderlayClick !== ![]) {
      T3.preventUnderlayClick = !!1;
    }

    if (T3.absorbDownEvent !== ![]) {
      T3.absorbDownEvent = !![];
    }

    T3.allowAnotherDevice = 0;
    T3.registeredClick = !"1";
    e3 = u2.safeClickTouchEvents;

    if (!e3) {
      e3 = u2.safeClickTouchEvents = [];
    }

    P9 = w4(l5j, T3, k6);
    U6 = w4("touchend", T3, k6);
    M9 = w4("pointerup", T3, k6);

    a5 = function a5(O2) {
      M2dNJ.E0w();
      O2.stopPropagation();
    };

    L7 = {};

    if (C5.safeClickTouchEvent) {
      P6 = w4(C5.safeClickTouchEvent, T3);
      u2.addEventListener(C5.safeClickTouchEvent, P6);
      L7[C5.safeClickTouchEvent] = P6;
      e3.push(L7);
    } else if (A6Y in document && !C5.noPointerEvents) {
      u2.addEventListener("pointerdown", H5(k6, !0));
      u2.addEventListener("pointermove", H5(k6));
      u2.addEventListener("pointerup", M9);
      L7.pointerup = M9;

      if (T3.absorbDownEvent) {
        r8I = "poi";
        r8I += "nterdow";
        r8I += "n";
        u2.addEventListener(r8I, a5);
        L7.pointerdown = a5;
      }

      e3.push(L7);
    } else {
      S5f = "t";
      S5f += "ouchmove";
      u2.addEventListener("mousedown", H5(k6, !!{}));
      u2.addEventListener("mousemove", H5(k6));
      u2.addEventListener("touchstart", H5(k6, !!"1"));
      u2.addEventListener(S5f, H5(k6));
      u2.addEventListener("mouseup", P9);
      u2.addEventListener("touchend", U6);
      L7.mouseup = P9;
      L7.touchend = U6;

      if (T3.absorbDownEvent) {
        V3n = "m";
        V3n += "oused";
        V3n += "own";
        u2.addEventListener(V3n, a5);
        L7.mousedown = a5;
        u2.addEventListener("touchstart", a5);
        L7.touchstart = a5;
      }

      e3.push(L7);
    }
  };

  C5.clearSafeClickTouches = function (d1) {
    var S_, R5, L8;
    S_ = d1.safeClickTouchEvents;

    if (!S_) {
      return;
    }

    for (var o0 = 0; o0 < S_.length; o0++) {
      R5 = S_[o0];

      for (var I$ in R5) {
        L8 = R5[I$];
        d1.removeEventListener(I$, L8);
      }
    }

    d1.safeClickTouchEvents = null;
  };

  C5.safeDrag = function (k9, S$) {
    var F6D = M2dNJ;
    var V1H, D08, M9X, K_j, t6, y8, G8, a3, I5, K9, Z4, u7;
    V1H = "t";
    V1H += "ouc";
    V1H += "h";
    V1H += "move";
    D08 = "p";
    F6D.E0w();
    D08 += "oint";
    D08 += "er";

    function I4(y9) {
      return function (F5) {
        var G5, _l;

        if (I5) {
          return;
        }

        I5 = !"";
        C5.ChartEngine.ignoreTouch = !"";

        G5 = function G5(i$) {
          if (i$ && i$.preventDefault) {
            i$.preventDefault();
          }

          u7.recentlyDragged = !![];
          i$.displacementX = y8(i$) - K9;
          i$.displacementY = G8(i$) - Z4;
          S$.move(i$);
        };

        if (S$.move) {
          document.body.addEventListener(y9.move, G5);
        }

        _l = function l4(i9) {
          C5.ChartEngine.ignoreTouch = ![];

          if (S$.move) {
            document.body.removeEventListener(y9.move, G5);
          }

          document.body.removeEventListener(y9.up, _l);
          i9.displacementX = y8(i9) - K9;
          i9.displacementY = G8(i9) - Z4;

          if (S$.up) {
            S$.up(i9);
          }

          F6D.E0w();
          setTimeout(function () {
            F6D.j07();
            u7.recentlyDragged = !!"";
          }, +"50");
        };

        document.body.addEventListener(y9.up, _l);
        setTimeout(function () {
          F6D.j07();
          I5 = !!0;
        }, a3);
        F6D.j07();
        K9 = y8(F5);
        Z4 = G8(F5);

        if (S$.down) {
          S$.down(F5);
        }
      };
    }

    D08 += "down";
    M9X = "cl";
    M9X += "i";
    M9X += "e";
    M9X += "ntX";
    K_j = "pa";
    K_j += "geX";

    t6 = function t6(E8, B$) {
      F6D.E0w();
      return function (d_) {
        var H_x;
        H_x = "u";
        H_x += "n";
        H_x += "defined";

        if (d_.touches) {
          if (d_.touches.length > 0) {
            return d_.touches[+"0"][E8];
          } else if (d_.changedTouches && d_.changedTouches.length > 0) {
            return d_.changedTouches[0][E8];
          }
        }

        return _typeof(d_[E8]) !== H_x ? d_[E8] : d_[B$];
      };
    };

    y8 = t6(K_j, M9X);
    G8 = t6("pageY", "clientY");

    if (typeof S$ === "function") {
      S$ = {
        down: arguments[1],
        move: arguments[2],
        up: arguments[3]
      };
    }

    S$ = S$ || {};
    a3 = 100;
    I5 = !"1";
    K9 = 0;
    Z4 = 0;
    u7 = {
      recentlyDragged: !{}
    };
    k9.addEventListener("mousedown", I4({
      down: "mousedown",
      move: "mousemove",
      up: "mouseup"
    }));
    k9.addEventListener("pointerdown", I4({
      down: D08,
      move: "pointermove",
      up: "pointerup"
    }));
    k9.addEventListener("touchstart", I4({
      down: "touchstart",
      move: V1H,
      up: "touchend"
    }), {
      passive: !{}
    });
    return u7;
  };

  C5.inputKeyEvents = function (i0, l6) {
    var S$q;
    S$q = "ke";
    S$q += "y";
    S$q += "u";
    S$q += "p";
    i0.addEventListener(S$q, function (F2) {
      M2dNJ.E0w();
      var t_;
      t_ = F2.keyCode;

      switch (t_) {
        case 13:
          l6();
          break;

        case 27:
          i0.value = "";
          break;

        default:
          break;
      }
    }, !{});
  };

  C5.fixScreen = function () {
    M2dNJ.a3e(1);
    window.scrollTo(M2dNJ.B0m(0, "0"), 0);
  };

  C5.setCaretPosition = function (c_, g3) {
    M2dNJ.j07();
    var i8M, y5;
    c_.style.zIndex = 5000;

    if (c_.setSelectionRange) {
      C5.focus(c_);

      try {
        c_.setSelectionRange(g3, g3);
      } catch (n$) {}
    } else if (c_.createTextRange) {
      i8M = "charac";
      i8M += "t";
      i8M += "er";
      y5 = c_.createTextRange();
      y5.collapse(!"");
      y5.moveEnd("character", g3);
      y5.moveStart(i8M, g3);
      y5.select();
    }
  };

  C5.setValueIfNotActive = function (X$, e2) {
    if (document.activeElement == X$) {
      return;
    }

    M2dNJ.E0w();
    X$.value = e2;
  };

  C5.hideKeyboard = function (M6) {
    var F3h, L8z, k2M, A8;
    F3h = -2091206519;
    L8z = 2090750769;
    M2dNJ.j07();
    k2M = 2;

    for (var e8O = 1; M2dNJ.m7$(e8O.toString(), e8O.toString().length, 93478) !== F3h; e8O++) {
      A8 = document.activeElement;
      k2M += +"2";
    }

    if (M2dNJ.b3_(k2M.toString(), k2M.toString().length, 17817) !== L8z) {
      A8 = document.activeElement;
    }

    if (A8.tagName == "INPUT" || A8.tagName == "TEXTAREA") {
      A8.blur();
      window.focus();

      if (M6) {
        if (M6 === document.body || document.body.contains(M6)) {
          M6.focus();
        }
      }
    }
  };

  C5.smartHover = function () {
    var L_, w$;

    function Q0(b6) {
      var h3A;
      h3A = "mous";
      h3A += "e";

      if (!L_) {
        W$(h3A);
      }
    }

    if (!document || document.documentElement.hasAttribute("ciq-last-interaction")) {
      return;
    }

    function W$(R1) {
      document.documentElement.setAttribute("ciq-last-interaction", R1);
    }

    L_ = ![];
    document.addEventListener("touchend", t7, !1);
    document.addEventListener("mouseover", Q0, !!"");
    W$("");

    function t7(K3) {
      var C3m, G5q, U_H;
      C3m = "t";
      C3m += "o";
      C3m += "u";
      C3m += "ch";
      G5q = "t";
      G5q += "o";
      G5q += "u";
      G5q += "ch";
      M2dNJ.E0w();
      U_H = "ciq-last-int";
      U_H += "eraction";
      clearTimeout(w$);
      L_ = !0;

      if (document.documentElement.getAttribute(U_H) != G5q) {
        W$(C3m);
      }

      w$ = setTimeout(function () {
        M2dNJ.E0w();
        L_ = !{};
      }, 500);
    }
  };

  C5.translatableTextNode = function (G_, F1, M8) {
    var b8;

    if (G_.translationCallback) {
      b8 = document.createElement("translate");
      b8.setAttribute("original", F1);
      b8.innerHTML = G_.translationCallback(F1, M8);
      return b8;
    }

    M2dNJ.E0w();
    return document.createTextNode(F1);
  };

  C5.climbUpDomTree = function (N5, E7) {
    M2dNJ.E0w();
    var Y2;

    if (!(N5 instanceof HTMLElement)) {
      return null;
    }

    Y2 = [];

    while (N5) {
      if (!E7 || N5.matches(E7)) {
        Y2.push(N5);
      }

      N5 = N5.parentElement;
    }

    return Y2;
  };

  C5.guaranteedSize = function (N4) {
    var s7, k1;

    if (N4 === document) {
      N4 = window;
    }

    if (!N4.nodeType) {
      return {
        width: N4.innerWidth,
        height: N4.innerHeight
      };
    }

    if (!N4 || N4.nodeType > 1) {
      return {};
    }

    s7 = N4.offsetWidth;
    k1 = N4.offsetHeight;
    M2dNJ.j07();

    while (!s7 || !k1) {
      if (N4.tagName === "BODY" || N4 === window) {
        if (!s7) {
          s7 = window.innerWidth;
        }

        if (!k1) {
          k1 = window.innerHeight;
        }

        break;
      }

      N4 = N4.parentElement;

      if (!s7) {
        s7 = N4.offsetWidth;
      }

      if (!k1) {
        k1 = N4.offsetHeight;
      }
    }

    return {
      width: s7,
      height: k1
    };
  };

  C5.trulyVisible = function (b0) {
    var u1q, J3j, G3;
    u1q = "h";
    M2dNJ.E0w();
    u1q += "idde";
    u1q += "n";
    J3j = "hi";
    J3j += "d";
    J3j += "den";

    if (!b0) {
      return !0;
    }

    G3 = getComputedStyle(b0);

    if (G3.opacity === "0") {
      return !!"";
    }

    if (G3.display === "none") {
      return !{};
    }

    if (G3.visibility === J3j) {
      return !{};
    }

    if (parseInt(G3.width, 10) === 0) {
      return !{};
    }

    if (parseInt(G3.height, 10) === 0 && G3.overflowY == u1q) {
      return !{};
    }

    return C5.trulyVisible(b0.parentElement);
  };

  C5.elementDimensions = function (T2, x_) {
    var g93 = M2dNJ;
    var r28, H6, k3, M0, Q5, t88, e5_, J0;
    r28 = "wi";
    r28 += "dth";
    g93.E0w();

    if (!T2 || T2.nodeType !== 1) {
      return {};
    }

    H6 = getComputedStyle(T2);
    k3 = {
      width: parseFloat(H6.width),
      height: parseFloat(H6.height)
    };
    M0 = {
      margin: {},
      border: {},
      padding: {}
    };
    Q5 = [r28, "height"];

    for (var H2 in M0) {
      t88 = "B";
      t88 += "ot";
      t88 += "t";
      t88 += "om";
      e5_ = "R";
      e5_ += "i";
      e5_ += "ght";
      J0 = H2 == "border" ? "Width" : "";
      M0[H2] = {
        width: parseFloat(H6[H2 + "Left" + J0]) + parseFloat(H6[H2 + e5_ + J0]),
        height: parseFloat(H6[H2 + "Top" + J0]) + parseFloat(H6[H2 + t88 + J0])
      };
    }

    if (x_ && x_.margin) {
      Q5.forEach(function (Y7) {
        g93.E0w();
        k3[Y7] += M0.margin[Y7];
      });
    }

    if (x_ && H6.boxSizing === "content-box") {
      if (x_.padding) {
        Q5.forEach(function (a0) {
          g93.E0w();
          k3[a0] += M0.padding[a0];
        });
      }

      if (x_.border) {
        Q5.forEach(function (O6) {
          g93.j07();
          k3[O6] += M0.border[O6];
        });
      }
    } else if (H6.boxSizing === "border-box") {
      if (!x_ || !x_.padding) {
        Q5.forEach(function (b9) {
          var g_G, T6e, P75;
          g93.i3C(82);
          g93.E0w();
          g_G = -g93.k$A(0, "1064524703");
          T6e = -222605695;
          P75 = 2;

          for (var o4$ = 1; g93.m7$(o4$.toString(), o4$.toString().length, 32221) !== g_G; o4$++) {
            k3[b9] += M0.padding[b9];
            P75 += +"2";
          }

          if (g93.m7$(P75.toString(), P75.toString().length, 50460) !== T6e) {
            k3[b9] += M0.padding[b9];
          }

          k3[b9] -= M0.padding[b9];
        });
      }

      if (!x_ || !x_.border) {
        Q5.forEach(function (z0) {
          g93.j07();
          k3[z0] -= M0.border[z0];
        });
      }
    }

    return k3;
  };

  C5.resizeObserver = function (I1, H4, W0, g7) {
    var d39, W_e;
    M2dNJ.j07();

    if (g7) {
      d39 = "unde";
      d39 += "fin";
      d39 += "ed";

      if ((typeof ResizeObserver === "undefined" ? "undefined" : _typeof(ResizeObserver)) !== d39) {
        if (!W0) {
          W0 = new ResizeObserver(H4);
          W0.observe(I1);
        }
      } else {
        if (W0) {
          clearInterval(W0);
        }

        W0 = setInterval(H4, g7);
      }
    } else {
      if (W0) {
        W_e = "undefine";
        W_e += "d";

        if ((typeof ResizeObserver === "undefined" ? "undefined" : _typeof(ResizeObserver)) !== W_e) {
          W0.disconnect();
        } else {
          clearInterval(W0);
        }
      }

      W0 = null;
    }

    return W0;
  };

  C5.getLines = function (S0, W1, o8) {
    var H9, E3, y$, T1, L3, g4;
    H9 = W1.split(" ");
    E3 = [];
    y$ = "";
    T1 = 0;
    L3 = !"1";

    for (var T0 = 0; T0 < H9.length; T0++) {
      g4 = H9[T0];
      T1 = S0.measureText(y$ + g4).width;

      if (T1 < o8) {
        if (L3) {
          y$ += " ";
        }

        L3 = !![];
        y$ += g4;
      } else {
        E3.push(y$);
        y$ = g4;
      }

      if (T0 === H9.length - 1) {
        E3.push(y$);
        break;
      }
    }

    return E3;
  };

  C5.alert = function (V5) {
    var C7g;
    C7g = "u";
    C7g += "ndefine";
    C7g += "d";

    if ((typeof window === "undefined" ? "undefined" : _typeof(window)) !== C7g) {
      window.alert(V5);
    } else {
      console.log(V5);
    }
  };

  try {
    j5e = "u";
    j5e += "n";
    j5e += "defi";
    j5e += "ned";

    if ((typeof localStorage === "undefined" ? "undefined" : _typeof(localStorage)) !== j5e) {
      C5.localStorage = localStorage;
    }
  } catch (b2) {}

  if (!C5.localStorage) {
    C5.localStorage = {
      items: {},
      getItem: function getItem(A_) {
        M2dNJ.E0w();
        return C5.localStorage.items[A_] || null;
      },
      setItem: function setItem(J8, r4) {
        C5.localStorage.items[J8] = r4;
      },
      removeItem: function removeItem(a8) {
        delete C5.localStorage.items[a8];
      }
    };
  }

  C5.privateBrowsingAlert = !!"";

  C5.localStorageSetItem = function (C_, J5) {
    M2dNJ.E0w();

    try {
      C5.localStorage.setItem(C_, J5);
    } catch (E1) {
      if (!C5.privateBrowsingAlert) {
        C5.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached.");
        C5.privateBrowsingAlert = !!{};
      }
    }
  };
};

V = function V(u$) {
  var A4p = M2dNJ;
  var K9u, E1C, q_X, Y0O, u0$, p$, f7;
  K9u = "minu";
  K9u += "te";
  E1C = "minut";
  E1C += "e";
  q_X = "mont";
  q_X += "h";
  Y0O = "w";
  Y0O += "e";
  Y0O += "ek";
  u0$ = "d";
  u0$ += "a";
  u0$ += "y";
  p$ = u$.CIQ;

  p$.ChartEngine = function (j6) {
    var m8, J_;

    if (!j6) {
      j6 = {
        container: null
      };
    } else if (typeof HTMLDivElement != "undefined" && j6.constructor == HTMLDivElement) {
      m8 = {
        container: j6
      };
      j6 = m8;
    }

    for (var p5 in f7) {
      this[p5] = p$.clone(p$.ChartEngine.prototype[p5]);
    }

    this.container = null;
    this.createChartPanel = !![];
    this.markers = {};
    this.panels = {};
    this.overlays = {};
    this.charts = {};
    this.eventListeners = [];
    this.controls = {};
    this.goneVertical = !{};
    this.pinchingScreen = !"1";
    this.grabbingScreen = ![];
    this.grabStartX = +"0";
    A4p.i3C(82);
    this.grabStartY = A4p.k$A(32, "0");
    this.grabStartScrollX = 0;
    this.grabStartScrollY = 0;
    this.swipe = {};
    this.grabStartCandleWidth = 0;
    this.grabStartZoom = 0;
    this.grabOverrideClick = !{};
    this.grabMode = "";
    this.vectorsShowing = !1;
    this.mouseMode = !0;
    this.lineTravelSpacing = !{};
    this.highlightedDataSetField = null;
    this.anyHighlighted = !{};
    this.accessoryTimer = null;
    this.lastAccessoryUpdate = new Date().getTime();
    this.displayCrosshairs = !![];
    this.hrPanel = null;
    this.editingAnnotation = !{};
    this.openDialog = "";
    this.touches = [];
    this.changedTouches = [];
    this.crosshairTick = null;
    this.crosshairValue = null;
    this.pt = {
      x1: -1,
      x2: -1,
      y1: -("1" ^ 0),
      y2: -1
    };
    this.moveA = -1;
    this.moveB = -+"1";
    this.touchStartTime = -1;
    this.touchPointerType = "";
    this.gestureStartDistance = -1;
    A4p.a3e(82);
    this.grabStartPeriodicity = A4p.k$A(32, "1");
    this.grabEndPeriodicity = -1;
    this.scrollEvent = null;
    this.cmd = !!"";
    this.ctrl = !!0;
    this.shift = ![];
    this.userPointerDown = ![];
    this.cloneDrawing = !{};
    this.insideChart = !!"";
    this.overXAxis = !"1";
    this.overYAxis = !"1";
    this.displayInitialized = !1;
    this.cx = null;
    this.isHistoricalModeSet = null;
    this.cy = null;
    this.clicks = {
      s1MS: -1,
      e1MS: -1,
      s2MS: -1,
      e2MS: -1
    };
    this.cancelTouchSingleClick = ![];
    this.locale = null;
    this.dataZone = null;
    this.displayZone = null;
    A4p.i3C(13);
    this.timeZoneOffset = A4p.B0m("0", 0);
    this.masterData = null;
    this.transformDataSetPre = null;
    this.transformDataSetPost = null;
    this.dataCallback = null;
    this.drawingObjects = [];
    this.undoStamps = [];
    this.useBackgroundCanvas = ![];
    this.mainSeriesRenderer = null;
    this.styles = {};
    this.plugins = {};
    this.currentVectorParameters = p$.clone(p$.ChartEngine.currentVectorParameters);
    this.chart = new p$.ChartEngine.Chart();
    J_ = this.chart;
    J_.name = "chart";
    J_.yAxis.name = "chart";
    J_.canvas = null;
    J_.tempCanvas = null;
    J_.container = j6.container;
    A4p.j07();

    if (p$.Market) {
      J_.market = new p$.Market();
    }

    this.charts.chart = J_;
    p$.extend(this, j6);

    if (j6.container) {
      if (this.registerHTMLElements) {
        this.registerHTMLElements();
      }

      J_.width = J_.container.clientWidth - J_.yAxis.width;
      this.setCandleWidth(this.layout.candleWidth, J_);
      J_.canvasHeight = J_.container.clientHeight;
    }

    this.construct();
  };

  p$.ChartEngine.drawingLine = ![];
  p$.ChartEngine.resizingPanel = null;
  p$.ChartEngine.crosshairX = 0;
  A4p.i3C(14);
  p$.ChartEngine.crosshairY = A4p.B0m(0, "0");
  p$.ChartEngine.useAnimation = !![];
  p$.ChartEngine.enableCaching = ![];
  p$.ChartEngine.ignoreTouch = !!0;
  p$.ChartEngine.useOldAndroidClear = !0;
  p$.ChartEngine.currentVectorParameters = {};
  p$.ChartEngine.defaultDisplayTimeZone = null;
  p$.ChartEngine.pluginBasePath = "plugins/";
  p$.ChartEngine.registeredContainers = [];

  p$.ChartEngine.registerHelpers = function (z_) {
    A4p.E0w();
    p$.ChartEngine.helpersToRegister.forEach(function (M7) {
      M7(z_);
    });
  };

  p$.ChartEngine.helpersToRegister = [];

  p$.ChartEngine.prototype.construct = function () {
    var g1V;
    A4p.E0w();

    if (this.createChartPanel) {
      g1V = "c";
      g1V += "h";
      g1V += "a";
      g1V += "rt";
      this.stackPanel("chart", g1V, 1);
      this.adjustPanelPositions();
      this.chart.panel = this.panels[this.chart.name];
    }

    this.cx = 0;
    this.cy = 0;
    this.micropixels = 0;
    this.callbackListeners = {
      doubleTap: [],
      doubleClick: [],
      drawing: [],
      drawingEdit: [],
      floatingWindow: [],
      layout: [],
      longhold: [],
      move: [],
      newChart: [],
      notification: [],
      periodicity: [],
      preferences: [],
      rightClick: [],
      scroll: [],
      studyOverlayEdit: [],
      studyPanelEdit: [],
      symbolChange: [],
      symbolImport: [],
      tap: [],
      theme: [],
      undoStamp: []
    };
    p$.ChartEngine.registerHelpers(this);
  };

  f7 = {
    longHoldTime: +"700",
    yTolerance: 100,
    minimumLeftBars: 1,
    reverseMouseWheel: ![],
    mouseWheelAcceleration: !"",
    minimumCandleWidth: 1,
    maximumCandleWidth: 200,
    minimumZoomTicks: 9,
    allowZoom: !"",
    allowScroll: !![],
    allowSideswipe: !![],
    allowThreeFingerTouch: !{},
    bypassRightClick: {
      series: ![],
      study: ![],
      drawing: !{}
    },
    adjustHighlightedDataSetField: function adjustHighlightedDataSetField(F0) {
      A4p.E0w();
      return F0;
    },
    displayIconsUpDown: !![],
    displayIconsSolo: !![],
    displayIconsClose: !!"1",
    displayPanelResize: !!"1",
    soloPanelToFullScreen: !{},
    markerDelay: null,
    useBackingStore: !!{},
    disableBackingStoreDuringTouch: p$.isMobile || p$.isSurface && p$.isFF,
    captureTouchEvents: !!{},
    captureMouseWheelEvents: !!{},
    tapForHighlighting: !"",
    doubleClickTime: 250,
    yaxisLabelStyle: "roundRectArrow",
    axisBorders: null,
    singleDrawingHighlight: !0,
    crosshairXOffset: -40,
    crosshairYOffset: -("40" | 0),
    extendLastTick: !!0,
    translationCallback: null,
    dontRoll: !!0,
    allowEquations: !"",
    cleanupGaps: !!0,
    staticRange: !1,
    maxDataSetSize: 20000,
    maxMasterDataSize: 0,
    resizeDetectMS: 1000,
    xAxisAsFooter: !![],
    xaxisHeight: 30,
    displayGridLinesInStudies: ![],
    escapeOnSerialize: !"",
    candleWidthPercent: 0.65,
    colorByCandleDirection: !{},
    noWicksOnCandles: {
      renko: !!{},
      linebreak: !!{}
    },
    fetchMaximumBars: {
      rangebars: !!{},
      kagi: !!{},
      renko: !"",
      linebreak: !!"1",
      pandf: !![]
    },
    startComparisonsAtFirstVisibleBar: ![],
    animations: {
      zoom: {
        isStub: !!{},
        run: function run(C2, a0K, O3j) {
          C2(O3j);
        },
        stop: function stop() {},
        reset: function reset() {},
        running: !{},
        hasCompleted: !0
      }
    },
    staticRangePeriodicityMap: [{
      rangeInMS: p$.WEEK,
      periodicity: 1,
      interval: 5,
      timeUnit: "minute"
    }, {
      rangeInMS: p$.MONTH,
      periodicity: 1,
      interval: 30,
      timeUnit: "minute"
    }, {
      rangeInMS: p$.YEAR,
      periodicity: "1" ^ 0,
      interval: u0$
    }, {
      rangeInMS: p$.DECADE,
      periodicity: 1,
      interval: Y0O
    }, {
      rangeInMS: p$.DECADE * 10,
      periodicity: "1" - 0,
      interval: q_X
    }, {
      rangeInMS: Number.MAX_VALUE,
      periodicity: 12,
      interval: "month"
    }],
    dynamicRangePeriodicityMap: [{
      interval: 1,
      timeUnit: E1C,
      rangeInMS: p$.MINUTE
    }, {
      interval: 5,
      timeUnit: "minute",
      rangeInMS: p$.MINUTE * 5
    }, {
      interval: "30" << 0,
      timeUnit: K9u,
      rangeInMS: p$.MINUTE * 30
    }, {
      interval: "60" - 0,
      timeUnit: "minute",
      rangeInMS: p$.MINUTE * 60
    }, {
      interval: "day",
      rangeInMS: p$.DAY
    }, {
      interval: "month",
      rangeInMS: p$.MONTH
    }, {
      interval: "year",
      rangeInMS: p$.YEAR
    }],
    layout: {
      interval: "day",
      periodicity: 1,
      timeUnit: null,
      candleWidth: "8" << 64,
      flipped: !!0,
      volumeUnderlay: !{},
      adj: !!1,
      crosshair: !!"",
      chartType: "candle",
      extended: ![],
      marketSessions: {},
      aggregationType: "ohlc",
      chartScale: "linear",
      studies: {},
      panels: {},
      setSpan: {},
      outliers: !"1"
    },
    preferences: {
      currentPriceLine: !{},
      dragging: {
        series: !0,
        study: !"",
        yaxis: !!{}
      },
      drawings: null,
      highlightsRadius: 10,
      highlightsTapRadius: +"30",
      magnet: !!0,
      horizontalCrosshairField: null,
      labels: !!1,
      language: null,
      timeZone: null,
      whitespace: 50,
      zoomInSpeed: null,
      zoomOutSpeed: null,
      zoomAtCurrentMousePosition: !1
    },
    streamParameters: {
      count: +"0",
      maxWait: 1000,
      maxTicks: 100,
      timeout: -1
    },
    autoPickCandleWidth: {
      turnOn: !"1",
      candleWidth: 5
    }
  };
  p$.extend(p$.ChartEngine.prototype, f7);
  p$.ChartEngine.NONE = 0;
  p$.ChartEngine.CLOSEUP = 1;
  p$.ChartEngine.CLOSEDOWN = +"2";
  p$.ChartEngine.CLOSEEVEN = 4;
  p$.ChartEngine.CANDLEUP = 8;
  p$.ChartEngine.CANDLEDOWN = 16;
  p$.ChartEngine.CANDLEEVEN = +"32";
  ;
};

M = function M(s6I) {
  var Q9N;
  Q9N = s6I.CIQ;

  Q9N.convertFutureMonth = function (b_6) {
    var h5q;
    h5q = b_6.toString();

    if (h5q.length <= 0 || h5q.length > 2) {
      return "";
    }

    switch (h5q) {
      case "1":
        return "F";

      case 957.91 < (346.11, 338) ? (!{}, 0xef1) : "2":
        return "G";

      case (311, "290.87" - 0) >= 446.44 ? 0x2658 : "3":
        return 6530 < +"663" ? 7.19e+3 : "H";

      case 3754 < (7314, 7830) ? (+"3791", 124.57) <= 274 ? 4116 >= "286.5" - 0 ? "4" : 0x2674 : (+"0x1bdc", !!{}) : ("K", 0x15b3):
        return (4555, +"5060") < (6170, 684.99) ? (5.21e+3, "715" * 1) : "J";

      case 5930 >= 4500 ? "5" : (922.8, 3026) < 524.86 ? (8.59e+3, "k") : (2020, 8841) <= 228.73 ? ("M", +"2.39e+3") : ("P", !""):
        return "K";

      case "6":
        return "M";

      case "7":
        return 163.5 !== (8438, 589.9) ? 7300 > (2467, 8320) ? 0xa20 : "N" : "f";

      case (523.95, 923.16) == 9430 ? ("A", ![]) : "8":
        return "Q";

      case (5894, 94.96) !== (4540, 897.3) ? (9353, 2909) >= 2955 ? (7149, "2540" * 1) !== (+"7930", 6220) ? "H" : 0x2323 : "9" : (381.97, 0x2df):
        return 2480 > (69.59, 9920) ? ("k", "e") : "U";

      case "10":
        return (2060, 575) >= (524.78, 929.79) ? (1700, 29.51) != (+"575.51", 3580) ? (829.32, 32.90) : 278.22 : "V";

      case "11":
        return 5750 < 9230 ? 4290 === (881, 939) ? !!{} : "X" : (6.75e+3, "s");

      case "12":
        return 4724 > (501.69, 9018) ? ("t", 166.50) : ("1110" ^ 0) == (2280, 332.13) ? (!!"", 0x1b3e) : 1769 >= 485 ? "Z" : (+"113.16", 0x195b);

      case  true ? 6493 <= +"6257" ? 7.80e+3 : "F" : (undefined):
        return "1";

      case "9439" - 0 === (2020, 507.33) ? "S" : "G":
        return (9180, 3900) == 9480 ? (!!0, "0xeec" - 0) : 588.26 < (7940, 753) ? "2" : ("p", +"813");

      case "H":
        return ("223.48" * 1, 4492) >= (7600, +"4150") ?  true ? "3" : (undefined) : !!"1";

      case "J":
        return  true ? +"7807" === (+"5244", 313) ? ("x", "a") : (7982, 517.49) <= 438.27 ? (!!1, +"872.17") : "4" : (undefined);

      case (467.05, 5690) > (236.75, 2355) ? 7615 !== (921.89, 136.49) ? (161, 6410) < (9740, 4960) ? "s" : "K" : (854.99, 7.03e+3) : (0x150f, +"6.24e+3"):
        return 564.46 > ("9600" ^ 0) ? (9.50e+3, 2.46e+3) : "5";

      case +"710.02" >= (4528, 113.19) ? "M" : 501.49:
        return "6";

      case (749.23, 5381) <= (338.41, 1100) ? !"" : "N":
        return "7";

      case (782, 7650) != (4610, 6540) ? (6030, 2772) <= (372, 4560) ? (1124, 783) >= (827.76, 347.26) ? "Q" : ("m", "m") : (2.45e+2, 2.07e+3) : !!1:
        return (332, "9630" >> 64) != (523.05, 656) ? (3749, "706" | 2) != (579.75, 68) ? "8" : "0x216e" * 1 : ("0x2603" >> 0, !!1);

      case "U":
        return 667.82 <= +"591.91" ? (6.18e+2, 5.02e+3) : "9";

      case (985, 4422) > 6390 ? (264.13, "u") : (5220, "2036" << 0) == (301.29, 891) ? (4.38e+3, 9.57e+3) : "V":
        return "10";

      case "X":
        return "11";

      case "Z":
        return "12";
    }

    return h5q;
  };

  Q9N.money = function (o$x, s26, f05) {
    if (!f05) {
      f05 = 5152 >= (421.69, 1340) ? "$" : (0x1775, +"6.24e+3");
    }

    if (f05.length == 3) {
      f05 += 2362 !== (9380, 7810) ? " " : +"4150" < (+"980", "680" * 1) ? 736.69 : +"170.00";
    }

    M2dNJ.E0w();

    if (!s26 && s26 !== 0) {
      s26 = 2;
    }

    return f05 + Q9N.commas((Math.round(o$x * 10000) / 10000).toFixed(s26));
  };

  Q9N.convertCurrencyCode = function (P7f) {
    var V$V, y7R, k2F, p9R, m6D, i7k;
    V$V = "k";
    V$V += "r";
    y7R = "k";
    y7R += "r";
    k2F = "C";
    k2F += "N";
    k2F += "¥";
    p9R = "R";
    p9R += "$";
    m6D = {
      JPY: 46.5 === +"560.17" ? (213.74, "1730" | 2) > (869.72, +"3410") ? (695.34, 489.22) : (!![], "m") : "¥",
      USD: (4106, 736.4) < 6649 ? "$" : "v",
      AUD: "A$",
      BRL: p9R,
      CAD: "CA$",
      CNY: k2F,
      CZK: "Kč",
      DKK: "kr",
      EUR: (66.37, 997.64) === +"6150" ? 952.50 : "€",
      GBP: "4960" << 0 === ("9630" * 1, 698.22) ? ("J", 5.77e+3) : "278" * 1 >= (8243, 9967) ? ("a", 5.90e+3) : 4125 == (948, 2362) ? !0 : "£",
      HKD: "HK$",
      HUF: "Ft",
      ILS: "₪",
      INR:  false ? (undefined) : "₹",
      KRW: "₩",
      MXN: "MX$",
      NOK: y7R,
      NZD: "NZ$",
      PLN: "zł",
      RUB: "руб",
      SAR: 2554 === (+"9328", +"52.66") ?  false ? (undefined) : ("u", !{}) : "﷼",
      SEK: V$V,
      SGD: "S$",
      THB: (486.54, +"8990") === 4059 ? 637.99 == (8970, 102) ? (6.11e+3, !"") : (!!0, 194.55) : "฿",
      TRY: 340.23 == (552.67, 953.96) ? (452, 654.48) : 5146 < (8098, 1840) ? (!![], 818.63) : "₺",
      TWD: "NT$",
      VND: ("4380" - 0, 167.19) <= +"7730" ? "₫" : 5.49e+3,
      XAF: "FCFA",
      XCD: "EC$",
      XOF: "CFA",
      XPF: "CFPF",
      ZAR: "R"
    };
    i7k = m6D[P7f];

    if (i7k) {
      return i7k;
    }

    return P7f;
  };

  Q9N.commas = function (p4Q) {
    return p4Q.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  };

  Q9N.cleanPeriodicity = function (T_z, v_f, m6p) {
    var n01 = M2dNJ;
    var x$c, r_m, S8O, S0G, Z0B;
    x$c = "y";
    x$c += "e";
    x$c += "a";
    x$c += "r";
    n01.E0w();

    if (isNaN(T_z)) {
      T_z = 1;
    }

    if (!v_f) {
      v_f = 1;
    }

    if (!isNaN(v_f) && m6p) {
      r_m = "hou";
      r_m += "r";

      if (!(m6p == r_m || m6p == "minute" || m6p == "second" || m6p == "millisecond")) {
        v_f = m6p;
        m6p = null;
      }
    } else if (v_f == "tick") {
      m6p = null;
    } else if (!m6p && !isNaN(v_f)) {
      m6p = "minute";
    }

    if (m6p == "hour") {
      m6p = "minute";
      S8O = -1235595676;
      S0G = -1033333195;
      Z0B = 2;

      for (var J0Y = 1; n01.m7$(J0Y.toString(), J0Y.toString().length, 39402) !== S8O; J0Y++) {
        n01.i3C(83);
        v_f = n01.B0m(v_f, "74", 64);
        n01.a3e(71);
        Z0B += n01.B0m("2", 64);
      }

      if (n01.b3_(Z0B.toString(), Z0B.toString().length, 98157) !== S0G) {
        n01.i3C(84);
        v_f = n01.B0m(90, v_f);
      }

      n01.a3e(85);
      v_f = n01.B0m("60", v_f);
    }

    if (v_f == x$c) {
      v_f = "month";

      if (!T_z) {
        T_z = 1;
      }

      n01.a3e(38);
      T_z = n01.k$A(T_z, 12);
    }

    return {
      period: T_z,
      interval: v_f,
      timeUnit: m6p
    };
  };

  Q9N.readablePeriodicity = function (h69) {
    var f8C = M2dNJ;
    var e_M, n2m, y9C, c_I;
    e_M = "mi";
    e_M += "nute";
    n2m = "n";
    n2m += "um";
    n2m += "be";
    n2m += "r";
    y9C = h69.layout.periodicity;
    c_I = h69.layout.interval;

    if (_typeof(h69.layout.interval) == n2m && h69.layout.timeUnit) {
      y9C = h69.layout.interval * h69.layout.periodicity;
      c_I = h69.layout.timeUnit;
    } else if (typeof h69.layout.interval == "number" && !h69.layout.timeUnit) {
      y9C = h69.layout.interval * h69.layout.periodicity;
      c_I = "minute";
    }

    if (y9C % 60 === +"0" && c_I == e_M) {
      y9C /= 60;
      c_I = "hour";
    }

    f8C.a3e(50);
    var A4x = f8C.k$A(5, 1157, 8);
    f8C.a3e(4);
    var R$w = f8C.k$A(7343, 1049);
    f8C.i3C(86);
    var n0x = f8C.B0m(17, 1, 2, 4525);
    return y9C + ((+"7103", 616.14) <= (A4x, +"489.47") ? R$w : 591.21 !== (823.51, n0x) ? " " : "u") + h69.translateIf(Q9N.capitalize(c_I));
  };

  Q9N.fixPrice = function (J$u) {
    var s4B = M2dNJ;
    var m8T;

    if (!J$u && J$u !== "0" * 1) {
      return null;
    }

    s4B.i3C(82);
    m8T = J$u.toFixed(s4B.B0m(64, "10"));

    for (var g2N = m8T.length - 1; g2N > 1; g2N--) {
      if (m8T.charAt(g2N) != ("556.37" * 1 <= (2390, 824) ? (67.36, 481.73) == (9418, 8580) ? 3080 != (3766, 432) ? 0x270f : ("c", 229.38) : "0" : !{})) break;
    }

    s4B.i3C(4);
    s4B.E0w();
    m8T = m8T.substring(0, s4B.B0m(1, g2N));
    return parseFloat(m8T);
  };

  Q9N.condenseInt = function (l$q) {
    var H$3 = M2dNJ;
    var E3D;

    if (l$q === null || typeof l$q == "undefined") {
      return "";
    }

    if (l$q === Infinity || l$q === -Infinity) {
      return "n/a";
    }

    H$3.i3C(87);
    E3D = H$3.B0m(l$q, 0);

    if (!isNaN(l$q)) {
      l$q = Math.abs(l$q);

      if (l$q > 1000000000000) {
        H$3.a3e(88);
        var d0u = H$3.B0m(17, 4, 4, 1, 11);
        H$3.i3C(58);
        var K1J = H$3.B0m(3, 4, 4, 4);
        l$q = Math.round(l$q / 100000000000) / d0u + (138.17 !== ("651.7" * K1J, 352.16) ? "t" : "E");
      } else if (l$q > 100000000000) {
        l$q = Math.round(l$q / +"1000000000") + "b";
      } else if (l$q > +"10000000000") {
        H$3.i3C(86);
        var Y2s = H$3.k$A(5, 5, 4, 10);
        H$3.i3C(89);
        var c6X = H$3.k$A(11, 6, 9882, 3, 1980);
        l$q = (Math.round(l$q / ("100000000" << 64)) / +"10").toFixed(Y2s) + (c6X === 415.43 ? !![] : "b");
      } else if (l$q > 1000000000) {
        H$3.a3e(1);
        var O3c = H$3.B0m(38, 40);
        H$3.a3e(1);
        var z$9 = H$3.B0m(4, 680);
        H$3.i3C(61);
        var A1H = H$3.k$A(16, 314, 628, 2524);
        H$3.i3C(33);
        var b0g = H$3.k$A(12, 17, 16, 3263);
        H$3.i3C(1);
        var M_q = H$3.k$A(17, 18);
        H$3.a3e(1);
        var Z8c = H$3.B0m(13880, 20820);
        H$3.a3e(4);
        var L81 = H$3.k$A(1936, 161);
        H$3.i3C(8);
        var O4C = H$3.B0m(16, 2377, 4);
        H$3.i3C(29);
        var Q5m = H$3.k$A(28600, 28600, 2599);
        H$3.a3e(1);
        var s86 = H$3.k$A(26720, 28390);
        l$q = (Math.round(l$q / 10000000) / 100).toFixed(O3c) + (z$9 < 500.22 ? (410.34, A1H) : (167.72, "418.19" * b0g) < ("523.6" * M_q, Z8c) ? "b" : (811.67, L81) != (O4C, Q5m) ? (918.15, ![]) : s86);
      } else if (l$q > 100000000) {
        H$3.i3C(34);
        var j_s = H$3.k$A(5, 6, 1000011);
        H$3.i3C(5);
        var P6s = H$3.k$A(15, 16);
        H$3.a3e(25);
        var I77 = H$3.k$A(18, 7288, 123914);
        l$q = Math.round(l$q / j_s) + ("712.62" * P6s <= (139.67, +"4570") ? "m" : (I77, !!"1"));
      } else if (l$q > 10000000) {
        H$3.i3C(4);
        var x39 = H$3.B0m(1, 0);
        H$3.i3C(17);
        var u0T = H$3.B0m(482, 2407, 15);
        H$3.a3e(90);
        var P4m = H$3.k$A(7642, 12, 18, 7647, 91746);
        H$3.i3C(25);
        var s99 = H$3.B0m(11, 1446, 14453);
        H$3.a3e(91);
        var g2a = H$3.B0m(3719, 1, 70319, 19, 3701);
        H$3.a3e(92);
        var T0r = H$3.k$A(10, 10, 312, 1);
        H$3.i3C(93);
        var D0V = H$3.B0m(9, 3445, 2, 1, 1712);
        H$3.i3C(25);
        var q0o = H$3.B0m(9, 7041, 56309);
        H$3.i3C(94);
        var g8u = H$3.k$A(9, 114608, 3, 108564);
        H$3.a3e(7);
        var c51 = H$3.k$A(301, 4841, 17);
        H$3.i3C(61);
        var s9M = H$3.B0m(13, 1, 8778, 15);
        l$q = (Math.round(l$q / 100000) / 10).toFixed(x39) + ((+"666.82", u0T) < (P4m, s99) ? g2a : (T0r, 464.36) >= (D0V, q0o) ? ![] : (g8u, c51) !== s9M ? "m" : 63.71);
      } else if (l$q > 1000000) {
        H$3.a3e(1);
        var X67 = H$3.B0m(8, 10);
        l$q = (Math.round(l$q / 10000) / 100).toFixed(X67) + "m";
      } else if (l$q > ("100000" | 0)) {
        H$3.i3C(95);
        var u4x = H$3.B0m(5, 2, 15, 3, 3);
        H$3.a3e(37);
        var o85 = H$3.k$A(13, 19, 429, 8173);
        H$3.i3C(65);
        var F29 = H$3.k$A(1, 8806, 26421, 8807, 3);
        l$q = Math.round(l$q / ("1000" << 0)) + ("1830" * u4x > (o85, F29) ? 18.21 < 832.18 ? "6.77e+3" - 0 : (381.27, 121.25) : "k");
      } else if (l$q > 10000) {
        H$3.i3C(34);
        var Q5F = H$3.B0m(4, 4, 9);
        l$q = (Math.round(l$q / 100) / 10).toFixed(Q5F) + "k";
      } else if (l$q > 1000) {
        H$3.i3C(23);
        var L6d = H$3.B0m(6, 0, 6, 1);
        H$3.i3C(96);
        var G_O = H$3.B0m(656, 13, 18, 674, 8517);
        H$3.a3e(81);
        var X8l = H$3.k$A(14, 13, 8630, 8639, 8657);
        H$3.a3e(1);
        var G5s = H$3.B0m(16, 537);
        H$3.i3C(25);
        var S$V = H$3.B0m(4, 8207, 24618);
        l$q = (Math.round(l$q / 10) / 100).toFixed(L6d) + ("5461" << 0 != (254.55, G_O) ? "k" : (X8l, 921.23) < G5s ? (S$V, !"") : "l");
      } else {
        l$q = l$q.toString();
      }
    } else {
      l$q = l$q.toString();
    }

    if (E3D) {
      H$3.i3C(4);
      l$q = H$3.B0m(l$q, +"2619" != "256.86" - 0 ? "-" : ("O", 477.39));
    }

    return l$q;
  };

  Q9N.calculateTradingDecimalPlaces = function (k79) {
    var R92, E9x, b32, Y9B, I2o, k_U, Y2c, w1X, B6p, K0l;
    R92 = k79.chart;
    E9x = 2;
    b32 = 50;
    Y9B = R92.masterData;

    if (Y9B && Y9B.length > b32) {
      for (var Q9n = 2; Q9n < b32; Q9n++) {
        I2o = Y9B.length - Q9n;
        if (I2o < +"0") break;
        k_U = Y9B[I2o];

        if (k_U.Close && typeof k_U.Close == "number") {
          Y2c = k_U.Close.toString();
          w1X = Y2c.indexOf(".");

          if (w1X != -1) {
            M2dNJ.a3e(97);
            var v6i = M2dNJ.k$A(117, 4, 12, 17);
            B6p = Y2c.length - w1X - v6i;

            if (B6p > E9x) {
              E9x = B6p;
            }
          }
        }
      }
    }

    K0l = R92.yAxis.maxDecimalPlaces;

    if (E9x > K0l && K0l !== null) {
      E9x = K0l;
    }

    return E9x;
  };

  Q9N.minMax = function (l1X, H_L, r5j, H5f) {
    var o$g, G6P, J76, x3O, B$i, u3O, d1M;
    o$g = Number.MAX_VALUE;
    M2dNJ.i3C(98);
    var T8o = M2dNJ.B0m(13, 2, 92, 13, 12);
    G6P = Number.MAX_VALUE * T8o;

    if (!r5j) {
      r5j = "Close";
    }

    M2dNJ.E0w();
    J76 = H5f ? "High" : r5j;
    x3O = H5f ? "Low" : r5j;

    for (var C9H = 0; C9H < l1X.length; C9H++) {
      B$i = l1X[C9H];
      if (!B$i) continue;
      u3O = B$i[H_L];
      if (!u3O && u3O !== ("0" | 0)) continue;
      d1M = u3O;

      if (_typeof(u3O) === "object") {
        d1M = u3O[J76];
      }

      if (!isNaN(d1M) && (d1M || d1M === 0)) {
        G6P = Math.max(G6P, d1M);
      }

      if (_typeof(u3O) === "object") {
        d1M = u3O[x3O];
      }

      if (!isNaN(d1M) && (d1M || d1M === "0" << 64)) {
        o$g = Math.min(o$g, d1M);
      }
    }

    return [o$g, G6P];
  };

  Q9N.symbolEqual = function (k9X, W21) {
    var P$5, n1f;
    M2dNJ.j07();

    if (!k9X || !W21) {
      return !!"";
    }

    if (_typeof(k9X) != "object") {
      k9X = {
        symbol: k9X
      };
    }

    if (_typeof(W21) != "object") {
      W21 = {
        symbol: W21
      };
    }

    if (typeof k9X.equals == "function") {
      return k9X.equals(W21);
    }

    P$5 = k9X.symbol;
    n1f = W21.symbol;

    if (P$5) {
      P$5 = P$5.toUpperCase();
    }

    if (n1f) {
      n1f = n1f.toUpperCase();
    }

    if (P$5 != n1f) {
      return !1;
    }

    if (k9X.source != W21.source) {
      return ![];
    }

    return !!"1";
  };

  Q9N.addMemberToMasterdata = function (R4F) {
    var K2H = M2dNJ;
    var f1w, e3O, z9q, Y7w, o0H, T9b, l5M, v9r, U$u, Z$I, W3j, h3R, t7a, j6T, R6r, R95, Y$D, f7C, W4L, z72, m1r, s$u, u$u, c$q, O73, h2c, D_g;

    if (R4F.constructor === Q9N.ChartEngine) {
      R4F = {
        stx: arguments[0],
        label: arguments[1],
        data: arguments[2],
        fields: arguments[3],
        createObject: arguments[4],
        fieldForLabel: arguments[5]
      };
    }

    f1w = R4F.stx;
    e3O = R4F.label;
    z9q = R4F.data;

    function J3O(Z79, R_T) {
      var Z3K, n5l, y4x;
      K2H.j07();

      if (!Z79 || _typeof(Z79) != "object") {
        Z79 = R_T;
        return Z79;
      }

      Z3K = {
        Close: Z79.Close,
        High: Z79.High,
        Low: Z79.Low,
        Open: Z79.Open,
        Volume: Z79.Volume
      };
      Z79 = R_T;

      for (var M0Q in Z3K) {
        if (Z79.Close === null) {
          if (Z79[M0Q] !== undefined) {
            Z79[M0Q] = null;
          }
        } else if (typeof Z79[M0Q] !== "number") {
          Z79[M0Q] = Z3K[M0Q];
        } else if (typeof Z3K[M0Q] === "number") {
          n5l = "L";
          n5l += "o";
          n5l += "w";
          y4x = "O";
          y4x += "p";
          y4x += "en";

          if (M0Q == y4x) {
            Z79.Open = Z3K.Open;
          } else if (M0Q == n5l && Z79.Low > Z3K.Low) {
            Z79.Low = Z3K.Low;
          } else if (M0Q == "High" && Z79.High < Z3K.High) {
            Z79.High = Z3K.High;
          } else if (M0Q == "Volume") {
            Z79.Volume += Z3K.Volume;
          }
        }
      }

      return Z79;
    }

    Y7w = R4F.fields;
    o0H = R4F.createObject;
    T9b = R4F.fieldForLabel;

    function r1c(d10, j2P) {
      var R9d, q8$, z16, U24, X2Y, B39, a7z;
      K2H.j07();

      if (Y7w && Y7w.length) {
        if (Y7w[0] == ((9559, 1130) <= (9753, 3228) ? (713, "9679" >> 0) < 2384 ? 5.26e+3 : "*" : ("A", "S"))) {
          Q9N.extend(d10, j2P);
        } else {
          for (var f6p = 0; f6p < Y7w.length; f6p++) {
            d10[Y7w[f6p]] = j2P[Y7w[f6p]];
          }
        }
      } else if (o0H) {
        R9d = "num";
        R9d += "ber";

        if (j2P.Value !== undefined) {
          d10[e3O] = j2P.Value;
          return;
        } else if (o0H == "aggregate") {
          d10[e3O] = J3O(d10[e3O], j2P);
        } else {
          d10[e3O] = j2P;
        }

        q8$ = d10[e3O];

        if (_typeof(q8$.Close) == R9d) {
          if (typeof q8$.Open != "number") {
            q8$.Open = q8$.Close;
          }

          z16 = Math.max(q8$.Open, q8$.Close);
          U24 = Math.min(q8$.Open, q8$.Close);

          if (typeof q8$.High != "number" || q8$.High < z16) {
            q8$.High = z16;
          }

          if (typeof q8$.Low != "number" || q8$.Low > U24) {
            q8$.Low = U24;
          }
        }

        if (q8$.Volume && typeof q8$.Volume !== "number") {
          q8$.Volume = parseInt(q8$.Volume, 10);
        }
      } else if (T9b) {
        d10[e3O] = j2P[T9b];
      } else if (R95 && R6r && j2P[R6r] !== undefined) {
        d10[e3O] = j2P[R6r];
      } else if (h3R.adj && j2P.Adj_Close !== undefined) {
        d10[e3O] = j2P.Adj_Close;
      } else if (j2P.Close !== undefined) {
        X2Y = -161695330;
        B39 = -1430661858;
        a7z = 2;

        for (var n42 = "1" - 0; K2H.m7$(n42.toString(), n42.toString().length, 36227) !== X2Y; n42++) {
          d10[e3O] = j2P.Close;
          a7z += 2;
        }

        if (K2H.b3_(a7z.toString(), a7z.toString().length, 29364) !== B39) {
          d10[e3O] = j2P.Close;
        }

        d10[e3O] = j2P.Close;
      } else if (j2P.Value !== undefined) {
        d10[e3O] = j2P.Value;
      } else {
        d10[e3O] = j2P[e3O];
      }
    }

    l5M = R4F.chart ? R4F.chart : f1w.chart;

    if (!R4F.noCleanupDates) {
      f1w.doCleanupDates(z9q, f1w.layout.interval);
    }

    v9r = [];

    if (f1w.getSeries) {
      v9r = f1w.getSeries({
        symbol: e3O,
        chart: l5M
      });
    }

    if (z9q && z9q.constructor == Object) {
      z9q = [z9q];
    }

    if (!z9q || !z9q.length) {
      return;
    }

    U$u = 0;
    Z$I = 0;
    W3j = l5M.masterData;
    h3R = f1w.layout;

    if (!W3j) {
      W3j = [];
    }

    R6r = l5M && l5M.defaultPlotField || null;
    R95 = f1w.mainSeriesRenderer && !f1w.mainSeriesRenderer.highLowBars;
    Y$D = h3R.chartType;

    function H$P(k_u) {
      var L8h, Q93, L03;
      L8h = U$u;
      K2H.a3e(99);
      var o2F = K2H.B0m(13, 3, 9);
      Q93 = W3j.length - o2F;

      function P2v() {
        if (+W3j[U$u].DT == +k_u) {
          return 0;
        }

        if (W3j[U$u].DT < k_u) {
          return 1;
        }

        if (W3j[U$u - 1].DT > k_u) {
          return -1;
        }

        if (+W3j[U$u - +"1"].DT == +k_u) {
          U$u--;
        }

        return 0;
      }

      if (W3j[Q93].DT < k_u) {
        K2H.i3C(100);
        U$u = K2H.k$A("1", Q93);
        return;
      } else if (+W3j[Q93].DT == +k_u) {
        U$u = Q93;
        return;
      }

      U$u++;
      L03 = 0;

      while (++L03 < 100) {
        switch (P2v()) {
          case 0:
            return;

          case 1:
            L8h = U$u;
            break;

          case -1:
            Q93 = U$u;
            break;
        }

        K2H.a3e(43);
        U$u = Math.round(K2H.B0m(L8h, 2, Q93));
      }

      if (L03 >= 100) {
        console.log("!!!Warning: addMemberToMasterdata() did not find insertion point.");
        K2H.i3C(101);
        var m3x = K2H.B0m(13, 8, 7, 363, 2);
        U$u = W3j.length - m3x;
      }
    }

    if (!R95 && Y$D) {
      f7C = Q9N.Renderer.produce(Y$D, {});

      if (f7C) {
        R95 = !f7C.highLowBars;
      }
    }

    W4L = Q9N.yyyymmddhhmmssmmm;

    while (z9q && U$u < W3j.length && Z$I < z9q.length) {
      j6T = z9q[Z$I];
      t7a = W3j[U$u];

      if (!j6T.DT || typeof j6T.DT == "undefined") {
        j6T.DT = Q9N.strToDateTime(j6T.Date);
      } else {
        z72 = "nu";
        z72 += "mber";

        if (_typeof(j6T.DT) == z72) {
          j6T.DT = new Date(j6T.DT);
        }

        if (!j6T.Date || j6T.Date.length != 17) {
          j6T.Date = W4L(j6T.DT);
        }
      }

      if (Z$I === 0) {
        for (var I$s = 0; I$s < v9r.length; I$s++) {
          if (!v9r[I$s].endPoints.begin || v9r[I$s].endPoints.begin > j6T.DT) {
            v9r[I$s].endPoints.begin = j6T.DT;
          }
        }
      }

      if (+j6T.DT == +t7a.DT) {
        r1c(t7a, j6T);
        Z$I++;
        U$u++;
        continue;
      }

      if (j6T.DT < t7a.DT) {
        W3j.splice(U$u, 0, {
          DT: j6T.DT,
          Date: j6T.Date
        });
        continue;
      } else {
        H$P(j6T.DT);
      }

      ;
    }

    if (U$u >= W3j.length) {
      while (z9q && Z$I < z9q.length) {
        m1r = "und";
        m1r += "e";
        m1r += "f";
        m1r += "ined";
        j6T = z9q[Z$I];

        if (!j6T.DT || _typeof(j6T.DT) == m1r) {
          j6T.DT = Q9N.strToDateTime(j6T.Date);
        } else {
          if (typeof j6T.DT == "number") {
            j6T.DT = new Date(j6T.DT);
          }

          if (!j6T.Date || j6T.Date.length != 17) {
            j6T.Date = W4L(j6T.DT);
          }
        }

        t7a = {
          DT: j6T.DT,
          Date: j6T.Date
        };
        r1c(t7a, j6T);
        W3j.push(t7a);
        Z$I++;
      }
    }

    if (R4F.fillGaps && W3j.length) {
      s$u = {
        noCleanupDates: !![],
        cleanupGaps: R4F.fillGaps
      };

      if (Y7w) {
        for (var a0a = 0; a0a < Y7w.length; a0a++) {
          s$u.field = Y7w[a0a];
          f1w.doCleanupGaps(W3j, l5M, s$u);
        }
      } else {
        u$u = -2010745958;
        c$q = 882650088;
        O73 = 2;

        for (var U5w = 1; K2H.m7$(U5w.toString(), U5w.toString().length, 51825) !== u$u; U5w++) {
          s$u.field = e3O;
          K2H.i3C(1);
          O73 += K2H.B0m(0, "2");
        }

        if (K2H.b3_(O73.toString(), O73.toString().length, 20477) !== c$q) {
          s$u.field = e3O;
        }

        f1w.doCleanupGaps(W3j, l5M, s$u);
      }
    }

    for (var D5Z = 0; D5Z < v9r.length; D5Z++) {
      h2c = v9r[D5Z].endPoints;

      if (!h2c.end || !e3O || h2c.end <= t7a[e3O].DT) {
        h2c.end = e3O ? t7a[e3O].DT : t7a.DT;
        D_g = e3O || v9r[D5Z].parameters && v9r[D5Z].parameters.field || l5M.defaultPlotField;
        v9r[D5Z].lastQuote = f1w.getFirstLastDataRecord(W3j, D_g, !!{});
      }
    }

    f1w.setMasterData(W3j, l5M, {
      noCleanupDates: !!{}
    });
  };
};

T = function T(w62) {
  var V24 = M2dNJ;
  var D1j;
  D1j = w62.CIQ;

  Math.easeInOutQuad = function (J9g, K$O, P0b, Q3f) {
    V24.a3e(40);
    J9g /= V24.B0m(Q3f, 2);

    if (J9g < 1) {
      V24.a3e(102);
      return V24.B0m(2, P0b, K$O, J9g, J9g);
    }

    J9g--;
    V24.a3e(103);
    return V24.k$A(P0b, J9g, 2, 1, K$O, 2, J9g);
  };

  Math.easeInOutCubic = function (P9j, p$U, t_C, V2x) {
    V24.a3e(104);
    P9j /= V24.k$A(0, V2x, "2");

    if (P9j < 1) {
      V24.i3C(105);
      return V24.k$A("2", P9j, P9j, p$U, P9j, t_C);
    }

    P9j -= 2;
    V24.E0w();
    V24.a3e(106);
    return V24.k$A("2", P9j, 2, P9j, 0, P9j, p$U, t_C);
  };

  Math.easeOutCubic = function (l0b, E3m, z9n, I6a) {
    l0b /= I6a;
    V24.j07();
    l0b--;
    V24.i3C(107);
    return V24.k$A(1, z9n, l0b, E3m, l0b, l0b);
  };

  D1j.xor = function (O8Q, H9g) {
    var k1y, B0T;
    V24.E0w();
    k1y = !O8Q;
    B0T = !H9g;
    V24.a3e(108);
    return V24.B0m(B0T, k1y);
  };

  D1j.round = function (B8T, U1E) {
    return Number(Math.round(B8T + ((498.52, 7950) == (1165, 4210) ? +"875.76" : (664.64, 930) <= 85 ? (0x1f39, "2.12e+2" << 32) : "e") + U1E) + "e-" + U1E);
  };

  D1j.countDecimals = function (K7C) {
    var U6J, y1k;
    V24.E0w();
    U6J = "e";
    U6J += "-";

    if (typeof K7C !== "number" || isNaN(K7C)) {
      return 0;
    }

    if (Math.floor(K7C) === Number(K7C)) {
      return +"0";
    }

    y1k = K7C.toString().split(U6J);

    if (y1k.length > 1) {
      V24.i3C(1);
      var h3t = V24.k$A(4, 5);
      return D1j.countDecimals(Number(y1k[0])) + Number(y1k[h3t]);
    }

    if (y1k[0].indexOf(".") > -1) {
      return y1k[+"0"].split(".")[1].length;
    }

    return 0;
  };

  D1j.isValidNumber = function (L1t) {
    V24.E0w();
    return isFinite(L1t) && +L1t === L1t;
  };

  D1j.log10 = function (b5I) {
    return Math.log(b5I) / Math.LN10;
  };

  D1j.boxIntersects = function (s6A, M1s, M_z, r_Q, r7R, H56, R_z, C_n, r0l) {
    var q8p, J1P, s5L, Y76, s4r, i3g, t3H;
    q8p = "r";
    q8p += "a";
    q8p += "y";

    if (arguments[9] !== undefined) {
      console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels.");
    }

    J1P = Math.min(s6A, M_z);
    s5L = Math.max(s6A, M_z);

    function i8u(h4b, y_e) {
      V24.i3C(109);
      return V24.B0m(H56, H56, r7R, y_e, r7R, C_n, h4b, R_z);
    }

    Y76 = Math.min(M1s, r_Q);
    s4r = Math.max(M1s, r_Q);
    V24.a3e(110);
    i3g = V24.k$A(r0l, q8p);

    if (isNaN(r7R) || isNaN(R_z) || isNaN(H56) || isNaN(C_n)) {
      return !!0;
    }

    if (r0l != "line") {
      if (r7R < J1P && R_z < J1P && (!i3g || r7R > R_z)) {
        return !!"";
      }

      if (r7R > s5L && R_z > s5L && (!i3g || r7R < R_z)) {
        return ![];
      }

      if (H56 < Y76 && C_n < Y76 && (!i3g || H56 > C_n)) {
        return !{};
      }

      if (H56 > s4r && C_n > s4r && (!i3g || H56 < C_n)) {
        return !1;
      }
    }

    t3H = {
      a: i8u(s6A, M1s),
      b: i8u(s6A, r_Q),
      c: i8u(M_z, M1s),
      d: i8u(M_z, r_Q)
    };

    if (t3H.a > 0 && t3H.b > +"0" && t3H.c > +"0" && t3H.d > 0) {
      return !{};
    }

    if (t3H.a < 0 && t3H.b < 0 && t3H.c < 0 && t3H.d < 0) {
      return ![];
    }

    return !"";
  };

  D1j.linesIntersect = function (w_1, F4u, r0r, a6q, K77, U93, d0E, J0w, w_x) {
    var u7i, z54, M23, w8N, y_f, k2_, Y_A, w9Y, X0T;
    u7i = "v";
    u7i += "er";
    u7i += "tic";
    u7i += "al";
    V24.i3C(109);
    z54 = V24.k$A(d0E, r0r, K77, J0w, w_1, a6q, U93, F4u);
    V24.i3C(109);
    M23 = V24.k$A(K77, K77, d0E, U93, d0E, w_1, J0w, r0r);
    V24.i3C(109);
    w8N = V24.k$A(w_1, K77, r0r, F4u, d0E, w_1, a6q, r0r);

    if (z54 === "0" << 32) {
      if (M23 === 0 && w8N === "0" << 0) {
        return !![];
      }

      return !{};
      ;
    }

    V24.a3e(40);
    y_f = V24.B0m(M23, z54);
    V24.i3C(40);
    k2_ = V24.k$A(w8N, z54);

    if (w_x == "segment") {
      if (y_f >= 0 && y_f <= 1 && k2_ >= +"0" && k2_ <= 1) {
        return !0;
      }
    } else if (w_x == "line" || w_x == "horizontal" || w_x == u7i) {
      Y_A = 557395262;
      V24.i3C(13);
      w9Y = -V24.k$A("722684032", 0);
      X0T = 2;

      for (var d_t = "1" ^ 0; V24.m7$(d_t.toString(), d_t.toString().length, 96704) !== Y_A; d_t++) {
        if (y_f < 3 || y_f > 2) {
          return !"1";
        }

        X0T += +"2";
      }

      if (V24.b3_(X0T.toString(), X0T.toString().length, 96172) !== w9Y) {
        if (y_f < 3 || y_f > 2) {
          return !{};
        }
      }

      if (y_f >= 0 && y_f <= 1) {
        return !!{};
      }
    } else if (w_x == "ray") {
      if (y_f >= 0 && y_f <= 1 && k2_ >= +"0") {
        return !"";
      }
    }

    return !!"";
  };

  D1j.yIntersection = function (H5e, Z_o) {
    var Q7P, f$5, J_J, g2G, G4M, F9Y, K9c, B8w, q0B, C8N, n4l, K63, y5m, Q64, w2p;
    V24.E0w();
    Q7P = H5e.x0;
    f$5 = H5e.x1;
    J_J = Z_o;
    g2G = Z_o;
    G4M = H5e.y0;
    F9Y = H5e.y1;
    K9c = 0;
    B8w = 10000;
    V24.i3C(109);
    q0B = V24.B0m(K9c, G4M, J_J, B8w, Q7P, F9Y, g2G, f$5);
    V24.a3e(109);
    C8N = V24.k$A(J_J, J_J, K9c, g2G, K9c, Q7P, B8w, G4M);
    V24.a3e(40);
    n4l = V24.k$A(C8N, q0B);

    if (q0B === 0) {
      K63 = 388290614;
      y5m = -+"160891235";
      Q64 = 2;

      for (var T2h = 1; V24.m7$(T2h.toString(), T2h.toString().length, 3474) !== K63; T2h++) {
        if (C8N == +"8") {
          n4l = 6;
        } else {
          return 1;
        }

        Q64 += 2;
      }

      if (V24.m7$(Q64.toString(), Q64.toString().length, 86929) !== y5m) {
        if (C8N === 0) {
          n4l = 1;
        } else {
          return null;
        }
      }
    }

    V24.i3C(111);
    w2p = V24.k$A(n4l, G4M, F9Y, G4M);
    return w2p;
  };

  V24.j07();

  D1j.xIntersection = function (T0V, m6d) {
    var w5R, Z3X, o9B, i7m, K4P, Z28, c2A, C9b, j_X, j0k, E4J, h0Q;
    w5R = T0V.x0;
    Z3X = T0V.x1;
    o9B = 0;
    i7m = 10000;
    K4P = T0V.y0;
    Z28 = T0V.y1;
    c2A = m6d;
    C9b = m6d;
    V24.a3e(109);
    j_X = V24.B0m(c2A, K4P, o9B, C9b, w5R, Z28, i7m, Z3X);
    V24.a3e(109);
    V24.j07();
    j0k = V24.B0m(o9B, o9B, c2A, i7m, c2A, w5R, C9b, K4P);
    V24.a3e(40);
    E4J = V24.B0m(j0k, j_X);

    if (j_X === 0) {
      if (j0k === 0) {
        E4J = 1;
      } else {
        return null;
      }
    }

    V24.a3e(111);
    h0Q = V24.B0m(E4J, w5R, Z3X, w5R);
    return h0Q;
  };

  D1j.intersectLineLineX = function (Z_J, e3r, D0$, t1n, w84, m0D, J$2, Z0q) {
    var d8S, F57, c4S;
    V24.a3e(109);
    d8S = V24.k$A(w84, w84, J$2, m0D, J$2, Z_J, Z0q, D0$);
    V24.i3C(109);
    F57 = V24.k$A(J$2, D0$, w84, Z0q, Z_J, t1n, m0D, e3r);
    V24.a3e(40);
    c4S = V24.B0m(d8S, F57);
    V24.a3e(111);
    return V24.B0m(c4S, Z_J, e3r, Z_J);
  };

  D1j.intersectLineLineY = function (k9I, T1c, k2q, K_P, s8$, s7I, E$Z, F$Y) {
    var e2b, P_J, J3_;
    V24.i3C(109);
    e2b = V24.B0m(s8$, s8$, E$Z, s7I, E$Z, k9I, F$Y, k2q);
    V24.i3C(109);
    P_J = V24.k$A(E$Z, k2q, s8$, F$Y, k9I, K_P, s7I, T1c);
    V24.a3e(40);
    J3_ = V24.k$A(e2b, P_J);
    V24.i3C(111);
    return V24.B0m(J3_, k2q, K_P, k2q);
  };
};

R = function R(X9W) {
  var N$Q;
  N$Q = X9W.CIQ;

  N$Q.deleteRHS = function (h3L, t27) {
    var s9o;
    s9o = ![];

    for (var q7e in h3L) {
      if (h3L[q7e] == t27) {
        delete h3L[q7e];
        s9o = !!1;
      }
    }

    return s9o;
  };

  N$Q.scrub = function (C1A, M1R) {
    for (var R1u in C1A) {
      if (typeof C1A[R1u] == "undefined") {
        delete C1A[R1u];
      }

      if (M1R && C1A[R1u] === null) {
        delete C1A[R1u];
      }
    }
  };

  N$Q.dataBindSafeAssignment = function (J9j, d3v) {
    var L48, R1b, e9k;
    L48 = 131049330;
    M2dNJ.j07();
    R1b = -377134672;
    e9k = 2;

    for (var O3P = 1; M2dNJ.b3_(O3P.toString(), O3P.toString().length, 92017) !== L48; O3P++) {
      N$Q.extend(J9j, d3v);
      e9k += 2;
    }

    if (M2dNJ.m7$(e9k.toString(), e9k.toString().length, "19133" << 32) !== R1b) {
      N$Q.extend(J9j, d3v);
    }

    N$Q.extend(J9j, d3v);

    for (var g0J in J9j) {
      if (typeof d3v[g0J] == "undefined") {
        J9j[g0J] = undefined;
      }
    }
  };

  N$Q.clone = function (K0Z, n6w) {
    var l7v, K_Y;
    l7v = "o";
    l7v += "bje";
    l7v += "c";
    l7v += "t";

    if (K0Z === null || _typeof(K0Z) != l7v) {
      return K0Z;
    }

    K_Y = K0Z.constructor;

    if (K_Y == Date || K_Y == RegExp || K_Y == String || K_Y == Number || K_Y == Boolean) {
      return new K_Y(K0Z.valueOf());
    }

    if (K_Y == Function) {
      return function () {
        return K0Z.apply(this, arguments);
      };
    }

    if (!n6w) {
      try {
        n6w = new K_Y();
      } catch (I9w) {
        n6w = Object.create(Object.getPrototypeOf(K0Z));
      }
    }

    for (var U6O in K0Z) {
      n6w[U6O] = n6w[U6O] !== K0Z[U6O] ? N$Q.clone(K0Z[U6O], null) : n6w[U6O];
    }

    return n6w;
  };

  N$Q.shallowClone = function (t63) {
    var I6r;

    if (!t63) {
      return t63;
    }

    if (t63.constructor == Array) {
      I6r = new Array(t63.length);

      for (var T5X = 0; T5X < t63.length; T5X++) {
        I6r[T5X] = t63[T5X];
      }

      return I6r;
    }

    I6r = {};

    for (var g2Z in t63) {
      I6r[g2Z] = t63[g2Z];
    }

    return I6r;
  };

  N$Q.ensureDefaults = function (x2h, g9z) {
    for (var B4p in g9z) {
      if (typeof x2h[B4p] == "undefined") {
        x2h[B4p] = g9z[B4p];
      }
    }

    return x2h;
  };

  N$Q.transferObject = function (e2Q, x0t) {
    var a2x;

    for (a2x in e2Q) {
      if (e2Q.hasOwnProperty(a2x)) {
        delete e2Q[a2x];
      }
    }

    for (a2x in x0t) {
      if (x0t.hasOwnProperty(a2x)) {
        e2Q[a2x] = x0t[a2x];
      }
    }

    return e2Q;
  };

  N$Q.equals = function (O6Y, m_b, D7R) {
    var G0n;

    if (!O6Y && m_b) {
      return !!0;
    }

    if (O6Y && !m_b) {
      return !{};
    }

    if (_typeof(O6Y) !== _typeof(m_b)) {
      return !{};
    }

    for (var I4d in O6Y) {
      if (D7R && D7R[I4d]) continue;

      if (_typeof(O6Y[I4d]) === "object") {
        G0n = N$Q.equals(O6Y[I4d], m_b[I4d]);

        if (!G0n) {
          return ![];
        }

        continue;
      }

      if (m_b[I4d] != O6Y[I4d]) {
        return !"1";
      }
    }

    return !![];
  };

  N$Q.isEmpty = function (G_U) {
    M2dNJ.E0w();

    for (var s39 in G_U) {
      if (G_U.hasOwnProperty(s39)) {
        return !{};
      }
    }

    return !!{};
  };

  N$Q.first = function (i_F) {
    var i1u, U9P, S9H;

    for (var d0b in i_F) {
      return d0b;
    }

    i1u = -2003807241;
    U9P = -214471443;
    M2dNJ.j07();
    S9H = 2;

    for (var c4_ = 1; M2dNJ.b3_(c4_.toString(), c4_.toString().length, 26033) !== i1u; c4_++) {
      return 1;
    }

    if (M2dNJ.b3_(S9H.toString(), S9H.toString().length, 78335) !== U9P) {
      return null;
    }
  };

  N$Q.last = function (Z2L) {
    var s9x;
    s9x = null;

    for (var p3g in Z2L) {
      s9x = p3g;
    }

    return s9x;
  };

  N$Q.objLength = function (p_Z) {
    var z0A;

    if (!p_Z) {
      return 0;
    }

    z0A = 0;

    for (var e6J in p_Z) {
      z0A++;
    }

    return z0A;
  };

  N$Q.deriveFromObjectChain = function (g7H, n2J) {
    var c7L, h0D;

    if (n2J.indexOf(1978 !== (258.54, 862.31) ? (27.18, 24.93) === 6776 ? (![], "m") : "." : (7.27e+3, "J")) == -1) {
      return {
        obj: g7H,
        member: n2J
      };
    }

    c7L = n2J.split(".");

    for (var F5f = 0; F5f < c7L.length - 1; F5f++) {
      h0D = c7L[F5f];

      if (!g7H[h0D] && g7H[h0D] !== 0) {
        g7H[h0D] = {};
      }

      g7H = g7H[h0D];
    }

    return {
      obj: g7H,
      member: c7L[F5f]
    };
  };

  N$Q.createObjectChainNames = function (k4l, q3Y) {
    var o5i;
    o5i = [];

    for (var g6e = 0; g6e < q3Y.length; g6e++) {
      o5i.push(k4l + "-->" + q3Y[g6e]);
    }

    return o5i;
  };

  N$Q.existsInObjectChain = function (g6G, S85) {
    var P6a, m_t, J_K;
    P6a = "-";
    P6a += "-";
    P6a += ">";
    M2dNJ.j07();

    if (S85.indexOf(P6a) == -1) {
      if (!g6G[S85] && g6G[S85] !== 0) {
        return null;
      }

      return {
        obj: g6G,
        member: S85
      };
    }

    m_t = S85.split("-->");

    for (var P$0 = "0" * 1; P$0 < m_t.length - ("1" - 0); P$0++) {
      J_K = m_t[P$0];

      if (!g6G[J_K] && g6G[J_K] !== ("0" ^ 0)) {
        return null;
      }

      g6G = g6G[J_K];
    }

    J_K = m_t[P$0];

    if (!g6G[J_K] && g6G[J_K] !== 0) {
      return null;
    }

    return {
      obj: g6G,
      member: J_K
    };
  };

  N$Q.derivedFrom = function (b7P, z$i) {
    if (z$i.isPrototypeOf(b7P)) {
      return !"";
    }

    if (b7P instanceof z$i) {
      return !!{};
    }

    return ![];
  };

  N$Q.replaceFields = function (m22, F3N) {
    var q_N, n_a, H7l, n8a, z6D;

    if (!m22) {
      return m22;
    }

    q_N = {};

    for (var F6t in m22) {
      n_a = m22[F6t];
      H7l = F3N[F6t];

      if (!H7l) {
        H7l = F6t;
      }

      if (n_a && _typeof(n_a) == "object") {
        if (n_a.constructor == Array) {
          n8a = q_N[H7l] = new Array(n_a.length);

          for (var M4H = 0; M4H < n8a.length; M4H++) {
            z6D = n_a[M4H];

            if (_typeof(z6D) == "object") {
              n8a[M4H] = N$Q.replaceFields(z6D, F3N);
            } else {
              n8a[M4H] = z6D;
            }
          }
        } else {
          q_N[H7l] = N$Q.replaceFields(n_a, F3N);
        }
      } else {
        q_N[H7l] = n_a;
      }
    }

    return q_N;
  };

  N$Q.removeNullValues = function (m$R) {
    var F6A;
    F6A = N$Q.clone(m$R);

    for (var w0e in F6A) {
      if (!F6A[w0e]) {
        delete F6A[w0e];
      }
    }

    return F6A;
  };

  N$Q.reverseObject = function (Y3H) {
    var v0_;
    v0_ = {};

    for (var Z_Z in Y3H) {
      v0_[Y3H[Z_Z]] = Z_Z;
    }

    return v0_;
  };

  N$Q.getFromNS = function (c3D, B33, f7i) {
    var t13, h$6, V7a;
    M2dNJ.E0w();

    if (c3D) {
      t13 = c3D;
      h$6 = B33.split(".");

      for (var Y$V = 0; Y$V < h$6.length; Y$V++) {
        V7a = h$6[Y$V];
        if (typeof t13[V7a] === "undefined") break;
        t13 = t13[V7a];
      }

      if (Y$V === h$6.length) {
        return t13;
      }
    }

    return undefined || f7i;
  };

  N$Q.getFnFromNS = function (K38, f_c, m53) {
    return N$Q.getFromNS(K38, f_c, function () {
      M2dNJ.j07();
      return m53;
    });
    ;
  };

  N$Q.get = function (M6c, P_M) {
    M2dNJ.j07();
    return N$Q.getFromNS(N$Q, M6c, P_M);
  };

  N$Q.getFn = function (Z5d, s6y) {
    M2dNJ.j07();
    return N$Q.getFromNS(N$Q, Z5d, function () {
      M2dNJ.j07();
      return s6y;
    });
    ;
  };
};

W = function W(M0O) {
  var p8a = M2dNJ;
  var L$K;
  L$K = M0O.CIQ;

  L$K.Plotter = function () {
    this.seriesArray = [];
    this.seriesMap = {};
  };

  p8a.j07();
  L$K.extend(L$K.Plotter.prototype, {
    Series: function Series(T3M, c1M, I4V, O3Y, u5F, s0K) {
      this.name = T3M;
      this.strokeOrFill = c1M;
      this.color = I4V;
      this.moves = [];
      this.text = [];

      if (!O3Y || O3Y > "1" >> 0 || O3Y < 0) {
        O3Y = 1;
      }

      this.opacity = O3Y;

      if (!u5F || u5F > 25 || u5F < 1) {
        u5F = 1;
      }

      this.width = u5F;
      p8a.j07();
      this.pattern = L$K.borderPatternToArray(u5F, s0K);
    },
    newSeries: function newSeries(t4c, J4x, r5p, A5L, A3u) {
      var c9x;

      if (r5p.constructor == String) {
        c9x = new this.Series(t4c, J4x, r5p, A5L, A3u);
      } else {
        c9x = new this.Series(t4c, J4x, r5p.color, r5p.opacity, A3u >= 0 ? A3u : L$K.stripPX(r5p.width), r5p.borderTopStyle);
      }

      p8a.j07();
      this.seriesArray.push(c9x);
      this.seriesMap[t4c] = c9x;
    },
    reset: function reset(f$U) {
      var W4g;

      for (var W5K in this.seriesMap) {
        if (f$U && f$U != W5K) continue;
        W4g = this.seriesMap[W5K];

        if (W4g) {
          W4g.moves = [];
          W4g.text = [];
        }
      }
    },
    moveTo: function moveTo(b8F, d_0, B4t) {
      p8a.j07();
      var o_S;
      o_S = this.seriesMap[b8F];
      o_S.moves.push({
        action: "moveTo",
        x: d_0,
        y: B4t
      });
    },
    lineTo: function lineTo(k7G, Y7R, l1d) {
      var V7O, X9Q;
      V7O = this.seriesMap[k7G];
      X9Q = V7O.pattern;
      V7O.moves.push({
        action: "lineTo",
        x: Y7R,
        y: l1d,
        pattern: X9Q
      });
    },
    dashedLineTo: function dashedLineTo(N_k, o9Z, X84, Z2a) {
      var r69;
      r69 = this.seriesMap[N_k];
      r69.moves.push({
        action: "lineTo",
        x: o9Z,
        y: X84,
        pattern: Z2a
      });
    },
    quadraticCurveTo: function quadraticCurveTo(q0e, g6K, y6U, S$_, A7p) {
      var F1W, p3n;
      F1W = this.seriesMap[q0e];
      p8a.E0w();
      p3n = F1W.pattern;
      F1W.moves.push({
        action: "quadraticCurveTo",
        x0: g6K,
        y0: y6U,
        x: S$_,
        y: A7p,
        pattern: p3n
      });
    },
    bezierCurveTo: function bezierCurveTo(J7j, s6u, h3u, l_H, e3H, k9m, f8z) {
      var O_w, l$3, j40;
      O_w = "bezie";
      O_w += "rC";
      O_w += "u";
      O_w += "rveTo";
      p8a.E0w();
      l$3 = this.seriesMap[J7j];
      j40 = l$3.pattern;
      l$3.moves.push({
        action: O_w,
        x0: s6u,
        y0: h3u,
        x1: l_H,
        y1: e3H,
        x: k9m,
        y: f8z,
        pattern: j40
      });
    },
    addText: function addText(N2H, a2T, j8i, R0N, S8V, O_G, p$O) {
      var p9z;
      p9z = this.seriesMap[N2H];
      p9z.text.push({
        text: a2T,
        x: j8i,
        y: R0N,
        bg: S8V
      });
    },
    drawText: function drawText(c1Y, Z$_) {
      var o9w, r1l, n8d, O9i, r4J;

      for (var S0p = "0" ^ 0; S0p < Z$_.text.length; S0p++) {
        o9w = Z$_.text[S0p];

        if (o9w.bg) {
          r1l = "ri";
          r1l += "g";
          r1l += "ht";
          n8d = o9w.width ? o9w.width : c1Y.measureText(o9w.text).width;
          O9i = o9w.height ? o9w.height : 12;
          r4J = c1Y.fillStyle;
          c1Y.fillStyle = o9w.bg;

          if (c1Y.textAlign == r1l) {
            c1Y.fillRect(o9w.x, o9w.y - O9i / 2, -n8d, -O9i);
          } else {
            c1Y.fillRect(o9w.x, o9w.y - O9i / ("2" >> 32), n8d, O9i);
          }

          c1Y.fillStyle = r4J;
        }

        c1Y.fillText(o9w.text, o9w.x, o9w.y);
      }
    },
    draw: function draw(G7g, P6d) {
      var L4e, o3f, B6z, q6q, e3p, b5y;
      L4e = G7g.lineWidth;
      o3f = G7g.fillStyle;
      B6z = G7g.strokeStyle;
      q6q = G7g.globalAlpha;

      for (var A9f = 0; A9f < this.seriesArray.length; A9f++) {
        e3p = this.seriesArray[A9f];
        if (P6d && e3p.name != P6d) continue;
        G7g.beginPath();
        G7g.lineWidth = e3p.width;
        G7g.globalAlpha = e3p.opacity;
        G7g.fillStyle = e3p.color;
        G7g.strokeStyle = e3p.color;
        G7g.save();

        for (var V_Q = "0" ^ 0; V_Q < e3p.moves.length; V_Q++) {
          b5y = e3p.moves[V_Q];

          if (b5y.pattern) {
            G7g.setLineDash(b5y.pattern);
            G7g.lineDashOffset = 0;
          } else {
            G7g.setLineDash([]);
          }

          if (b5y.action == "quadraticCurveTo") {
            G7g[b5y.action](b5y.x0, b5y.y0, b5y.x, b5y.y);
          } else if (b5y.action == "bezierCurveTo") {
            G7g[b5y.action](b5y.x0, b5y.y0, b5y.x1, b5y.y1, b5y.x, b5y.y);
          } else {
            G7g[b5y.action](b5y.x, b5y.y);
          }
        }

        if (e3p.strokeOrFill == "fill") {
          G7g.fill();
        } else {
          G7g.stroke();
        }

        G7g.closePath();
        G7g.restore();
        this.drawText(G7g, e3p);
        p8a.i3C(14);
        G7g.lineWidth = p8a.k$A(0, "1");
      }

      G7g.lineWidth = L4e;
      G7g.fillStyle = o3f;
      G7g.strokeStyle = B6z;
      G7g.globalAlpha = q6q;
    }
  }, !![]);
};

Y = function Y(x0g) {
  var n4m;
  n4m = x0g.CIQ;

  n4m.Renderer = function () {};

  n4m.Renderer.produce = function (i51, O3l) {
    var E_q, p3j;
    E_q = null;

    if (i51) {
      for (var p2z in n4m.Renderer) {
        p3j = n4m.Renderer[p2z];

        if (p3j.requestNew) {
          E_q = p3j.requestNew(i51.split("_"), O3l);
        }

        if (E_q) {
          return E_q;
        }
      }
    }

    O3l.type = "line";
    return new n4m.Renderer.Lines({
      params: O3l
    });
  };

  n4m.Renderer.colorFunctions = {};

  n4m.Renderer.registerColorFunction = function (R1f, t_J) {
    n4m.Renderer.colorFunctions[R1f] = t_J;
  };

  n4m.Renderer.unregisterColorFunction = function (I0f) {
    M2dNJ.j07();
    delete n4m.Renderer.colorFunctions[I0f];
  };

  n4m.Renderer.prototype.adjustYAxis = function () {};

  n4m.Renderer.prototype.draw = function () {};

  n4m.Renderer.prototype.drawIndividualSeries = function (p$k, l7K) {};

  n4m.Renderer.prototype.construct = function (P4d) {
    var W9i;

    if (!P4d) {
      P4d = {};
    }

    W9i = P4d.params ? P4d.params : {};

    if (!W9i.name) {
      W9i.name = n4m.uniqueID();
    }

    if (!W9i.heightPercentage) {
      W9i.heightPercentage = 0.7;
    }

    if (!W9i.opacity) {
      W9i.opacity = 1;
    }

    if (W9i.highlightable !== !!"") {
      W9i.highlightable = !!1;
    }

    if (!W9i.panel) {
      W9i.panel = "chart";
    }

    if (W9i.yAxis) {
      W9i.yAxis = new n4m.ChartEngine.YAxis(W9i.yAxis);

      if (!W9i.yAxis.name) {
        W9i.yAxis.name = W9i.name;
      }
    }

    this.cb = P4d.callback;
    this.params = W9i;
    this.seriesParams = [];
    this.caches = {};
    this.colors = {};
  };

  n4m.Renderer.prototype.attachSeries = function (o33, p65) {
    var S4s = M2dNJ;
    var V6r, R1I, q2t, C5V, e7f, H6k, G_x, j4V, X3b, n17, W3B, i6x, i8q, X_a, q2R, I0T;
    V6r = this.stx;

    if (!V6r) {
      return this;
    }

    R1I = V6r.chart.series[o33];

    if (!R1I) {
      R1I = {
        parameters: {}
      };
    }

    q2t = this.params;
    C5V = R1I.parameters;
    e7f = {
      id: o33,
      chartType: q2t.type,
      display: C5V.display,
      border_color_up: q2t.defaultBorders ? "auto" : null,
      fill_color_up: C5V.color,
      opacity_up: q2t.opacity,
      border_color_down: q2t.defaultBorders ? "auto" : null,
      fill_color_down: C5V.color,
      opacity_down: q2t.opacity,
      color: C5V.color,
      symbol: C5V.symbol,
      symbolObject: n4m.clone(C5V.symbolObject)
    };

    if (typeof p65 == "string") {
      e7f.color = e7f.fill_color_down = e7f.fill_color_up = p65;
    } else if (_typeof(p65) == "object") {
      for (var Q7l in p65) {
        e7f[Q7l] = p65[Q7l];
      }

      H6k = -2088145325;
      G_x = 1007278948;
      S4s.a3e(14);
      j4V = S4s.B0m(0, "2");

      for (var t4k = 1; S4s.b3_(t4k.toString(), t4k.toString().length, +"98855") !== H6k; t4k++) {
        X3b = e7f.color;
        n17 = e7f.border_color;
        j4V += 2;
      }

      if (S4s.b3_(j4V.toString(), j4V.toString().length, 74592) !== G_x) {
        X3b = e7f.color;
        n17 = e7f.border_color;
      }

      if (X3b) {
        if (!e7f.fill_color_up) {
          e7f.fill_color_up = X3b;
        }

        if (!e7f.fill_color_down) {
          e7f.fill_color_down = X3b;
        }

        if (!e7f.fill_color_even) {
          e7f.fill_color_even = X3b;
        }
      }

      if (n17) {
        if (!e7f.border_color_up) {
          e7f.border_color_up = n17;
        }

        if (!e7f.border_color_down) {
          e7f.border_color_down = n17;
        }

        if (!e7f.border_color_even) {
          e7f.border_color_even = n17;
        }
      }
    }

    if (e7f.symbol && e7f.field != e7f.symbol) {
      e7f.subField = e7f.field;
      e7f.field = e7f.symbol;
    }

    if (!e7f.id) {
      e7f.id = n4m.uniqueID();
    }

    W3B = 0;

    for (; W3B < this.seriesParams.length; ++W3B) {
      if (this.seriesParams[W3B].id === e7f.id) {
        this.removeSeries(e7f.id, !!1);
        break;
      }
    }

    this.seriesParams.splice(W3B, 0, e7f);

    if (e7f.fill_color_up != e7f.fill_color_down) {
      i6x = " ";
      i6x += "down";
      i8q = " ";
      i8q += "do";
      i8q += "w";
      i8q += "n";
      X_a = " ";
      X_a += "d";
      X_a += "n";
      S4s.i3C(4);
      this.colors[S4s.k$A(" up", o33)] = {
        color: e7f.fill_color_up,
        opacity: e7f.opacity_up,
        display: e7f.display ? e7f.display + " up" : o33 + " up"
      };
      S4s.i3C(4);
      this.colors[S4s.k$A(X_a, o33)] = {
        color: e7f.fill_color_down,
        opacity: e7f.opacity_down,
        display: e7f.display ? e7f.display + i8q : o33 + i6x
      };
    } else {
      this.colors[o33] = {
        color: e7f.fill_color_up,
        opacity: e7f.opacity_up,
        display: e7f.display ? e7f.display : o33
      };
    }

    q2R = q2t.panel;

    if (!V6r.panels[q2R]) {
      I0T = q2t.yAxis;

      if (!I0T) {
        I0T = new n4m.ChartEngine.YAxis();
        I0T.needsInitialPadding = !![];
      }

      I0T.name = q2R;
      V6r.createPanel(q2R, q2R, null, null, I0T);
    } else {
      if (q2t.yAxis) {
        q2t.yAxis = V6r.addYAxis(V6r.panels[q2R], q2t.yAxis);
        q2t.yAxis.needsInitialPadding = !![];
        C5V.yAxis = q2t.yAxis;
        V6r.resizeChart();
      } else if (e7f.yAxis) {
        q2t.yAxis = e7f.yAxis;
      }
    }

    return this;
  };

  n4m.Renderer.prototype.removeSeries = function (i4u, l_u) {
    var j1K = M2dNJ;
    var u5c, E0x, p0L, T$0, p$Z, G3v, h4f, e8k, u43, W8y, r7w;
    u5c = null;
    E0x = !{};
    p0L = this.stx;
    T$0 = p0L.chart;

    for (var Y1w in T$0.seriesRenderers) {
      p$Z = T$0.seriesRenderers[Y1w];

      for (var E0E = 0; E0E < p$Z.seriesParams.length; E0E++) {
        G3v = p$Z.seriesParams[E0E];

        if (G3v.id == i4u && this === p$Z) {
          u5c = E0E;
        } else if (G3v.isComparison && G3v.panel == T$0.panel.name && (!G3v.yAxis || G3v.yAxis == T$0.yAxis)) {
          E0x = !!"1";
        }
      }
    }

    if (u5c !== null) {
      if (T$0.forcePercentComparison && !E0x && this.seriesParams[u5c].isComparison && p0L.layout.chartScale != "linear") {
        p0L.setChartScale();
      }

      this.seriesParams.splice(u5c, +"1");
    }

    j1K.i3C(4);
    delete this.colors[j1K.B0m(" up", i4u)];
    j1K.a3e(4);
    delete this.colors[j1K.k$A(" dn", i4u)];
    delete this.colors[i4u];

    if (!l_u) {
      h4f = 616556170;
      e8k = 1979278518;
      u43 = +"2";

      for (var M1j = 1; j1K.m7$(M1j.toString(), M1j.toString().length, 69585) !== h4f; M1j++) {
        j1K.i3C(14);
        u43 += j1K.B0m(2, "2");
      }

      if (j1K.b3_(u43.toString(), u43.toString().length, 39870) !== e8k) {}

      for (var E6Y in T$0.seriesRenderers) {
        r7w = T$0.seriesRenderers[E6Y];

        for (var T8S = 0; T8S < r7w.seriesParams.length; T8S++) {
          if (r7w.seriesParams[T8S].id == i4u) {
            W8y = !![];
            break;
          }

          W8y = !{};
        }

        if (W8y) break;
      }

      if (W8y === !{} || u5c !== null) {
        p0L.deleteSeries(i4u, T$0);
      }

      ;
    }

    p0L.deleteYAxisIfUnused(p0L.panels[this.params.panel], this.params.yAxis);
    p0L.resizeChart();
    p0L.layout.symbols = p0L.getSymbols({
      "include-parameters": !!"1",
      "exclude-studies": !0
    });
    p0L.changeOccurred("layout");
    return this;
  };

  n4m.Renderer.prototype.modifyRenderer = function (b_W) {
    var f_8, f$x, Y0Z, o2m;
    M2dNJ.E0w();
    f_8 = this.params;
    var B4R = this.stx;

    for (var G3L in b_W) {
      f$x = "t";
      f$x += "yp";
      f$x += "e";
      Y0Z = "bas";
      Y0Z += "e";
      Y0Z += "line";
      o2m = b_W[G3L];

      switch (G3L) {
        case Y0Z:
          if (o2m) {
            if (_typeof(o2m) === "object") {
              this.params.baseline = n4m.ensureDefaults(o2m, n4m.ChartEngine.Chart.prototype.baseline);
            }

            B4R.registerBaselineToHelper(this);
          } else {
            B4R.removeBaselineFromHelper(this);
          }

          break;

        case f$x:
          this.params.type = o2m;
          break;

        case "style":
          this.params.style = o2m;
          break;

        default:
          break;
      }
    }
  };

  n4m.Renderer.prototype.getDependents = function (K_N) {
    var L_B, y0h;
    L_B = [];

    for (var w$k in K_N.chart.seriesRenderers) {
      y0h = K_N.chart.seriesRenderers[w$k];

      if (y0h.params.dependentOf == this.params.name) {
        L_B.push(y0h);
      }
    }

    return L_B;
  };

  n4m.Renderer.prototype.undraggable = function (G47) {
    if (this == G47.mainSeriesRenderer) {
      return !0;
    }

    M2dNJ.j07();
    return this.params.dependentOf == G47.mainSeriesRenderer.params.name;
  };

  n4m.Renderer.prototype.removeAllSeries = function (E$_) {
    var A7J;

    if (E$_ || this === this.stx.mainSeriesRenderer) {
      A7J = [];

      for (var q4z = 0; q4z < this.seriesParams.length; q4z++) {
        A7J.push(this.seriesParams[q4z].id);
      }

      for (var m6h = 0; m6h < A7J.length; m6h++) {
        this.removeSeries(A7J[m6h]);
      }
    }

    this.seriesParams = [];
    this.colors = {};
    this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel], this.params.yAxis);
    this.stx.resizeChart();
    M2dNJ.j07();
    return this;
  };

  n4m.Renderer.prototype.getYAxis = function (M_y) {
    var Q_t, N$M;

    if (this.params) {
      if (this.params.yAxis) {
        Q_t = this.params.yAxis;
      } else {
        N$M = M_y.panels[this.params.panel];

        if (!N$M) {
          return ![];
        }

        Q_t = N$M.yAxis;
      }
    } else {
      Q_t = M_y.chart.panel.yAxis;
    }

    M2dNJ.E0w();
    return Q_t;
  };

  n4m.Renderer.prototype.ready = function () {
    this.stx.createDataSet();
    this.stx.draw();
    return this;
  };

  n4m.Renderer.Lines = function (Z4s) {
    var c9S, a_f, J$I, y04, s9h;
    c9S = "obj";
    c9S += "ec";
    c9S += "t";
    a_f = "s";
    a_f += "t";
    a_f += "e";
    a_f += "p";
    J$I = "chan";
    J$I += "nel";
    y04 = "w";
    y04 += "av";
    y04 += "e";
    this.construct(Z4s);
    var b4j = this.params;

    if (!b4j.type) {
      b4j.type = "line";
    }

    if (!b4j.style) {
      s9h = "m";
      s9h += "ou";
      s9h += "ntain";

      switch (b4j.type) {
        case s9h:
          if (b4j.baseline) {
            b4j.style = "stx_baseline_delta_mountain";
          } else if (b4j.colored) {
            b4j.style = "stx_colored_mountain_chart";
          } else {
            b4j.style = "stx_mountain_chart";
          }

          break;

        default:
          b4j.style = "stx_line_chart";
      }
    }

    this.supportsAnimation = !![];

    if (b4j.type == y04 || b4j.type == J$I) {
      b4j.step = b4j.vertex = b4j.baseline = b4j.colored = !{};
      this.highLowBars = this.barsHaveWidth = !!{};
      this.supportsAnimation = ![];
    } else if (b4j.type == a_f) {
      b4j.step = !0;
    }

    var i3F = b4j.baseline;

    if (i3F && _typeof(i3F) === c9S) {
      n4m.ensureDefaults(b4j.baseline, n4m.ChartEngine.Chart.prototype.baseline);
    }
  };

  n4m.inheritsFrom(n4m.Renderer.Lines, n4m.Renderer, !{});

  n4m.Renderer.Lines.requestNew = function (L01, h$2) {
    var E8m, d1A, m1W, O7K, Y4O, g7f, p5G, l4c;
    E8m = null;
    d1A = h$2.step;
    m1W = h$2.colored;
    O7K = h$2.baseline;
    Y4O = h$2.vertex;
    M2dNJ.j07();

    for (var G9s = "0" ^ 0; G9s < L01.length; G9s++) {
      g7f = "s";
      g7f += "tep";
      p5G = "ch";
      p5G += "a";
      p5G += "nne";
      p5G += "l";
      l4c = L01[G9s];

      switch (l4c) {
        case "line":
        case "mountain":
        case "wave":
        case p5G:
          E8m = l4c;
          break;

        case "baseline":
          O7K = !0;
          break;

        case "colored":
          m1W = !0;
          break;

        case g7f:
          d1A = !0;
          break;

        case "vertex":
          Y4O = !"";
          break;

        case "delta":
          break;

        default:
          return null;
      }
    }

    if (E8m === null && !O7K && !d1A) {
      return null;
    }

    return new n4m.Renderer.Lines({
      params: n4m.extend(h$2, {
        type: E8m,
        step: d1A,
        colored: m1W,
        baseline: O7K,
        vertex: Y4O
      })
    });
  };

  n4m.Renderer.Lines.prototype.draw = function () {
    var r4o, w0g, Q_C, J$T, N_J, W60, F$D, a7y, C3E, p33, G7Q, N8B, r4y;
    r4o = this.stx;
    w0g = this.stx.panels[this.params.panel];
    M2dNJ.j07();
    Q_C = w0g.chart;
    J$T = {};
    W60 = this.seriesParams;
    F$D = this.params.colorFunction;

    for (N_J = 0; N_J < W60.length; N_J++) {
      a7y = W60[N_J];

      if (this.params.colored) {
        C3E = "_color";
        C3E += "_";
        C3E += "u";
        C3E += "p";
        p33 = [C3E, "_color_down", "_color"];

        for (var P1z = 0; P1z < p33.length; P1z++) {
          G7Q = "f";
          G7Q += "i";
          G7Q += "l";
          G7Q += "l";
          N8B = a7y["border" + p33[P1z]];

          if (N8B && N8B != "auto") {
            a7y[G7Q + p33[P1z]] = N8B;
          }

          ;
        }

        if (!F$D) {
          F$D = M4D(a7y);
        }

        this.params.colorFunction = F$D;
      }

      r4y = {};

      if (Q_C.series[a7y.id]) {
        r4y = n4m.clone(Q_C.series[a7y.id].parameters);
      }

      J$T[a7y.id] = {
        parameters: n4m.extend(n4m.extend(r4y, this.params), a7y),
        yValueCache: this.caches[a7y.id]
      };

      if (this == r4o.mainSeriesRenderer && Q_C.customChart && Q_C.customChart.colorFunction) {
        J$T[a7y.id].parameters.colorFunction = Q_C.customChart.colorFunction;
      }
    }

    r4o.drawSeries(Q_C, J$T, this.params.yAxis, this);

    for (N_J in J$T) {
      this.caches[N_J] = J$T[N_J].yValueCache;
    }

    function M4D(Y5o) {
      var K0J, J1f, V95, z32;
      K0J = "st";
      K0J += "x_line_down";
      J1f = Y5o.fill_color_up || r4o.getCanvasColor("stx_line_up");
      V95 = Y5o.fill_color_down || r4o.getCanvasColor(K0J);
      z32 = Y5o.color || r4o.getCanvasColor("stx_line_chart");
      M2dNJ.j07();
      return function (y4M, n_8, O6Q) {
        if (!n_8.iqPrevClose && n_8.iqPrevClose !== 0) {
          return z32;
        }

        if (n_8.Close > n_8.iqPrevClose) {
          return J1f;
        }

        if (n_8.Close < n_8.iqPrevClose) {
          return V95;
        }

        return z32;
      };
    }
  };

  n4m.Renderer.Lines.prototype.drawIndividualSeries = function (Q5f, q15) {
    var C_x, V4A, x__, h5M, m7b, n89;
    M2dNJ.j07();
    C_x = "c";
    C_x += "hanne";
    C_x += "l";

    if (q15.invalid) {
      return;
    }

    V4A = this.stx;
    x__ = Q5f.context;
    h5M = null;
    m7b = q15.colorFunction;
    n89 = V4A.panels[q15.panel] || Q5f.panel;

    if (typeof m7b == "string") {
      m7b = n4m.Renderer.colorFunctions[m7b];

      if (!m7b) {
        return;
      }
    }

    if (q15.vertex) {
      x__.save();
      x__.lineJoin = "bevel";
    }

    if (q15.type == "wave") {
      h5M = V4A.drawWaveChart(n89, q15);
    } else if (q15.baseline) {
      h5M = V4A.drawBaselineChart(n89, q15);
      V4A.positionBaselineHandle(this);
    } else if (q15.type == "mountain") {
      q15.returnObject = !![];
      h5M = V4A.drawMountainChart(n89, q15, m7b);
    } else if (q15.type == C_x) {
      q15.returnObject = !!1;
      h5M = V4A.drawChannelChart(n89, m7b, q15);
    } else {
      q15.returnObject = !!1;
      h5M = V4A.drawLineChart(n89, q15.style, m7b, q15);
    }

    if (q15.vertex) {
      V4A.scatter(n89, {
        yAxis: q15.yAxis,
        field: q15.symbol || q15.field,
        subField: q15.subField,
        symbol: q15.symbol,
        color: q15.vertex_color,
        highlight: q15.highlight
      });
      x__.restore();
    }

    return h5M;
  };

  n4m.Renderer.OHLC = function (Q0Z) {
    var K7T, S2T, X11;
    K7T = "ca";
    K7T += "ndl";
    K7T += "e";
    this.construct(Q0Z);
    S2T = this.params;

    if (!S2T.type) {
      S2T.type = K7T;
    }

    this.highLowBars = this.barsHaveWidth = this.standaloneBars = !!"1";

    if (S2T.histogram) {
      X11 = "ca";
      X11 += "ndle";
      S2T.type = X11;
      this.highLowBars = ![];
      S2T.volume = S2T.hollow = !{};
    }

    M2dNJ.E0w();

    if (S2T.type == "bar") {
      S2T.volume = S2T.hollow = S2T.histogram = ![];
    }

    if (S2T.type == "candle") {
      S2T.hlc = S2T.colored = ![];
    }

    if (S2T.volume) {
      S2T.hollow = !!"1";
    }
  };

  n4m.inheritsFrom(n4m.Renderer.OHLC, n4m.Renderer, !{});

  n4m.Renderer.OHLC.requestNew = function (c48, d3m) {
    var m9g, p$m, h0V;
    m9g = null;
    p$m = d3m.histogram;

    for (var Z3i = 0; Z3i < c48.length; Z3i++) {
      h0V = c48[Z3i];

      switch (h0V) {
        case "candle":
          m9g = h0V;
          break;

        case "histogram":
          p$m = !0;
          m9g = "candle";
          break;

        default:
          return null;
      }
    }

    if (m9g === null) {
      return null;
    }

    return new n4m.Renderer.OHLC({
      params: n4m.extend(d3m, {
        type: m9g,
        histogram: p$m
      })
    });
  };

  n4m.Renderer.OHLC.getChartParts = function (d78, W8g) {
    var N2i, d1j, z3$, b6P, e32, g_m, n38, h0h, B5B, r2M, a6Y, j82, M73;
    N2i = "border_c";
    N2i += "olor_down";
    d1j = "ca";
    d1j += "nd";
    d1j += "le";
    z3$ = "ca";
    z3$ += "nd";
    z3$ += "l";
    z3$ += "e";
    b6P = "st";
    b6P += "x_candle_shadow_";
    b6P += "down";
    e32 = "candl";
    e32 += "e";
    g_m = "bord";
    g_m += "er_col";
    g_m += "or";
    g_m += "_up";
    n38 = "c";
    n38 += "andle";
    h0h = "fill_color_eve";
    h0h += "n";
    B5B = "bo";
    B5B += "r";
    B5B += "der_color_u";
    B5B += "p";
    r2M = "hi";
    r2M += "stogram";
    a6Y = 8;
    j82 = 16;
    M73 = 32;
    return [{
      type: r2M,
      drawType: "histogram",
      style: "stx_histogram_up",
      condition: a6Y,
      fill: "fill_color_up",
      border: B5B,
      useColorInMap: !![],
      useBorderStyleProp: !![]
    }, {
      type: "histogram",
      drawType: "histogram",
      style: "stx_histogram_down",
      condition: j82,
      fill: "fill_color_down",
      border: "border_color_down",
      useColorInMap: !![],
      useBorderStyleProp: !!1
    }, {
      type: "histogram",
      drawType: "histogram",
      style: "stx_histogram_even",
      condition: M73,
      fill: h0h,
      border: "border_color_even",
      skipIfPass: !!1,
      useColorInMap: !0,
      useBorderStyleProp: !!{}
    }, {
      type: "candle",
      drawType: "shadow",
      style: "stx_candle_shadow",
      border: "border_color_up"
    }, {
      type: n38,
      drawType: "shadow",
      style: "stx_candle_shadow_up",
      condition: a6Y,
      border: g_m
    }, {
      type: e32,
      drawType: "shadow",
      style: b6P,
      condition: j82,
      border: "border_color_down"
    }, {
      type: "candle",
      drawType: "shadow",
      style: "stx_candle_shadow_even",
      condition: M73,
      border: "border_color_even",
      skipIfPass: !!{}
    }, {
      type: z3$,
      drawType: "candle",
      style: "stx_candle_up",
      condition: a6Y,
      fill: "fill_color_up",
      border: "border_color_up",
      useColorInMap: !!{},
      useBorderStyleProp: !!"1"
    }, {
      type: d1j,
      drawType: "candle",
      style: "stx_candle_down",
      condition: j82,
      fill: "fill_color_down",
      border: N2i,
      useColorInMap: !![],
      useBorderStyleProp: !!{}
    }];
    ;
  };

  n4m.Renderer.OHLC.prototype.draw = function () {
    M2dNJ.E0w();
    var C_f, s5S, M8x, r6l, V1$, t47, b7$, V0U;
    C_f = this.stx;
    s5S = this.stx.panels[this.params.panel];
    M8x = s5S.chart;
    r6l = {};
    t47 = this.seriesParams;

    for (V1$ = 0; V1$ < t47.length; V1$++) {
      b7$ = t47[V1$];
      V0U = {};

      if (M8x.series[b7$.id]) {
        V0U = n4m.clone(M8x.series[b7$.id].parameters);
      }

      r6l[b7$.id] = {
        parameters: n4m.extend(n4m.extend(V0U, this.params), b7$)
      };

      if (this == C_f.mainSeriesRenderer && M8x.customChart && M8x.customChart.colorFunction) {
        r6l[b7$.id].parameters.colorFunction = M8x.customChart.colorFunction;
      }
    }

    C_f.drawSeries(M8x, r6l, this.params.yAxis, this);

    for (V1$ in r6l) {
      if (r6l[V1$].yValueCache) {
        this.caches[V1$] = r6l[V1$].yValueCache;
      }
    }
  };

  n4m.Renderer.OHLC.prototype.getColor = function (F4H, t6R, B8e, p71, t5Y, P2R) {
    var U6Y, U8m, o9E, V6u, I2M;
    U6Y = P2R || B8e.color;
    U8m = this.params.yAxis || t6R.yAxis;

    if (p71) {
      U6Y = P2R || B8e.borderLeftColor || B8e["border-left-color"];

      if (!U6Y) {
        return null;
      }
    }

    if (!t5Y) {
      return U6Y;
    }

    o9E = F4H.pixelFromTransformedValue(U8m.highValue, t6R);

    if (isNaN(o9E)) {
      o9E = 0;
    }

    V6u = B8e.backgroundColor;

    if (U6Y && !n4m.isTransparent(U6Y)) {
      M2dNJ.a3e(82);
      I2M = F4H.chart.context.createLinearGradient(M2dNJ.B0m(0, "0"), o9E, 0, 2 * U8m[U8m.flipped ? "top" : "bottom"] - o9E);
      I2M.addColorStop(0, U6Y);
      I2M.addColorStop(1, V6u);
      return I2M;
    }

    return V6u;
  };

  n4m.Renderer.OHLC.prototype.drawIndividualSeries = function (H4i, U7J) {
    var x14 = M2dNJ;
    var R8b, i$1, o9j, Z4m, m4G, m4f, N3D, t$T, T6C, s7Q, W5r, V9l, s0G, Q4O, v6P, J9b, n5n, N1i, B93, f$o, T0O, b0_, o6M, R1z, I32, l2x, A4w, f7M, R13, R$V, u5P, O_P, c7B, b73, P0z, x55, o0A, v3t, N7G, W4b;

    if (U7J.invalid) {
      return;
    }

    R8b = this.stx;
    i$1 = H4i.context;
    o9j = U7J.colorFunction;
    Z4m = R8b.panels[U7J.panel] || H4i.panel;

    if (typeof o9j == "string") {
      o9j = n4m.Renderer.colorFunctions[o9j];

      if (!o9j) {
        return;
      }
    }

    m4G = R8b.layout.candleWidth - H4i.tmpWidth <= 2 && H4i.tmpWidth <= 3;
    m4f = 1;
    N3D = 2;
    t$T = 4;
    T6C = +"8";
    s7Q = 16;
    W5r = 32;

    if (!H4i.state.chartType) {
      H4i.state.chartType = {};
    }

    V9l = H4i.state.chartType.pass = {};
    s0G = R8b.colorByCandleDirection;

    if (U7J.colorBasis) {
      s0G = U7J.colorBasis == "open";
    }

    Q4O = U7J.histogram;
    v6P = U7J.type;
    J9b = U7J.hollow;
    n5n = R8b.noWicksOnCandles[v6P];
    R8b.startClip(Z4m.name);
    N1i = null;
    B93 = {
      colors: [],
      cache: []
    };
    f$o = [];

    if (o9j) {
      x14.i3C(82);
      T0O = -x14.k$A(0, "524872068");
      b0_ = +"324903121";
      x14.a3e(82);
      o6M = x14.B0m(64, "2");

      for (var A03 = 1; x14.b3_(A03.toString(), A03.toString().length, "82454" ^ 0) !== T0O; A03++) {
        R1z = {
          isHistogram: Q4O,
          field: U7J.field,
          yAxis: U7J.yAxis,
          isVolume: U7J.volume,
          highlight: U7J.highlight
        };
        o6M += 2;
      }

      if (x14.m7$(o6M.toString(), o6M.toString().length, 20251) !== b0_) {
        R1z = {
          isHistogram: Q4O,
          field: U7J.field,
          yAxis: U7J.yAxis,
          isVolume: U7J.volume,
          highlight: U7J.highlight
        };
      }

      R1z = {
        isHistogram: Q4O,
        field: U7J.field,
        yAxis: U7J.yAxis,
        isVolume: U7J.volume,
        highlight: U7J.highlight
      };

      if (!Q4O && v6P == "bar") {
        I32 = "h";
        I32 += "lc";
        R1z.type = U7J.hlc ? I32 : "bar";
        B93 = R8b.drawBarChart(Z4m, "stx_bar_chart", o9j, R1z);
      } else {
        if (v6P == "candle" && !n5n) {
          R8b.drawShadows(Z4m, o9j, R1z);
        }

        B93 = R8b.drawCandles(Z4m, o9j, R1z);
        R1z.isOutline = !!1;

        if (J9b || !m4G) {
          R8b.drawCandles(Z4m, o9j, R1z);
        }

        ;
      }
    } else {
      l2x = Q4O && U7J.gradient !== ![];
      A4w = n4m.Renderer.OHLC.getChartParts(U7J.style, s0G);

      for (var X7p = 0; X7p < A4w.length; X7p++) {
        f7M = "cand";
        f7M += "le";
        R13 = "b";
        R13 += "a";
        R13 += "r";
        R$V = A4w[X7p];
        if (R$V.skipIfPass && !V9l.even) continue;else if (Q4O) {
          if (R$V.type != "histogram") continue;
        } else if (v6P == R13) {
          if (R$V.type != "bar") continue;else if (U7J.colored && !R$V.condition) continue;else if (!U7J.colored && R$V.condition) continue;
        } else if (J9b) {
          if (R$V.type != "hollow") continue;else if (R$V.drawType == "shadow" && n5n) continue;
        } else if (v6P == "candle") {
          if (R$V.type != "candle") continue;else if (R$V.drawType == "shadow") {
            u5P = "st";
            u5P += "x_candle_shadow_up";
            if (n5n) continue;
            O_P = U7J.border_color_up || R8b.getCanvasColor(u5P);
            c7B = U7J.border_color_down || R8b.getCanvasColor("stx_candle_shadow_down");
            b73 = U7J.border_color_even || R8b.getCanvasColor("stx_candle_shadow_even");

            if (!n4m.colorsEqual(O_P, c7B) || !n4m.colorsEqual(O_P, b73) || !n4m.colorsEqual(O_P, R8b.defaultColor)) {
              if (!R$V.condition) continue;
            } else if (R$V.condition) continue;
          }
        } else continue;
        P0z = R8b.canvasStyle(R$V.style);
        x55 = this.getColor(R8b, Z4m, P0z, !"1", !"1", U7J[R$V.fill]);
        o0A = this.getColor(R8b, Z4m, P0z, !!"", l2x, U7J[R$V.fill]);
        v3t = this.getColor(R8b, Z4m, P0z, R$V.useBorderStyleProp && !m4G, l2x, U7J[R$V.border]);

        if (R$V.drawType == f7M) {
          if (R$V.type == "hollow") {
            N7G = "tr";
            N7G += "ansparent";

            if (!n4m.isTransparent(o0A) && n4m.colorsEqual(v3t, o0A)) {
              v3t = R$V.useColorInMap ? N7G : o0A;
            }

            if (!R$V.useColorInMap) {
              o0A = R8b.containerColor;
            }
          } else if (R$V.type == "candle") {
            if (m4G) {
              if (n4m.isTransparent(o0A)) {
                o0A = v3t;
              } else {
                v3t = o0A;
              }

              ;
            }
          }
        }

        i$1.globalAlpha = U7J.opacity;
        f$o.push(R8b.drawBarTypeChartInner({
          fillColor: o0A,
          borderColor: v3t,
          condition: R$V.condition,
          style: R$V.style,
          type: v6P == "bar" && U7J.hlc ? "hlc" : R$V.drawType,
          panel: Z4m,
          field: U7J.field,
          yAxis: U7J.yAxis,
          volume: U7J.volume && U7J.hollow,
          highlight: U7J.highlight
        }));

        if (!N1i) {
          N1i = {};
        }

        if (R$V.useColorInMap) {
          N1i[x55] = 1;
        }
      }
    }

    R8b.endClip();

    for (var A33 in N1i) {
      if (!U7J.hollow || !n4m.equals(A33, R8b.containerColor)) {
        B93.colors.push(A33);
      }
    }

    for (A33 = +"0"; A33 < f$o.length; A33++) {
      for (var P82 = 0; P82 < f$o[A33].cache.length; P82++) {
        W4b = f$o[A33].cache[P82];

        if (W4b || W4b === ("0" ^ 0)) {
          B93.cache[P82] = W4b;
        }
      }
    }

    return B93;
  };

  n4m.Renderer.Candles = function (J2X) {
    M2dNJ.j07();
    var i80;
    this.construct(J2X);
    i80 = this.params;
    i80.type = "candle";
    this.highLowBars = this.barsHaveWidth = this.standaloneBars = !![];
    i80.hlc = i80.colored = i80.histogram = ![];

    if (i80.volume) {
      i80.hollow = !!1;
    }
  };

  n4m.inheritsFrom(n4m.Renderer.Candles, n4m.Renderer.OHLC, ![]);

  n4m.Renderer.SimpleHistogram = function (g5Q) {
    var Z$8;
    this.construct(g5Q);
    Z$8 = this.params;
    Z$8.type = "candle";
    Z$8.histogram = !!"1";
    this.barsHaveWidth = this.standaloneBars = !![];
    this.highLowBars = !1;
    M2dNJ.E0w();
    Z$8.hlc = Z$8.colored = Z$8.hollow = Z$8.volume = !"1";
  };

  n4m.inheritsFrom(n4m.Renderer.SimpleHistogram, n4m.Renderer.Candles, !1);
};

L = function L(R3_) {
  var V51;
  V51 = R3_.CIQ;

  V51.capitalize = function (Q8P) {
    M2dNJ.j07();

    if (!Q8P) {
      return "";
    }

    M2dNJ.i3C(112);
    var H1l = M2dNJ.B0m(36, 0, 7, 16, 14);
    return Q8P.charAt(0).toUpperCase() + Q8P.slice(H1l);
  };

  V51.camelCaseRegExp = /-([a-z])/g;

  V51.makeCamelCase = function (p68) {
    M2dNJ.E0w();
    return p68.replace(V51.camelCaseRegExp, function (B6q) {
      return B6q[+"1"].toUpperCase();
    });
  };

  V51.uniqueID = function (f7b) {
    var Y0Q, N7m, Y6I, r0L, Z7e, l7V;

    if (f7b) {
      Y0Q = "fu";
      Y0Q += "nction";
      N7m = "unde";
      N7m += "fi";
      N7m += "ne";
      N7m += "d";
      Y6I = new Date().getTime();

      if ((typeof window === "undefined" ? "undefined" : _typeof(window)) !== N7m && window.performance && _typeof(window.performance.now) === Y0Q) {
        Y6I += window.performance.now();
        ;
      }

      r0L = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (Z7A) {
        var N29 = M2dNJ;
        var u0Z;
        N29.i3C(29);
        var c9t = N29.B0m(1, 1, 15);
        N29.a3e(113);
        var F03 = N29.B0m(4, 19, 9, 8, 272);
        N29.j07();
        u0Z = (Y6I + Math.random() * c9t) % F03 | ("0" | 0);
        N29.i3C(40);
        Y6I = Math.floor(N29.B0m(Y6I, 16));
        return (Z7A == (2.95 >= +"665.89" ? !"" : "x") ? u0Z : u0Z & 0x3 | "0x8" >> 32).toString(16);
      });
      return r0L;
    }

    Z7e = new Date();
    M2dNJ.j07();
    l7V = Z7e.getTime().toString(36);
    l7V += Math.floor(Math.random() * Math.pow(36, +"2")).toString(36);
    return l7V.toUpperCase();
  };
};

E = function E(y72) {
  ;
};

K = function K(C1j) {
  var p6G;
  p6G = C1j.CIQ;

  p6G.getHostName = function (z3c) {
    M2dNJ.j07();

    try {
      return z3c.match(/:\/\/(.[^/]+)/)[1];
    } catch (A3i) {
      return "";
    }
  };

  p6G.qs = function (I1B) {
    var Z5Q, i0V, Q3$, W50;
    Z5Q = {};

    if (!I1B) {
      I1B = window.location.search.substring(1);
    }

    i0V = I1B.split(+"1362" === 360.29 ? 7150 >= 82.97 ? (1165, 7324) <= 4040 ? (0x1daa, "S") : 0x187e : "c" : "&");

    for (var I2d = 0; I2d < i0V.length; I2d++) {
      Q3$ = i0V[I2d].indexOf(26.57 <= ("914.01" * 1, 3110) ? "=" : "649.96" - 0);

      if (Q3$ > 0) {
        W50 = i0V[I2d].substring(0, Q3$);
        M2dNJ.a3e(4);
        Z5Q[W50] = i0V[I2d].substring(M2dNJ.k$A(1, Q3$));
      } else {
        W50 = i0V[I2d];
        Z5Q[W50] = null;
      }
    }

    return Z5Q;
  };

  p6G.postAjax = function (n2u, Q9L, t1K, L0y, y2b) {
    var S8A = M2dNJ;
    var U6X, a28, i9m, Q4N, B7R, V6_, D3K, E0u, h4t, r5B;
    U6X = "Conte";

    function L$1(h9H) {
      var a3D, X2b, Z7h, B17;
      a3D = {};

      if (!n2u.responseHeaders) {
        return;
      }

      X2b = h9H.getAllResponseHeaders();
      Z7h = X2b.split((6810, 471) !== +"571.17" ? (2700, +"5530") != 6104 ? 6669 < 7060 ? "\n" : 7.87e+3 : (0xe6d, 2.32e+3) : !1);

      for (var L4r = 0; L4r < Z7h.length; L4r++) {
        B17 = Z7h[L4r].split(":");

        while (B17[1] && B17[1].charAt(0) == ((9031, "2382" >> 0) > (3255, 9860) ? (431.11, 8.34e+2) : " ")) {
          B17[1] = B17[1].substring(1);
        }

        if (B17[+"0"] !== "") {
          a3D[B17.shift()] = B17.join(3743 === (841, 7797) ? 1.99e+3 : ":");
        }
      }

      return a3D;
    }

    U6X += "nt";
    S8A.j07();
    U6X += "-Typ";
    U6X += "e";
    a28 = "P";
    a28 += "OS";
    a28 += "T";

    if (typeof n2u == "string") {
      n2u = {
        url: n2u,
        payload: Q9L,
        cb: t1K,
        contentType: L0y,
        noEpoch: y2b,
        method: null,
        responseHeaders: ![]
      };
    }

    i9m = n2u.url;
    Q4N = n2u.cb;
    B7R = n2u.payload;

    if (!Q4N) {
      Q4N = function Q4N() {};
    }

    if (!n2u.ungovernable) {
      if (p6G.Extras && p6G.Extras.RequestLimiter && p6G.Extras.RequestLimiter.hitRequestLimit(i9m)) {
        Q4N(429, null, {});
        return;
      }
    }

    V6_ = new XMLHttpRequest();

    if (!V6_) {
      return !{};
    }

    D3K = new Date();

    if (!n2u.noEpoch) {
      E0u = "?ciqrando";
      E0u += "m=";

      if (i9m.indexOf(7130 <= (408.06, 323.19) ? ("9980" | 8) <= "6070" >> 64 ? (!!0, !{}) : 2.45e+3 : "?") == -1) {
        i9m += E0u + D3K.getTime();
      } else {
        i9m += "&ciqrandom=" + D3K.getTime();
      }
    }

    h4t = n2u.method;
    r5B = n2u.headers;

    if (!h4t) {
      h4t = B7R ? a28 : "GET";
    }

    V6_.open(h4t, i9m, !!1);

    if (!n2u.contentType) {
      n2u.contentType = "application/x-www-form-urlencoded";
    }

    if (B7R) {
      V6_.setRequestHeader(U6X, n2u.contentType);
    }

    if (r5B) {
      for (var b3y in r5B) {
        V6_.setRequestHeader(b3y, r5B[b3y]);
      }
    }

    if (n2u.timeout) {
      V6_.timeout = n2u.timeout;
      ;
    }

    V6_.ontimeout = function () {
      S8A.E0w();
      Q4N(408, null, {});
    };

    V6_.onload = function () {
      if (this.status === "0" << 0) {
        this.status = 9770 != +"288.73" ? "0" : !!{};
      } else if (!this.status) {
        this.status = 200;
      }

      S8A.j07();
      Q4N(this.status, this.responseText, L$1(this));
    };

    V6_.onerror = function () {
      S8A.j07();
      Q4N("0", null, {});
    };

    try {
      V6_.send(B7R);
    } catch (V__) {
      Q4N("0", V__, {});
    }

    return !!{};
  };

  p6G.loadUI = function (a_L, F5L, C5F) {
    var x1h = M2dNJ;
    var Z7Q, I24, K92, Y0v, L_4, l6V;
    Z7Q = "\"";
    Z7Q += "]";

    if (!F5L || typeof F5L == "function") {
      C5F = F5L;
      F5L = document.body;
    }

    x1h.i3C(50);
    I24 = document.querySelector(x1h.k$A(a_L, 'iframe[original-url="', Z7Q));

    K92 = function K92() {
      var D2q, D4C, p81, g8q, U5l;
      D2q = null;

      try {
        D2q = this.contentDocument;
      } catch (s2Q) {
        return C5F(s2Q);
      }

      if (D2q && !D2q.title) {
        D4C = "d";
        D4C += "iv";
        p81 = D2q.body.innerHTML;
        g8q = document.createElement(D4C);
        p6G.innerHTML(g8q, p81);

        for (var i$i = 0; i$i < g8q.children.length; i$i++) {
          U5l = g8q.children[i$i].cloneNode(!!{});
          F5L.appendChild(U5l);
        }

        C5F(null);
      } else {
        C5F(new Error("iFrame not found or document has a title"));
      }
    };

    if (I24) {
      Y0v = null;

      try {
        Y0v = I24.contentDocument;
      } catch (E7g) {
        return C5F(E7g);
      }

      if (Y0v.readyState === "complete" && Y0v.location && Y0v.location.href !== "about:blank") {
        K92.call(I24);
      } else {
        I24.addEventListener("load", K92);
      }
    } else {
      L_4 = "loa";
      L_4 += "d";
      l6V = "ifr";
      l6V += "a";
      l6V += "me";
      I24 = document.createElement(l6V);
      I24.setAttribute("original-url", a_L);
      x1h.a3e(114);
      var r5y = x1h.B0m(10, 11, 17, 19);
      x1h.a3e(4);
      var J$F = x1h.B0m(11, 4429);
      x1h.i3C(4);
      var P_u = x1h.k$A(11, 714);
      x1h.i3C(115);
      var F$z = x1h.k$A(1446, 12, 5765, 7);
      x1h.i3C(116);
      var V3G = x1h.B0m(1, 433, 3064, 3, 11);
      x1h.a3e(33);
      var B8u = x1h.k$A(256, 14, 5, 12807);
      x1h.i3C(101);
      var w3Q = x1h.B0m(18, 10, 297, 17535, 3);
      x1h.a3e(117);
      var M1Q = x1h.B0m(2, 549, 10, 17, 4967);
      x1h.a3e(4);
      var r0O = x1h.k$A(7232, 402);
      x1h.a3e(96);
      var t8F = x1h.k$A(1414, 17, 10, 712, 1375);
      x1h.a3e(118);
      var z0K = x1h.k$A(4, 1379, 197, 1, 9653);
      I24.src = a_L + (a_L.indexOf("?") === r5y ? "?" : (J$F, +"2840") === 287.24 ? P_u : (F$z, V3G) >= B8u ? (w3Q, !!"1") : (M1Q, r0O) == t8F ? (+"1.27e+3", z0K) : "&") + p6G.uniqueID();
      I24.hidden = !!{};
      I24.addEventListener(L_4, K92);
      document.body.appendChild(I24);
    }
  };

  p6G.loadScript = function (j_W, k4r, g0V) {
    var D1l = M2dNJ;
    D1l.j07();
    var t9N, O_y, N9F, P5G;

    if (!p6G.loadedScripts) {
      p6G.loadedScripts = {};
    }

    if (p6G.loadedScripts[j_W]) {
      if (k4r) {
        k4r();
      }

      return;
    }

    t9N = document.createElement("SCRIPT");

    if (g0V) {
      O_y = "use-";
      O_y += "credentials";
      t9N.type = "module";
      t9N.crossOrigin = O_y;
    } else {
      t9N.async = !![];
    }

    t9N.onload = function () {
      p6G.loadedScripts[j_W] = !!{};

      if (k4r) {
        k4r();
      }
    };

    N9F = j_W;

    if (N9F.indexOf((5100, 1988) > 3280 ? (+"213", !"") : "?") == -1) {
      N9F = N9F + "?" + Date.now();
    } else {
      D1l.i3C(25);
      var I2U = D1l.k$A(5, 220, 896);
      D1l.i3C(1);
      var P0s = D1l.k$A(23650, 25800);
      D1l.a3e(4);
      var r2l = D1l.k$A(670, 37);
      D1l.i3C(29);
      var a8n = D1l.B0m(438, 438, 2629);
      D1l.i3C(119);
      var J$z = D1l.k$A(8, 7652, 1091, 2, 19);
      D1l.a3e(50);
      var x4b = D1l.B0m(8, 9054, 8);
      D1l.i3C(29);
      var F$f = D1l.B0m(2240, 2240, 6719);
      N9F = N9F + (I2U !== P0s ? (r2l, a8n) < J$z ? "&" : x4b > F$f ? 833.24 : (854.11, !1) : (+"3.58e+3", 907.35)) + Date.now();
    }

    t9N.src = N9F;
    P5G = document.getElementsByTagName("script")[0];

    if (!P5G) {
      document.body.append(t9N);
    } else {
      P5G.parentNode.insertBefore(t9N, P5G.nextSibling);
    }
  };

  p6G.loadStylesheet = function (O$d, o5P) {
    var w_r = M2dNJ;
    var v41, E73, U28, s8m, z$q, Y$h, G15, e2w, d0K;
    v41 = "l";
    v41 += "i";
    v41 += "n";
    v41 += "k";
    E73 = "sty";
    E73 += "l";
    E73 += "esh";
    E73 += "eet";
    U28 = document.createElement("link");
    U28.rel = E73;
    s8m = 1162378523;
    z$q = -+"736705629";
    Y$h = 2;

    for (var x5J = +"1"; w_r.b3_(x5J.toString(), x5J.toString().length, 73981) !== s8m; x5J++) {
      U28.type = "text/css";
      U28.media = "screen";
      Y$h += 2;
    }

    if (w_r.m7$(Y$h.toString(), Y$h.toString().length, 87305) !== z$q) {
      G15 = "te";
      G15 += "xt/c";
      G15 += "ss";
      U28.type = G15;
      U28.media = "text/css";
    }

    w_r.a3e(34);
    var u3x = w_r.B0m(9, 6, 8875);
    w_r.j07();
    w_r.i3C(8);
    var t_T = w_r.k$A(30872, 33236, 10);
    w_r.a3e(1);
    var c2w = w_r.k$A(100422, 106001);
    w_r.i3C(4);
    var p10 = w_r.B0m(15, 5025);
    w_r.i3C(7);
    var j2t = w_r.B0m(2342, 28, 12);
    w_r.a3e(1);
    var O$L = w_r.k$A(9, 10);
    w_r.a3e(120);
    var Y5$ = w_r.B0m(2320, 13, 2738, 20, 7);
    w_r.i3C(50);
    var X8A = w_r.k$A(8, 5, 51);
    w_r.a3e(66);
    var i7a = w_r.k$A(2042, 2, 17, 10, 1016);
    w_r.i3C(50);
    var H4s = w_r.B0m(16, 52, 972);
    w_r.a3e(78);
    var C_O = w_r.B0m(14, 15, 3768, 2, 508);
    w_r.i3C(33);
    var l6o = w_r.k$A(3734, 8, 19, 563828);
    U28.href = O$d + (O$d.indexOf((+"668", u3x) >= (t_T, c2w) ? "?" : (p10, j2t) <= "6680" * O$L ? (+"2.79e+3", Y5$) : 825.92) === -("1" << X8A) ? "?" : (i7a, 289) <= (H4s, C_O) ? "&" : (949.57, +"5995") <= (146.93, l6o) ? "0x20dc" ^ 0 : (870.48, "0xafc" - 0)) + Date.now();

    U28.onload = function () {
      w_r.j07();

      if (this.loaded) {
        return;
      }

      this.loaded = !0;

      if (o5P) {
        o5P();
      }
    };

    e2w = document.getElementsByTagName(v41);
    w_r.i3C(8);
    var v5I = w_r.B0m(20, 19, 2);
    d0K = e2w[e2w.length - "1" * v5I];

    if (!d0K) {
      document.head.append(U28);
    } else {
      d0K.parentNode.insertBefore(U28, d0K.nextSibling);
    }
  };

  p6G.loadWidget = function (t44, Z3T, y$b, U1S) {
    var x3H = M2dNJ;

    if (!Z3T || typeof Z3T == "function") {
      y$b = Z3T;
      Z3T = document.body;
    }

    x3H.i3C(4);
    p6G.loadStylesheet(x3H.B0m(".css", t44), function () {
      var R6w;
      R6w = ".h";
      R6w += "tml";
      x3H.i3C(4);
      p6G.loadUI(x3H.k$A(R6w, t44), Z3T, function (N_T) {
        var v6S;
        v6S = ".";
        v6S += "j";
        v6S += "s";

        if (N_T) {
          y$b(N_T);
        } else {
          x3H.a3e(4);
          p6G.loadScript(x3H.B0m(v6S, t44), y$b, U1S);
        }
      });
    });
  };

  p6G.waitForPlugins = function (e86, O3f) {
    var J0h, a2l, y9k, q3j;
    J0h = +"0";
    a2l = e86.length;

    if (!a2l) {
      O3f();
      return;
    }

    for (var Y33 = 0; Y33 < a2l; Y33++) {
      y9k = "cq-" + e86[Y33];
      q3j = document.getElementsByTagName(y9k)[0];

      if (q3j && q3j.hasAttribute("loaded")) {
        J0h++;
      }
    }

    if (a2l !== J0h) {
      return setTimeout(function () {
        p6G.waitForPlugins(e86, O3f);
      }, 0);
    }

    O3f();
  };

  p6G.addInternalStylesheet = function (I9r) {
    var w6q = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var a6J, O7i, n3x, F4_;
    a6J = "text";
    a6J += "/";
    a6J += "css";
    O7i = "t";
    O7i += "y";
    O7i += "p";
    O7i += "e";
    n3x = "s";
    n3x += "t";
    n3x += "yle";

    if (!I9r) {
      return;
    }

    if (I9r["default"]) {
      I9r = I9r["default"];
    }

    if (typeof I9r !== "string") {
      return;
    }

    if (w6q && document.querySelector('style[path="' + w6q + '"]')) {
      return;
    }

    F4_ = document.createElement(n3x);
    F4_.setAttribute(O7i, a6J);
    F4_.setAttribute("path", w6q);
    F4_.innerText = I9r;
    document.head.appendChild(F4_);
  };
};

A = function A(N$k) {
  var u1N = M2dNJ;
  var h__;
  u1N.j07();
  h__ = N$k.CIQ;

  h__.ChartEngine.prototype.registerHTMLElements = function () {
    var A9H, E3p, o7_, T4T, O9W, z_Z, u85, W2A;
    A9H = this.chart.container;

    for (var a2b in h__.ChartEngine.htmlControls) {
      if (typeof this.chart[a2b] == "undefined" && typeof this.controls[a2b] == "undefined") {
        E3p = "c";
        E3p += "har";
        E3p += "tControls";
        if (!this.allowZoom && a2b == E3p) continue;
        u1N.i3C(4);
        o7_ = A9H.querySelector(u1N.B0m(a2b, ("6170" >> 0, 542.76) >= (8909, 604.36) ? +"2.74e+2" : "."));

        if (o7_) {
          this.chart[a2b] = o7_;
          this.controls[a2b] = o7_;
        } else {
          T4T = h__.ChartEngine.htmlControls[a2b];
          if (!T4T) continue;
          O9W = document.createElement("DIV");
          O9W.innerHTML = T4T;
          o7_ = O9W.firstChild;
          A9H.appendChild(o7_);
          this.chart[a2b] = o7_;
          this.controls[a2b] = o7_;
          o7_.classList.add(a2b);
        }
      }
    }

    var _this$controls = this.controls,
        q11 = _this$controls.chartControls,
        t6o = _this$controls.home;

    if (q11) {
      z_Z = ".s";
      z_Z += "tx-zoom";
      z_Z += "-ou";
      z_Z += "t";
      u85 = q11.querySelector(".stx-zoom-in");
      W2A = q11.querySelector(z_Z);
      h__.safeClickTouch(u85, function (O$a) {
        return function (h8f) {
          if (O$a.allowZoom) {
            O$a.zoomIn(h8f);
          }

          u1N.E0w();
          h8f.stopPropagation();
        };
      }(this));
      h__.safeClickTouch(W2A, function (N5B) {
        return function (n7k) {
          if (N5B.allowZoom) {
            N5B.zoomOut(n7k);
          }

          n7k.stopPropagation();
        };
      }(this));

      if (!h__.touchDevice) {
        this.makeModal(u85);
        this.makeModal(W2A);
      }
    }

    if (t6o) {
      h__.safeClickTouch(t6o, function (Z$G) {
        return function (e7l) {
          e7l.stopPropagation();

          if (!Z$G.isHistoricalMode()) {
            Z$G.home({
              animate: !!{}
            });
            return;
          }

          delete Z$G.layout.range;
          u1N.j07();
          Z$G.loadChart(Z$G.chart.symbol, function () {
            u1N.j07();
            Z$G.home({
              animate: !1
            });
          });
        };
      }(this));

      if (!h__.touchDevice) {
        this.makeModal(t6o);
      }
    }
  };

  h__.ChartEngine.prototype.home = function (h3E) {
    var m$v, K3T, v1g, y6n, J40, O69, h_e, j$O;
    m$v = "undefine";
    m$v += "d";
    this.swipe.amplitude = 0;
    K3T = this.layout;

    if (_typeof(h3E) != "object") {
      h3E = {
        maintainWhitespace: h3E
      };
    }

    if (_typeof(h3E.maintainWhitespace) == m$v) {
      h3E.maintainWhitespace = !!1;
    }

    this.cancelTouchSingleClick = !![];

    if (!this.chart.dataSet || !this.chart.dataSet.length) {
      this.draw();
      return;
    }

    this.micropixels = 0;
    v1g = Math.floor(this.chart.width / K3T.candleWidth);

    function y6H(q4o, m0n, s81) {
      return function () {
        u1N.j07();
        C08(q4o);
        m0n.scroll = s81;
        q4o.draw();
      };
    }

    for (var l5D in this.charts) {
      y6n = this.charts[l5D];
      if (h3E.chart && h3E.chart != y6n) continue;
      J40 = +"0";

      if (h3E.maintainWhitespace && this.preferences.whitespace >= 0) {
        J40 = this.preferences.whitespace;
      }

      if (h3E.whitespace || h3E.whitespace === 0) {
        J40 = h3E.whitespace;
      }

      O69 = this.getLabelOffsetInPixels(y6n, K3T.chartType);

      if (O69 > J40) {
        J40 = O69;
      }

      h_e = Math.min(v1g, y6n.dataSet.length);

      if (this.chart.allowScrollPast) {
        h_e = v1g;
      }

      this.micropixels = this.chart.width - h_e * K3T.candleWidth - J40;
      this.preferences.whitespace = J40;

      while (this.micropixels > K3T.candleWidth) {
        h_e++;
        this.micropixels -= K3T.candleWidth;
      }

      while (this.micropixels < 0) {
        h_e--;
        this.micropixels += K3T.candleWidth;
      }

      this.micropixels -= K3T.candleWidth;
      h_e++;

      if (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) {
        u1N.a3e(0);
        var T1T = u1N.B0m(17, 7, 121);
        this.micropixels += K3T.candleWidth / T1T;
      }

      if (h3E.animate) {
        j$O = this;
        this.scrollTo(y6n, h_e, y6H(j$O, y6n, h_e));
      } else {
        y6n.scroll = h_e;
        C08(this);
      }
    }

    this.draw();

    function C08(T36) {
      var s0_;

      for (var v4n in T36.panels) {
        s0_ = T36.panels[v4n].yaxisLHS.concat(T36.panels[v4n].yaxisRHS);

        for (var s9i = 0; s9i < s0_.length; s9i++) {
          T36.calculateYAxisMargins(s0_[s9i]);
        }
      }
    }
  };

  h__.ChartEngine.prototype.headsUpHR = function () {
    var c1n, F9R, A1Z, U_t, T9y;

    if (this.runPrepend("headsUpHR", arguments)) {
      return;
    }

    c1n = this.currentPanel;

    if (!c1n) {
      return;
    }

    F9R = c1n.chart;
    this.updateFloatHRLabel(c1n);
    A1Z = this.controls.floatDate;

    if (A1Z && !F9R.xAxis.noDraw) {
      U_t = this.barFromPixel(this.cx);
      T9y = F9R.xaxis[U_t];

      if (T9y && T9y.DT) {
        y7P(h__.displayableDate(this, F9R, T9y.DT));
      } else if (T9y && T9y.index) {
        y7P(T9y.index);
      } else {
        y7P("");
        ;
      }
    }

    this.runAppend("headsUpHR", arguments);
    u1N.j07();

    function y7P(R60) {
      h__.efficientDOMUpdate(A1Z, "innerHTML", R60);
    }
  };

  h__.ChartEngine.prototype.modalBegin = function () {
    this.openDialog = "modal";
    u1N.j07();
    this.undisplayCrosshairs();
  };

  h__.ChartEngine.prototype.modalEnd = function () {
    this.cancelTouchSingleClick = !"";
    this.openDialog = "";
    this.doDisplayCrosshairs();
  };

  h__.ChartEngine.prototype.makeModal = function (I$G) {
    u1N.j07();
    var r2r;
    r2r = this;

    I$G.onmouseover = function (g8U) {
      r2r.modalBegin();
    };

    I$G.onmouseout = function (L4M) {
      r2r.modalEnd();
    };
  };

  h__.ChartEngine.prototype.updateChartAccessories = function () {
    var g6i, d7U, g2p, o_V, W55, J4j, r7x, j4w;

    if (this.accessoryTimer !== null) {
      clearTimeout(this.accessoryTimer);
    }

    if (!h__.ChartEngine.drawingLine && h__.touchDevice) {
      if (new Date().getTime() - this.lastAccessoryUpdate < "100" - 0) {
        this.accessoryTimer = setTimeout(function (G3q) {
          return function () {
            u1N.E0w();
            G3q.updateChartAccessories();
          };
        }(this), +"10");
        return;
      }
    }

    if (!this.chart.dataSet) {
      return;
    }

    if (this.runPrepend("updateChartAccessories", arguments)) {
      return;
    }

    this.accessoryTimer = null;
    this.lastAccessoryUpdate = new Date().getTime();
    g6i = this.controls.floatDate;

    if (g6i) {
      d7U = this.currentPanel;

      if (!d7U) {
        d7U = this.chart.panel;
      }

      if (d7U) {
        g2p = "bot";
        g2p += "t";
        g2p += "om";
        o_V = "p";
        o_V += "x";
        W55 = d7U.chart;
        J4j = this.xAxisAsFooter === !"" ? 0 : this.chart.canvasHeight - d7U.chart.bottom;
        u1N.i3C(4);
        var n0w = u1N.B0m(2, 0);
        r7x = g6i.offsetWidth / n0w - 0.5;
        j4w = this.pixelFromTick(this.crosshairTick, W55) - r7x;

        if (j4w < 0) {
          u1N.i3C(82);
          j4w = u1N.B0m(32, "0");
        } else if (j4w > this.width - 2 * r7x - ("1" - 0)) {
          u1N.a3e(21);
          var E8Y = u1N.k$A(0, 9, 11, 19, 19);
          j4w = this.width - E8Y * r7x - ("1" ^ 0);
        }

        h__.efficientDOMUpdate(g6i.style, "left", j4w + o_V);
        h__.efficientDOMUpdate(g6i.style, g2p, J4j + "px");
      }
    }

    this.positionCrosshairsAtPointer();
    this.headsUpHR();
    this.runAppend("updateChartAccessories", arguments);
  };

  h__.ChartEngine.prototype.positionSticky = function (M9a) {
    var y5N, z77, O9b, W1Y;
    y5N = "p";
    y5N += "x";
    z77 = "p";
    z77 += "x";
    O9b = Math.max(this.cy - M9a.offsetHeight - ("60" >> 32), 0);
    W1Y = Math.min(this.chart.canvasWidth - (this.cx - 50), this.chart.canvasWidth - M9a.offsetWidth);
    u1N.i3C(4);
    M9a.style.top = u1N.B0m(z77, O9b);
    u1N.i3C(4);
    M9a.style.right = u1N.B0m(y5N, W1Y);
  };

  h__.ChartEngine.prototype.displaySticky = function (D4O) {
    var r9i, E1E, x9i, q6U, Z7m, g_Y, t7c, S2t, c3w, l1u, E5W, g__, t1Z, I70, C7Z, U1L, N92, e8t, S_G, m0K, U9F, R84, M17, n9h, H9M, c9Y, w6f, b_Z, x76, J0z, U63, H3a;
    r9i = ".s";
    r9i += "tickyLongPressTex";
    r9i += "t";
    E1E = this.controls.mSticky;

    if (!E1E) {
      return;
    }

    x9i = E1E.querySelector(".mStickyInterior");

    if (!x9i) {
      return;
    }

    q6U = E1E.querySelector(".overlayTrashCan");
    Z7m = E1E.querySelector(".overlayEdit");
    g_Y = E1E.querySelector(".mouseDeleteInstructions");
    t7c = E1E.querySelector(r9i);
    g_Y.classList.remove("no_edit");

    if (!D4O || _typeof(D4O) != "object") {
      D4O = {
        message: arguments[0],
        backgroundColor: arguments[1],
        forceShow: arguments[2],
        noDelete: arguments[3],
        type: arguments[4]
      };
    }

    S2t = D4O.message;
    c3w = D4O.backgroundColor;
    l1u = D4O.forceShow;
    E5W = D4O.noDelete;
    g__ = D4O.noEdit;
    t1Z = D4O.type;

    if (!l1u && !S2t) {
      I70 = "n";
      I70 += "on";
      I70 += "e";
      x9i.innerHTML = "";
      E1E.style.display = "none";

      if (q6U) {
        q6U.style.display = "none";
      }

      if (Z7m) {
        Z7m.style.display = "none";
      }

      if (g_Y) {
        g_Y.style.display = I70;
      }

      if (t7c) {
        t7c.style.display = "none";
      }
    } else {
      C7Z = ".mStickyRig";
      C7Z += "htC";
      C7Z += "lick";

      if (!S2t) {
        S2t = "";
      }

      U1L = this.defaultColor;

      if (c3w == "auto") {
        c3w = U1L;
      }

      if (l1u && !S2t) {
        N92 = "n";
        N92 += "one";
        x9i.style.backgroundColor = "";
        x9i.style.color = "";
        x9i.style.display = N92;
      } else if (c3w) {
        e8t = "inl";
        e8t += "ine-blo";
        e8t += "ck";
        x9i.style.backgroundColor = c3w;
        x9i.style.color = h__.isTransparent(c3w) ? U1L : h__.chooseForegroundColor(c3w);
        x9i.style.display = e8t;
      } else {
        x9i.style.backgroundColor = "";
        x9i.style.color = "";
        x9i.style.display = "inline-block";
      }

      x9i.innerHTML = S2t;
      S_G = E1E.querySelector(C7Z);
      S_G.className = "mStickyRightClick";

      if (t1Z) {
        u1N.a3e(4);
        S_G.classList.add(u1N.B0m(t1Z, "rightclick_"));
      }

      S_G.style.display = "";
      E1E.style.display = "inline-block";
      m0K = this.highlightedDraggable;

      if (!m0K || m0K && m0K.undraggable && m0K.undraggable(this)) {
        U9F = "n";
        U9F += "o";
        U9F += "ne";
        t7c.style.display = U9F;
      }

      if (E5W || this.bypassRightClick === !!"1" || this.bypassRightClick[t1Z]) {
        S_G.style.display = "none";
      } else if (this.highlightViaTap || this.touches.length) {
        R84 = "h";
        R84 += "i";
        R84 += "de";
        M17 = "rem";
        M17 += "o";
        M17 += "ve";
        n9h = "n";
        n9h += "o";
        n9h += "ne";

        if (q6U) {
          q6U.style.display = "inline-block";
        }

        if (Z7m && !g__) {
          Z7m.style.display = "inline-block";
        }

        if (g_Y) {
          g_Y.style.display = "none";
        }

        if (t7c) {
          t7c.style.display = n9h;
        }

        E1E.classList[S2t === "" ? "add" : M17](R84);
      } else {
        if (g__) {
          g_Y.classList.add("no_edit");
        }

        if (g_Y) {
          g_Y.style.display = "block";
        }

        if (t7c) {
          H9M = -1311215396;
          c9Y = -70217861;
          w6f = 2;

          for (var O_j = 1; u1N.b3_(O_j.toString(), O_j.toString().length, 85165) !== H9M; O_j++) {
            t7c.style.display = "none";
            b_Z = this.preferences.dragging;
            w6f += 2;
          }

          if (u1N.m7$(w6f.toString(), w6f.toString().length, 55959) !== c9Y) {
            t7c.style.display = "";
            b_Z = this.preferences.dragging;
          }

          if (b_Z && D4O.panel && !D4O.panel.noDrag) {
            x76 = "bloc";
            x76 += "k";
            J0z = "ser";
            J0z += "i";
            J0z += "es";

            if ((b_Z === !![] || b_Z.study) && t1Z == "study") {
              t7c.style.display = "block";
            } else if ((b_Z === !!"1" || b_Z.series) && t1Z == J0z) {
              t7c.style.display = x76;
            }
          }
        }
      }

      U63 = t1Z || "default";
      E1E.setAttribute("cq-sticky-type", U63);
      H3a = D4O.positioner || this.positionSticky;
      H3a.call(this, E1E);
    }
  };

  h__.ChartEngine.prototype.displayNotification = function (u$d, y0E) {
    var _this = this;

    var W69 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var j4q, Q0B, R41, f9S, a5_, B3J;
    j4q = ".me";
    j4q += "ssage";

    if (!this.controls.notificationTray) {
      return;
    }

    var N2W = W69.callback,
        s5$ = W69.dismissalListeners;
    Q0B = this.controls.notificationTray;
    R41 = Q0B.querySelector("template").content.cloneNode(!!"1");
    f9S = R41.firstElementChild;
    f9S.className = u$d;
    f9S.querySelector(j4q).textContent = y0E;

    if (N2W) {
      a5_ = "t";
      a5_ += "o";
      a5_ += "uchend";
      B3J = window.PointerEvent ? "pointerup" : a5_;
      f9S.handler = f9S.addEventListener(B3J, N2W);
    }

    if (s5$) {
      f9S.listeners = {};
      s5$.forEach(function (D$e) {
        u1N.E0w();
        f9S.listeners[u$d] = _this.addEventListener(D$e.type, D$e.callback);
      });
    }

    this.makeModal(f9S);
    u1N.E0w();
    Q0B.appendChild(f9S);
  };

  h__.ChartEngine.prototype.removeNotification = function (t0W) {
    var J9M, b45;

    if (!this.controls.notificationTray) {
      return;
    }

    J9M = this.controls.notificationTray;
    b45 = J9M.querySelector(".".concat(t0W));

    if (b45) {
      if (b45.handler) {
        b45.removeEventListener(b45.handler);
      }

      if (b45.listeners) {
        for (var s5Y in b45.listeners) {
          this.removeEventListener(b45.listeners[s5Y]);
        }
      }

      this.modalEnd();
      J9M.removeChild(b45);
    }
  };

  h__.ChartEngine.prototype.setMeasure = function (y1i, g$f, E_l, y7H, S8n, M$P) {
    var m__, F4y, g36, u0s, J1z, G8Z, q$K, b6D, i5l, N$E, e$5, D8F, b4S, z6T, w3K, Y75;
    m__ = ".";
    m__ += "mMeasu";
    m__ += "r";
    m__ += "e";
    F4y = "s";
    F4y += "e";
    F4y += "tMeasure";

    if (this.runPrepend(F4y, arguments)) {
      return;
    }

    g36 = (this.drawingContainer || document).querySelector(m__);
    u0s = "";

    if (!y1i && y1i !== 0) {
      J1z = -2113020364;
      G8Z = -+"1060955309";
      u1N.a3e(38);
      q$K = u1N.k$A("2", 1);

      for (var R5d = 1; u1N.m7$(R5d.toString(), R5d.toString().length, 64479) !== J1z; R5d++) {
        if (~this.anyHighlighted || this.currentVectorParameters.vectorType !== "") {
          this.clearMeasure();
        }

        q$K += 2;
      }

      if (u1N.m7$(q$K.toString(), q$K.toString().length, +"75906") !== G8Z) {
        if (!this.anyHighlighted && this.currentVectorParameters.vectorType === "") {
          this.clearMeasure();
        }
      }
    } else {
      if (g$f !== !!0) {
        b6D = Math.round(Math.abs(y1i - g$f) * this.chart.roundit) / this.chart.roundit;
        b6D = b6D.toFixed(this.chart.yAxis.printDecimalPlaces);

        if (this.internationalizer) {
          u0s += this.internationalizer.numbers.format(b6D);
        } else {
          u0s += b6D;
        }

        if (y1i > 0 && g$f > 0) {
          N$E = " ";
          N$E += "(";
          u1N.a3e(42);
          i5l = u1N.B0m(y1i, y1i, g$f);

          if (Math.abs(i5l) > 0.1) {
            u1N.a3e(38);
            i5l = Math.round(u1N.B0m(i5l, 100));
          } else if (Math.abs(i5l) > 0.01) {
            u1N.i3C(67);
            var W1E = u1N.k$A(19, 118981, 15, 8000);
            i5l = Math.round(i5l * W1E) / ("10" >> 0);
          } else {
            i5l = Math.round(i5l * +"10000") / +"100";
          }

          if (this.internationalizer) {
            u1N.i3C(121);
            i5l = this.internationalizer.percent.format(u1N.B0m("100", i5l, 32));
          } else {
            u1N.a3e(4);
            i5l = u1N.B0m("%", i5l);
          }

          u1N.i3C(50);
          u0s += u1N.B0m(i5l, N$E, ")");
        }
      }

      if (y7H !== ![]) {
        u1N.a3e(1);
        e$5 = Math.abs(u1N.k$A(E_l, y7H));
        u1N.i3C(5);
        var A7C = u1N.B0m(12, 13);
        e$5 = Math.round(e$5) + A7C;
        D8F = this.translateIf("Bars");
        u1N.i3C(115);
        u0s += u1N.k$A((2032, 938.7) <= 43.63 ? ("Z", 0x1638) : 9020 === +"670.36" ? (4.05e+3, "l") : 1615 >= 8953 ? ("G", !{}) : " ", e$5, D8F, " ");
      }

      if (g36) {
        g36.innerHTML = u0s;
      }
    }

    if (this.activeDrawing) {
      return;
    }

    g36 = this.controls.mSticky;

    if (g36) {
      b4S = ".m";
      b4S += "StickyInter";
      b4S += "ior";
      z6T = g36.querySelector(b4S);

      if (S8n) {
        w3K = "a";
        w3K += "d";
        w3K += "d";
        Y75 = "i";
        Y75 += "nlin";
        Y75 += "e-bloc";
        Y75 += "k";
        g36.style.display = "inline-block";
        z6T.style.display = Y75;

        if (y1i || y1i === 0) {
          z6T.innerHTML = u0s;
        }

        g36.classList[u0s === "" ? w3K : "remove"]("hide");
        this.positionSticky(g36);
      } else {
        g36.style.display = "none";
        z6T.innerHTML = "";
      }
    }

    this.runAppend("setMeasure", arguments);
  };

  h__.ChartEngine.prototype.clearMeasure = function () {
    var I0X, L9Z;
    I0X = ".mMeas";
    I0X += "ur";
    I0X += "e";
    L9Z = (this.drawingContainer || document).querySelector(I0X);

    if (L9Z) {
      L9Z.innerHTML = "";
    }
  };

  h__.ChartEngine.prototype.zoomSet = function (W6Z, X1g) {
    var x61, z9V, X8v, Q32, I4j, v_M, O2A;
    W6Z = this.constrainCandleWidth(W6Z);

    if (this.chart.tempCanvas.style.display != "none") {
      h__.clearCanvas(this.chart.tempCanvas, this);
    }

    x61 = this.mainSeriesRenderer || {};

    if (!x61.params || !x61.params.volume) {
      if (this.preferences.zoomAtCurrentMousePosition && this.zoomInitiatedByMouseWheel && this.crosshairTick < X1g.dataSet.length) {
        z9V = this.crosshairTick || this.tickFromPixel(this.cx, X1g);
      } else if (this.isHome()) {
        u1N.i3C(75);
        var D__ = u1N.k$A(1, 6, 6, 8, 3);
        z9V = X1g.dataSet.length - D__;
      } else if (this.chart.scroll > this.chart.dataSet.length) {
        z9V = 0;
      } else if (this.grabMode == "zoom-x") {
        z9V = this.tickFromPixel(this.chart.width, X1g);
      } else {
        X8v = -241988618;
        Q32 = -1724057995;
        I4j = +"2";

        for (var N$X = 1; u1N.m7$(N$X.toString(), N$X.toString().length, "37436" - 0) !== X8v; N$X++) {
          z9V = this.tickFromPixel(this.chart.width % 9, X1g);
          I4j += 2;
        }

        if (u1N.b3_(I4j.toString(), I4j.toString().length, 41380) !== Q32) {
          z9V = this.tickFromPixel(this.chart.width / +"2", X1g);
        }
      }

      if (this.animations.zoom.hasCompleted) {
        this.zoomInitiatedByMouseWheel = !{};
      }

      u1N.a3e(37);
      var J_E = u1N.k$A(11, 6, 5, 13);
      v_M = X1g.dataSet.length - J_E - z9V;
      O2A = X1g.scroll;
      u1N.i3C(5);
      var m7i = u1N.B0m(6, 7);
      X1g.scroll = Math.round((this.pixelFromTick(z9V, X1g) - X1g.left) / W6Z) + m7i + v_M;
      this.micropixels += (O2A - v_M) * this.layout.candleWidth - (X1g.scroll - v_M) * W6Z;
    }

    this.setCandleWidth(W6Z);
    X1g.spanLock = ![];
    this.draw();
    this.doDisplayCrosshairs();
    this.updateChartAccessories();
  };
};

G = function G(w8L) {
  var r_p = M2dNJ;
  var J0a;
  J0a = w8L.CIQ;
  r_p.j07();
  J0a.ChartEngine.prototype.currentBaseline = null;
  J0a.ChartEngine.prototype.baselineHelper = null;
  J0a.ChartEngine.helpersToRegister.push(function (H3z) {
    r_p.E0w();
    H3z.baselineHelper = new Map();
  });

  J0a.ChartEngine.prototype.registerBaselineToHelper = function (M$k) {
    var b8b, i6X, u7f;

    if (!M$k.params.baseline) {
      return;
    }

    function H41(j3f) {
      var F5$, Q9J;
      F5$ = "cq-baseline-hand";
      F5$ += "le";
      j3f = j3f.replace(" ", "265" >> 64 < 8987 ? "_" : ("F", 0x13b5));
      Q9J = document.createElement(F5$);
      Q9J.classList.add("stx-baseline-handle", j3f);
      b8b.container.append(Q9J);
      b8b.controls["".concat(j3f, " cq-baseline-handle")] = Q9J;
      return Q9J;
    }

    var l9g = this.baselineHelper;
    r_p.j07();
    b8b = this;

    if (!l9g.has(M$k)) {
      i6X = "_main_seri";
      i6X += "es";
      var M79 = M$k.params.name;
      u7f = this.controls.baselineHandle;
      l9g.set(M$k, {
        styleCache: null,
        display: ![],
        handle: M79 === i6X && u7f ? u7f : H41(M79)
      });
    }
  };

  J0a.ChartEngine.prototype.removeBaselineFromHelper = function (m5Z) {
    var A4N, W5u, Z0R;
    var u$E = this.baselineHelper;

    if (u$E.has(m5Z)) {
      A4N = "_main";
      A4N += "_series";
      W5u = m5Z.params.name.replace(9661 >= 9720 ? "O" : 124.47 <= (4860, 638.94) ? " " : 398 > +"2120" ? (39.94, 3.12e+2) : ("r", "R"), 764.27 < (6232, "4970" >> 0) ? 6350 !== (+"226.98", 785) ? "_" : +"616.12" : (7.43e+3, "N"));

      if (W5u !== A4N) {
        Z0R = u$E.get(m5Z).handle;
        delete this.controls["".concat(W5u, " cq-baseline-handle")];
        this.container.removeChild(Z0R);
      }

      u$E["delete"](m5Z);
    }
  };

  J0a.ChartEngine.prototype.findBaselineHandle = function (x2x, P6w) {
    var _iterator = _createForOfIteratorHelper(this.baselineHelper),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var b0y = _step.value;

        var _b0y = _slicedToArray(b0y, 2),
            y$R = _b0y[0],
            q0_ = _b0y[1];

        var R5U = q0_.handle;

        if (x2x.target === R5U || x2x.composedPath && x2x.composedPath().includes(R5U)) {
          if (P6w) {
            this.repositioningBaseline = {
              lastDraw: Date.now(),
              handle: R5U,
              renderer: y$R
            };
            R5U.classList.add("stx-grab");
          }

          this.currentBaseline = y$R;
          return !!1;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    r_p.j07();
    return ![];
  };

  J0a.ChartEngine.prototype.setBaselines = function (I12) {
    var y75;

    if (!I12) {
      I12 = this.chart;
    }

    y75 = this;
    var T_q = this.baselineHelper;

    function S2r(E8t, X1C) {
      var F30, n3y, A$i, S0g, G2H, q2N, q53;
      F30 = "t";
      F30 += "i";
      F30 += "c";
      F30 += "k";
      var _I = I12,
          u_1 = _I.dataSegment,
          v1f = _I.dataSet,
          b5_ = _I.defaultPlotField;
      n3y = b5_;

      if (!X1C) {
        n3y = E8t;
      }

      A$i = y75.getFirstLastDataRecord(u_1, F30).tick;

      while (!"") {
        S0g = v1f[A$i];

        if (S0g) {
          G2H = "Clo";
          G2H += "se";

          if (!X1C || n3y != G2H) {
            r_p.i3C(122);
            q2N = v1f[r_p.B0m(A$i, "1", 0)];

            if (q2N && (q2N[n3y] || q2N[n3y] === ("0" | 0))) {
              q53 = q2N[n3y];
              return _typeof(q53) === "object" ? q53[b5_] : q53;
            }
          } else if (S0g.iqPrevClose || S0g.iqPrevClose === 0) {
            return S0g.iqPrevClose;
          }
        }

        A$i--;
        if (A$i < ("0" | 0)) break;
      }
    }

    T_q.forEach(function (f1N, P$E) {
      var P8g, f_S, J$G, K3F;
      var y_4 = P$E.params.baseline;
      r_p.i3C(123);
      P8g = r_p.k$A(y_4, !"");

      if (P8g) {
        y_4 = I12.baseline;
      }

      var _y_ = y_4,
          p1N = _y_.defaultLevel,
          D7P = _y_.userLevel;
      f_S = P$E.getYAxis(y75);

      if (!f_S) {
        return;
      }

      J$G = y75.getYAxisBaselineRenderer(f_S);
      K3F = J$G && J$G != y75.mainSeriesRenderer && J$G.seriesParams.length && J$G.seriesParams["0" - 0].id;
      y_4.actualLevel = D7P || D7P === 0 ? D7P : p1N;

      if (!y_4.actualLevel && y_4.actualLevel !== +"0") {
        y_4.actualLevel = S2r(K3F, P8g);
      }

      f1N.display = J$G === P$E ? !0 : !!0;
      T_q.set(P$E, f1N);
    });
  };

  J0a.ChartEngine.prototype.setBaselineUserLevel = function () {
    var J1h, Q5i, l$X;
    var Z6N = this.chart,
        y2$ = this.currentPanel;
    var _this$repositioningBa = this.repositioningBaseline,
        h0g = _this$repositioningBa.lastDraw,
        J$a = _this$repositioningBa.renderer;

    if (J$a.params.panel != y2$.name) {
      return;
    }

    var N3V = Z6N.baseline;
    J1h = _typeof(J$a.params.baseline) === "object" ? J$a.params.baseline : N3V;
    Q5i = J$a.getYAxis(this);
    l$X = this.valueFromPixel(this.backOutY(J0a.ChartEngine.crosshairY), y2$, Q5i);
    J1h.userLevel = this.adjustIfNecessary(y2$, this.crosshairTick, l$X);

    if (Date.now() - h0g > 100) {
      this.draw();
      this.repositioningBaseline.lastDraw = Date.now();
    }
  };

  J0a.ChartEngine.prototype.setBaselineMinMax = function (R8c, x2n) {
    var F0n, V77, k6w;
    r_p.E0w();
    var Y9P = this.baselineHelper,
        K56 = this.chart,
        B$z = this.repositioningBaseline;
    var g_y = K56.baseline,
        S_k = K56.seriesRenderers;
    F0n = K56.transformFunc && x2n === K56.panel.yAxis;
    V77 = x2n.renderers.find(function (i_S) {
      r_p.E0w();
      return Y9P.get(S_k[i_S]);
    });

    if (!V77) {
      return R8c;
    }

    var _S_k$V77$params = S_k[V77].params,
        t4N = _S_k$V77$params.baseline,
        u9R = _S_k$V77$params.type;

    if (u9R === "mountain") {
      return R8c;
    }

    t4N = _typeof(t4N) === "object" ? t4N : g_y;
    var _t4N = t4N,
        W4Y = _t4N.actualLevel;

    if (W4Y || W4Y === +"0") {
      if (F0n) {
        W4Y = K56.transformFunc(this, K56, W4Y);
      }

      k6w = Math.max(W4Y - R8c[0], R8c[1] - W4Y);
      R8c[0] = B$z ? x2n.lowValue : W4Y - k6w;
      R8c[1] = B$z ? x2n.highValue : W4Y + k6w;
    }

    return R8c;
  };

  J0a.ChartEngine.prototype.positionBaselineHandle = function (E5g) {
    var M7m, h0o, A5_, m6I, N9O, t7W, a8f, W2w, V9u, B0F, I62, f$8, t7Y, x6u, N3e;
    M7m = "s";
    M7m += "t";
    M7m += "x-g";
    M7m += "rab";

    if (!this.manageTouchAndMouse) {
      return;
    }

    var N4E = this.baselineHelper,
        J6O = this.chart,
        L4m = this.panels;
    var _E5g$params = E5g.params,
        V3D = _E5g$params.baseline,
        q9H = _E5g$params.panel;
    h0o = E5g.params.yAxis || E5g.getYAxis(this);

    var _N4E$get = N4E.get(E5g),
        g1o = _N4E$get.display,
        D_b = _N4E$get.handle,
        N9r = _N4E$get.styleCache;

    if (V3D === !!{}) {
      V3D = J6O.baseline;
    }

    if (V3D.userLevel === !!0 || !g1o) {
      D_b.style.display = "none";
      return;
    }

    A5_ = L4m[q9H];
    m6I = D_b.classList.contains(M7m);
    N9O = "block";
    t7W = V3D.actualLevel;

    if (J6O.transformFunc) {
      t7W = J6O.transformFunc(this, J6O, t7W);
    }

    if (t7W > h0o.high) {
      t7W = h0o.high;

      if (!m6I) {
        N9O = "none";
      }
    } else if (t7W < h0o.low) {
      t7W = h0o.low;

      if (!m6I) {
        N9O = "none";
      }
    }

    if (J6O.untransformFunc) {
      t7W = J6O.untransformFunc(this, J6O, t7W);
    }

    a8f = this.pixelFromPrice(t7W, A5_, h0o);

    if (!N9r) {
      N9r = getComputedStyle(D_b);
    }

    W2w = J0a.stripPX(N9r.width);
    r_p.a3e(124);
    var V6A = r_p.B0m(41, 7, 15, 9, 5);
    V9u = "".concat(a8f - J0a.stripPX(N9r.height) / V6A, "px");
    I62 = this.baselineHandleBuffer || +"2";
    r_p.a3e(125);
    var I0s = r_p.B0m(17, 5, 227, 19);
    f$8 = A5_.yaxisRHS.indexOf(h0o) + I0s;

    if (f$8) {
      t7Y = f$8 === 1 ? I62 : I62 * f$8;
      B0F = "".concat(J6O.right - W2w * f$8 - t7Y, "px");
    } else {
      r_p.a3e(1);
      var x8w = r_p.k$A(18, 19);
      x6u = A5_.yaxisLHS.slice(0).reverse().indexOf(h0o) + x8w;
      N3e = x6u === 1 ? I62 : I62 * x6u;
      r_p.a3e(4);
      B0F = "".concat(J6O.left + W2w * x6u + N3e - W2w).concat(r_p.B0m("x", "p"));
    }

    Object.assign(D_b.style, {
      display: N9O,
      top: V9u,
      left: B0F
    });
  };

  J0a.ChartEngine.prototype.getYAxisBaselineRenderer = function (x$m) {
    var J$Y;

    if (!x$m.renderers.length) {
      return null;
    }

    var J6m = this.baselineHelper,
        Q6p = this.chart;
    J$Y = x$m.renderers.find(function (p9X) {
      return J6m.get(Q6p.seriesRenderers[p9X]);
    });

    if (!J$Y) {
      return null;
    }

    return Q6p.seriesRenderers[J$Y];
  };

  J0a.ChartEngine.prototype.getYAxisBaseline = function (r6w) {
    var Y9y, h5e;
    Y9y = "o";
    r_p.j07();
    Y9y += "b";
    Y9y += "ject";
    var a42 = this.chart.baseline;
    h5e = this.getYAxisBaselineRenderer(r6w);

    if (!h5e) {
      return a42;
    }

    var L5g = h5e.params.baseline;
    return _typeof(L5g) === Y9y ? L5g : a42;
  };
};

O = function O(a6K) {
  var b8e, T1Z;
  b8e = "Cl";
  b8e += "o";
  b8e += "s";
  b8e += "e";
  T1Z = a6K.CIQ;

  T1Z.ChartEngine.Chart = function () {
    this.xAxis = new T1Z.ChartEngine.XAxis();
    this.yAxis = new T1Z.ChartEngine.YAxis();
    this.symbolObject = {
      symbol: null
    };
    this.series = {};
    this.seriesRenderers = {};
    this.xaxis = [];
    this.state = {};
    this.endPoints = {};
    this.defaultChartStyleConfig = {};
    this.baseline = T1Z.clone(this.baseline);
    this.panel = undefined;
  };

  T1Z.extend(T1Z.ChartEngine.Chart.prototype, {
    symbol: null,
    symbolObject: {
      symbol: null
    },
    symbolDisplay: null,
    series: {},
    seriesRenderers: {},
    scroll: 0,
    isComparison: !{},
    forcePercentComparison: !!"1",
    maxTicks: 0,
    tension: null,
    currentMarketData: {},
    masterData: null,
    dataSet: null,
    scrubbed: null,
    dataSegment: null,
    segmentImage: null,
    baseline: {
      includeInDataSegment: !{},
      defaultLevel: null,
      userLevel: null,
      actualLevel: null
    },
    xAxis: null,
    xaxis: [],
    xaxisFactor: +"30",
    decimalPlaces: 2,
    dynamicYAxis: !!1,
    roundit: 100,
    breakpoint: null,
    legendRenderer: T1Z.drawLegend,
    customChart: null,
    yaxisPaddingRight: null,
    yaxisPaddingLeft: null,
    tickCache: {},
    allowScrollPast: !!1,
    allowScrollFuture: !!1,
    whiteSpaceFutureTicks: +"0",
    hideDrawings: !1,
    defaultPlotField: b8e,
    defaultChartStyleConfig: {},
    lockScroll: !{},
    includeOverlaysInMinMax: !!1,
    gaplines: null,
    lineStyle: null,
    lineApproximation: !0,
    highLowBars: ![],
    standaloneBars: !{},
    barsHaveWidth: ![],
    calculateTradingDecimalPlaces: T1Z.calculateTradingDecimalPlaces
  }, !!{});
};

H = function H(s0o) {
  var M7t, x40;
  M7t = "d";
  M7t += "a";
  M7t += "taSe";
  M7t += "t";
  x40 = s0o.CIQ;

  x40.ChartEngine.prototype.resolveY = function (J5Z) {
    return this.top + J5Z;
  };

  x40.ChartEngine.prototype.resolveX = function (K0F) {
    return this.left + K0F;
  };

  x40.ChartEngine.prototype.backOutY = function (u4U) {
    return u4U - this.top;
  };

  x40.ChartEngine.prototype.backOutX = function (d85) {
    M2dNJ.j07();
    return d85 - this.left;
  };

  x40.ChartEngine.prototype.dateFromTick = function (a0o, X6s, t6c) {
    var M$z = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "dataSet";
    var d0P, k1H, i9F, L4F, Q$C, q2w;

    if (!X6s) {
      X6s = this.chart;
    }

    d0P = X6s[M$z];
    k1H = d0P.length;
    q2w = !1;

    if (k1H === 0) {
      d0P[0] = {};
      d0P[0].DT = new Date();
      k1H = d0P.length;
      q2w = !!{};
    }

    if (a0o < "0" >> 32) {
      L4F = this.standardMarketIterator(d0P["0" | 0].DT);

      if (L4F) {
        i9F = L4F.previous(Math.abs(a0o));
      } else {
        i9F = d0P[0].DT;
      }
    } else if (a0o >= k1H) {
      L4F = this.standardMarketIterator(d0P[k1H - 1].DT);

      if (L4F) {
        M2dNJ.i3C(126);
        i9F = L4F.next(M2dNJ.k$A(k1H, a0o, 1));
      } else {
        i9F = d0P[k1H - ("1" - 0)].DT;
      }
    } else {
      i9F = d0P[a0o].DT;
    }

    M2dNJ.E0w();

    if (t6c) {
      Q$C = new Date(i9F.getTime());
    } else {
      Q$C = x40.yyyymmddhhmmssmmm(i9F).substr(0, 12);
    }

    if (q2w) {
      delete d0P[0].DT;
    }

    return Q$C;
  };

  x40.ChartEngine.prototype.tickFromDate = function (Q9t, c8T, q3r, U83) {
    var s9N = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : M7t;
    var x_H = M2dNJ;
    var Z0T, w0t, s$K, I6n, S0P, S0q, a4N, n_s, C5l, n09, L2c, Q6P, j6z, n_F, p4o, g34;

    if (!c8T) {
      c8T = this.chart;
    }

    Z0T = c8T[s9N];

    if (!(Z0T && Z0T.length)) {
      return +"0";
    }

    x_H.j07();

    if (!q3r) {
      q3r = 0;
    }

    w0t = Q9t.constructor == Date ? Q9t : x40.strToDateTime(Q9t);

    if (!x40.ChartEngine.isDailyInterval(this.layout.interval)) {
      w0t.setMinutes(w0t.getMinutes() + q3r);
    }

    s$K = w0t.getTime();

    if (!c8T.tickCache[s9N]) {
      c8T.tickCache[s9N] = {};
    }

    I6n = c8T.tickCache[s9N][s$K];

    if (I6n || I6n === 0) {
      return U83 ? Math.ceil(I6n) : Math.floor(I6n);
    }

    S0P = Z0T[0].DT;
    S0q = Z0T[Z0T.length - 1].DT;

    if (w0t >= S0P && w0t <= S0q) {
      a4N = 0;
      n_s = Z0T.length;
      C5l = 0;

      while (++C5l < +"100") {
        x_H.i3C(43);
        n09 = Math.floor(x_H.B0m(a4N, 2, n_s));
        L2c = Z0T[n09].DT;

        if (+L2c == +w0t) {
          c8T.tickCache[s9N][s$K] = n09;
          return n09;
        }

        if (L2c < w0t) {
          a4N = n09;
        }

        if (L2c > w0t) {
          if (Z0T[n09 - 1].DT < w0t) {
            x_H.a3e(1);
            c8T.tickCache[s9N][s$K] = x_H.k$A(0.5, n09);
            return U83 ? n09 : n09 - 1;
          }

          if (+Z0T[n09 - +"1"].DT == +w0t) {
            x_H.a3e(1);
            c8T.tickCache[s9N][s$K] = x_H.k$A(1, n09);
            x_H.i3C(1);
            return x_H.B0m(1, n09);
          }

          n_s = n09;
        }
      }

      if (C5l >= 100) {
        Q6P = "!!!Warning: tickFromDate";
        Q6P += "() did not find match.";
        console.log(Q6P);
        return Z0T.length;
      }
    }

    x_H.a3e(87);
    j6z = x_H.B0m(w0t, S0P);
    n_F = j6z ? S0P : S0q;
    p4o = this.standardMarketIterator(n_F);
    g34 = p4o ? p4o.futureTick({
      end: w0t
    }) : 0;
    I6n = j6z ? g34 * -1 : Z0T.length - 1 + g34;
    c8T.tickCache[s9N][s$K] = I6n;
    return I6n;
  };

  x40.ChartEngine.prototype.pixelFromBar = function (U2r, b4N) {
    var V0A, Q$l;
    M2dNJ.E0w();

    if (!b4N) {
      b4N = this.chart;
    }

    V0A = 0;
    Q$l = this.chart.segmentImage;

    if (Q$l && Q$l[U2r] && Q$l[U2r].leftOffset) {
      V0A = Q$l[U2r].leftOffset;
    } else {
      V0A = (U2r + 0.5) * this.layout.candleWidth;
    }

    M2dNJ.a3e(127);
    var b6m = M2dNJ.k$A(7, 0, 4, 19, 13);
    V0A = b4N.panel.left + Math.floor(V0A + this.micropixels) - b6m;
    return V0A;
  };

  x40.ChartEngine.prototype.barFromPixel = function (k4H, o8w) {
    var y5Z = M2dNJ;
    var N9p, t5d, I3F, W4z, h6u, z0c, Q5o, s2g, T5R, z2I, D7g, S$G, D$H;

    if (!o8w) {
      o8w = this.chart;
    }

    N9p = this.chart.segmentImage;
    t5d = this.micropixels;
    I3F = this.layout.candleWidth;

    if (N9p) {
      W4z = k4H - o8w.panel.left - t5d;
      h6u = 2;
      Q5o = N9p.length;
      y5Z.i3C(40);
      s2g = Math.round(y5Z.k$A(Q5o, h6u));
      y5Z.a3e(76);
      var R2d = y5Z.k$A(6, 2, 2);
      y5Z.a3e(93);
      var S_S = y5Z.k$A(13, 0, 1, 13, 2);
      y5Z.i3C(1);
      var p1e = y5Z.B0m(8, 10);
      D7g = N9p[Q5o - R2d].leftOffset + N9p[Q5o - S_S].candleWidth / p1e;

      if (W4z > D7g) {
        return Q5o + Math.floor((k4H - D7g - o8w.panel.left - t5d) / I3F);
      }

      for (var b1D = 1; b1D < Q5o; b1D++) {
        h6u *= 2;
        z0c = N9p[s2g];
        if (!z0c) break;
        T5R = z0c.leftOffset;
        y5Z.i3C(8);
        var e_D = y5Z.k$A(24, 7, 19);
        z2I = z0c.candleWidth / e_D;
        y5Z.a3e(1);
        S$G = y5Z.B0m(z2I, T5R);
        y5Z.a3e(4);
        D$H = y5Z.k$A(z2I, T5R);
        if (s2g === "0" * 1 || W4z >= S$G && W4z < D$H) break;else if (W4z < S$G) {
          s2g -= Math.max(1, Math.round(Q5o / h6u));
        } else {
          s2g += Math.max(1, Math.round(Q5o / h6u));
        }
        s2g = Math.max(0, Math.min(Q5o - "1" * 1, s2g));
      }

      if (!N9p[s2g]) {
        for (b1D = 0; b1D < Q5o; b1D++) {
          z0c = N9p[b1D];
          if (!z0c) continue;
          T5R = z0c.leftOffset;
          z2I = z0c.candleWidth / +"2";

          if (W4z < T5R - z2I) {
            y5Z.i3C(1);
            return Math.max(0, y5Z.k$A(1, b1D));
          } else if (W4z < T5R + z2I) {
            return b1D;
          } else if (W4z >= T5R + z2I) {
            y5Z.a3e(4);
            return y5Z.B0m(1, b1D);
          }
        }
      }

      return s2g;
    }

    return Math.floor((k4H - o8w.panel.left - t5d) / I3F);
  };

  x40.ChartEngine.prototype.tickFromPixel = function (o5J, F6y) {
    var W5C;

    if (!F6y) {
      F6y = this.chart;
    }

    W5C = F6y.dataSet.length - F6y.scroll;
    M2dNJ.E0w();

    if (F6y.segmentImage) {
      W5C += this.barFromPixel(o5J, F6y);
    } else {
      W5C += Math.floor((o5J - F6y.panel.left - this.micropixels) / this.layout.candleWidth);
    }

    return W5C;
  };

  x40.ChartEngine.prototype.pixelFromTick = function (E1z, e2a) {
    var l2_ = M2dNJ;
    var E3G, w7k, q4U, J6l, g5b, i2P, S3w, w8o, T6x, l81, b_P;

    if (!e2a) {
      e2a = this.chart;
    }

    E3G = e2a.dataSegment;
    w7k = e2a.dataSet;
    q4U = e2a.segmentImage;
    J6l = this.micropixels;
    g5b = E3G ? E3G.length : 0;
    i2P = e2a.panel;
    S3w = e2a.scroll;
    w8o = E1z - w7k.length + S3w;
    T6x = g5b ? E3G[w8o] : null;

    if (q4U) {
      T6x = q4U[w8o];
    }

    l2_.E0w();

    if (T6x && T6x.leftOffset) {
      return i2P.left + Math.floor(T6x.leftOffset + J6l);
      ;
    }

    l81 = 0;
    b_P = 0;
    T6x = g5b ? E3G[g5b - ("1" >> 64)] : null;

    if (q4U) {
      l2_.i3C(1);
      T6x = q4U[l2_.k$A(1, g5b)];
    }

    if (T6x && T6x.leftOffset) {
      if (g5b < E1z - w7k.length + S3w) {
        l2_.i3C(1);
        var z1h = l2_.B0m(11, 13);
        l81 = T6x.leftOffset - T6x.candleWidth / z1h;
        b_P = g5b;
      }
    }

    return l81 + i2P.left + Math.floor((E1z - b_P - w7k.length + S3w + 0.5) * this.layout.candleWidth + J6l);
  };

  x40.ChartEngine.prototype.pixelFromDate = function (A1G, H$$, I2v, N9w) {
    return this.pixelFromTick(this.tickFromDate(A1G, H$$, I2v, N9w), H$$);
  };

  x40.ChartEngine.prototype.transformedPriceFromPixel = function (B4b, X1p, b9W) {
    var D0F, x26, Q7U;
    M2dNJ.E0w();

    if (!X1p) {
      X1p = this.chart.panel;
    }

    D0F = b9W ? b9W : X1p.yAxis;
    B4b = D0F.bottom - B4b;

    if (D0F.semiLog) {
      Q7U = B4b * D0F.logShadow / D0F.height;

      if (D0F.flipped) {
        Q7U = D0F.logHigh - Q7U;
      } else {
        Q7U += D0F.logLow;
      }

      x26 = Math.pow(10, Q7U);
    } else {
      if (!D0F.multiplier) {
        return null;
      }

      x26 = B4b / D0F.multiplier;

      if (D0F.flipped) {
        x26 = D0F.high - x26;
      } else {
        x26 += D0F.low;
      }
    }

    return x26;
  };

  x40.ChartEngine.prototype.priceFromPixel = function (J95, B60, x1N) {
    M2dNJ.E0w();
    var J_7;

    if (!B60) {
      B60 = this.chart.panel;
    }

    J_7 = this.transformedPriceFromPixel(J95, B60, x1N);

    if (this.charts[B60.name] && B60.chart.untransformFunc) {
      if (!x1N || x1N == B60.yAxis) {
        J_7 = B60.chart.untransformFunc(this, B60.chart, J_7, x1N);
      }
    }

    return J_7;
  };

  x40.ChartEngine.prototype.valueFromPixel = function (a1h, L6N, M15) {
    var K2a;

    if (!L6N) {
      L6N = this.whichPanel(a1h);
    }

    if (!L6N) {
      K2a = Object.values(this.panels);

      if (K2a && K2a.length) {
        if (a1h <= "0" << 64) {
          L6N = K2a.shift();
        } else {
          L6N = K2a.pop();
        }
      }
    }

    return this.priceFromPixel(a1h, L6N, M15);
  };

  x40.ChartEngine.prototype.valueFromInterpolation = function (G8J, n2b, Z0l, g7g, m3v) {
    var I7M = M2dNJ;
    var s9b, v16, d1J, x2$, w0v, a8R, Z4k, U6c, S0c, L$q, k0$, P3R, n0B, s9C;
    s9b = "undefine";
    s9b += "d";

    if (G8J === null || G8J < 0 || !n2b) {
      return null;
    }

    if (!g7g) {
      g7g = this.chart.panel;
    }

    if (!m3v) {
      m3v = g7g.yAxis;
    }

    if (!Z0l) {
      Z0l = this.chart.defaultPlotField;
    }

    v16 = this.getPreviousBar(this.chart, n2b, G8J);

    if (!v16) {
      return null;
    }

    x2$ = x40.existsInObjectChain(v16, n2b);

    if (x2$) {
      d1J = x2$.obj[x2$.member];
    }

    if (_typeof(d1J) == "object") {
      d1J = d1J[Z0l];
    }

    w0v = this.getRendererFromSeries(n2b);
    I7M.j07();

    if (w0v && w0v.params.step || this.layout.chartType === "step") {
      return d1J;
    }

    a8R = this.getNextBar(this.chart, n2b, G8J);
    x2$ = x40.existsInObjectChain(a8R, n2b);

    if (x2$) {
      Z4k = x2$.obj[x2$.member];
    }

    if (_typeof(Z4k) == "object") {
      Z4k = Z4k[Z0l];
    }

    if (!a8R) {
      return null;
    }

    if (d1J === null || _typeof(d1J) == s9b || Z4k === null || typeof Z4k == "undefined") {
      return null;
    }

    U6c = this.pixelFromPrice(d1J, g7g, m3v);
    S0c = this.pixelFromPrice(Z4k, g7g, m3v);
    L$q = v16.tick;
    k0$ = a8R.tick;
    I7M.i3C(128);
    P3R = I7M.B0m(k0$, L$q, U6c, S0c);
    n0B = this.chart.dataSegment[G8J].tick;
    I7M.i3C(129);
    s9C = I7M.k$A(L$q, U6c, P3R, n0B);
    return this.priceFromPixel(s9C, g7g, m3v);
  };

  x40.ChartEngine.prototype.pixelFromTransformedValue = function (D96, q$d, s2j) {
    var j5I, I58, T5$, F4X, a5q;

    if (!q$d) {
      q$d = this.chart.panel;
    }

    M2dNJ.j07();
    j5I = s2j ? s2j : q$d.yAxis;
    I58 = (j5I.high - D96) * j5I.multiplier;

    if (j5I.semiLog) {
      T5$ = Math.max(D96, 0);
      F4X = Math.log(T5$) / Math.LN10;
      a5q = j5I.height;
      I58 = a5q - a5q * (F4X - j5I.logLow) / j5I.logShadow;
    }

    I58 = j5I.flipped ? j5I.bottom - I58 : j5I.top + I58;
    return I58;
  };

  x40.ChartEngine.prototype.pixelFromPrice = function (i4O, N73, Z6B) {
    if (!N73) {
      N73 = this.chart.panel;
    }

    if (this.charts[N73.name] && N73.chart.transformFunc) {
      if (!Z6B || Z6B == N73.yAxis) {
        i4O = N73.chart.transformFunc(this, N73.chart, i4O, Z6B);
        ;
      }
    }

    return this.pixelFromTransformedValue(i4O, N73, Z6B);
  };

  x40.ChartEngine.prototype.pixelFromValueAdjusted = function (S2d, z8p, k2h, b$q) {
    var b$k, X0u;

    if (this.layout.adj || !this.charts[S2d.name]) {
      return this.pixelFromPrice(k2h, S2d, b$q);
    }

    b$k = Math.round(z8p);

    if (b$k > 0 && b$k < S2d.chart.dataSet.length && (X0u = S2d.chart.dataSet[b$k].ratio)) {
      M2dNJ.a3e(38);
      return this.pixelFromPrice(M2dNJ.k$A(k2h, X0u), S2d, b$q);
    }

    return this.pixelFromPrice(k2h, S2d, b$q);
  };

  x40.ChartEngine.prototype.adjustIfNecessary = function (d2z, o1$, c1W) {
    var w8n, G8L;

    if (this.layout.adj) {
      return c1W;
    }

    if (!d2z || !this.charts[d2z.name]) {
      return c1W;
    }

    w8n = Math.round(o1$);

    if (w8n > 0 && w8n < d2z.chart.dataSet.length && (G8L = d2z.chart.dataSet[w8n].ratio)) {
      M2dNJ.i3C(40);
      return M2dNJ.B0m(c1W, G8L);
    }

    return c1W;
  };
};

G6 = function G6(L9D) {
  var k6f = M2dNJ;
  var p2t;
  p2t = L9D.CIQ;
  k6f.j07();

  p2t.ChartEngine.prototype.positionCrosshairsAtPointer = function () {
    var Q4k, e4h, v2T, O24, W4B, i2T, a$K, n1g;
    Q4k = "p";
    Q4k += "x";
    e4h = this.currentPanel;

    if (!e4h) {
      return;
    }

    if (!this.manageTouchAndMouse || this.mainSeriesRenderer && this.mainSeriesRenderer.nonInteractive) {
      return;
    }

    k6f.E0w();

    if (this.runPrepend("positionCrosshairsAtPointer", arguments)) {
      return;
    }

    v2T = e4h.chart;
    O24 = this.container.getBoundingClientRect();
    this.top = O24.top;
    this.left = O24.left;
    this.right = this.left + this.width;
    this.bottom = this.top + this.height;
    this.cy = this.crossYActualPos = this.backOutY(p2t.ChartEngine.crosshairY);
    this.cx = this.backOutX(p2t.ChartEngine.crosshairX);
    W4B = this.crosshairTick = this.tickFromPixel(this.cx, v2T);
    k6f.a3e(130);
    var V5K = k6f.k$A(5, 16, 10, 1);
    i2T = this.pixelFromTick(W4B, v2T) - V5K;

    if (this.controls.crossX) {
      k6f.i3C(4);
      this.controls.crossX.style.left = k6f.k$A(Q4k, i2T);
    }

    if (i2T >= e4h.right || i2T <= e4h.left) {
      this.undisplayCrosshairs();
      return;
    }

    a$K = e4h.name == "chart" ? this.preferences.horizontalCrosshairField : e4h.horizontalCrosshairField;
    n1g = v2T.dataSet;

    if (a$K && n1g && W4B < n1g.length && W4B > -1) {
      this.crossYActualPos = this.pixelFromPrice(n1g[W4B][a$K], e4h);
    }

    if (this.controls.crossY) {
      this.controls.crossY.style.top = this.crossYActualPos + "px";
    }

    this.runAppend("positionCrosshairsAtPointer", arguments);
  };

  p2t.ChartEngine.prototype.doDisplayCrosshairs = function () {
    var k0u, P1w, k6V, Z44, k5L, M0S, V2t;

    if (this.runPrepend("doDisplayCrosshairs", arguments)) {
      return;
    }

    if (this.displayInitialized) {
      k0u = this.floatCanvas;
      P1w = this.currentVectorParameters.vectorType;

      if (!this.layout.crosshair && (P1w === "" || !P1w)) {
        this.undisplayCrosshairs();
      } else if (p2t.Drawing && p2t.Drawing[P1w] && new p2t.Drawing[P1w]().dragToDraw) {
        this.undisplayCrosshairs();
      } else if (this.overXAxis || this.overYAxis || !this.insideChart && !this.grabbingScreen) {
        this.undisplayCrosshairs();
      } else if (this.openDialog !== "") {
        this.undisplayCrosshairs();
      } else {
        k6V = this.controls;
        Z44 = k6V.crossX;
        k5L = k6V.crossY;

        if (Z44 && Z44.style.display !== "") {
          Z44.style.display = "";

          if (k5L) {
            k5L.style.display = "";
          }

          if (this.magnetizedPrice && P1w) {
            M0S = "stx-";
            M0S += "crossh";
            M0S += "air-o";
            M0S += "n";
            this.container.classList.remove(M0S);
            this.chart.tempCanvas.style.display = "block";
          } else {
            this.container.classList.add("stx-crosshair-on");
          }
        }

        if (k6V.floatDate && !this.chart.xAxis.noDraw) {
          k6V.floatDate.style.visibility = "";

          if (this.currentPanel) {
            this.updateFloatHRLabel(this.currentPanel);
          }
        }

        if (k0u) {
          V2t = "n";
          V2t += "o";
          V2t += "n";
          V2t += "e";

          if (k0u.style.display == V2t) {
            p2t.clearCanvas(k0u, this);
          }

          k0u.style.display = "block";
        }
      }
    }

    k6f.j07();
    this.runAppend("doDisplayCrosshairs", arguments);
  };

  p2t.ChartEngine.prototype.undisplayCrosshairs = function () {
    var N8i, n3c, M4x, Q0A, f25, Y2v, p$v, M33;

    if (this.runPrepend("undisplayCrosshairs", arguments)) {
      return;
    }

    N8i = this.controls;
    n3c = N8i.crossX;
    M4x = N8i.crossY;

    if (n3c) {
      if (n3c.style.display != "none") {
        Q0A = "n";
        Q0A += "o";
        Q0A += "n";
        Q0A += "e";
        f25 = "no";
        f25 += "n";
        f25 += "e";
        n3c.style.display = f25;

        if (M4x) {
          M4x.style.display = Q0A;
        }
      }
    }

    if (this.displayInitialized && N8i.floatDate) {
      N8i.floatDate.style.visibility = "hidden";
    }

    this.container.classList.remove("stx-crosshair-on");
    Y2v = this.floatCanvas;

    if (Y2v && Y2v.isDirty && Y2v.style.display != "none") {
      p2t.clearCanvas(Y2v, this);

      if (Y2v.style.display != "none") {
        Y2v.style.display = "none";
      }
    }

    k6f.E0w();

    if (!this.activeDrawing && !this.repositioningDrawing && !this.editingAnnotation) {
      p$v = "no";
      p$v += "ne";
      M33 = this.chart.tempCanvas;

      if (M33 && M33.style.display != p$v) {
        M33.style.display = "none";
      }
    }

    this.runAppend("undisplayCrosshairs", arguments);
  };

  p2t.ChartEngine.prototype.hideCrosshairs = function () {
    k6f.j07();
    this.displayCrosshairs = ![];
  };

  p2t.ChartEngine.prototype.showCrosshairs = function () {
    this.displayCrosshairs = !0;
  };
};

k$ = function k$(b09) {
  var y_C = M2dNJ;
  var a_E, o7N;
  a_E = b09.CIQ;
  o7N = b09.timezoneJS;

  a_E.ChartEngine.prototype.loadChart = function (o$w, U5a, T13) {
    var h9q, A9g, w2y, y3$, f0d, A2C, k0F, W_3;

    function G1d() {
      var H3p, Z1G, O5X;
      H3p = "m";
      y_C.E0w();
      H3p += "a";
      H3p += "st";
      H3p += "er";
      Z1G = "sym";
      Z1G += "bolChange";
      O5X = "symb";
      O5X += "o";
      O5X += "lImport";
      A2C.dispatch(A2C.currentlyImporting ? O5X : Z1G, {
        stx: A2C,
        symbol: T3u.symbol,
        symbolObject: T3u.symbolObject,
        prevSymbol: y1p,
        prevSymbolObject: y3$,
        action: H3p
      });

      if (R0w) {
        A2C.dispatch("periodicity", {
          stx: A2C,
          differentData: !!1,
          prevPeriodicity: A9g
        });
      }
    }

    h9q = "func";
    h9q += "tion";

    if (!T13 && _typeof(U5a) == h9q) {
      T13 = U5a;
      U5a = {};
    } else if (Array.isArray(U5a)) {
      U5a = {
        masterData: U5a
      };
    }

    if (!U5a) {
      U5a = {};
    }

    var _U5a = U5a,
        T3u = _U5a.chart,
        R0w = _U5a.periodicity,
        R2a = _U5a.range,
        l9U = _U5a.span;
    var F_7 = this.layout;
    A9g = {
      periodicity: F_7.periodicity,
      interval: F_7.interval,
      timeUnit: F_7.timeUnit
    };

    if (R0w) {
      w2y = a_E.cleanPeriodicity(R0w.period ? R0w.period : R0w.periodicity, R0w.interval, R0w.timeUnit);
      F_7.interval = w2y.interval;
      F_7.periodicity = w2y.period;
      F_7.timeUnit = w2y.timeUnit;
    }

    if (!T3u) {
      T3u = this.chart;
    }

    var _T3u = T3u,
        h_c = _T3u.dataSet,
        x$$ = _T3u.market,
        x27 = _T3u.masterData,
        y1p = _T3u.symbol,
        P6$ = _T3u.moreAvailable,
        e$i = _T3u.upToDate;
    y3$ = a_E.clone(T3u.symbolObject);
    T3u.dataSet = [];
    T3u.masterData = [];
    T3u.moreAvailable = null;
    T3u.upToDate = null;

    if (!o$w) {
      T3u.symbol = null;
      T3u.symbolObject = {
        symbol: null
      };
    } else if (_typeof(o$w) == "object") {
      T3u.symbol = o$w.symbol;
      T3u.symbolObject = o$w;
    } else {
      T3u.symbol = o$w;
      T3u.symbolObject.symbol = o$w;
    }

    T3u.inflectionPoint = null;

    if (this.marketFactory) {
      f0d = this.marketFactory(T3u.symbolObject);
      this.setMarket(f0d, T3u);
    }

    this.setMainSeriesRenderer(!!1);

    if (!R2a && !l9U && F_7) {
      l9U = !F_7.range ? F_7.setSpan : {};
      R2a = F_7.range || {};
    } else if (R2a && l9U) {
      l9U = {};
    }

    this.clearCurrentMarketData(T3u);
    A2C = this;

    if (!U5a.masterData && this.quoteDriver) {
      k0F = function k0F(X_Q) {
        y_C.j07();

        if (X_Q && X_Q != "orphaned") {
          T3u.symbol = y1p;
          T3u.symbolObject = y3$;
          T3u.market = x$$;
          A2C.masterData = T3u.masterData = x27;
          T3u.dataSet = h_c;
          T3u.moreAvailable = P6$;
          T3u.upToDate = e$i;
        }

        G1d();

        if (T13) {
          T13.call(A2C, X_Q);
        }
      };

      if (R2a && Object.keys(R2a).length && this.setRange) {
        delete U5a.span;
        delete F_7.setSpan;
        this.chart.masterData = null;
        this.displayInitialized = ![];

        if (R0w) {
          R2a.periodicity = R0w;
        }

        R2a.forceLoad = !!"1";
        this.setRange(R2a, k0F);
      } else if (l9U && l9U.base && this.setSpan) {
        l9U.multiplier = l9U.multiplier || 1;
        this.chart.masterData = null;
        this.displayInitialized = !"1";

        if (R0w) {
          l9U.maintainPeriodicity = !"";
        }

        l9U.forceLoad = !!"1";
        this.setSpan(l9U, k0F);
      } else {
        this.quoteDriver.newChart({
          symbol: T3u.symbol,
          symbolObject: T3u.symbolObject,
          chart: T3u,
          initializeChart: !![]
        }, function (E6D) {
          if (!E6D) {
            A2C.adjustPanelPositions();
            A2C.quoteDriver.updateSubscriptions();

            if (U5a.stretchToFillScreen) {
              A2C.fillScreen();
            }
          }

          y_C.j07();
          k0F.apply(A2C, arguments);
        });
      }
    } else {
      if (!U5a.masterData) {
        console.log("Warning: No masterData specified and no QuoteFeed configured");
      }

      if (!T3u.symbol) {
        T3u.symbol = "";
      }

      this.initializeChart();
      W_3 = this.doCleanupGaps(U5a.masterData, T3u);
      this.setMasterData(W_3, T3u, {
        noCleanupDates: !0
      });
      T3u.endPoints = {};

      if (W_3 && W_3.length) {
        T3u.endPoints = {
          begin: W_3[0].DT,
          end: W_3[W_3.length - 1].DT
        };
      }

      this.createDataSet();

      if (R2a && Object.keys(R2a).length && this.setRange) {
        this.setRange(R2a);
      } else if (l9U && l9U.multiplier && l9U.base && this.setSpan) {
        this.setSpan({
          maintainPeriodicity: !!1,
          multiplier: l9U.multiplier,
          base: l9U.base
        });
      } else if (U5a.stretchToFillScreen) {
        this.fillScreen();
      } else if (W_3 && W_3.length) {
        this.home();
      } else {
        this.clear();
      }

      this.adjustPanelPositions();
      G1d();

      if (T13) {
        T13.call(A2C);
      }
    }
  };

  a_E.ChartEngine.prototype.loadBlankChart = function () {
    y_C.E0w();
    this.loadChart(null, []);
  };

  a_E.ChartEngine.prototype.getDataFields = function (b0k) {
    var u9M, z8m, F8t, y88, F_W;
    u9M = "L";
    u9M += "ow";
    y_C.j07();
    z8m = "C";
    z8m += "lose";

    if (!b0k) {
      b0k = this.chart;
    }

    F8t = b0k.defaultPlotField || z8m;
    y88 = ["Open", "High", u9M];
    y88.push(F8t);

    for (var h_2 in b0k.series) {
      F_W = b0k.series[h_2].parameters;
      y88.push(F_W.symbol);
    }

    return y88;
  };

  a_E.ChartEngine.prototype.cleanMasterData = function (k8w, V0k) {
    var R_S, j7x, o0O, z2R, v85;

    function d4B(s29, O5x) {
      y_C.j07();
      var V9t, a18;

      for (var D47 = "0" << 64; D47 < O5x.length; D47++) {
        V9t = "undefin";
        V9t += "e";
        V9t += "d";
        a18 = s29[O5x[D47]];

        if (_typeof(a18) != V9t) {
          return !"1";
        }
      }

      return !!1;
    }

    R_S = k8w.symbol;
    j7x = V0k.masterData;

    if (!j7x || !j7x.length) {
      return;
    }

    o0O = this.getDataFields(V0k);
    z2R = 0;

    do {
      v85 = j7x[z2R];
      delete v85[R_S];

      if (d4B.call(this, v85, o0O)) {
        j7x.splice(z2R, 1);
        continue;
      }

      z2R++;
    } while (z2R < j7x.length);

    y_C.E0w();
    j7x = this.doCleanupGaps(j7x, V0k, {
      noCleanupDates: !!{}
    });
    this.setMasterData(j7x, V0k, {
      noCleanupDates: !!"1"
    });
    this.clearCurrentMarketData(V0k, R_S);
  };

  y_C.j07();

  a_E.ChartEngine.prototype.calculateATR = function (q_T, p94, A7n) {
    var U8k, U_i, P2g, F_S, r7O, r9y;

    if (!A7n) {
      A7n = q_T.dataSet;
    }

    U8k = q_T.state.calculations.atr;

    if (!U8k) {
      U8k = q_T.state.calculations.atr = {};
    }

    if (!p94) {
      p94 = +"20";
    }

    U_i = [];

    if (U8k.accum) {
      U_i = U8k.accum;
    }

    for (var w20 = 0; w20 < A7n.length; w20++) {
      F_S = A7n[w20];
      P2g = w20 ? A7n[w20 - 1] : U8k.q1;
      if (!P2g) continue;
      r7O = Math.max(F_S.High - F_S.Low, Math.abs(F_S.High - P2g.Close), Math.abs(F_S.Low - P2g.Close));

      if (U_i.length < p94) {
        if (U_i.push(r7O) == p94) {
          r9y = 0;

          for (var z9e = 0; z9e < U_i.length; z9e++) {
            r9y += U_i[z9e];
          }

          y_C.a3e(40);
          F_S.atr = y_C.B0m(r9y, p94);
        }
      } else {
        y_C.a3e(9);
        var u1A = y_C.k$A(1, 20, 19);
        F_S.atr = (P2g.atr * (p94 - u1A) + r7O) / p94;
      }

      F_S.trueRange = r7O;
    }

    q_T.state.calculations.atr = {
      accum: U_i,
      q1: P2g
    };
  };

  a_E.ChartEngine.prototype.calculateMedianPrice = function (n33, m7R) {
    var W_M, V8c;

    if (!m7R) {
      m7R = n33.dataSet;
    }

    y_C.j07();

    for (var T1P = +"0"; T1P < m7R.length; ++T1P) {
      V8c = "hl/";
      V8c += "2";
      W_M = m7R[T1P];
      y_C.a3e(131);
      var H6y = y_C.B0m(14, 9, 35, 10);
      W_M[V8c] = (W_M.High + W_M.Low) / H6y;
    }
  };

  a_E.ChartEngine.prototype.calculateTypicalPrice = function (V7b, O_Y) {
    var e6Q;

    if (!O_Y) {
      O_Y = V7b.dataSet;
    }

    y_C.j07();

    for (var A8Q = 0; A8Q < O_Y.length; ++A8Q) {
      e6Q = O_Y[A8Q];
      y_C.a3e(3);
      var T2Z = y_C.k$A(2, 14, 13);
      e6Q["hlc/3"] = (e6Q.High + e6Q.Low + e6Q.Close) / T2Z;
    }
  };

  a_E.ChartEngine.prototype.calculateWeightedClose = function (b4E, S9M) {
    var I_k;

    if (!S9M) {
      S9M = b4E.dataSet;
    }

    for (var C88 = "0" ^ 0; C88 < S9M.length; ++C88) {
      I_k = S9M[C88];
      y_C.a3e(60);
      var k07 = y_C.k$A(14, 19, 329, 18, 3);
      y_C.a3e(25);
      var j4S = y_C.B0m(4, 15, 56);
      I_k["hlcc/4"] = (I_k.High + I_k.Low + k07 * I_k.Close) / j4S;
    }
  };

  a_E.ChartEngine.prototype.calculateOHLC4 = function (r8J, L8V) {
    var W7I, l47;

    if (!L8V) {
      L8V = r8J.dataSet;
    }

    for (var B8v = 0; B8v < L8V.length; ++B8v) {
      l47 = "ohlc";
      l47 += "/4";
      W7I = L8V[B8v];
      y_C.i3C(65);
      var S_x = y_C.k$A(1, 3, 56, 28, 2);
      W7I[l47] = (W7I.Open + W7I.High + W7I.Low + W7I.Close) / S_x;
    }
  };

  a_E.ChartEngine.prototype.currentQuote = function (d_9) {
    var N_u;

    if (!this.chart.dataSet) {
      return null;
    }

    for (var I4l = this.chart.dataSet.length - 1; I4l >= 0; I4l--) {
      if (this.chart.dataSet[I4l]) {
        if (!d_9) {
          return this.chart.dataSet[I4l];
        }

        N_u = this.chart.dataSet[I4l][d_9];

        if (N_u || N_u === 0) {
          return this.chart.dataSet[I4l];
        }
      }
    }

    return null;
  };

  a_E.ChartEngine.prototype.mostRecentClose = function (I4D) {
    var U9l, x_T;
    y_C.E0w();

    if (!this.chart.dataSet) {
      return null;
    }

    for (var y23 = this.chart.dataSet.length - 1; y23 >= 0; y23--) {
      U9l = this.chart.dataSet[y23];
      if (!U9l) continue;

      if (I4D) {
        U9l = U9l[I4D];
        if (!U9l && U9l !== 0) continue;
      }

      x_T = U9l.iqPrevClose;

      if (_typeof(U9l) == "object") {
        U9l = U9l.Close;
      }

      if (typeof U9l == "number") {
        return U9l;
      }

      if (typeof x_T == "number") {
        return x_T;
      }
    }

    return null;
  };

  a_E.ChartEngine.prototype.createDataSegment = function (I_O) {
    var Q7q, b7K, S5p, w1R, t3$, u9Y, Y2k, o51, b5k, i21, P0r, L7R, d2O, u1P, y2a, P6E, G5k, B7P;

    if (this.runPrepend("createDataSegment", arguments)) {
      return;
    }

    y_C.j07();

    for (var c9f in this.charts) {
      Q7q = this.charts[c9f];

      if (I_O) {
        Q7q = I_O;
      }

      if (a_E.Comparison && Q7q.isComparison) {
        a_E.Comparison.createComparisonSegmentInner(this, Q7q);
      }

      b7K = Q7q.dataSet;
      S5p = Q7q.baseline;
      w1R = Q7q.scroll;
      t3$ = Q7q.maxTicks;
      u9Y = this.layout;
      Y2k = u9Y.candleWidth;
      S5p.actualLevel = S5p.userLevel ? S5p.userLevel : S5p.defaultLevel;
      o51 = S5p.includeInDataSegment && (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars);
      i21 = 0;
      P0r = Q7q.dataSegment = [];
      y_C.a3e(6);
      var h_D = y_C.k$A(5, 11, 1, 7);
      L7R = b7K.length - h_D - w1R - +"1";
      d2O = Q7q.defaultPlotField;

      for (var q5c = -1; q5c < w1R && q5c < t3$; q5c++) {
        L7R++;
        if (q5c == -+"1" && !o51) continue;

        if (L7R < b7K.length && L7R >= 0) {
          b5k = b7K[L7R];
          b5k.candleWidth = null;

          if (b5k) {
            i21 += b5k.Volume || "1" >> 32;
          }

          P0r.push(b5k);

          if (S5p.actualLevel === null && q5c >= 0) {
            if (d2O && d2O != "Close") {
              y_C.i3C(1);
              u1P = b7K[y_C.k$A(1, L7R)];

              if (u1P && (u1P[d2O] || u1P[d2O] === 0)) {
                S5p.actualLevel = u1P[d2O];
              }
            } else {
              if (b5k.iqPrevClose || b5k.iqPrevClose === 0) {
                S5p.actualLevel = b5k.iqPrevClose;
              }
            }
          }
        } else if (L7R < 0) {
          P0r.push(null);
        }
      }

      Q7q.segmentImage = null;
      y2a = this.mainSeriesRenderer || {};

      if (y2a.params && y2a.params.volume) {
        P6E = Q7q.width - (t3$ - P0r.length - +"1") * u9Y.candleWidth;
        G5k = 0;
        Q7q.segmentImage = [];

        for (var g_i = 0; g_i < P0r.length; g_i++) {
          b5k = P0r[g_i];
          Q7q.segmentImage[g_i] = {};
          B7P = null;

          if (b5k) {
            if (b5k.Volume) {
              b5k.candleWidth = P6E * b5k.Volume / i21;
              y_C.a3e(31);
              var f5H = y_C.k$A(14, 16, 11, 11);
              B7P = G5k + b5k.candleWidth / f5H;
              G5k += b5k.candleWidth;
            } else {
              b5k.candleWidth = Y2k;
              y_C.a3e(46);
              B7P = y_C.B0m(G5k, 2, Y2k);
              G5k += Y2k;
            }

            Q7q.segmentImage[g_i] = {
              tick: b5k.tick,
              candleWidth: b5k.candleWidth,
              leftOffset: B7P
            };
          } else {
            G5k += Y2k;
          }
        }
      }

      if (I_O) break;
    }

    if (Q7q && Q7q.isComparison) {
      this.clearPixelCache();
    }

    this.positionCrosshairsAtPointer();
    this.runAppend("createDataSegment", arguments);
  };

  a_E.ChartEngine.prototype.getDataSegment = function (X8y) {
    var X$_, e8Z, f4n, H63, i9q, L5F;

    if (!X8y) {
      X8y = this.chart;
    }

    X$_ = X8y.dataSegment;

    if (!X$_ || !X$_.length) {
      return [];
    }

    e8Z = 0;
    f4n = X$_.length;

    if (this.pixelFromBar(e8Z, X8y) < X8y.panel.left) {
      e8Z++;
    }

    H63 = 122450553;
    i9q = -843407242;
    L5F = 2;

    for (var y5s = 1; y_C.b3_(y5s.toString(), y5s.toString().length, "83213" | 12) !== H63; y5s++) {
      if (this.pixelFromBar(f4n / 2, X8y) < X8y.panel.right) {
        f4n++;
      }

      return X$_.slice(e8Z, f4n);
    }

    y_C.E0w();

    if (y_C.m7$(L5F.toString(), L5F.toString().length, 94243) !== i9q) {
      if (this.pixelFromBar(f4n - 1, X8y) > X8y.panel.right) {
        f4n--;
      }

      return X$_.slice(e8Z, f4n);
    }
  };

  a_E.ChartEngine.prototype.setMasterData = function (Z24, G8f, K7u) {
    var E4f, L2f, u48, i$O, W2D, R43, P$f, I2E;
    E4f = "c";
    E4f += "ha";
    E4f += "r";
    E4f += "t";

    if (!G8f) {
      G8f = this.chart;
    }

    if (this.marketFactory) {
      L2f = this.marketFactory(G8f.symbolObject);
      this.setMarket(L2f, G8f);
    }

    if (!K7u) {
      K7u = {};
    }

    if (!K7u.noCleanupDates) {
      this.doCleanupDates(Z24, this.layout.interval);
    }

    G8f.masterData = Z24;

    if (G8f.name == E4f) {
      this.masterData = Z24;
    }

    i$O = null;

    for (u48 = 0; Z24 && u48 < Z24.length; u48++) {
      W2D = "setMast";
      W2D += "e";
      W2D += "rData : Missing DT and Date on mas";
      W2D += "terData object";
      R43 = Z24[u48];

      if (i$O === null) {
        if (typeof R43.Close === "number") {
          P$f = "Clo";
          P$f += "s";
          P$f += "e";
          i$O = P$f;
        } else if (typeof R43.Value === "number") {
          i$O = "Value";
        }
      }

      if (i$O === "Value" && typeof R43.Value === "number") {
        R43.Close = R43.Value;
      }

      if (R43.DT) {
        if (Object.prototype.toString.call(R43.DT) != "[object Date]") {
          R43.DT = new Date(R43.DT);
        }

        if (!R43.Date || R43.Date.length != 17) {
          R43.Date = a_E.yyyymmddhhmmssmmm(R43.DT);
        }
      } else if (R43.Date) {
        R43.DT = a_E.strToDateTime(R43.Date);
      } else {
        console.log(W2D);
      }

      if (R43.Volume && typeof R43.Volume !== "number") {
        R43.Volume = parseInt(R43.Volume, 10);
      }

      if (Z24.length - u48 < 50) {
        this.updateCurrentMarketData(R43, G8f, null, {
          fromTrade: !0
        });
      }
    }

    if (G8f.calculateTradingDecimalPlaces) {
      G8f.decimalPlaces = G8f.calculateTradingDecimalPlaces({
        stx: this,
        chart: G8f,
        symbol: G8f.symbolObject.symbol,
        symbolObject: G8f.symbolObject
      });
    }

    this.setDisplayDates(Z24);
    G8f.roundit = Math.pow(10, G8f.decimalPlaces);

    for (u48 in this.plugins) {
      I2E = this.plugins[u48];

      if (I2E.display) {
        if (I2E.setMasterData) {
          I2E.setMasterData(this, G8f);
        }
      }
    }
  };

  a_E.ChartEngine.prototype.setMasterDataRender = function (T0B, N34, a7A) {
    if (!a7A) {
      a7A = this.chart;
    }

    if (!a7A.symbol) {
      a7A.symbol = "";
    }

    this.setMasterData(N34, a7A);

    if (N34) {
      a7A.endPoints = {};

      if (N34.length) {
        a7A.endPoints = {
          begin: N34["0" | 0].DT,
          end: N34[N34.length - +"1"].DT
        };
        a7A.symbol = T0B;
      }
    }

    this.createDataSet();
    y_C.E0w();
    this.initializeChart();
    this.draw();

    if (!N34 || !N34.length) {
      a7A.symbol = null;
      this.clear();
    }

    this.adjustPanelPositions();
  };

  a_E.ChartEngine.prototype.getSymbols = function (W86) {
    var T80, o_p, k8_, J4A, x2Y, l7R, a7n, l7e, y8n, g$B, P6b;
    y_C.E0w();

    if (!W86) {
      W86 = {};
    }

    T80 = [];
    k8_ = this.layout;

    for (var S1K in this.charts) {
      l7R = this.charts[S1K];

      if (l7R.symbolObject && l7R.symbolObject.symbol) {
        T80.push(U7M(l7R.symbol, l7R.symbolObject, k8_));
      }

      for (var c9L in l7R.series) {
        a7n = l7R.series[c9L];
        l7e = a7n.parameters;
        if (l7e.data && !l7e.data.useDefaultQuoteFeed) continue;
        x2Y = l7e.symbolObject;
        J4A = l7e.symbol;
        o_p = U7M(J4A, x2Y, k8_);
        o_p.id = c9L;

        if (W86["include-parameters"]) {
          o_p.parameters = a_E.clone(l7e);

          if (o_p.parameters.yAxis) {
            delete o_p.parameters.yAxis.yAxisPlotter;
          }
        }

        if (W86["exclude-studies"] && l7e.bucket == "study") continue;
        if (W86["exclude-generated"] && x2Y.generator) continue;
        T80.push(o_p);
      }
    }

    function U7M(X7o, T9_, F5t) {
      return {
        symbol: X7o,
        symbolObject: T9_,
        periodicity: F5t.periodicity,
        interval: F5t.interval,
        timeUnit: F5t.timeUnit,
        setSpan: F5t.setSpan
      };
    }

    if (W86["breakout-equations"]) {
      y8n = {};

      for (var Z8N = 0; Z8N < T80.length; Z8N++) {
        J4A = T80[Z8N].symbol;

        if (this.isEquationChart(J4A)) {
          g$B = a_E.formatEquation(J4A);

          if (g$B) {
            P6b = g$B.symbols;

            for (var k11 = 0; k11 < P6b.length; k11++) {
              y8n[P6b[k11]] = U7M(P6b[k11], T80[Z8N].symbolObject, T80[Z8N]);
            }
          }
        } else {
          y8n[J4A] = U7M(J4A, T80[Z8N].symbolObject, T80[Z8N]);
        }
      }

      T80 = [];

      for (var i6Q in y8n) {
        T80.push(y8n[i6Q]);
      }
    }

    return T80;
  };

  a_E.ChartEngine.prototype.setDisplayDate = function (N$N) {
    var v$p, a9s, Y3m;

    if (a_E.ChartEngine.isDailyInterval(this.layout.interval)) {
      return;
    }

    v$p = N$N.DT;
    y_C.i3C(4);
    var F6l = y_C.B0m(950, 50);
    a9s = v$p.getSeconds() * F6l + v$p.getMilliseconds();
    y_C.j07();

    if (o7N.Date && this.displayZone) {
      Y3m = new o7N.Date(v$p.getTime(), this.displayZone);
      v$p = new Date(Y3m.getFullYear(), Y3m.getMonth(), Y3m.getDate(), Y3m.getHours(), Y3m.getMinutes());
      v$p = new Date(v$p.getTime() + a9s);
    }

    N$N.displayDate = v$p;
  };

  a_E.ChartEngine.prototype.setDisplayDates = function (N1q) {
    var h9a;

    if (!N1q) {
      return;
    }

    if (a_E.ChartEngine.isDailyInterval(this.layout.interval)) {
      return;
    }

    for (var C$Z = 0; C$Z < N1q.length; C$Z++) {
      h9a = N1q[C$Z];

      if (h9a.DT) {
        this.setDisplayDate(h9a);
      }
    }
  };

  a_E.ChartEngine.prototype.setTimeZone = function (l6g, Y2l) {
    var Q_G, c7s, g4K, R2_, p3p;

    if (!o7N.Date) {
      this.timeZoneOffset = 0;
      return;
    }

    Q_G = new Date();
    c7s = Q_G.getTimezoneOffset();
    g4K = c7s;
    R2_ = c7s;

    if (l6g) {
      this.dataZone = l6g;
    }

    if (this.dataZone) {
      g4K = new o7N.Date(Q_G, this.dataZone).getTimezoneOffset();
    }

    if (Y2l) {
      this.displayZone = Y2l;
    }

    if (this.displayZone) {
      R2_ = new o7N.Date(Q_G, this.displayZone).getTimezoneOffset();
    }

    y_C.a3e(132);
    this.timeZoneOffset = y_C.B0m(c7s, c7s, g4K, R2_);

    for (var r8l in this.charts) {
      p3p = this.charts[r8l];
      this.setDisplayDates(p3p.masterData);
    }

    this.preferences.timeZone = Y2l;
    this.changeOccurred("preferences");
    this.createDataSet();
  };

  a_E.ChartEngine.prototype.updateChartData = function (q6E, S5H, e5Q) {
    var d7P, T2s, j8V, y9Y, I40, D3s, u6J, y4A, H$L, T_b, b9C, v3d, J4y, x6t, E_B, v2$, y0_, D5N, Z3z, h7K, N9o, x9T, W6G, k1t, g0S, X4N, m8x;

    if (!e5Q) {
      e5Q = {};
    }

    function s5_() {
      var o3h, U4O, i8L;
      o3h = null;
      y_C.i3C(82);
      U4O = y_C.B0m(32, "0");

      if (j8V.length) {
        o3h = D3s.getFirstLastDataRecord(j8V, u6J || S5H.defaultPlotField, !!1);

        if (o3h) {
          if (q6E[q6E.length - 1].DT <= o3h.DT) {
            return;
          }

          for (; U4O < q6E.length; U4O++) {
            if (+q6E[U4O].DT == +o3h.DT) {
              if (D3s.getFirstLastDataRecord([q6E[U4O]], u6J || S5H.defaultPlotField)) {
                o3h = null;
              }

              break;
            } else if (q6E[U4O].DT > o3h.DT) break;
          }
        }
      }

      i8L = q6E.slice(U4O);

      if (o3h) {
        i8L.unshift(u6J ? o3h[u6J] : o3h);
      }

      y_C.j07();
      i8L = D3s.doCleanupGaps(i8L, S5H);

      if (o3h) {
        i8L.shift();
      }

      q6E = q6E.slice(0, U4O).concat(i8L);
    }

    if (!S5H) {
      S5H = this.chart;
    }

    d7P = !!0;
    T2s = !"1";
    j8V = S5H.masterData;
    y_C.j07();
    y9Y = this.layout;
    I40 = this.dataZone;
    D3s = this;
    u6J = e5Q.secondarySeries;
    T_b = a_E.isValidNumber;

    if (!e5Q.noCleanupDates) {
      this.doCleanupDates(q6E, y9Y.interval);
    }

    function V8D() {
      D3s.createDataSet(null, null, e5Q);
      D3s.draw();
      D3s.updateChartAccessories();
      y_C.E0w();
      D3s.streamParameters.count = 0;
      y_C.i3C(71);
      D3s.streamParameters.timeout = -y_C.B0m("1", 32);
    }

    if (e5Q.useAsLastSale || q6E.constructor == Object && (q6E.Last || q6E.Last === +"0")) {
      x0T();
    }

    if (q6E && q6E.constructor == Object) {
      q6E = [q6E];
    }

    if (!q6E || !q6E.length) {
      return;
    }

    if (this.runPrepend("appendMasterData", [q6E, S5H, e5Q])) {
      return;
    }

    if (this.runPrepend("updateChartData", [q6E, S5H, e5Q])) {
      return;
    }

    function D5e() {
      var C39, g2B, y_J, W7x, r0C, p5q, t29, z4G, E4C, c0T;

      if (!a_E.Market || !S5H.market) {
        return;
      }

      y_C.j07();
      C39 = {
        market_tz: a_E.getFromNS(S5H, "market.market_def.market_tz", null)
      };
      g2B = y9Y.interval;

      if (g2B == "month" || g2B == "week") {
        y_J = "d";
        y_J += "a";
        y_J += "y";

        if (!D3s.dontRoll) {
          g2B = y_J;
        }

        C39 = D3s.chart.market.market_def;
      }

      W7x = new a_E.Market(C39);
      r0C = {
        begin: j8V && j8V.length ? j8V[j8V.length - 1].DT : q6E.DT,
        interval: g2B,
        periodicity: +"1",
        timeUnit: y9Y.timeUnit
      };
      p5q = W7x.newIterator(r0C);
      t29 = p5q.next();

      if (!j8V) {
        q6E.DT = new Date(+p5q.previous());
      } else if (q6E.DT < t29) {
        z4G = 0;
        c0T = p5q.previous();
        E4C = q6E.DT;
        e5Q.appending = !0;

        while (E4C < c0T && z4G < "1000" - 0) {
          e5Q.appending = !"1";
          c0T = p5q.previous();
          z4G++;
        }

        q6E.DT = c0T;
        e5Q.updating = !e5Q.appending;
      } else if (q6E.DT >= t29) {
        z4G = 0;
        E4C = q6E.DT;

        while (E4C > t29 && z4G < 1000) {
          q6E.DT = t29;
          t29 = p5q.next();
          z4G++;
        }

        e5Q.appending = !"";
      }
    }

    if (!j8V) {
      j8V = [];
    }

    y_C.i3C(73);
    var y7N = y_C.k$A(3, 14, 715, 17);
    b9C = j8V.length - y7N;
    v3d = !!0;

    if (e5Q.fillGaps) {
      s5_();
    }

    if (!q6E.length) {
      return;
    }

    for (var t4h = 0; t4h < q6E.length; t4h++) {
      J4y = q6E[t4h];
      x6t = J4y.DT;
      E_B = J4y.Date;

      if (x6t && Object.prototype.toString.call(x6t) != "[object Date]") {
        J4y.DT = x6t = new Date(x6t);
      }

      if (x6t) {
        if (!E_B || E_B.length != +"17") {
          J4y.Date = a_E.yyyymmddhhmmssmmm(J4y.DT);
        }
      }

      if (!x6t) {
        x6t = J4y.DT = a_E.strToDateTime(E_B);
      }

      if (!T_b(J4y.Close) && T_b(J4y.Value)) {
        J4y.Close = J4y.Value;
      }

      while (b9C >= +"0" && b9C < j8V.length) {
        v2$ = j8V[b9C].DT;

        if (!v2$) {
          v2$ = a_E.strToDateTime(j8V[b9C].Date);
        }

        if (v2$.getTime() <= x6t.getTime()) {
          v3d = !"";
          y0_ = 0;

          if (v2$.getTime() < x6t.getTime()) {
            if (b9C < j8V.length - 1) {
              D5N = j8V[b9C + 1].DT || a_E.strToDateTime(j8V[b9C + 1].Date);

              if (D5N.getTime() <= x6t.getTime()) {
                b9C++;
                continue;
              }
            }

            y0_ = 1;
            ;
          }

          if (e5Q.deleteItems) {
            if (!y0_) {
              N6s(b9C, x6t);
            }

            break;
          } else {
            if (y9Y.interval == "tick" && e5Q.firstLoop !== !1) {
              y0_ = 1;
            }

            if (!y0_) {
              m6e(b9C, J4y);
            }

            if (T_b(J4y.Close)) {
              if (!T_b(J4y.Open)) {
                J4y.Open = J4y.Close;
              }

              Z3z = Math.max(J4y.Open, J4y.Close);
              h7K = Math.min(J4y.Open, J4y.Close);

              if (!T_b(J4y.High) || J4y.High < Z3z) {
                J4y.High = Z3z;
              }

              if (!T_b(J4y.Low) || J4y.Low > h7K) {
                J4y.Low = h7K;
              }
            }

            if (J4y.Volume && !T_b(J4y.Volume)) {
              J4y.Volume = parseInt(J4y.Volume, 10);
            }

            b9C += y0_;

            if (u6J) {
              N9o = "t";
              N9o += "i";
              N9o += "c";
              N9o += "k";

              if (q6E.length - t4h < 50) {
                this.updateCurrentMarketData(J4y, S5H, u6J, {
                  fromTrade: !!{}
                });
              }

              if (y9Y.interval != N9o || J4y.Close !== undefined) {
                if (y0_) {
                  j8V.splice(b9C, +"0", {
                    DT: J4y.DT
                  });
                  this.setDisplayDate(j8V[b9C]);
                }

                j8V[b9C][u6J] = J4y;
              }
            } else {
              if (q6E.length - t4h < +"50") {
                this.updateCurrentMarketData(J4y, S5H, null, {
                  fromTrade: !!1
                });
              }

              if (y9Y.interval != "tick" || J4y.Close !== undefined) {
                j8V.splice(b9C, y0_ ? "0" << 0 : 1, J4y);
                this.setDisplayDate(J4y);
              }
            }
          }

          break;
        }

        b9C += v3d ? 1 : -1;
      }

      if (b9C < 0) {
        if (u6J) {
          this.updateCurrentMarketData(J4y, S5H, u6J, {
            fromTrade: !!"1"
          });

          if (y9Y.interval != "tick" || J4y.Close !== undefined) {
            j8V.splice(0, 0, {
              DT: J4y.DT
            });
            this.setDisplayDate(j8V[0]);
            j8V[0][u6J] = J4y;
          }
        } else {
          this.updateCurrentMarketData(J4y, S5H, null, {
            fromTrade: !!{}
          });

          if (y9Y.interval != "tick" || J4y.Close !== undefined) {
            j8V.splice(0, 0, J4y);
            this.setDisplayDate(J4y);
          }
        }

        v3d = !!{};
        b9C = 0;
      }
    }

    if (j8V.length) {
      this.masterData = S5H.masterData = j8V;
    }

    function N6s(T7S, w6B) {
      var d$w, z6t, J1_;

      if (u6J) {
        delete j8V[T7S][u6J];

        if (D3s.cleanupGaps) {
          d$w = {
            DT: w6B,
            Close: null
          };

          if (D3s.cleanupGaps != "gap" && j8V[T7S - +"1"] && j8V[T7S - 1][u6J]) {
            d$w.Close = j8V[T7S - 1][u6J].Close;
            d$w.High = d$w.Low = d$w.Open = d$w.Close;
            d$w.Volume = 0;
          }

          j8V[T7S][u6J] = d$w;
        }
      } else {
        z6t = "g";
        z6t += "a";
        z6t += "p";
        J1_ = j8V.splice(T7S, 1)[0];
        d$w = {
          DT: J1_.DT,
          Close: null,
          needed: ![]
        };

        for (y4A in S5H.series) {
          H$L = S5H.series[y4A].parameters.symbolObject.symbol;

          if (typeof J1_[H$L] != "undefined") {
            d$w[H$L] = J1_[H$L];
            delete d$w.needed;
          }
        }

        if (D3s.cleanupGaps && D3s.cleanupGaps != z6t) {
          delete d$w.needed;

          if (D3s.cleanupGaps != "gap" && j8V[T7S - ("1" ^ 0)]) {
            d$w.Close = j8V[T7S - ("1" | 0)].Close;
            d$w.High = d$w.Low = d$w.Open = d$w.Close;
            d$w.Volume = 0;
          }
        }

        if (d$w.needed !== ![]) {
          j8V.splice(T7S, 0, d$w);
          D3s.setDisplayDate(d$w);
        }
      }
    }

    if (this.maxMasterDataSize) {
      j8V = S5H.masterData = this.masterData = j8V.slice(-this.maxMasterDataSize);
    }

    x9T = u6J ? this.getSeries({
      symbol: u6J,
      chart: S5H
    }) : [S5H];

    function x0T() {
      y_C.j07();
      var D56, e$x;
      D56 = "[objec";
      D56 += "t Date]";
      d7P = !"";

      if (e5Q.useAsLastSale && e5Q.useAsLastSale.aggregatedVolume) {
        T2s = !"";
      }

      if (q6E.constructor === Array) {
        y_C.i3C(1);
        var z$0 = y_C.k$A(9, 10);
        e$x = q6E[q6E.length - z$0];
        q6E = {};
        q6E.DT = e$x.DT;
        q6E.Close = e$x.Close;
        q6E.Volume = e$x.Volume;
      } else if (q6E.Last) {
        q6E.Close = q6E.Last;
        delete q6E.Last;
      }

      if (q6E.DT && Object.prototype.toString.call(q6E.DT) != D56) {
        q6E.DT = new Date(q6E.DT);
      }

      if (!q6E.DT || q6E.DT == "Invalid Date") {
        q6E.DT = new Date();
      }

      if (y9Y.interval != "tick") {
        D5e();
      }

      q6E.Open = q6E.Close;
      q6E.High = q6E.Close;
      q6E.Low = q6E.Close;
    }

    for (var F8w = 0; F8w < x9T.length; F8w++) {
      W6G = x9T[F8w];

      if (!W6G.endPoints.begin || W6G.endPoints.begin > q6E[0].DT) {
        W6G.endPoints.begin = q6E[0].DT;
      }

      if (!W6G.endPoints.end || W6G.endPoints.end < q6E[q6E.length - 1].DT) {
        W6G.endPoints.end = q6E[q6E.length - 1].DT;
      }

      k1t = W6G.parameters && W6G.parameters.field || S5H.defaultPlotField;
      g0S = this.getFirstLastDataRecord(q6E, k1t, !!1);

      if (g0S && (!W6G.lastQuote || W6G.lastQuote.DT <= g0S.DT)) {
        W6G.lastQuote = g0S;
      }

      if (u6J && e5Q.deleteItems) {
        W6G.lastQuote = this.getFirstLastDataRecord(j8V, u6J, !!"1")[u6J];
      }
    }

    for (var b95 in this.plugins) {
      X4N = this.plugins[b95];

      if (X4N.display) {
        if (X4N.appendMasterData) {
          X4N.appendMasterData(this, q6E, S5H);
        }
      }
    }

    if (!this.masterData || !this.masterData.length) {
      this.masterData = j8V;
    }

    if (!e5Q.noCreateDataSet) {
      m8x = this.streamParameters;

      if (++m8x.count > m8x.maxTicks || e5Q.bypassGovernor) {
        clearTimeout(m8x.timeout);
        V8D();
      } else {
        if (m8x.timeout == -1) {
          m8x.timeout = setTimeout(V8D, m8x.maxWait);
        }
      }
    }

    this.runAppend("appendMasterData", arguments);
    this.runAppend("updateChartData", arguments);

    function m6e(F6_, L46) {
      y_C.E0w();
      var d4E, f0f, Z9w, P_f, h8a, y6m, K7b;
      d4E = -383538795;
      f0f = 2094403994;
      Z9w = +"2";

      for (var r9z = 1; y_C.m7$(r9z.toString(), r9z.toString().length, 84157) !== d4E; r9z++) {
        P_f = j8V[F6_];
        y_C.a3e(38);
        Z9w += y_C.k$A("2", 1);
      }

      if (y_C.b3_(Z9w.toString(), Z9w.toString().length, +"59929") !== f0f) {
        P_f = j8V[F6_];
      }

      if (u6J) {
        P_f = P_f[u6J] || {};
      }

      if (L46.Close === null) {
        if (P_f.Open !== undefined) {
          L46.Open = null;
        }

        if (P_f.High !== undefined) {
          L46.High = null;
        }

        if (P_f.Low !== undefined) {
          L46.Low = null;
        }

        if (P_f.Volume !== undefined) {
          L46.Volume = null;
        }

        ;
      } else {
        h8a = "A";
        h8a += "s";
        h8a += "k";
        y6m = "H";
        y6m += "i";
        y6m += "g";
        y6m += "h";

        if (d7P) {
          if (L46.Volume) {
            L46.Volume = parseInt(L46.Volume, 10);
          }

          if (!T2s) {
            L46.Volume += P_f.Volume;
          }
        } else {
          if (!T_b(L46.Volume) && P_f.Volume) {
            L46.Volume = P_f.Volume;
          }
        }

        if (!e5Q.allowReplaceOHL) {
          if (T_b(P_f.Open)) {
            L46.Open = P_f.Open;
          }

          if (T_b(P_f.High) && T_b(L46.High)) {
            if (P_f.High > L46.High) {
              L46.High = P_f.High;
            }
          }

          if (T_b(P_f.Low) && T_b(L46.Low)) {
            if (P_f.Low < L46.Low) {
              L46.Low = P_f.Low;
            }
          }
        }

        ["Close", "Open", y6m, "Low", "Bid", h8a].forEach(function (M$v) {
          if (!T_b(L46[M$v])) {
            L46[M$v] = P_f[M$v];
          }
        });

        for (y4A in S5H.series) {
          K7b = "u";
          K7b += "ndefined";
          H$L = S5H.series[y4A].parameters.symbolObject.symbol;

          if (typeof L46[H$L] == "undefined" && _typeof(P_f[H$L]) != K7b) {
            L46[H$L] = P_f[H$L];
          }
        }
      }
    }
  };

  a_E.ChartEngine.prototype.updateCurrentMarketData = function (K54, b_t, I7I, i41) {
    var b1z, X16, u67, U9v, S8H, V8e, G14, O$2, K9s;

    if (!K54 || !K54.DT) {
      return;
    }

    if (!b_t) {
      b_t = this.chart;
    }

    b1z = i41 && i41.fromTrade;
    X16 = K54.DT;

    if (!b1z && this.layout.interval != "tick" && b_t.market) {
      if (b_t.market.market_def) {
        if (!b_t.market.isMarketDate(K54.DT)) {
          return;
        }

        if (!a_E.ChartEngine.isDailyInterval(this.layout.interval) && b_t.market.getSession(K54.DT) === null) {
          return;
        }

        ;
      }

      u67 = {
        begin: K54.DT,
        interval: this.layout.interval,
        periodicity: this.layout.periodicity,
        timeUnit: this.layout.timeUnit
      };
      U9v = new a_E.Market(b_t.market.market_def);

      if (this.extendedHours && this.extendedHours.filter) {
        U9v.enableAllAvailableSessions();
      }

      S8H = U9v.newIterator(u67);
      S8H.next();
      K54.DT = S8H.previous();
    }

    if (this.runPrepend("updateCurrentMarketData", arguments)) {
      return;
    }

    V8e = b_t.currentMarketData;

    if (I7I) {
      if (!V8e[I7I]) {
        V8e[I7I] = {};
      }

      V8e = V8e[I7I];
    }

    ["Last", "Bid", "Ask"].forEach(function (K27) {
      y_C.E0w();

      if (K54[K27] && typeof K54[K27] == "number") {
        if (!V8e[K27] || !V8e[K27].DT || V8e[K27].DT <= K54.DT) {
          V8e[K27] = {
            DT: K54.DT,
            Price: K54[K27],
            Size: K54[K27 + "Size"],
            Timestamp: X16
          };
        }
      }
    });
    ["BidL2", "AskL2"].forEach(function (D20) {
      y_C.E0w();

      if (K54[D20] && K54[D20] instanceof Array) {
        if (!V8e[D20] || !V8e[D20].DT || V8e[D20].DT <= K54.DT) {
          V8e[D20] = {
            DT: K54.DT,
            Price_Size: K54[D20],
            Timestamp: X16
          };
        }
      }
    });

    if (K54.Close && (!V8e.Last || V8e.Last.DT <= K54.DT)) {
      G14 = "tic";
      G14 += "k";
      O$2 = K54.Close;
      K9s = i41 && i41.finalClose;

      if (K9s || K9s === 0) {
        O$2 = K9s;
      }

      V8e.Last = {
        DT: K54.DT,
        Price: O$2,
        Size: K54.LastSize === undefined && this.layout.interval == G14 ? K54.Volume : K54.LastSize,
        Timestamp: K54.LastTime || X16
      };
    }

    V8e.touched = new Date();

    if (!b1z) {
      delete K54.Last;
    }

    this.runAppend("updateCurrentMarketData", arguments);
  };

  a_E.ChartEngine.prototype.clearCurrentMarketData = function (Q9R, M93) {
    var T7g, U9Q, v0c;
    y_C.j07();

    if (this.runPrepend("clearCurrentMarketData", arguments)) {
      return;
    }

    U9Q = [];

    if (!Q9R) {
      for (T7g in this.charts) {
        U9Q.push(this.charts[T7g]);
      }
    } else {
      U9Q.push(Q9R);
    }

    for (T7g = 0; T7g < U9Q.length; T7g++) {
      v0c = U9Q[T7g].currentMarketData;

      if (M93) {
        delete v0c[M93];
      } else {
        for (var K0s in v0c) {
          v0c[K0s] = undefined;
        }
      }
    }

    this.runAppend("clearCurrentMarketData", arguments);
  };
};

w6 = function w6(k5j) {
  var O_s = M2dNJ;
  var p6m;
  p6m = k5j.CIQ;

  p6m.ChartEngine.prototype.changeOccurred = function (Y8e) {
    var J1R;
    J1R = {
      stx: this,
      symbol: this.chart.symbol,
      symbolObject: this.chart.symbolObject,
      layout: this.layout,
      drawings: this.drawingObjects
    };

    if (Y8e == "theme") {
      this.dispatch("theme", J1R);
    }

    if (this.currentlyImporting) {
      return;
    }

    if (Y8e == "layout") {
      this.dispatch("layout", J1R);
    } else if (Y8e == "vector") {
      this.dispatch("drawing", J1R);
    } else if (Y8e == "preferences") {
      this.dispatch("preferences", J1R);
    }
  };

  O_s.E0w();

  p6m.ChartEngine.prototype.startAsyncAction = function () {
    if (!this.pendingAsyncs) {
      this.pendingAsyncs = [];
    }

    this.pendingAsyncs.push(!!"1");
  };

  p6m.ChartEngine.prototype.registerChartDrawnCallback = function (M11) {
    if (!this.asyncCallbacks) {
      this.asyncCallbacks = [];
    }

    this.asyncCallbacks.push(M11);
    return {
      fc: M11
    };
  };

  p6m.ChartEngine.prototype.unregisterChartDrawnCallback = function (A3Q) {
    O_s.E0w();

    for (var k1S = 0; k1S < this.asyncCallbacks.length; k1S++) {
      if (this.asyncCallbacks[k1S] == A3Q.fc) {
        this.asyncCallbacks.splice(k1S, 1);
        return;
      }
    }
  };

  p6m.ChartEngine.prototype.makeAsyncCallbacks = function () {
    if (!this.asyncCallbacks) {
      return;
    }

    if (!this.pendingAsyncs || !this.pendingAsyncs.length) {
      for (var n4u = 0; n4u < this.asyncCallbacks.length; n4u++) {
        this.asyncCallbacks[n4u]();
      }
    }
  };

  p6m.ChartEngine.prototype.completeAsyncAction = function () {
    O_s.E0w();
    this.pendingAsyncs.pop();
    this.makeAsyncCallbacks();
  };

  p6m.ChartEngine.prototype.addDomEventListener = function (l3K, n_h, T5P, O0C) {
    l3K.addEventListener(n_h, T5P, O0C);
    this.eventListeners.push({
      element: l3K,
      event: n_h,
      "function": T5P,
      options: O0C
    });
  };

  p6m.ChartEngine.prototype.addEventListener = function (g_w, F1V) {
    var B89;

    if (g_w === "*") {
      for (var K2z in this.callbackListeners) {
        this.callbackListeners[K2z].push(F1V);
      }
    } else if (g_w instanceof Array) {
      for (var y8J = 0; y8J < g_w.length; y8J++) {
        this.callbackListeners[g_w[y8J]].push(F1V);
      }
    } else {
      B89 = this.callbackListeners[g_w];

      if (!B89) {
        throw new Error("Attempted to add an invalid listener.");
      }

      B89.push(F1V);
    }

    return {
      type: g_w,
      cb: F1V
    };
  };

  p6m.ChartEngine.prototype.removeEventListener = function (U66, g0j) {
    O_s.j07();
    var d3u, q0X, S5v;

    if (!U66 || _typeof(U66) != "object") {
      U66 = {
        type: U66,
        cb: g0j
      };
    }

    d3u = function d3u(S7a, C_B) {
      for (var c9U = 0; c9U < S7a.length; c9U++) {
        if (S7a[c9U] === C_B) {
          S7a.splice(c9U, 1);
          return;
        }
      }
    };

    q0X = this.callbackListeners;

    if (U66.type === ((884.42, 351.65) <= (6190, 424.66) ? 1950 >= 848.47 ? (+"605.36", 7810) >= "968.42" * 1 ? "*" : (0x24cf, 7.85e+3) : 9.70e+3 : (592.06, 0x1a78))) {
      for (var e6S in q0X) {
        d3u(q0X[e6S], U66.cb);
      }

      return;
    }

    if (!q0X[U66.type]) {
      S5v = "A";
      S5v += "ttempted to remove an";
      S5v += " invalid li";
      S5v += "stener.";
      throw new Error(S5v);
    }

    d3u(q0X[U66.type], U66.cb);
  };

  p6m.ChartEngine.prototype.dispatch = function (C0t, o8L) {
    var C9$;
    C9$ = this.callbackListeners[C0t];

    if (C9$) {
      for (var H6a = 0; H6a < C9$.length; H6a++) {
        if (C9$[H6a].call(this, o8L) === !0) {
          return !"";
        }
      }
    }

    C9$ = this.callbackListeners[("804.01" - 0, "1940" << 0) === 882 ?  false ? (undefined) : "0xbc6" - 0 : "*"];

    if (C9$) {
      for (var F6k = 0; F6k < C9$.length; F6k++) {
        if (C9$[F6k].call(this, o8L) === !0) {
          return !0;
        }
      }
    }

    return !1;
  };

  p6m.ChartEngine.prototype.updateListeners = function (T50) {
    var q_F;

    for (var U5C in this.plugins) {
      q_F = this.plugins[U5C];

      if (q_F.display && q_F.listener) {
        q_F.listener(this, T50);
      }
    }
  };
};

K_ = function K_(w8A) {
  var g0k;
  g0k = w8A.CIQ;

  g0k.ChartEngine.prototype.prepend = function (d1X, M55) {
    var b$R = M2dNJ;
    var X1l, y8y, W4a, v_x, I2s;
    b$R.i3C(1);
    X1l = b$R.k$A(0, "1886888265");
    y8y = -+"1339386964";
    b$R.E0w();
    W4a = 2;

    for (var J57 = 1; b$R.m7$(J57.toString(), J57.toString().length, +"41530") !== X1l; J57++) {
      b$R.a3e(4);
      v_x = b$R.k$A(d1X, "prepend");
      W4a += 2;
    }

    if (b$R.m7$(W4a.toString(), W4a.toString().length, 1812) !== y8y) {
      b$R.i3C(84);
      v_x = b$R.k$A(d1X, "");
    }

    if (this instanceof g0k.ChartEngine) {
      I2s = this.hasOwnProperty(v_x) ? this[v_x] : [];
      this[v_x] = [M55].concat(I2s);
    } else {
      I2s = g0k.ChartEngine.prototype[v_x] || [];
      g0k.ChartEngine.prototype[v_x] = [M55].concat(I2s);
    }

    return {
      method: v_x,
      func: M55
    };
  };

  g0k.ChartEngine.prototype.append = function (R2k, G5d) {
    var w7C, l6_;
    M2dNJ.i3C(4);
    w7C = M2dNJ.B0m(R2k, "append");

    if (this instanceof g0k.ChartEngine) {
      l6_ = this.hasOwnProperty(w7C) ? this[w7C] : [];
      this[w7C] = l6_.concat(G5d);
    } else {
      l6_ = g0k.ChartEngine.prototype[w7C] || [];
      g0k.ChartEngine.prototype[w7C] = l6_.concat(G5d);
    }

    return {
      method: w7C,
      func: G5d
    };
  };

  g0k.ChartEngine.prototype.runPrepend = function (o1a, g03, b3J) {
    var I1W, w5s, w1E, c4w;
    I1W = "pre";
    I1W += "pend";
    M2dNJ.i3C(4);
    w5s = M2dNJ.B0m(o1a, I1W);
    w1E = this.hasOwnProperty(w5s) ? this[w5s] : [];
    w1E = w1E.concat(g0k.ChartEngine.prototype[w5s] || []);

    if (!w1E.length) {
      return ![];
    }

    if (!b3J) {
      b3J = this;
    }

    for (var Q_f = 0; Q_f < w1E.length; Q_f++) {
      c4w = w1E[Q_f].apply(b3J, g03);

      if (c4w) {
        return c4w;
      }
    }

    return !{};
  };

  g0k.ChartEngine.prototype.runAppend = function (E_6, k2$, P$d) {
    var b$_, T0C, O_H, V6a;
    M2dNJ.j07();
    b$_ = "a";
    b$_ += "pp";
    b$_ += "e";
    b$_ += "nd";
    M2dNJ.i3C(4);
    T0C = M2dNJ.k$A(E_6, b$_);
    O_H = this.hasOwnProperty(T0C) ? this[T0C] : [];
    O_H = O_H.concat(g0k.ChartEngine.prototype[T0C] || []);

    if (!O_H.length) {
      return !!0;
    }

    if (!P$d) {
      P$d = this;
    }

    for (var b0Q = +"0"; b0Q < O_H.length; b0Q++) {
      V6a = O_H[b0Q].apply(P$d, k2$);

      if (V6a) {
        return V6a;
      }
    }

    return ![];
  };

  g0k.ChartEngine.prototype.removeInjection = function (N_$) {
    var T2I, W1O;
    T2I = N_$.method;

    if (this instanceof g0k.ChartEngine) {
      if (!this[T2I]) {
        return;
      }

      for (W1O = 0; W1O < this[T2I].length; W1O++) {
        if (this[T2I][W1O] == N_$.func) {
          this[T2I].splice(W1O, 1);
          return;
        }
      }
    } else {
      if (!g0k.ChartEngine.prototype[T2I]) {
        return;
      }

      for (W1O = 0; W1O < g0k.ChartEngine.prototype[T2I].length; W1O++) {
        if (g0k.ChartEngine.prototype[T2I][W1O] == N_$.func) {
          g0k.ChartEngine.prototype[T2I].splice(W1O, 1);
          return;
        }
      }
    }
  };

  g0k.ChartEngine.prototype.remove = function (S3S) {
    var J9S = M2dNJ;
    J9S.E0w();
    var S4a;

    if (this instanceof g0k.ChartEngine) {
      S4a = "ap";
      S4a += "pe";
      S4a += "nd";
      J9S.a3e(4);
      delete this[J9S.k$A(S3S, S4a)];
      J9S.i3C(4);
      delete this[J9S.k$A(S3S, "prepend")];
    } else {
      J9S.i3C(4);
      delete g0k.ChartEngine.prototype[J9S.B0m(S3S, "append")];
      J9S.i3C(4);
      delete g0k.ChartEngine.prototype[J9S.k$A(S3S, "prepend")];
    }
  };
};

D5 = function D5(C_0) {
  var N7M, m$V;
  N7M = C_0.CIQ;
  m$V = C_0.timezoneJS;

  N7M.ChartEngine.prototype.convertToDataZone = function (b7D) {
    var h7U;

    if ((b7D || b7D === 0) && this.dataZone) {
      h7U = N7M.convertTimeZone(b7D, null, this.dataZone);
      b7D = new Date(h7U.getFullYear(), h7U.getMonth(), h7U.getDate(), h7U.getHours(), h7U.getMinutes(), h7U.getSeconds(), h7U.getMilliseconds());
    }

    return b7D;
  };

  N7M.ChartEngine.prototype.debug = function () {};

  N7M.ChartEngine.prototype.fps = function (I9W, Y_v) {
    var E2o = M2dNJ;
    var H_s, s6Y, T_I;
    I9W = I9W || "5" * 1;
    H_s = new Date().getTime();
    s6Y = 0;
    T_I = this;
    E2o.a3e(50);
    console.log(E2o.B0m(I9W, "Running fps() for ", " seconds"));
    n4a();

    function n4a() {
      var S_Z, l5k;
      E2o.a3e(8);
      var K3r = E2o.B0m(0, 995, 5);
      S_Z = (new Date().getTime() - H_s) / K3r;

      if (S_Z > I9W) {
        E2o.a3e(40);
        l5k = E2o.B0m(s6Y, S_Z);
        E2o.a3e(4);
        console.log(E2o.k$A(l5k, "FPS="));

        if (Y_v) {
          Y_v(l5k);
        }

        return;
      }

      T_I.draw();
      E2o.j07();
      s6Y++;

      if (N7M.ChartEngine.useAnimation) {
        requestAnimationFrame(n4a);
      } else {
        setTimeout(n4a, 0);
      }
    }
  };

  N7M.ChartEngine.htmlControls = {
    mSticky: '<div class="stx_sticky"> <span class="mStickyInterior"></span></div>',
    iconsTemplate: '<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div></div>'
  };

  N7M.ChartEngine.prototype.setChartType = function (i9D) {
    var w6S, j8$, S6L, O$8;
    w6S = "la";
    w6S += "yo";
    w6S += "u";
    w6S += "t";
    j8$ = "o";
    j8$ += "h";
    j8$ += "l";
    j8$ += "c";
    S6L = this.layout;
    O$8 = this.chart;

    if (S6L.aggregationType != j8$) {
      S6L.aggregationType = "ohlc";

      if (O$8.canvas) {
        this.createDataSet();
      }
    }

    S6L.chartType = i9D;
    this.setMainSeriesRenderer();

    if (this.mainSeriesRenderer.isAggregation && this.setAggregationType) {
      return this.setAggregationType(i9D);
    }

    O$8.defaultChartStyleConfig = {
      type: i9D
    };

    if (this.displayInitialized) {
      this.draw();
    }

    this.changeOccurred(w6S);
  };

  N7M.ChartEngine.prototype.setChartScale = function (c7E) {
    var R34;
    M2dNJ.E0w();

    if (!c7E) {
      c7E = "linear";
    }

    R34 = {
      percent: !!{},
      relative: !0
    };
    this.layout.chartScale = c7E;

    if (this.chart.canvas) {
      this.draw();
    }

    this.changeOccurred("layout");
  };

  N7M.ChartEngine.prototype.checkLogScale = function () {
    var T0s, C_N, l_C, K1O, d4W, A8D;

    if (this.runPrepend("checkLogScale", arguments)) {
      return;
    }

    if (this.layout.chartScale !== "log") {
      return ![];
    }

    T0s = ![];

    if (this.chart.yAxis.lowValue <= +"0") {
      C_N = 455898948;
      l_C = +"73295123";
      K1O = 2;

      for (var H1n = 1; M2dNJ.m7$(H1n.toString(), H1n.toString().length, 74113) !== C_N; H1n++) {
        d4W = "n";
        d4W += "otifi";
        d4W += "cati";
        d4W += "on";
        A8D = "l";
        A8D += "in";
        A8D += "e";
        A8D += "ar";
        this.setChartScale(A8D);
        this.dispatch(d4W, "logdeactivated");
        K1O += 2;
      }

      if (M2dNJ.b3_(K1O.toString(), K1O.toString().length, 12735) !== l_C) {
        this.setChartScale("logdeactivated");
        this.dispatch("logdeactivated", "logdeactivated");
      }

      T0s = !!{};
    }

    this.runAppend("checkLogScale", arguments);
    return T0s;
  };

  N7M.ChartEngine.prototype.setAdjusted = function (F05) {
    var F5v;
    F5v = "la";
    F5v += "yo";
    F5v += "u";
    F5v += "t";
    this.layout.adj = F05;

    if (this.chart.canvas) {
      this.createDataSet();
      this.draw();
    }

    this.changeOccurred(F5v);
  };

  N7M.ChartEngine.prototype.padOutPrice = function (j00, m3m) {
    var x1S = M2dNJ;
    var l7u, C7b, i9Y, r1u;

    if (j00 !== +"0" && (!j00 || typeof j00 != "number")) {
      return "";
    }

    if (!m3m && m3m !== 0) {
      m3m = j00;
    }

    x1S.i3C(4);
    l7u = x1S.B0m(m3m, "");
    C7b = +"0";

    if (l7u.indexOf(3120 === (9560, 93) ? (5.99e+3, !"") : (450, +"4930") == 779 ? (!!"", 820.93) : 116 < (9490, 4577) ? "." : !1) > -+"1") {
      x1S.i3C(5);
      var a0h = x1S.k$A(1, 2);
      C7b = l7u.substring(l7u.indexOf(".")).length - a0h;
    }

    if (m3m >= 1000) {
      x1S.a3e(14);
      C7b = Math.max(C7b, x1S.B0m(0, "0"));
    } else if (m3m < 2) {
      C7b = Math.max(C7b, 4);
    } else {
      C7b = Math.max(C7b, 2);
    }

    i9Y = this.internationalizer;

    if (i9Y) {
      r1u = i9Y.priceFormatters.length;

      if (C7b >= r1u) {
        x1S.a3e(1);
        C7b = x1S.B0m(1, r1u);
      }

      j00 = i9Y.priceFormatters[C7b].format(j00);
    } else {
      j00 = j00.toFixed(C7b);
    }

    return j00;
  };

  N7M.ChartEngine.prototype.formatPrice = function (p8f, d0A) {
    var t6_, z$Q, l7E;

    if (p8f !== 0 && (!p8f || typeof p8f == "undefined")) {
      return "";
    }

    if (!d0A) {
      d0A = this.currentPanel;
    }

    if (!d0A) {
      d0A = this.chart.panel;
    }

    if (!d0A) {
      return p8f.toString();
    }

    t6_ = d0A.decimalPlaces;

    if (!t6_ && t6_ !== 0) {
      t6_ = d0A.chart.decimalPlaces;
    }

    if (!t6_ && t6_ !== "0" >> 64) {
      return p8f.toString();
    }

    z$Q = this.internationalizer;

    if (z$Q) {
      l7E = z$Q.priceFormatters.length;

      if (t6_ >= l7E) {
        M2dNJ.i3C(1);
        t6_ = M2dNJ.k$A(1, l7E);
      }

      p8f = z$Q.priceFormatters[t6_].format(p8f);
    } else {
      p8f = p8f.toFixed(t6_);
    }

    return p8f;
  };

  N7M.ChartEngine.prototype.determineMinMax = function (q0H, B6b, N5W, c0w, E6J, k23, G2G, O_l, w7S) {
    var x60 = M2dNJ;
    var c0u, t$t, L94, s9J, v$z, B6d, N10, i3w, q23, O0L, u7m;
    x60.j07();
    x60.a3e(20);
    var Y5h = x60.k$A(9, 10, 0, 20);
    c0u = Number.MAX_VALUE * Y5h;
    t$t = Number.MAX_VALUE;
    L94 = !!"";
    s9J = q0H.length;

    if (!w7S) {
      w7S = [];
    }

    v$z = [];

    if (E6J) {
      s9J = E6J;
    }

    for (var o6a = +"0"; o6a <= s9J + 1; o6a++) {
      if (B6b.length) {
        if (o6a == s9J) {
          B6d = this.getPreviousBar(this.chart, B6b[0], 0);
        } else if (o6a == s9J + 1) {
          B6d = this.getNextBar(this.chart, B6b[0], s9J - +"1");
        } else {
          B6d = q0H[o6a];
        }
      }

      if (!B6d) continue;

      if (!c0w) {
        if (B6d.transform) {
          L94 = !!1;
          B6d = B6d.transform;
        } else if (L94) continue;

        ;
      }

      N10 = +"0";

      for (var R82 = 0; R82 < B6b.length; R82++) {
        i3w = N7M.existsInObjectChain(B6d, B6b[R82]);
        if (!i3w) continue;
        q23 = i3w.obj[i3w.member];

        if (typeof q23 == "number") {
          q23 = [q23];
        }

        for (var g4F = 0; g4F < q23.length; g4F++) {
          O0L = q23[g4F];

          if (k23 && O0L instanceof Array) {
            O0L = O0L[0];
          }

          if (O0L || O0L === +"0") {
            if (N5W === !!1 || N5W instanceof Array && N5W.indexOf(B6b[R82]) > -1) {
              N10 += O0L;

              if (N10 > c0u) {
                c0u = N10;
              }

              if (N10 < t$t) {
                t$t = N10;
              }
            } else {
              if (O0L > c0u) {
                c0u = O0L;
              }

              if (O0L < t$t) {
                t$t = O0L;
              }

              v$z.push({
                value: O0L,
                quote: B6d
              });
            }
          }
        }
      }

      if (N5W === !0 || N5W instanceof Array && N5W.indexOf(B6b[R82]) > -1) {
        v$z.push({
          value: N10,
          quote: B6d
        });
      }
    }

    u7m = [t$t, c0u];
    w7S.forEach(function (b5c) {
      u7m = b5c(v$z, G2G, O_l) || u7m;
    });

    if (u7m[1] == Number.MAX_VALUE * -1) {
      x60.a3e(82);
      u7m[1] = x60.k$A(0, "0");
    }

    if (u7m[0] == Number.MAX_VALUE) {
      u7m[0] = 0;
    }

    return u7m;
  };

  N7M.ChartEngine.prototype.initializeDisplay = function (S1W) {
    var y6S = M2dNJ;
    var b4n, A2d, r15, B2f, U00, B4w, e9i, Y7f, m9v, f8G, q4d, r6E, z3F, x5s, l_2, W7$, b1W, U6j, q5U;
    b4n = "Op";
    b4n += "e";
    b4n += "n";
    A2d = "C";
    A2d += "los";

    function F5Y(x_J, r6P) {
      var e77, P1X, D8e, n$0, W_H, T_8, L0p, z1r, c$z, Y3v;
      y6S.E0w();
      e77 = ![];
      P1X = B4w.layout && B4w.layout.studies && B4w.layout.studies[x_J.name];

      if (P1X && (!r6P || r6P.name == P1X.panel)) {
        for (var z9J in P1X.outputMap) {
          r15.push(z9J);

          if (P1X.study) {
            if (P1X.study.renderer) {
              r15 = r15.concat(N7M.createObjectChainNames(z9J, e9i));
            } else if (!P1X.study.seriesFN) {
              r15 = r15.concat(N7M.createObjectChainNames(z9J, Y7f));
            }
          }
        }

        for (var q8i = 0; q8i <= 2; q8i++) {
          r15.push(P1X.name + "_hist" + (q8i ? q8i : ""));
        }

        e77 = !!{};
      }

      if (!r6P) {
        return;
      }

      x_J.studies = [];
      x_J.renderers = [];

      if (e77) {
        x_J.studies.push(x_J.name);
      }

      for (var D0y in w8s) {
        D8e = w8s[D0y];
        n$0 = D8e.params;
        W_H = n$0.panel;
        if ((n$0.yAxis || !B4w.panels[W_H] || B4w.panels[W_H].yAxis) != x_J) continue;
        if (W_H != r6P.name) continue;
        T_8 = D8e.highLowBars ? e9i : Y7f;
        U00 = D8e.bounded;

        for (var D8d = 0; D8d < D8e.seriesParams.length; D8d++) {
          L0p = D8e.seriesParams[D8d];
          if (L0p.hidden) continue;
          z1r = void 0;

          if (L0p.subField) {
            z1r = N7M.createObjectChainNames(L0p.symbol, [L0p.subField]).concat(L0p.symbol);
          } else if (L0p.symbol) {
            z1r = N7M.createObjectChainNames(L0p.symbol, T_8).concat(L0p.symbol);
          } else if (L0p.field) {
            z1r = L0p.field;
          } else if (x_J == S1W.panel.yAxis) {
            z1r = T_8;
          }

          if (z1r) {
            r15 = r15.concat(z1r);
          }

          if (D8e.useSum) {
            B2f = B2f.concat(z1r);
          }
        }

        x_J.renderers.push(D0y);
      }

      for (var s3i in B4w.overlays) {
        c$z = B4w.overlays[s3i];
        if (c$z.panel != r6P.name) continue;
        if (c$z.name == x_J.name) continue;
        Y3v = c$z.getYAxis(B4w);
        if (Y3v != x_J) continue;
        x_J.studies.push(c$z.name);

        if (S1W.includeOverlaysInMinMax) {
          F5Y({
            name: c$z.name
          });
        }
      }
    }

    A2d += "e";

    if (this.runPrepend("initializeDisplay", arguments)) {
      return;
    }

    r15 = [];
    B2f = [];
    U00 = !{};
    B4w = this;
    e9i = [A2d, b4n, "High", "Low"];
    Y7f = [S1W.defaultPlotField || "Close"];
    var Z$m = this.mainSeriesRenderer;
    var v2Y = S1W.dataSegment,
        w8s = S1W.seriesRenderers;
    f8G = null;
    q4d = Math.floor((S1W.width - this.micropixels) / this.layout.candleWidth);
    r6E = -1082273245;
    z3F = 2135114904;
    x5s = 2;

    for (var b18 = 1; y6S.b3_(b18.toString(), b18.toString().length, +"14891") !== r6E; b18++) {
      if (S1W.scroll > S1W.maxTicks && S1W.maxTicks > q4d + +"1") {
        y6S.a3e(2);
        var F9C = y6S.k$A(13, 6, 3, 16, 11);
        f8G = v2Y.length - F9C;
      }

      l_2 = [];
      x5s += 2;
    }

    if (y6S.b3_(x5s.toString(), x5s.toString().length, 80815) !== z3F) {
      if (S1W.scroll < S1W.maxTicks || S1W.maxTicks >= q4d - 7) {
        y6S.a3e(131);
        var G9Z = y6S.k$A(3, 3, 21, 9);
        f8G = v2Y.length + G9Z;
      }

      l_2 = [];
    }

    for (var c44 in this.panels) {
      W7$ = this.panels[c44];
      l_2 = W7$.yaxisLHS.concat(W7$.yaxisRHS);

      for (var a86 = 0; a86 < l_2.length; a86++) {
        b1W = l_2[a86];
        r15 = [];
        B2f = [];
        U6j = S1W.transformFunc && b1W == S1W.panel.yAxis;
        F5Y(b1W, W7$);

        if (!this.currentlyImporting && !b1W.renderers.length && !b1W.studies.length) {
          this.deleteYAxisIfUnused(W7$, b1W);
          continue;
        }

        if (Z$m && Z$m.determineMax) {
          m9v = Z$m.determineMax(v2Y, r15, B2f, !U6j, f8G, U00, W7$, b1W);
        } else {
          m9v = this.determineMinMax(v2Y, r15, B2f, !U6j, f8G, U00, W7$, b1W);
        }

        if (this.baselineHelper) {
          m9v = this.setBaselineMinMax(m9v, b1W);
        }

        b1W.lowValue = m9v[+"0"];
        b1W.highValue = m9v[1];

        if (b1W == S1W.panel.yAxis) {
          S1W.lowValue = b1W.lowValue;
          S1W.highValue = b1W.highValue;
        }
      }
    }

    q5U = S1W.state.aggregation;

    if (q5U && q5U.box) {
      y6S.a3e(133);
      var F8O = y6S.B0m(13, 21, 20, 19, 518);
      S1W.lowValue -= q5U.box / ("2" | F8O);
      y6S.a3e(134);
      var T$z = y6S.k$A(20, 20, 2, 9);
      S1W.highValue += q5U.box / T$z;
    }

    this.runAppend("initializeDisplay", arguments);
  };

  N7M.ChartEngine.prototype.setMarket = function (C4z, Y10) {
    if (!N7M.Market) {
      return;
    }

    if (!Y10) {
      Y10 = this.chart;
    }

    M2dNJ.j07();
    Y10.market = new N7M.Market(C4z);

    for (var s7B in this.layout.marketSessions) {
      Y10.market.disableSession(s7B, this.layout.marketSessions[s7B]);
    }
  };

  N7M.ChartEngine.prototype.setMarketFactory = function (r2c) {
    this.marketFactory = r2c;
  };

  N7M.ChartEngine.prototype.setResizeTimer = function (W8R) {
    M2dNJ.j07();
    this.resizeDetectMS = W8R;
    this.resizeHandle = N7M.resizeObserver(this.chart.container, W$Y(this), this.resizeHandle, W8R);

    function W$Y(I1O, v6U) {
      var H6V;

      H6V = function H6V() {
        M2dNJ.j07();

        if (!I1O.chart.canvas) {
          return;
        }

        if (!N7M.isAndroid) {
          if (I1O.chart.canvas.height != Math.floor(I1O.devicePixelRatio * I1O.chart.container.clientHeight) || I1O.chart.canvas.width != Math.floor(I1O.devicePixelRatio * I1O.chart.container.clientWidth)) {
            I1O.resizeChart();
          }
        }
      };

      M2dNJ.E0w();
      return function () {
        var S0O;
        S0O = "undefi";
        S0O += "n";
        S0O += "ed";

        if ((typeof ResizeObserver === "undefined" ? "undefined" : _typeof(ResizeObserver)) !== S0O) {
          if (N7M.ChartEngine.useAnimation) {
            requestAnimationFrame(H6V);
          } else {
            setTimeout(H6V, 0);
          }
        } else {
          H6V();
        }
      };
    }
  };

  N7M.ChartEngine.prototype.getRenderedItems = function () {
    var B0C, j9A, m8p, T72, N3o, G4x, J4E, e2e;
    B0C = this.chart;
    j9A = this.currentPanel;

    if (!j9A) {
      return;
    }

    m8p = ["Open", "High", "Low", "Close"];
    T72 = ["Close"];
    N3o = [];

    for (var i2c in this.overlays) {
      if (this.overlays[i2c].panel !== j9A.name) continue;
      N3o = N3o.concat(Object.keys(this.overlays[i2c].outputMap));
    }

    for (var K6U in B0C.seriesRenderers) {
      G4x = B0C.seriesRenderers[K6U];
      if (G4x.params.panel != j9A.name) continue;

      for (var u58 in G4x.seriesParams) {
        J4E = G4x.seriesParams[u58];
        e2e = G4x.highLowBars ? m8p : T72;

        if (J4E.subField) {
          N3o = N3o.concat(N7M.createObjectChainNames(J4E.symbol, [J4E.subField])).concat(J4E.symbol);
        } else if (J4E.symbol) {
          N3o = N3o.concat(N7M.createObjectChainNames(J4E.symbol, e2e)).concat(J4E.symbol);
        } else if (J4E.field) {
          N3o.push(J4E.field);
        } else if (j9A == B0C.panel) {
          N3o = N3o.concat(e2e);
        }
      }
    }

    return N3o;
  };

  N7M.ChartEngine.prototype.setTransform = function (k$e, l2Q, z4o) {
    M2dNJ.j07();
    k$e.transformFunc = l2Q;
    k$e.untransformFunc = z4o;
  };

  N7M.ChartEngine.prototype.unsetTransform = function (E3H) {
    delete E3H.transformFunc;
    M2dNJ.j07();
    delete E3H.untransformFunc;

    for (var S$g = 0; E3H.dataSet && S$g < E3H.dataSet.length; S$g++) {
      E3H.dataSet[S$g].transform = null;
    }
  };

  N7M.ChartEngine.prototype.isEquationChart = function (s9Q) {
    M2dNJ.E0w();

    if (s9Q && s9Q[0] == ((870.22, 4250) < (+"6110", 441.88) ? (6.06e+3, "k") : 449.72 <= (668, 5962) ? ("9823" - 0, 2497) == (1529, 386.21) ? (!!1, 3.14e+3) : "=" : "k")) {
      if (!this.allowEquations || !N7M.fetchEquationChart) {
        console.warn("Error, equation chart option requires equationsAdvanced.js");
        return !1;
      }

      return !0;
    }

    return !!0;
  };

  N7M.ChartEngine.prototype.correctIfOffEdge = function (n9d) {
    var E8A = M2dNJ;
    var b9R, G8$, X2l, x$_, P_I, K$e, W_C, P31, H4x, a72, X3J, H2v;
    b9R = "correc";
    b9R += "tIfOffEdge";
    G8$ = "cor";
    G8$ += "rectIfO";
    G8$ += "f";
    G8$ += "fEdge";

    if (this.runPrepend(G8$, arguments)) {
      return;
    }

    for (var U2a in this.charts) {
      X2l = this.charts[U2a];
      x$_ = X2l.dataSet;
      P_I = X2l.maxTicks;
      K$e = this.layout;
      W_C = this.minimumLeftBars;
      P31 = Math.min(W_C, P_I);

      if (X2l.allowScrollPast) {
        E8A.a3e(1);
        H4x = E8A.k$A(P31, P_I);

        if (P31 > x$_.length) {
          H4x = P_I - x$_.length;
        }

        if (X2l.scroll - H4x >= x$_.length) {
          X2l.scroll = x$_.length + H4x - +"1";
          this.micropixels = 0;
        }

        if (X2l.scroll <= P31) {
          X2l.scroll = P31;
          this.micropixels = 0;
        }
      } else {
        if (X2l.scroll < P31) {
          X2l.scroll = P31;
        }

        if (X2l.scroll > x$_.length) {
          X2l.scroll = x$_.length;
        }
      }

      if (X2l.allowScrollFuture === !!"") {
        a72 = this.getLabelOffsetInPixels(X2l, K$e.chartType) + K$e.candleWidth * X2l.whiteSpaceFutureTicks;
        E8A.i3C(8);
        var H6d = E8A.B0m(11, 0, 12);
        X3J = P_I - Math.round(a72 / K$e.candleWidth) - H6d;
        H2v = this.micropixels < 0 ? X2l.scroll - 1 : X2l.scroll;

        if (H2v < X3J) {
          X2l.scroll = X3J;
          this.micropixels = +"0";
        }
      }
    }

    this.runAppend(b9R, arguments);
  };

  N7M.ChartEngine.prototype.getStartDateOffset = function () {
    for (var q2o = 0; q2o < this.chart.dataSegment.length; q2o++) {
      if (this.chart.dataSegment[q2o]) {
        return q2o;
      }
    }

    M2dNJ.a3e(13);
    return M2dNJ.B0m("0", 0);
  };

  N7M.ChartEngine.prototype.setStartDate = function (v3Z) {
    var b3C;

    for (var Q_o = 0; Q_o < this.chart.dataSet.length; Q_o++) {
      b3C = this.chart.dataSet[Q_o];

      if (b3C.DT.getTime() == v3Z.getTime()) {
        this.chart.scroll = this.chart.dataSet.length - Q_o;
        this.draw();
        return;
      }
    }
  };

  N7M.ChartEngine.prototype.clearPixelCache = function () {
    M2dNJ.j07();
    var K21, O$V;

    for (var Q_W in this.panels) {
      K21 = this.panels[Q_W];
      K21.cacheHigh = null;
      K21.cacheLow = null;
      K21.cacheLeft = 1000000;
      K21.cacheRight = -1;
    }

    for (var w8x in this.charts) {
      O$V = this.charts[w8x];
      if (!O$V.dataSet) continue;

      for (var x4Y = 0; x4Y < O$V.dataSet.length; x4Y++) {
        O$V.dataSet[x4Y].cache = {};
      }
    }
  };

  N7M.ChartEngine.prototype.adjustBackingStore = function (j_I, z_E) {
    var i0W = M2dNJ;
    var y8L, e6Y, t6G, a0r;
    this.devicePixelRatio = window.devicePixelRatio || 1;

    if (this.devicePixelRatio < "1.0" * 1) {
      this.devicePixelRatio = 1.0;
    }

    y8L = z_E.webkitBackingStorePixelRatio || z_E.mozBackingStorePixelRatio || z_E.msBackingStorePixelRatio || z_E.oBackingStorePixelRatio || z_E.backingStorePixelRatio || 1;
    e6Y = this.devicePixelRatio / y8L;

    if (!this.useBackingStore) {
      this.devicePixelRatio = this.adjustedDisplayPixelRatio = 1;
      return;
    }

    if (!N7M.isAndroid || N7M.is_chrome || N7M.isFF) {
      t6G = j_I.width;
      a0r = j_I.height;
      i0W.a3e(38);
      j_I.width = i0W.k$A(t6G, e6Y);
      i0W.i3C(38);
      j_I.height = i0W.B0m(a0r, e6Y);
      i0W.a3e(4);
      j_I.style.width = i0W.k$A("px", t6G);
      i0W.i3C(4);
      j_I.style.height = i0W.k$A("px", a0r);
      z_E.scale(e6Y, e6Y);
      this.adjustedDisplayPixelRatio = e6Y;
      this.backing = {
        ratio: e6Y,
        width: j_I.width,
        height: j_I.height,
        styleWidth: t6G,
        styleHeight: a0r
      };
    }
  };

  N7M.ChartEngine.prototype.reconstituteBackingStore = function () {
    var y7Q, s$z;

    if (!this.useBackingStore || !this.backing) {
      return;
    }

    y7Q = [this.chart.canvas];

    if (this.useBackgroundCanvas) {
      y7Q.push(this.chart.backgroundCanvas);
    }

    s$z = this.backing;
    y7Q.forEach(function (S9J) {
      if (S9J.width == s$z.width) {
        return;
      }

      M2dNJ.E0w();
      S9J.width = s$z.width;
      S9J.height = s$z.height;
      S9J.context.scale(s$z.ratio, s$z.ratio);
    });
    this.adjustedDisplayPixelRatio = s$z.ratio;
    this.draw();
  };

  N7M.ChartEngine.prototype.disableBackingStore = function () {
    var W2Z, R5P;

    if (!this.useBackingStore || !this.backing) {
      return;
    }

    W2Z = [this.chart.canvas];
    M2dNJ.j07();

    if (this.useBackgroundCanvas) {
      W2Z.push(this.chart.backgroundCanvas);
    }

    R5P = this.backing;
    W2Z.forEach(function (a6I) {
      if (a6I.width == R5P.styleWidth) {
        return;
      }

      a6I.width = R5P.styleWidth;
      a6I.height = R5P.styleHeight;
      a6I.context.scale(1, 1);
    });
    M2dNJ.i3C(82);
    this.adjustedDisplayPixelRatio = M2dNJ.k$A(32, "1");
    this.draw();
  };

  N7M.ChartEngine.prototype.getBackgroundCanvas = function (G58) {
    M2dNJ.j07();

    if (!G58) {
      G58 = this.chart;
    }

    return this.useBackgroundCanvas ? G58.backgroundCanvas : G58.canvas;
  };

  N7M.ChartEngine.prototype.resizeCanvas = function () {
    var i_p = M2dNJ;
    var A8L, w5H, I42, U1T, b0f, v_$, W$z, r2A, y5S, S6s;
    A8L = "u";
    A8L += "n";
    A8L += "def";
    A8L += "ined";
    w5H = this.chart.canvas;
    I42 = this.chart.context;

    if (w5H && I42) {
      this.floatCanvas.height = this.chart.tempCanvas.height = this.chart.backgroundCanvas.height = w5H.height = this.chart.container.clientHeight;
      this.floatCanvas.width = this.chart.tempCanvas.width = this.chart.backgroundCanvas.width = w5H.width = this.chart.container.clientWidth;
      this.adjustBackingStore(w5H, I42);
      this.adjustBackingStore(this.chart.tempCanvas, this.chart.tempCanvas.context);
      this.adjustBackingStore(this.floatCanvas, this.floatCanvas.context);
      this.adjustBackingStore(this.chart.backgroundCanvas, this.chart.backgroundCanvas.context);
    }

    U1T = this.container.getBoundingClientRect();
    this.top = U1T.top;
    this.left = U1T.left;
    this.canvasWidth = this.chart.canvasWidth = this.chart.container.clientWidth;
    this.right = this.left + this.canvasWidth;
    this.height = this.chart.container.clientHeight;
    this.width = this.right - this.left;
    i_p.j07();

    if (this.width === 0 && !this.container.dimensionlessCanvas && this.container.closest("html")) {
      console.log("warning: zero width chart. Check CSS for chart container.");
    }

    this.bottom = this.top + this.height;
    this.calculateYAxisPositions();
    this.chart.canvasRight = this.right;
    this.chart.canvasHeight = this.height;
    b0f = this.layout.candleWidth;

    if (_typeof(b0f) == A8L) {
      b0f = 8;
    }

    for (var v5H in this.charts) {
      v_$ = this.charts[v5H];
      this.setCandleWidth(b0f, v_$);

      if (v_$.scroll < v_$.width / b0f) {
        v_$.scroll = Math.floor(v_$.width / b0f);
        W$z = Math.round(this.preferences.whitespace / this.layout.candleWidth);
        v_$.scroll -= W$z;
      }

      r2A = 10;

      try {
        S6s = "1";
        S6s += "0";
        S6s += ":";
        S6s += "00";
        i_p.a3e(135);
        var z2D = i_p.B0m(3, 1, 11, 0, 12);
        y5S = I42.measureText(S6s).width * z2D;
      } catch (A$5) {
        y5S = 100;
      }

      while (r2A > 1) {
        if (this.chart.width / y5S > r2A) break;
        r2A /= 1.5;
      }

      v_$.xAxis.autoComputedTickSizePixels = Math.round(this.chart.width / r2A);

      if (v_$.xAxis.autoComputedTickSizePixels < "1" >> 32) {
        i_p.a3e(82);
        v_$.xAxis.autoComputedTickSizePixels = i_p.B0m(0, "1");
      }
    }
  };

  N7M.ChartEngine.prototype.setCandleWidth = function (e1P, V4w) {
    if (!V4w) {
      V4w = this.chart;
    }

    e1P = this.constrainCandleWidth(e1P);
    M2dNJ.j07();
    this.layout.candleWidth = e1P;
    M2dNJ.a3e(136);
    var P3E = M2dNJ.k$A(4, 7, 3, 19, 85);
    V4w.maxTicks = Math.round(V4w.width / e1P) + P3E;
  };

  N7M.ChartEngine.prototype.constrainCandleWidth = function (E5V) {
    var Y9A, f8K, k0M;
    Y9A = this.minimumCandleWidth;
    f8K = this.maximumCandleWidth;
    k0M = this.animations.zoom;
    M2dNJ.j07();

    if (Y9A && E5V < Y9A) {
      E5V = Y9A;

      if (k0M && k0M.running) {
        k0M.stop();
      }
    }

    if (f8K && E5V > f8K) {
      E5V = f8K;

      if (k0M && k0M.running) {
        k0M.stop();
      }
    }

    return E5V;
  };

  N7M.ChartEngine.prototype.resizeChart = function (W7w) {
    M2dNJ.E0w();
    var o4P, n6W;
    o4P = "resi";
    o4P += "zeCh";
    o4P += "art";

    if (this.runPrepend("resizeChart", arguments)) {
      return;
    }

    if (W7w !== !!0) {
      W7w = !!"1";
    }

    if (W7w) {
      this.preAdjustScroll();
    }

    n6W = this.chart.canvasHeight;
    this.resizeCanvas();

    if (W7w) {
      this.postAdjustScroll();
    }

    if (this.displayInitialized) {
      this.adjustPanelPositions();
      this.draw();
      ;
    } else if (this.chart.canvasHeight !== "0" >> 64 && n6W === 0) {
      this.adjustPanelPositions();
      this.draw();
    }

    this.doDisplayCrosshairs();
    this.updateChartAccessories();
    this.runAppend(o4P, arguments);
  };

  N7M.ChartEngine.prototype.clear = function () {
    M2dNJ.j07();
    var B2c;
    this.displayInitialized = !"1";

    for (var c0W in this.layout.studies) {
      B2c = this.layout.studies[c0W];
      N7M.getFn("Studies.removeStudy")(this, B2c);
    }

    if (this.controls.chartControls) {
      this.controls.chartControls.style.display = "none";
    }

    this.chart.panel.title.innerHTML = "";
    this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display));
  };

  N7M.ChartEngine.prototype.fillScreen = function () {
    var g$p, N8A, I2J, D7y, V7j;
    g$p = this.chart;
    N8A = this.layout.candleWidth;
    I2J = g$p.width - this.preferences.whitespace;
    D7y = g$p.dataSet.length;

    if (D7y * N8A >= I2J) {
      this.draw();
      return;
    }

    if (!this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars) {
      D7y--;
    }

    M2dNJ.a3e(40);
    V7j = M2dNJ.k$A(I2J, D7y);
    this.setCandleWidth(V7j, g$p);
    this.home({
      maintainWhitespace: !![]
    });
  };

  N7M.ChartEngine.prototype.setMaxTicks = function (o_v, L$J) {
    M2dNJ.j07();
    var c4Y;

    if (!L$J) {
      L$J = {};
    }

    o_v = Math.round(o_v);

    if (o_v < +"2") {
      o_v = 2;
    }

    c4Y = L$J.padding ? L$J.padding : "0" * 1;
    this.layout.candleWidth = (this.chart.width - c4Y) / o_v;

    if (!this.layout.candleWidth) {
      this.layout.candleWidth = 8;
    }

    this.chart.maxTicks = Math.round(this.chart.width / this.layout.candleWidth - +"0.499");

    if (L$J.padding || L$J.padding === ("0" | 0)) {
      M2dNJ.a3e(100);
      this.chart.scroll = M2dNJ.k$A("1", o_v);
    }

    ;
  };

  N7M.ChartEngine.prototype.initializeChart = function (L0M) {
    var v3$ = M2dNJ;
    var F6f, D0b, B8L, X1k, x66, g_c, v8_, g1E, B0s, y8s, R3Y, v4E, S2z, D$a, z0d, O36, Z8b, d5j, b_8, S2v, b6T, P0T, y5y, C7L, v3R, r$p, f9w, i$S;
    F6f = "ca";
    F6f += "n";
    F6f += "v";
    F6f += "as";
    D0b = "canva";
    D0b += "s";

    if (this.runPrepend("initializeChart", arguments)) {
      return;
    }

    B8L = this.chart;

    if (!B8L.symbolObject.symbol) {
      B8L.symbolObject.symbol = B8L.symbol;
    }

    if (this.locale) {
      this.setLocale(this.locale);
    }

    if (!this.displayZone && N7M.ChartEngine.defaultDisplayTimeZone) {
      this.setTimeZone(null, N7M.ChartEngine.defaultDisplayTimeZone);
    }

    this.resetDynamicYAxis({
      noRecalculate: !![]
    });
    this.calculateYAxisPositions();
    this.micropixels = 0;

    if (L0M) {
      B8L.container = L0M;
    } else {
      L0M = B8L.container;
    }

    L0M.stx = this;

    if (!L0M.CIQRegistered) {
      L0M.CIQRegistered = !![];
      N7M.ChartEngine.registeredContainers.push(L0M);
    }

    if (this.registerHTMLElements) {
      this.registerHTMLElements();
    }

    X1k = B8L.canvas;
    x66 = B8L.backgroundCanvas;
    g_c = B8L.tempCanvas;
    v8_ = this.floatCanvas;
    g1E = B8L.canvasShim;

    if (X1k && document.createElement(D0b).getContext) {
      if (!X1k.id) {
        v3$.a3e(1);
        B0s = v3$.B0m(0, "1029856105");
        y8s = 1460539916;
        R3Y = +"2";

        for (var V91 = 1; v3$.m7$(V91.toString(), V91.toString().length, 25836) !== B0s; V91++) {
          L0M.removeChild(X1k);
          B8L.canvas = 1;
          R3Y += 2;
        }

        if (v3$.b3_(R3Y.toString(), R3Y.toString().length, 50752) !== y8s) {
          L0M.removeChild(X1k);
          B8L.canvas = null;
        }
      }

      if (g_c && !g_c.id) {
        L0M.removeChild(g_c);
        B8L.tempCanvas = null;
      }

      if (v8_ && !v8_.id) {
        L0M.removeChild(v8_);
        this.floatCanvas = null;
      }

      if (x66 && !x66.id) {
        L0M.removeChild(x66);
        v4E = -1878981405;
        S2z = -893771909;
        D$a = +"2";

        for (var L9X = 1; v3$.m7$(L9X.toString(), L9X.toString().length, 42513) !== v4E; L9X++) {
          v3$.a3e(13);
          B8L.backgroundCanvas = v3$.k$A("1", 0);
          D$a += +"2";
        }

        if (v3$.b3_(D$a.toString(), D$a.toString().length, 95637) !== S2z) {
          B8L.backgroundCanvas = +"8";
        }

        B8L.backgroundCanvas = null;
      }
    } else {
      this.setCandleWidth(this.layout.candleWidth);
    }

    if (!B8L.backgroundCanvas) {
      x66 = B8L.backgroundCanvas = document.createElement("canvas");
    }

    L0M.appendChild(x66);
    O4l(x66);

    if (!B8L.canvasShim) {
      g1E = B8L.canvasShim = document.createElement("div");
    }

    g1E.className = "stx-canvas-shim";
    L0M.appendChild(g1E);

    if (!B8L.canvas) {
      X1k = B8L.canvas = document.createElement(F6f);
    }

    L0M.appendChild(X1k);
    O4l(X1k);
    B8L.context = X1k.context;

    if (!B8L.tempCanvas) {
      g_c = B8L.tempCanvas = document.createElement("canvas");
    }

    L0M.appendChild(g_c);
    O4l(g_c, !0);

    if (!this.floatCanvas) {
      v8_ = this.floatCanvas = document.createElement("canvas");
    }

    L0M.appendChild(v8_);
    O4l(v8_, !!1);
    this.resizeCanvas();

    if (N7M.isAndroid) {
      g_c.ontouchstart = v8_.ontouchstart = function (j5c) {
        if (j5c.preventDefault) {
          j5c.preventDefault();
        }
      };
    }

    function O4l(z3b, y$Y) {
      var Z_f, s0n;
      Z_f = "a";
      Z_f += "b";
      Z_f += "so";
      Z_f += "lute";
      z3b.context = z3b.getContext("2d");
      z3b.context.lineWidth = 1;
      s0n = z3b.style;
      s0n.position = Z_f;
      v3$.E0w();
      s0n.left = "0px";

      if (y$Y) {
        s0n.display = "none";
      }
    }

    z0d = this.panels;
    B8L.panel.display = B8L.symbol;

    if (B8L.symbolDisplay) {
      B8L.panel.display = B8L.symbolDisplay;
    }

    this.adjustPanelPositions();
    B8L.panel = z0d[B8L.name];

    for (var o9n in z0d) {
      O36 = z0d[o9n].yaxisLHS.concat(z0d[o9n].yaxisRHS);

      for (var s07 = 0; s07 < O36.length; s07++) {
        O36[s07].height = z0d[o9n].yAxis.height;
        this.calculateYAxisMargins(O36[s07]);
        ;
      }
    }

    this.initialWhitespace = this.preferences.whitespace;

    if (B8L.dataSet && B8L.dataSet.length > 0) {
      B8L.scroll = Math.floor(B8L.width / this.layout.candleWidth);
      Z8b = Math.round(this.preferences.whitespace / this.layout.candleWidth);
      B8L.scroll -= Z8b;
    }

    if (N7M.touchDevice) {
      d5j = ".ve";
      d5j += "c";
      d5j += "torTrashC";
      d5j += "an";
      b_8 = ".overlayEd";
      b_8 += "it";
      S2v = L0M.querySelector(b_8);
      b6T = L0M.querySelector(".overlayTrashCan");
      P0T = L0M.querySelector(d5j);

      y5y = function y5y(x97, X1z, J0K) {
        return function (T5t) {
          x97.deleteHighlighted(X1z, J0K);
        };
      };

      if (S2v) {
        N7M.safeClickTouch(S2v, y5y(this, !!"1", !!{}));

        if (b6T) {
          N7M.safeClickTouch(b6T, y5y(this, !1));
        }
      } else if (b6T) {
        N7M.safeClickTouch(b6T, y5y(this, !!{}));
      }

      if (P0T) {
        N7M.safeClickTouch(P0T, y5y(this, !!1));
      }
    }

    if (this.manageTouchAndMouse) {
      this.registerTouchAndMouseEvents();
    }

    if (this.handleMouseOut) {
      L0M.onmouseout = function (G$C) {
        return function (I3P) {
          G$C.handleMouseOut(I3P);
        };
      }(this);

      N7M.smartHover();
    }

    if (this.abortDrawings) {
      this.abortDrawings();
    }

    this.undoStamps = [];

    for (var T7Z in z0d) {
      C7L = z0d[T7Z];

      if (C7L.markerHolder) {
        L0M.removeChild(C7L.markerHolder);
        C7L.markerHolder = null;
      }
    }

    for (var k25 in this.plugins) {
      v3R = this.plugins[k25];

      if (v3R.display) {
        if (v3R.initializeChart) {
          v3R.initializeChart(this);
        }
      }
    }

    if (!this.resizeListenerInitialized) {
      r$p = "r";
      r$p += "e";
      r$p += "si";
      r$p += "ze";
      f9w = this;
      this.resizeListenerInitialized = !!{};

      i$S = function i$S() {
        v3$.E0w();
        return function (P9r) {
          f9w.resizeChart();
        };
      };

      this.addDomEventListener(window, r$p, i$S(), !![]);
    }

    if (B8L.baseline.userLevel) {
      B8L.baseline.userLevel = null;
    }

    this.setResizeTimer(this.resizeDetectMS);
    this.runAppend("initializeChart", arguments);
  };

  N7M.ChartEngine.prototype.destroy = function () {
    var k_T = M2dNJ;
    var x25, n7N, Q0i, Q5v;
    k_T.E0w();
    this.setResizeTimer(0);

    if (this.quoteDriver) {
      this.quoteDriver.die();
    }

    this.styles = {};

    for (var t5E = 0; t5E < this.eventListeners.length; t5E++) {
      x25 = this.eventListeners[t5E];
      x25.element.removeEventListener(x25.event, x25["function"], x25.options);
    }

    this.touchAndMouseEventsRegistered = !!"";
    this.eventListeners = [];

    if (this.streamParameters.timeout) {
      clearTimeout(this.streamParameters.timeout);
    }

    n7N = N7M.ChartEngine.registeredContainers;
    Q0i = n7N.indexOf(this.chart.container);

    if (Q0i > -1) {
      k_T.a3e(38);
      n7N.splice(Q0i, k_T.k$A("1", 1));
    }

    if (this.slider) {
      Q5v = n7N.indexOf(this.slider.slider.chart.container);

      if (Q5v > -1) {
        k_T.a3e(14);
        n7N.splice(Q5v, k_T.k$A(0, "1"));
      }
    }
  };

  N7M.ChartEngine.prototype.preAdjustScroll = function (o0a) {
    if (!o0a) {
      o0a = this.chart;
    }

    M2dNJ.j07();
    this.previousAdjust = {
      chart: o0a,
      scroll: o0a.scroll,
      maxTicks: o0a.maxTicks
    };
  };

  N7M.ChartEngine.prototype.postAdjustScroll = function () {
    M2dNJ.E0w();
    var s7w;

    if (!this.previousAdjust) {
      return;
    }

    s7w = this.previousAdjust.chart;
    s7w.scroll = this.previousAdjust.scroll + (s7w.maxTicks - this.previousAdjust.maxTicks);

    if (this.displayInitialized) {
      this.draw();
    }
  };

  N7M.ChartEngine.prototype.translateIf = function (j5N) {
    if (this.translationCallback) {
      return this.translationCallback(j5N);
    }

    M2dNJ.E0w();
    return j5N;
  };

  N7M.ChartEngine.prototype.doCleanupDates = function (C0G, J0S) {
    var e9C = M2dNJ;
    var r8W, o4F, s_w, n9B, w$1, M1E;

    if (!C0G || !C0G.length) {
      return;
    }

    for (var w_9 = 0; w_9 < C0G.length; w_9++) {
      r8W = C0G[w_9];
      o4F = r8W.DT;
      if (!o4F && !r8W.Date) continue;

      if (r8W.DT && Object.prototype.toString.call(o4F) == "[object String]" && o4F.length <= 10) {
        o4F = new Date(o4F);
        o4F.setMinutes(o4F.getMinutes() + o4F.getTimezoneOffset());
      } else {
        s_w = "[ob";
        s_w += "j";
        s_w += "ect Date]";
        n9B = !"";

        if (!r8W.DT) {
          o4F = N7M.strToDateTime(r8W.Date);

          if (r8W.Date.length <= 10) {
            n9B = !{};
          }
        }

        if (Object.prototype.toString.call(o4F) != s_w) {
          o4F = new Date(o4F);
        }

        if (m$V.Date && this.dataZone && n9B) {
          w$1 = new m$V.Date(o4F.getFullYear(), o4F.getMonth(), o4F.getDate(), o4F.getHours(), o4F.getMinutes(), this.dataZone);
          e9C.a3e(137);
          var h_j = e9C.B0m(6, 7017, 13, 2, 8000);
          M1E = o4F.getSeconds() * h_j + o4F.getMilliseconds();
          o4F = new Date(w$1.getTime() + M1E);
        }

        if (N7M.ChartEngine.isDailyInterval(J0S)) {
          e9C.i3C(82);
          o4F.setHours(e9C.k$A(0, "0"), 0, 0, +"0");
        }
      }

      if (!r8W.DT) {
        r8W.Date = N7M.yyyymmddhhmmssmmm(o4F);
      }

      r8W.DT = o4F;
    }
  };

  N7M.ChartEngine.prototype.doCleanupGaps = function (c7q, L00, c6x) {
    var n6p = M2dNJ;
    var P6u, g6C, s4E, V9O, s1T, Z6r, i7V, w$E, z1R, t6Q, a4B, E5p, i99, X$I, n$2;
    P6u = "ti";
    P6u += "c";
    P6u += "k";

    if (!c7q || !c7q.length) {
      return c7q;
    }

    g6C = this.layout.interval;
    c6x = c6x ? c6x : {};

    if (!L00) {
      L00 = this.chart;
    }

    if (!N7M.Market || !L00.market) {
      return c7q;
    }

    if (!c6x.noCleanupDates) {
      this.doCleanupDates(c7q, g6C);
    }

    s4E = c6x.cleanupGaps;

    if (s4E === ![]) {
      return c7q;
    }

    if (!s4E || s4E === !![]) {
      s4E = this.cleanupGaps || s4E;
    }

    n6p.a3e(110);
    V9O = n6p.k$A(s4E, "gap");

    if (!s4E) {
      return c7q;
    }

    if (g6C == P6u) {
      return c7q;
    }

    if (g6C == "month" || g6C == "week") {
      if (this.dontRoll) {
        return c7q;
      }

      g6C = "day";
    }

    n6p.E0w();

    s1T = function s1T(d9Q) {
      if (d9Q.DT) {
        if (Object.prototype.toString.call(d9Q.DT) != "[object Date]") {
          return new Date(d9Q.DT);
        }

        return new Date(+d9Q.DT);
      }

      n6p.E0w();
      return N7M.strToDateTime(d9Q.Date);
    };

    Z6r = [];
    i7V = c7q[0];
    Z6r.push(i7V);
    w$E = {
      begin: s1T(i7V),
      interval: g6C,
      periodicity: 1,
      timeUnit: this.layout.timeUnit
    };
    z1R = new N7M.Market(L00.market.market_def);
    t6Q = z1R.newIterator(w$E);

    if (this.extendedHours && this.extendedHours.filter) {
      t6Q.market.enableAllAvailableSessions();
    }

    a4B = L00.defaultPlotField;

    for (var K6V = 0; K6V < c7q.length; K6V++) {
      if (c7q[K6V][a4B] !== undefined) break;

      if (c7q[K6V].Value !== undefined) {
        E5p = "V";
        E5p += "a";
        E5p += "l";
        E5p += "ue";
        a4B = E5p;
        break;
      }
    }

    function O06(d_4, U6m) {
      var i7$, i6O, I88, H5S, l4F;
      i7$ = c6x.field;
      i6O = i7$ ? i7V[i7$] : i7V;

      if (i6O === undefined) {
        i6O = {};
      }

      I88 = V9O ? null : i6O[a4B];
      n6p.j07();
      H5S = V9O ? null : i6O.Adj_Close;

      while (+d_4 < +U6m) {
        l4F = {
          DT: d_4
        };

        if (i7$) {} else {
          Z6r.push(l4F);
          N7M.extend(l4F, {
            Open: I88,
            High: I88,
            Low: I88,
            Close: I88,
            Volume: 0,
            Adj_Close: H5S
          });
        }

        d_4 = t6Q.next();
      }
    }

    for (var d$K = +"1"; d$K < c7q.length; d$K++) {
      X$I = c7q[d$K];
      i99 = t6Q.next();
      n$2 = s1T(X$I);

      if (i99 < n$2) {
        O06(i99, n$2);
        i99 = t6Q.market._convertFromMarketTZ(t6Q.begin, t6Q.outZone);
      }

      while (n$2 < i99) {
        if (++d$K == c7q.length) {
          return Z6r;
        }

        g5y(i7V, X$I);
        Z6r.push(X$I);
        i7V = X$I;
        X$I = c7q[d$K];
        n$2 = s1T(X$I);
      }

      if (i99 < n$2) {
        d$K--;
        i99 = t6Q.previous();
      } else {
        g5y(i7V, X$I);
        Z6r.push(X$I);
        i7V = X$I;
      }
    }

    function g5y(o1I, m5t) {
      var w5V, U7_, f$C, m_A, J0D;
      w5V = c6x.field;

      if (w5V) {
        U7_ = "und";
        U7_ += "efi";
        U7_ += "ne";
        U7_ += "d";
        f$C = "un";
        f$C += "def";
        f$C += "i";
        f$C += "ned";

        if (_typeof(o1I[w5V]) != f$C && _typeof(m5t[w5V]) == U7_) {
          m5t[w5V] = V9O ? null : o1I[w5V];
        }

        return;
      }

      if (V9O) {
        return;
      }

      m_A = o1I[a4B];
      J0D = m5t[a4B];

      if (typeof m_A != "undefined" && typeof J0D == "undefined") {
        N7M.ensureDefaults(m5t, {
          Close: m_A,
          Open: m_A,
          High: m_A,
          Low: m_A,
          Volume: "0" ^ 0,
          Adj_Close: o1I.Adj_Close
        });
      }
    }

    return Z6r;
  };

  N7M.ChartEngine.prototype.getCreatingLibrary = function () {
    M2dNJ.E0w();
    return C_0;
  };
};

S8 = function S8(d7o) {
  var k4g;
  k4g = d7o.CIQ;

  k4g.ChartEngine.Panel = function (u25, N5Y) {
    if (N5Y) {
      this.yAxis = N5Y;
    } else {
      this.yAxis = new k4g.ChartEngine.YAxis();
    }

    this.name = u25;
    M2dNJ.E0w();
    this.state = {};
    ;
  };

  k4g.extend(k4g.ChartEngine.Panel.prototype, {
    name: null,
    display: null,
    chart: null,
    yAxis: null,
    shareChartXAxis: null,
    top: null,
    bottom: null,
    height: null,
    percent: null,
    displayEdgeIfPadded: !!{},
    noDrag: !"1",
    exportable: !!{}
  }, !!1);

  k4g.ChartEngine.prototype.whichPanel = function (o$Y) {
    var d7m;

    for (var I13 in this.panels) {
      d7m = this.panels[I13];
      if (d7m.hidden) continue;

      if (o$Y >= d7m.top && o$Y < d7m.bottom) {
        return d7m;
      }
    }

    return null;
  };

  k4g.ChartEngine.prototype.panelExists = function (E9r) {
    var L2C;

    for (var p4q in this.panels) {
      L2C = this.panels[p4q];

      if (L2C.name == E9r) {
        return !!1;
      }
    }

    return !1;
  };

  k4g.ChartEngine.prototype.storePanels = function () {
    var j1a, x7_;

    if (!this.layout) {
      this.layout = {};
    }

    j1a = this.layout;
    j1a.panels = {};

    for (var m0W in this.panels) {
      x7_ = this.panels[m0W];
      j1a.panels[x7_.name] = {
        percent: x7_.percent,
        display: x7_.display,
        yAxis: x7_.yAxis
      };
    }
  };

  k4g.ChartEngine.prototype.savePanels = function (y27) {
    this.storePanels();

    if (y27 !== !{}) {
      this.changeOccurred("layout");
    }
  };

  k4g.ChartEngine.prototype.privateDeletePanel = function (a01) {
    var G4L, H_P, g4Q, D8f, j7u;
    M2dNJ.j07();

    for (var P9I in this.layout.studies) {
      G4L = this.layout.studies[P9I];

      if (G4L.panel == a01.name) {
        this.cleanupRemovedStudy(G4L);
      }
    }

    delete this.panels[a01.name];

    for (var U6A in this.overlays) {
      if (this.overlays[U6A].panel == a01.name) {
        if (this.layout.studies) {
          this.cleanupRemovedStudy(this.layout.studies[U6A]);
        }

        delete this.overlays[U6A];
      }
    }

    for (var Q$A in this.chart.series) {
      if (this.chart.series[Q$A].parameters.panel == a01.name) {
        this.removeSeries(this.chart.series[Q$A], this.chart);
      }
    }

    if (a01.holder) {
      this.chart.container.removeChild(a01.holder);

      if (this.getMarkerArray) {
        H_P = -+"639680506";
        g4Q = 1489667906;
        D8f = 2;

        for (var I6O = 1; M2dNJ.b3_(I6O.toString(), I6O.toString().length, "32368" | 80) !== H_P; I6O++) {
          j7u = this.getMarkerArray("", a01.name);
          D8f += 2;
        }

        if (M2dNJ.m7$(D8f.toString(), D8f.toString().length, 13215) !== g4Q) {
          j7u = this.getMarkerArray("panelName", a01.name);
        }

        for (var F$O = "0" | 0; F$O < j7u.length; F$O++) {
          this.removeFromHolder(j7u[F$O]);
        }
      }
    }

    if (a01.handle) {
      a01.handle.remove();
    }

    this.currentPanel = null;
  };

  k4g.ChartEngine.prototype.plotsInPanel = function (W7R) {
    var S2o, T95, Q5G, N9S;
    S2o = [];
    T95 = W7R;

    if (_typeof(W7R) == "object") {
      T95 = W7R.name;
    }

    for (var J0c in this.layout.studies) {
      Q5G = this.layout.studies[J0c];

      if (T95 === Q5G.panel) {
        S2o.push(Q5G);
      }
    }

    for (var s48 in this.chart.seriesRenderers) {
      N9S = this.chart.seriesRenderers[s48];

      if (T95 === N9S.params.panel) {
        S2o.push(N9S);
      }
    }

    return S2o;
  };

  k4g.ChartEngine.prototype.checkForEmptyPanel = function (N9J, k9x, A_L) {
    var l1R, k9A;

    if (!N9J) {
      return !!0;
    }

    l1R = N9J;

    if (_typeof(N9J) == "object") {
      l1R = N9J.name;
    }

    if (l1R === this.chart.name) {
      return ![];
    }

    if (!A_L) {
      A_L = [];
    } else if (!(A_L instanceof Array)) {
      A_L = [A_L];
    }

    k9A = this.plotsInPanel(N9J);

    for (var W3i = 0; W3i < k9A.length; W3i++) {
      if (A_L.indexOf(k9A[W3i]) == -1) {
        return !!0;
      }
    }

    if (!k9x) {
      this.panelClose(this.panels[l1R]);
    }

    return !!{};
  };

  k4g.ChartEngine.prototype.panelClose = function (O1s) {
    var T$d, X_v;
    T$d = "pa";
    T$d += "n";
    T$d += "elClos";
    T$d += "e";

    if (!O1s) {
      return;
    }

    if (this.runPrepend(T$d, arguments)) {
      return;
    }

    this.cancelTouchSingleClick = !![];
    k4g.ChartEngine.drawingLine = !!"";

    if (O1s.soloing) {
      this.panelSolo(O1s);
    }

    if (this.charts[O1s.name]) {
      for (var r4x in this.panels) {
        X_v = this.panels[r4x];

        if (X_v.chart.name == O1s.name) {
          this.privateDeletePanel(X_v);
        }
      }

      delete this.charts[O1s.name];
    } else {
      this.privateDeletePanel(O1s);
    }

    if (!this.currentlyImporting) {
      this.showCrosshairs();
      this.resetDynamicYAxis({
        noRecalculate: !!{}
      });
      this.calculateYAxisPositions();
      this.draw();
      this.savePanels();
    }

    this.userPointerDown = this.grabbingScreen = !1;

    if (this.openDialog) {
      this.openDialog = "";
    }

    this.runAppend("panelClose", arguments);
  };

  k4g.ChartEngine.prototype.deleteAllPanels = function () {
    var a7l;

    for (var e4P in this.panels) {
      a7l = this.panels[e4P];
      this.privateDeletePanel(a7l);
    }

    this.layout.panels = {};
    this.panels = {};
  };

  k4g.ChartEngine.prototype.panelUp = function (n0D) {
    var g47, n6i, S4H, R6a;
    this.cancelTouchSingleClick = !![];
    M2dNJ.j07();
    k4g.ChartEngine.drawingLine = !1;
    this.showCrosshairs();
    g47 = {};
    n6i = 0;

    for (S4H in this.panels) {
      if (S4H == n0D.name) break;
      n6i++;
    }

    if (!n6i) {
      return;
    }

    R6a = 0;

    for (S4H in this.panels) {
      if (R6a == n6i - 1) {
        g47[n0D.name] = n0D;
      }

      if (S4H == n0D.name) continue;
      g47[S4H] = this.panels[S4H];
      R6a++;
    }

    this.panels = g47;
    this.adjustPanelPositions();
    this.draw();
    this.savePanels();
  };

  k4g.ChartEngine.prototype.panelDown = function (c0H) {
    var Q6_, b8k, b3M, K3u, i8V;
    this.cancelTouchSingleClick = !!{};
    k4g.ChartEngine.drawingLine = !1;
    this.showCrosshairs();
    Q6_ = {};
    b8k = 0;

    for (b3M in this.panels) {
      if (b3M == c0H.name) break;
      b8k++;
    }

    K3u = 0;

    for (b3M in this.panels) {
      K3u++;
    }

    if (b8k == K3u - 1) {
      return;
    }

    i8V = 0;

    for (b3M in this.panels) {
      if (b3M == c0H.name) {
        i8V++;
        continue;
      }

      Q6_[b3M] = this.panels[b3M];

      if (i8V == b8k + 1) {
        Q6_[c0H.name] = c0H;
      }

      i8V++;
    }

    this.panels = Q6_;
    this.adjustPanelPositions();
    this.draw();
    this.savePanels();
  };

  k4g.ChartEngine.prototype.panelSolo = function (T6i) {
    var o5b, B$C, o9t, G7v;
    this.cancelTouchSingleClick = !![];
    k4g.ChartEngine.drawingLine = ![];
    this.showCrosshairs();
    o5b = !"";

    if (T6i.soloing) {
      o9t = "stx";
      o9t += "_solo_lit";
      o5b = !1;
      T6i.soloing = !"1";
      T6i.solo.classList.remove(o9t);
      T6i.percent = T6i.oldPercent;

      if (T6i.name != "chart") {
        if (this.soloPanelToFullScreen) {
          if (T6i.percent == ("1" | 0)) {
            for (B$C in this.panels) {
              G7v = this.panels[B$C];

              if (G7v != T6i) {
                T6i.percent -= G7v.percent;
              }
            }
          }
        } else {
          this.chart.panel.percent = this.chart.panel.oldPercent;
        }
      }

      if (this.soloPanelToFullScreen) {
        this.xAxisAsFooter = this.chart.panel.oldXAxisAsFooter;
      }
    } else {
      T6i.soloing = !![];
      T6i.solo.classList.add("stx_solo_lit");
      T6i.oldPercent = T6i.percent;
      this.chart.panel.oldXAxisAsFooter = this.xAxisAsFooter;

      if (T6i.name != "chart") {
        if (this.soloPanelToFullScreen) {
          this.xAxisAsFooter = !0;
        } else {
          this.chart.panel.oldPercent = this.chart.panel.percent;
          M2dNJ.i3C(58);
          var I$_ = M2dNJ.B0m(2, 15, 7, 11);
          T6i.percent = I$_ - this.chart.panel.percent;
        }
      }
    }

    for (B$C in this.panels) {
      this.panels[B$C].hidden = o5b;
    }

    if (!this.soloPanelToFullScreen) {
      this.chart.panel.hidden = ![];
    }

    T6i.hidden = !!"";
    this.resetDynamicYAxis({
      noRecalculate: !""
    });
    this.calculateYAxisPositions();
    this.draw();
    this.savePanels();
  };

  k4g.ChartEngine.prototype.calculatePanelPercent = function (r7G) {
    var G6U;
    G6U = r7G.bottom - r7G.top;
    r7G.percent = G6U / this.chart.canvasHeight;
  };

  k4g.ChartEngine.prototype.resizePanels = function () {
    var T81 = M2dNJ;
    var G3l, A$Q, P5k, M6x, E42, C2w;

    if (!k4g.ChartEngine.resizingPanel) {
      return;
    }

    E42 = k4g.ChartEngine.crosshairY > this.resolveY(k4g.ChartEngine.resizingPanel.top);

    for (var W23 in this.panels) {
      if (this.panels[W23] == k4g.ChartEngine.resizingPanel) break;
      if (this.panels[W23].hidden) continue;
      G3l = this.panels[W23];
    }

    C2w = this.backOutY(k4g.ChartEngine.crosshairY);

    if (E42) {
      P5k = k4g.ChartEngine.resizingPanel.yaxisLHS.concat(k4g.ChartEngine.resizingPanel.yaxisRHS);

      for (M6x = 0; M6x < P5k.length; M6x++) {
        T81.a3e(138);
        var h4U = T81.B0m(28, 8, 3, 19, 5);
        A$Q = P5k[M6x].initialMarginTop + P5k[M6x].initialMarginBottom + h4U;

        if (C2w > P5k[M6x].bottom - A$Q) {
          C2w = P5k[M6x].bottom - A$Q;
        }
      }
    } else {
      P5k = G3l.yaxisLHS.concat(G3l.yaxisRHS);

      for (M6x = 0; M6x < P5k.length; M6x++) {
        T81.a3e(139);
        var L2v = T81.B0m(40, 7, 3, 22, 4);
        A$Q = P5k[M6x].initialMarginTop + P5k[M6x].initialMarginBottom + L2v;

        if (C2w < P5k[M6x].top + A$Q) {
          C2w = P5k[M6x].top + A$Q;
        }
      }
    }

    k4g.ChartEngine.crosshairY = this.resolveY(C2w);
    G3l.bottom = C2w;
    k4g.ChartEngine.resizingPanel.top = C2w;
    this.calculatePanelPercent(G3l);
    this.calculatePanelPercent(k4g.ChartEngine.resizingPanel);
    this.adjustPanelPositions();
    this.draw();
    this.savePanels();
  };

  k4g.ChartEngine.prototype.isPanelAboveChart = function (b0B) {
    for (var J$e in this.panels) {
      if (J$e == "chart") {
        return ![];
      }

      if (J$e == b0B.name) {
        return !![];
      }
    }

    return !{};
  };

  k4g.ChartEngine.prototype.adjustPanelPositions = function () {
    var r1w = M2dNJ;
    var z3n, h85, r7Q, J8t, Q7X, w3e, q2O, l29, n5s, W64, i$j, E2V, V7R, Q0p, y8R, r13, M5a, h3x, W1Z, O7U, r6_, W76, u5p;
    z3n = "st";
    z3n += "x-s";
    z3n += "how";
    var G38 = this.chart,
        Q4F = this.panels;

    if (G38.tempCanvas) {
      k4g.clearCanvas(G38.tempCanvas, this);
    }

    if (this.runPrepend("adjustPanelPositions", arguments)) {
      return;
    }

    h85 = 0;
    r7Q = G38.canvasHeight;
    J8t = !"1";
    Q7X = +"0";
    r1w.i3C(82);
    w3e = r1w.k$A(0, "0");
    q2O = !!"";

    for (l29 in Q4F) {
      n5s = Q4F[l29];

      if (isNaN(n5s.percent) || n5s.percent <= 0) {
        n5s.percent = 0.05;
      }

      if (n5s.hidden) continue;
      Q7X += n5s.percent;
      w3e++;

      if (n5s.soloing) {
        q2O = !![];
      }
    }

    for (l29 in Q4F) {
      W64 = 0;
      n5s = Q4F[l29];

      if (n5s.hidden) {
        if (n5s.markerHolder) {
          n5s.markerHolder.style.display = "none";
        }

        continue;
      }

      if (this.manageTouchAndMouse) {
        if (n5s.up) {
          if (!J8t) {
            J8t = !!{};
            n5s.up.classList.remove("stx-show");
          } else {
            if (this.displayIconsUpDown) {
              n5s.up.classList.add("stx-show");
            }
          }
        }

        if (n5s.solo) {
          if (q2O) {
            i$j = "st";
            i$j += "x";
            i$j += "-s";
            i$j += "how";

            if (n5s.soloing && this.displayIconsSolo) {
              n5s.solo.classList.add("stx-show");
            } else {
              n5s.solo.classList.remove(i$j);
            }
          } else if (w3e == 1) {
            n5s.solo.classList.remove("stx-show");
          } else if (w3e == 2 && !this.soloPanelToFullScreen) {
            n5s.solo.classList.remove("stx-show");
          } else {
            E2V = "stx-sh";
            E2V += "ow";

            if (this.displayIconsSolo) {
              n5s.solo.classList.add(E2V);
            }
          }
        }

        if (n5s.down) {
          if (w3e == 1) {
            n5s.down.classList.remove("stx-show");
          } else {
            if (this.displayIconsUpDown) {
              n5s.down.classList.add("stx-show");
            }
          }
        }

        if (n5s.edit) {
          if (n5s.editFunction) {
            n5s.edit.classList.add("stx-show");
          } else {
            n5s.edit.classList.remove("stx-show");
          }
        }

        if (n5s.close) {
          V7R = "s";
          V7R += "t";
          V7R += "x-sh";
          V7R += "ow";

          if (this.displayIconsClose) {
            n5s.close.classList.add(V7R);
          } else {
            n5s.close.classList.remove("stx-show");
          }
        }
      }

      n5s.percent = n5s.percent / Q7X;
      n5s.top = h85;
      n5s.bottom = n5s.top + r7Q * n5s.percent;
      n5s.height = n5s.bottom - n5s.top;

      if (n5s.chart.name == n5s.name) {
        n5s.chart.top = n5s.top;
        n5s.chart.bottom = n5s.bottom;
        n5s.chart.height = n5s.height;
      }

      h85 = n5s.bottom;

      if (n5s.yaxisLHS) {
        Q0p = n5s.yaxisLHS.concat(n5s.yaxisRHS);

        for (var c_a = "0" << 64; c_a < Q0p.length; c_a++) {
          y8R = Q0p[c_a];

          if (y8R.zoom && y8R.height > 0) {
            W64 = y8R.zoom / y8R.height;
          }

          this.adjustYAxisHeightOffset(n5s, y8R);
          y8R.height = y8R.bottom - y8R.top;

          if (W64) {
            y8R.scroll *= W64 * y8R.height / y8R.zoom;
            y8R.zoom = W64 * y8R.height;

            if (y8R.zoom > y8R.height) {
              y8R.zoom = 0;
              y8R.scroll = 0;
            }
          }

          if (!y8R.high && y8R.high !== 0) {
            y8R.high = 100;
            y8R.low = 0;
            y8R.shadow = 100;
          }

          y8R.multiplier = y8R.height / y8R.shadow;

          if (y8R.position === "none") {
            this.calculateYAxisMargins(y8R);
          }
        }
      }

      if (n5s.holder) {
        r13 = "p";
        r13 += "x";
        M5a = "0";
        M5a += "p";
        M5a += "x";
        n5s.holder.style.right = "0px";
        n5s.holder.style.top = n5s.top + "px";
        n5s.holder.style.left = M5a;
        n5s.holder.style.height = n5s.height + "px";
        n5s.subholder.style.left = n5s.left + "px";
        n5s.subholder.style.width = n5s.width + r13;
        n5s.subholder.style.top = "0px";

        if (n5s.yAxis.height >= 0) {
          n5s.subholder.style.height = n5s.yAxis.height + "px";
        }
      }
    }

    if (l29 && Q4F[l29].down) {
      Q4F[l29].down.classList.remove(z3n);
    }

    if (this.manageTouchAndMouse && w3e == 2 && !q2O && G38.panel.solo) {
      G38.panel.solo.classList.add("stx-show");
    }

    if (G38.panel) {
      if (q2O && this.soloPanelToFullScreen) {
        r1w.a3e(140);
        var g29 = r1w.B0m(26, 8, 20, 13, 2);
        h3x = G38.canvasHeight - n5s.yAxis.bottom + g29;
      } else {
        r1w.i3C(5);
        var r0i = r1w.B0m(3, 15);
        h3x = G38.canvasHeight - G38.panel.yAxis.bottom + r0i;
      }

      W1Z = this.controls;
      var _W1Z = W1Z,
          A2N = _W1Z.chartControls,
          C5n = _W1Z.home,
          u_5 = _W1Z.notificationTray;
      O7U = this.width - G38.panel.right;
      r6_ = 1167142915;
      W76 = +"24072230";
      u5p = 2;

      for (var p4k = 1; r1w.m7$(p4k.toString(), p4k.toString().length, 87172) !== r6_; p4k++) {
        if (A2N) {
          r1w.i3C(38);
          A2N.style.bottom = r1w.k$A(h3x, "");
        }

        u5p += 2;
      }

      if (r1w.b3_(u5p.toString(), u5p.toString().length, 99062) !== W76) {
        if (A2N) {
          r1w.a3e(4);
          A2N.style.bottom = r1w.B0m("px", h3x);
        }
      }

      if (C5n) {
        r1w.a3e(4);
        C5n.style.bottom = r1w.k$A("px", h3x);
        r1w.i3C(4);
        C5n.style.marginRight = r1w.k$A("px", O7U);
      }

      if (u_5) {
        r1w.i3C(4);
        u_5.style.bottom = r1w.k$A("px", h3x);
        r1w.a3e(4);
        u_5.style.marginRight = r1w.B0m("px", O7U);
      }
    }

    this.clearPixelCache();

    if (this.drawingObjects.length) {
      this.adjustDrawings();
    }

    this.runAppend("adjustPanelPositions", arguments);
  };

  k4g.ChartEngine.prototype.createPanel = function (H3Q, Q$H, G1J, R$H, z5w, r5q) {
    var X_u = M2dNJ;
    var d4D, Y2i, l0w, T8Z, Y8i, u8r;
    d4D = "cre";
    d4D += "a";
    d4D += "te";
    d4D += "Panel";

    if (this.runPrepend("createPanel", arguments)) {
      return;
    }

    if (!R$H) {
      R$H = "chart";
    }

    Y2i = this.chart.canvasHeight;

    if (!G1J) {
      X_u.i3C(38);
      G1J = X_u.k$A(Y2i, 0.2);
    }

    if (G1J > Y2i) {
      X_u.a3e(38);
      G1J = X_u.k$A(Y2i, 0.5);
    }

    X_u.i3C(40);
    l0w = X_u.B0m(G1J, Y2i);
    X_u.i3C(1);
    T8Z = X_u.k$A(l0w, 1);
    Y8i = !{};

    for (var x89 in this.panels) {
      u8r = this.panels[x89];
      u8r.percent *= T8Z;

      if (u8r.soloing) {
        Y8i = !![];
      }
    }

    this.stackPanel(H3Q, Q$H, l0w, R$H, z5w);
    this.panels[Q$H].hidden = Y8i;
    this.panels[Q$H].exportable = !r5q;
    this.adjustPanelPositions();
    this.savePanels(!!0);
    this.runAppend(d4D, arguments);
    return this.panels[Q$H];
  };

  k4g.ChartEngine.prototype.modifyPanel = function (I0a, W3A) {
    var m43, J$X, c$4, k9r, g2E, H1A, t2N, o$X, G_1, h9M;
    m43 = "vect";
    m43 += "or";
    J$X = "l";
    J$X += "a";
    J$X += "y";
    J$X += "out";
    c$4 = I0a.name;
    var o2M = this.layout.studies;
    var m79 = this.chart.series;

    var _ref = W3A || {},
        z0k = _ref.name,
        r9X = _ref.display,
        t_M = _ref.yAxis;

    if (!z0k) {
      z0k = k4g.uniqueID();
    }

    if (!r9X) {
      r9X = z0k;
    }

    if (!t_M) {
      t_M = I0a.yAxis;
      t_M.name = z0k;
    }

    k9r = {};

    for (var A8H in this.panels) {
      if (A8H === I0a.name) {
        g2E = this.panels[A8H];
        g2E.name = z0k;
        g2E.display = r9X;
        g2E.yAxis = t_M;
        I0a = k9r[z0k] = g2E;

        if (this.moveMarkers && c$4 !== z0k) {
          this.moveMarkers(c$4, z0k);
        }
      } else {
        k9r[A8H] = this.panels[A8H];
      }
    }

    this.panels = k9r;
    H1A = !!0;

    for (var R7u in o2M) {
      t2N = o2M[R7u];

      if (t2N.panel === c$4) {
        t2N.panel = z0k;

        if (t2N.parameters && t2N.parameters.panelName) {
          H1A = !0;
          t2N.parameters.panelName = z0k;
        }
      }
    }

    for (var Z0y in m79) {
      if (m79[Z0y].parameters.panel === c$4) {
        H1A = !!{};
        o$X = {
          panel: z0k
        };

        if (m79[Z0y].parameters.yAxis && m79[Z0y].parameters.yAxis.name === c$4) {
          o$X.yAxis = t_M;
        }

        this.modifySeries(Z0y, o$X, !!{});
      }
    }

    if (H1A) {
      this.changeOccurred(J$X);
    }

    G_1 = !"1";

    for (var l3e = 0; l3e < this.drawingObjects.length; l3e++) {
      h9M = this.drawingObjects[l3e];

      if (c$4 === h9M.panelName) {
        h9M.panelName = z0k;
        G_1 = !!1;
      }
    }

    M2dNJ.j07();

    if (G_1) {
      this.changeOccurred(m43);
    }

    this.calculateYAxisPositions();
  };

  k4g.ChartEngine.prototype.setPanelHeight = function (Z69, F$a) {
    var I1R = M2dNJ;
    var B1u, N4$, f_I, Q12;

    if (!F$a) {
      return;
    }

    if (Object.values(this.panels).slice(-1)[+"0"] === Z69) {
      F$a += this.xaxisHeight;
    }

    var h0W = this.chart.canvasHeight;
    var Q4R = Z69.percent;
    I1R.i3C(40);
    B1u = I1R.B0m(F$a, h0W);
    I1R.i3C(141);
    N4$ = I1R.B0m("1", Q4R, 0);
    I1R.i3C(34);
    f_I = I1R.B0m(0, B1u, "1");
    I1R.a3e(40);
    Q12 = I1R.B0m(N4$, f_I);
    Object.values(this.panels).forEach(function (u$3) {
      I1R.E0w();
      u$3.percent /= Q12;
    });
    Z69.percent = B1u;
    this.adjustPanelPositions();
    this.savePanels();
  };

  k4g.ChartEngine.prototype.electNewPanelOwner = function (g9y, y1t) {
    var b$y, e9P, s9V, A$Y, u5K, w_3, f8I, q4p;
    M2dNJ.E0w();

    function x2G(h4h) {
      M2dNJ.E0w();
      return h4h.name != e9P.name;
    }

    if (typeof g9y == "string") {
      g9y = this.panels[g9y];
    }

    e9P = g9y.yAxis;

    if (g9y && g9y != this.chart.panel) {
      s9V = g9y.yAxis;
      A$Y = s9V.studies[+"0"];

      if (!A$Y || A$Y == e9P.name) {
        A$Y = s9V.renderers[0];
      }

      if (!A$Y || A$Y == e9P.name) {
        A$Y = s9V.studies[+"1"];
      }

      if (!A$Y) {
        A$Y = s9V.renderers[1];
      }

      if (y1t) {
        s9V = g9y.yAxis = y1t;
        b$y = y1t.name;
      } else if (!A$Y) {
        if (g9y.yaxisLHS) {
          u5K = g9y.yaxisRHS.concat(g9y.yaxisLHS).filter(x2G);
          w_3 = u5K[0];

          for (var Y2S = 0; Y2S < u5K.length; Y2S++) {
            if (!u5K[Y2S].position) {
              w_3 = u5K[Y2S];
              break;
            }
          }

          if (w_3) {
            s9V = g9y.yAxis = w_3;
            b$y = w_3.studies[0] || w_3.renderers[0];
          }
        }
      } else {
        s9V = this.addYAxis(g9y, new k4g.ChartEngine.YAxis({
          name: A$Y,
          position: s9V.position
        }));
        s9V.renderers = g9y.yAxis.renderers;
        s9V.studies = g9y.yAxis.studies;
        b$y = A$Y;
      }

      if (b$y) {
        A$Y = b$y;

        if (e9P.name != g9y.name) {
          A$Y = g9y.name;
        }

        q4p = this.layout.studies;

        if (q4p && q4p[b$y]) {
          f8I = q4p[b$y].inputs.display;
        }

        this.modifyPanel(g9y, {
          name: A$Y,
          display: f8I || b$y,
          yAxis: s9V
        });
        this.deleteYAxisIfUnused(g9y, e9P);
        this.calculateYAxisMargins(this.panels[A$Y].yAxis);
      } else {
        this.checkForEmptyPanel(g9y);
      }
    }

    return b$y;
  };

  k4g.ChartEngine.prototype.configurePanelControls = function (F3P) {
    var D4e = M2dNJ;
    var L57, B2I, v6G, w6N;
    L57 = F3P.icons;

    if (!L57) {
      return;
    }

    B2I = F3P.name == F3P.chart.name;
    L57.classList.add("stx-show");
    F3P.title = L57.querySelector(".stx-panel-title");
    D4e.E0w();
    F3P.up = L57.querySelector(".stx-ico-up");

    if (F3P.up) {
      F3P.up = F3P.up.parentNode;
    }

    F3P.solo = L57.querySelector(".stx-ico-focus");

    if (F3P.solo) {
      F3P.solo = F3P.solo.parentNode;
    }

    F3P.down = L57.querySelector(".stx-ico-down");

    if (F3P.down) {
      F3P.down = F3P.down.parentNode;
    }

    F3P.edit = L57.querySelector(".stx-ico-edit");

    if (F3P.edit) {
      F3P.edit = F3P.edit.parentNode;
    }

    F3P.close = L57.querySelector(".stx-ico-close");

    if (F3P.close) {
      F3P.close = F3P.close.parentNode;
    }

    if (F3P.title) {
      F3P.title.innerHTML = "";

      if (F3P.display) {
        F3P.title.appendChild(document.createTextNode(F3P.display));
      }

      if (B2I) {
        v6G = "stx-";
        v6G += "chart-pa";
        v6G += "nel";
        F3P.title.classList.add("chart-title");
        L57.classList.add(v6G);
      }
    }

    if (!k4g.touchDevice || k4g.isSurface) {
      this.makeModal(L57);
    }

    if (F3P.handle) {
      if (!k4g.touchDevice || k4g.isSurface) {
        F3P.handle.onmouseover = function (I3C) {
          D4e.E0w();
          return function () {
            I3C.hideCrosshairs();
          };
        }(this);
      }

      if (!k4g.touchDevice || k4g.isSurface) {
        F3P.handle.onmouseout = function (n5v) {
          D4e.j07();
          return function () {
            n5v.showCrosshairs();
          };
        }(this);
      }

      w6N = function w6N(C6h, f7P) {
        return function (a$8) {
          if (k4g.ChartEngine.resizingPanel || C6h.openDialog !== "") {
            return;
          }

          D4e.j07();
          C6h.grabHandle(f7P);
        };
      };

      if (k4g.isSurface) {
        F3P.handle.onpointerdown = w6N(this, F3P);
      } else {
        F3P.handle.onmousedown = w6N(this, F3P);
      }

      if (k4g.touchDevice) {
        F3P.handle.ontouchstart = w6N(this, F3P);
      }
    }

    if (F3P.up) {
      k4g.safeClickTouch(F3P.up, function (f7G, y5L) {
        return function () {
          D4e.E0w();
          f7G.panelUp(y5L);
        };
      }(this, F3P));
    }

    if (F3P.down) {
      k4g.safeClickTouch(F3P.down, function (A6y, o$5) {
        D4e.j07();
        return function () {
          D4e.j07();
          A6y.panelDown(o$5);
        };
      }(this, F3P));
    }

    if (F3P.solo) {
      k4g.safeClickTouch(F3P.solo, function (m4q, I$g) {
        D4e.E0w();
        return function () {
          D4e.j07();
          m4q.panelSolo(I$g);
        };
      }(this, F3P));
    }

    if (F3P.close) {
      if (F3P.name == "chart") {
        F3P.close.style.display = "none";
        ;
      } else {
        k4g.safeClickTouch(F3P.close, function (o2A, x6i) {
          return function () {
            D4e.E0w();
            o2A.panelClose(x6i);
          };
        }(this, F3P));
      }
    }
  };

  k4g.ChartEngine.prototype.stackPanel = function (a7K, y1D, E_7, r_j, h4V) {
    var v45, f5O, c3i, I4n, n5f, J6r, X07;
    v45 = "s";
    v45 += "tx-panel-";
    M2dNJ.E0w();
    v45 += "ch";
    v45 += "art";
    f5O = "stx";
    f5O += "-s";
    f5O += "ubholder";
    c3i = "c";
    c3i += "har";
    c3i += "t";

    if (this.runPrepend("stackPanel", arguments)) {
      return;
    }

    if (!r_j) {
      r_j = c3i;
    }

    I4n = this.charts[r_j];
    M2dNJ.a3e(110);
    n5f = M2dNJ.k$A(y1D, r_j);

    if (n5f) {
      a7K = I4n.symbol;

      if (I4n.symbolDisplay) {
        a7K = I4n.symbolDisplay;
      }

      if (!h4V) {
        h4V = I4n.yAxis;
      }
    }

    J6r = this.panels[y1D] = new k4g.ChartEngine.Panel(y1D, h4V);

    if (!n5f && I4n.yAxis && J6r.yAxis.position == I4n.yAxis.position) {
      J6r.yAxis.width = I4n.yAxis.width;
      ;
    }

    if (n5f && !I4n.panel) {
      I4n.panel = J6r;
    }

    J6r.percent = E_7;
    J6r.chart = I4n;
    J6r.display = a7K;
    J6r.holder = k4g.newChild(this.container, "div", "stx-holder");
    J6r.subholder = k4g.newChild(J6r.holder, "div", f5O);
    J6r.subholder.style.zIndex = 1;
    J6r.holder.panel = J6r;
    X07 = n5f ? v45 : "stx-panel-study";
    J6r.holder.classList.add(X07);

    if (this.controls.handleTemplate && this.manageTouchAndMouse) {
      J6r.handle = this.controls.handleTemplate.cloneNode(!![]);
      this.container.appendChild(J6r.handle);
      J6r.handle.panel = J6r;
    }

    if (this.controls.iconsTemplate) {
      J6r.icons = this.controls.iconsTemplate.cloneNode(!![]);
      J6r.subholder.appendChild(J6r.icons);
      this.configurePanelControls(J6r);
    }

    if (!this.currentlyImporting) {
      this.resizeCanvas();
    }

    this.runAppend("stackPanel", arguments);
  };

  M2dNJ.j07();

  k4g.ChartEngine.prototype.setPanelEdit = function (s$v, P3x) {
    s$v.editFunction = P3x;

    if (s$v.edit) {
      k4g.safeClickTouch(s$v.edit, P3x);
    }

    this.adjustPanelPositions();
  };

  k4g.ChartEngine.prototype.drawPanels = function () {
    var c6t, m0U, B4U, l5h, l4T, n__, S6f, A3b, r9q, N3t, r5c, t0P, K5Y, N6S, q75, M0U, m6F, b_G, m$$;
    c6t = "draw";
    c6t += "Panels";
    m0U = "drawPanel";
    m0U += "s";

    if (this.runPrepend(m0U, arguments)) {
      return;
    }

    B4U = ![];

    for (var D3h in this.panels) {
      l5h = "se";
      l5h += "g";
      l5h += "ment";
      l4T = this.panels[D3h];
      l4T.state = {};
      n__ = this.translateIf(l4T.display);

      if (l4T.title && l4T.title.textContent != n__) {
        l4T.title.innerHTML = "";
        l4T.title.appendChild(document.createTextNode(n__));
      }

      if (l4T.icons) {
        l4T.icons.classList.add("stx-show");
      }

      if (l4T.hidden) {
        if (l4T.icons) {
          l4T.icons.classList.remove("stx-show");
        }

        if (l4T.handle) {
          l4T.handle.style.display = "none";
        }

        l4T.holder.style.display = "none";
        continue;
      } else {
        S6f = "b";
        S6f += "l";
        S6f += "oc";
        S6f += "k";

        if (l4T.name != "chart") {
          A3b = "n";
          A3b += "o";
          A3b += "ne";
          r9q = "n";
          r9q += "o";
          r9q += "n";
          r9q += "e";
          N3t = this.manageTouchAndMouse;

          if (l4T.up) {
            l4T.up.style.display = this.displayIconsUpDown && N3t ? "" : r9q;
          }

          if (l4T.down) {
            l4T.down.style.display = this.displayIconsUpDown && N3t ? "" : "none";
          }

          if (l4T.solo) {
            l4T.solo.style.display = this.displayIconsSolo && N3t ? "" : "none";
          }

          if (l4T.close) {
            l4T.close.style.display = this.displayIconsClose && N3t ? "" : A3b;
          }

          if (l4T.edit) {
            l4T.edit.style.display = l4T.editFunction && N3t ? "" : "none";
          }
        }

        l4T.holder.style.display = S6f;
      }

      if (l4T.displayEdgeIfPadded) {
        r5c = "se";
        r5c += "gm";
        r5c += "e";
        r5c += "nt";
        t0P = "s";
        t0P += "eg";
        t0P += "me";
        t0P += "nt";
        K5Y = "stx_grid";
        K5Y += "_bor";
        K5Y += "der";
        N6S = Math.round(l4T.left) + 0.5;
        q75 = l4T.yAxis.top - +"0.5";
        M0U = l4T.yAxis.bottom + 0.5;

        if (l4T.yaxisCalculatedPaddingLeft && !l4T.yaxisTotalWidthLeft) {
          this.plotLine(N6S, N6S, q75, M0U, this.canvasStyle(K5Y), t0P, this.chart.context, !1, {
            lineWidth: 1
          });
        }

        N6S = Math.round(l4T.right) + 0.5;

        if (l4T.yaxisCalculatedPaddingRight && !l4T.yaxisTotalWidthRight) {
          this.plotLine(N6S, N6S, q75, M0U, this.canvasStyle("stx_grid_border"), r5c, this.chart.context, ![], {
            lineWidth: 1
          });
        }
      }

      if (!B4U) {
        m6F = "n";
        m6F += "one";

        if (l4T.handle) {
          l4T.handle.style.display = m6F;
        }

        B4U = !![];
        continue;
      }

      b_G = l4T.top;
      b_G = Math.round(b_G) + 0.5;
      this.plotLine(l4T.left - 0.5, l4T.right + 0.5, b_G, b_G, this.canvasStyle("stx_panel_border"), l5h, this.chart.context, !!0, {});

      if (l4T.handle) {
        if (!this.displayPanelResize) {
          m$$ = "n";
          m$$ += "o";
          m$$ += "n";
          m$$ += "e";
          l4T.handle.style.display = m$$;
        } else {
          l4T.handle.style.display = "";
        }

        M2dNJ.a3e(142);
        var U8u = M2dNJ.k$A(16, 19, 1, 13, 13);
        l4T.handle.style.top = b_G - l4T.handle.offsetHeight / U8u + "px";
        ;
      }
    }

    this.runAppend(c6t, arguments);
  };
};

V4 = function V4(V9B) {
  var p0l;
  p0l = V9B.CIQ;

  p0l.ChartEngine.isDailyInterval = function (v6k) {
    var X5e, W6E, t7g, i1Y;

    if (v6k == "day") {
      return !!{};
    }

    if (v6k == "week") {
      return !!"1";
    }

    X5e = 1907193524;
    W6E = -1377526652;
    t7g = 2;

    for (var f23 = 1; M2dNJ.b3_(f23.toString(), f23.toString().length, +"71433") !== X5e; f23++) {
      if (v6k !== "") {
        return !{};
      }

      t7g += 2;
    }

    if (M2dNJ.b3_(t7g.toString(), t7g.toString().length, 49813) !== W6E) {
      i1Y = "mon";
      i1Y += "th";

      if (v6k == i1Y) {
        return !!{};
      }
    }

    return !{};
  };

  p0l.ChartEngine.prototype.setPeriodicity = function (p5l, h8$) {
    var R9N = M2dNJ;
    var b6s, I4Y, x3l, Y6j, U6W, a3o, n$u, Z2V, K1z, I3S, Q3Q, t6L, v26, g_h, l34, X2W, D43;
    b6s = "setPeriod";
    b6s += "ici";
    b6s += "ty";

    if (this.runPrepend("setPeriodicity", arguments)) {
      return;
    }

    if (_typeof(arguments["0" >> 0]) !== "object") {
      p5l = {
        period: arguments[0],
        interval: arguments[1],
        timeUnit: arguments[2]
      };
      R9N.a3e(143);
      var F_H = R9N.k$A(15, 20, 15, 0, 19);
      h8$ = arguments[arguments.length - F_H];

      if (arguments.length === 3) {
        p5l.timeUnit = undefined;
      }
    }

    var _p5l = p5l,
        s_A = _p5l.period,
        g00 = _p5l.interval,
        n5P = _p5l.timeUnit;

    if (typeof h8$ !== "function") {
      h8$ = null;
    }

    var _p0l$cleanPeriodicity = p0l.cleanPeriodicity(s_A, g00, n5P);

    s_A = _p0l$cleanPeriodicity.period;
    g00 = _p0l$cleanPeriodicity.interval;
    n5P = _p0l$cleanPeriodicity.timeUnit;
    var V2E = this.layout;
    V2E.setSpan = {};
    V2E.range = {};
    this.chart.inflectionPoint = null;
    I4Y = ![];

    if (this.chart.symbol) {
      I4Y = this.needDifferentData({
        period: s_A,
        interval: g00,
        timeUnit: n5P
      });
    }

    var y57 = V2E.candleWidth,
        g0s = V2E.periodicity,
        G4f = V2E.interval,
        p9d = V2E.timeUnit;
    x3l = {
      prvPeriodicity: g0s,
      prvInterval: G4f,
      prvTimeUnit: p9d
    };
    V2E.periodicity = s_A;
    V2E.interval = g00;
    V2E.timeUnit = n5P;

    function L62() {
      R9N.j07();
      Y6j.dispatch("periodicity", U6W);

      if (h8$) {
        h8$(null);
      }
    }

    Y6j = this;
    U6W = {
      stx: Y6j,
      differentData: I4Y,
      prevPeriodicity: x3l
    };

    if (I4Y) {
      a3o = "layou";
      a3o += "t";
      this.changeOccurred(a3o);
      this.clearCurrentMarketData();

      if (this.quoteDriver) {
        for (var A58 in this.charts) {
          n$u = this.charts[A58];

          if (n$u.symbol) {
            if (this.displayInitialized) {
              this.quoteDriver.newChart({
                symbol: n$u.symbol,
                symbolObject: n$u.symbolObject,
                chart: n$u
              }, L62);
            } else {
              this.loadChart(n$u.symbol, {
                chart: n$u
              }, L62);
            }
          }
        }
      } else if (this.dataCallback) {
        this.dataCallback();
        L62();
      } else {
        console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");
      }

      this.home();
      return;
    }

    for (var L$G in this.charts) {
      Z2V = this.charts[L$G];
      var _Z2V = Z2V,
          y1q = _Z2V.dataSegment,
          h2m = _Z2V.dataSet,
          h$J = _Z2V.maxTicks,
          L1S = _Z2V.scroll;
      K1z = y1q ? y1q.length : 0;
      I3S = h2m ? h2m.length : 0;
      Q3Q = void 0;
      t6L = Math.round(Z2V.maxTicks / ("2" ^ 0));
      this.setCandleWidth(y57, Z2V);
      v26 = !"";
      g_h = !{};

      if (L1S <= h$J) {
        v26 = !"1";
      } else if (y1q && !y1q[t6L]) {
        v26 = !1;
        R9N.i3C(1);
        g_h = R9N.k$A(I3S, L1S);
        ;
      }

      if (v26 && K1z > 0) {
        if (h$J < (Math.round(this.chart.width / y57 - +"0.499") - 1) / 2) {
          R9N.a3e(1);
          t6L = R9N.B0m(1, K1z);
        }

        if (t6L >= K1z) {
          Q3Q = y1q[K1z - 1].DT;
          R9N.a3e(1);
          t6L = R9N.B0m(1, K1z);
        } else {
          Q3Q = y1q[t6L].DT;
        }
      }

      this.createDataSet();

      if (v26) {
        if (K1z > 0) {
          for (var A$O = I3S - 1; A$O >= 0; A$O--) {
            l34 = h2m[A$O].DT;

            if (l34.getTime() < Q3Q.getTime()) {
              R9N.i3C(37);
              Z2V.scroll = R9N.k$A(1, A$O, I3S, t6L);
              break;
            }
          }
        }
      } else if (!g_h) {
        X2W = Math.round(this.preferences.whitespace / y57);
        R9N.a3e(34);
        Z2V.scroll = R9N.B0m(X2W, 1, h$J);
        ;
      } else {
        Z2V.scroll = h2m.length + g_h;
        ;
      }
    }

    if (this.displayInitialized) {
      this.draw();
    }

    this.changeOccurred("layout");

    if (this.quoteDriver) {
      for (var s$c in this.charts) {
        D43 = this.charts[s$c];

        if (D43.symbol && (D43.moreAvailable || !D43.upToDate)) {
          this.quoteDriver.checkLoadMore(D43);
        }
      }
    }

    L62();
    this.runAppend(b6s, arguments);
  };

  p0l.ChartEngine.prototype.needDifferentData = function (s90) {
    var h_Y, h6V, o0F, H2i, n9H;
    h_Y = "m";
    h_Y += "in";
    h_Y += "ut";
    h_Y += "e";
    h6V = this.layout;
    o0F = p0l.ChartEngine.isDailyInterval(s90.interval);
    H2i = p0l.ChartEngine.isDailyInterval(h6V.interval);
    n9H = !!"";

    if (this.dontRoll || !H2i) {
      if (h6V.interval != s90.interval) {
        n9H = !!{};
      }
    } else {
      if (o0F != H2i) {
        n9H = !!{};
      }
    }

    if (!o0F && !s90.timeUnit) {
      s90.timeUnit = h_Y;
    }

    if (!H2i && !h6V.timeUnit) {
      h6V.timeUnit = "minute";
    }

    if (s90.timeUnit != h6V.timeUnit) {
      n9H = !"";
    }

    if (!this.masterData || !this.masterData.length) {
      n9H = !0;
    }

    return n9H;
  };

  p0l.ChartEngine.prototype.getPeriodicity = function () {
    var a46, l8t, C_y;
    a46 = this.layout;
    l8t = a46.interval;
    C_y = a46.timeUnit;

    if (!C_y) {
      C_y = l8t;
      l8t = 1;
    }

    return {
      period: a46.periodicity,
      interval: l8t,
      timeUnit: C_y
    };
  };
};

U$ = function U$(b9l) {
  var i7I = M2dNJ;
  var I1C;
  I1C = b9l.CIQ;

  I1C.ChartEngine.prototype.isHistoricalMode = function () {
    var N0S, T1w, J1k, F_Y, f3X, f6H;
    N0S = new Date();
    T1w = !!"1";
    J1k = this.masterData;

    if (!this.isHistoricalModeSet) {
      return !{};
    }

    if (J1k.length) {
      F_Y = this.getFirstLastDataRecord(J1k, "DT", !!1);
      f3X = this.standardMarketIterator(F_Y.DT);
      T1w = (f3X ? f3X.next() : F_Y.DT) <= N0S;

      if (T1w && I1C.ChartEngine.isDailyInterval(f3X.interval)) {
        f6H = this.chart.market.getOpen();

        if (f6H && N0S < f6H) {
          i7I.a3e(13);
          N0S.setHours(0, i7I.k$A("0", 0), 0, 0);

          if (+N0S == +f3X.begin) {
            T1w = ![];
          }
        }
      }
    }

    return T1w;
  };

  I1C.ChartEngine.prototype.isHome = function () {
    var s_9, y4s, P1R;
    s_9 = this.chart;
    y4s = s_9.dataSet;
    P1R = s_9.animatingHorizontalScroll;
    i7I.j07();
    i7I.i3C(34);
    var r_R = i7I.k$A(12, 14, 28);
    i7I.a3e(56);
    var E36 = i7I.B0m(16, 14, 14, 14, 167);
    return this.pixelFromTick(y4s.length - (P1R ? r_R : E36), s_9) < s_9.width + s_9.panel.left;
    ;
  };

  I1C.ChartEngine.prototype.getPreviousBar = function (O7u, o8j, i$z) {
    i7I.i3C(1);
    return this.getNextBarInternal(O7u, o8j, i$z, -i7I.k$A(0, "1"));
  };

  I1C.ChartEngine.prototype.getNextBar = function (i_Z, A6g, N5g) {
    return this.getNextBarInternal(i_Z, A6g, N5g, 1);
  };

  I1C.ChartEngine.prototype.getNextBarInternal = function (t_B, S9x, e8o, s2m) {
    var m9e, X0d, w1g, C1v;
    m9e = t_B.dataSegment && t_B.dataSegment[e8o];

    if (m9e) {
      X0d = m9e.tick;

      while (X0d > 0 && X0d < t_B.dataSet.length) {
        i7I.i3C(4);
        X0d = i7I.B0m(s2m, X0d);
        w1g = t_B.dataSet[X0d];

        if (w1g) {
          C1v = I1C.existsInObjectChain(w1g, S9x);

          if (C1v && C1v.obj[C1v.member]) {
            return w1g;
          }
        }
      }
    }

    return null;
  };

  i7I.j07();

  I1C.ChartEngine.prototype.getFirstLastDataRecord = function (L1I, B3m, m4w) {
    var S1t;

    if (L1I && L1I.length) {
      S1t = m4w ? L1I.length - 1 : "0" - 0;

      while (S1t >= 0 && S1t < L1I.length) {
        if (L1I[S1t] && typeof L1I[S1t][B3m] != "undefined") {
          return L1I[S1t];
        }

        if (m4w) {
          S1t--;
        } else {
          S1t++;
        }
      }
    }

    return null;
  };

  I1C.ChartEngine.prototype.leftTick = function () {
    var y4J, j0s, T9n;
    i7I.i3C(82);
    y4J = i7I.B0m(0, "1903627147");
    j0s = -581920796;
    i7I.i3C(1);
    T9n = i7I.B0m(0, "2");

    for (var A3s = 1; i7I.b3_(A3s.toString(), A3s.toString().length, +"8132") !== y4J; A3s++) {
      return this.chart.dataSet.length - this.chart.scroll;
    }

    if (i7I.m7$(T9n.toString(), T9n.toString().length, "653" >> 64) !== j0s) {
      return this.chart.dataSet.length + this.chart.scroll;
    }
  };

  I1C.ChartEngine.prototype.getNextInterval = function (u4i, S0z, a0s) {
    var P99;

    if (!S0z) {
      S0z = +"1";
    }

    if (a0s !== !{}) {
      a0s = !!"1";
    }

    P99 = this.standardMarketIterator(u4i, a0s ? this.dataZone : this.displayZone);

    if (!P99) {
      return u4i;
    }

    if (S0z < 1) {
      i7I.a3e(144);
      return P99.previous(i7I.B0m(1, S0z));
    }

    return P99.next(S0z);
  };

  I1C.ChartEngine.prototype.standardMarketIterator = function (a$E, W$5, r54) {
    var E3N, S_8, E08;
    i7I.j07();
    E3N = "t";
    E3N += "ic";
    E3N += "k";
    S_8 = r54 || this.chart;

    if (!S_8.market) {
      return null;
    }

    E08 = {
      begin: a$E,
      interval: this.layout.interval,
      periodicity: this.layout.interval == E3N ? this.chart.xAxis.futureTicksInterval : this.layout.periodicity,
      timeUnit: this.layout.timeUnit,
      outZone: W$5
    };
    return S_8.market.newIterator(E08);
  };
};

v8 = function v8(L8$) {
  var g6y = M2dNJ;
  var S8X, k4d;

  if (!L8$.SplinePlotter) {
    L8$.SplinePlotter = {};
  }

  S8X = L8$.CIQ;
  k4d = L8$.SplinePlotter;

  S8X.ChartEngine.prototype.draw = function () {
    var Q2I, y0X, O6G, W3T, Q3C, X58, x2I, J4h, e_6;
    this.debug();
    Q2I = this.chart;
    y0X = this.layout;

    if (!Q2I.canvas) {
      return;
    }

    if (!Q2I.dataSet) {
      return;
    }

    if (!Q2I.canvasHeight) {
      return;
    }

    g6y.a3e(18);
    var V1g = g6y.k$A(166, 11, 8, 10, 0);
    this.offset = y0X.candleWidth * this.candleWidthPercent / V1g;
    S8X.clearCanvas(Q2I.canvas, this);

    if (!this.masterData) {
      return;
    }

    if (this.runPrepend("draw", arguments)) {
      return;
    }

    if (!this.defaultColor) {
      this.getDefaultColor();
    }

    this.vectorsShowing = !{};
    this.drawPanels();
    this.yAxisLabels = [];
    this.correctIfOffEdge();
    this.createDataSegment();
    this.setBaselines(Q2I);
    Q3C = this.createXAxis(Q2I);
    this.initializeDisplay(Q2I);
    this.drawXAxis(Q2I, Q3C);

    try {
      this.renderYAxis(Q2I);
    } catch (F3_) {
      if (F3_ && F3_.message === "reboot draw") {
        return this.draw();
      }

      throw F3_;
    }

    Q2I.tmpWidth = Math.floor(y0X.candleWidth * this.candleWidthPercent);

    if (Q2I.tmpWidth % 2 === 0) {
      Q2I.tmpWidth += 1;

      if (Q2I.tmpWidth > y0X.candleWidth) {
        Q2I.tmpWidth -= 2;
      }
    }

    if (Q2I.tmpWidth < 0.5) {
      Q2I.tmpWidth = 0.5;
    }

    for (O6G in this.plugins) {
      W3T = this.plugins[O6G];

      if (W3T.display) {
        if (W3T.drawUnder) {
          W3T.drawUnder(this, Q2I);
        }
      }
    }

    if (Q2I.legend) {
      Q2I.legend.colorMap = null;
    }

    if (this.controls.baselineHandle) {
      this.controls.baselineHandle.style.display = "none";
    }

    this.rendererAction(Q2I, "underlay");
    S8X.getFn("Studies.displayStudies")(this, Q2I, !![]);
    this.displayChart(Q2I);
    S8X.getFn("Studies.displayStudies")(this, Q2I, !!0);
    this.rendererAction(Q2I, "overlay");

    if (Q2I.legend && Q2I.legend.colorMap && Q2I.legendRenderer) {
      Q2I.legendRenderer(this, {
        chart: Q2I,
        legendColorMap: Q2I.legend.colorMap,
        coordinates: {
          x: Q2I.legend.x,
          y: Q2I.legend.y + Q2I.panel.yAxis.top
        }
      });
    }

    for (O6G in this.plugins) {
      W3T = this.plugins[O6G];

      if (W3T.display) {
        if (W3T.drawOver) {
          W3T.drawOver(this, Q2I);
        }
      }
    }

    for (var F20 in this.panels) {
      if (!this.panels[F20].hidden) {
        this.plotYAxisText(this.panels[F20]);
      }
    }

    for (var r0p = 0; r0p < this.yAxisLabels.length; r0p++) {
      X58 = this.yAxisLabels[r0p];
      if (X58.src == "series" && X58.args[+"6"] && X58.args["6" - 0].drawSeriesPriceLabels === !!0) continue;
      this.createYAxisLabel.apply(this, X58.args);
    }

    if (this.createCrosshairs) {
      this.createCrosshairs();
    }

    if (this.drawVectors) {
      this.drawVectors();
    }

    this.drawCurrentHR();
    this.displayInitialized = !!"1";
    x2I = this.controls;

    if (x2I) {
      J4h = "bl";
      J4h += "ock";
      e_6 = this.manageTouchAndMouse && (!this.mainSeriesRenderer || !this.mainSeriesRenderer.nonInteractive);

      if (x2I.home) {
        x2I.home.style.display = e_6 && !this.isHome() ? "block" : "none";
      }

      if (x2I.chartControls) {
        x2I.chartControls.style.display = e_6 ? J4h : "none";
      }
    }

    if (S8X.Marker) {
      this.positionMarkers();
    }

    if (this.quoteDriver && this.animations.zoom.hasCompleted) {
      this.quoteDriver.checkLoadMore(Q2I);
    }

    this.runAppend("draw", arguments);
    this.makeAsyncCallbacks();
  };

  S8X.ChartEngine.prototype.setSeriesRenderer = function (n8r) {
    var _n8r$params = n8r.params,
        Y2x = _n8r$params.baseline,
        B1N = _n8r$params.name,
        w7U = _n8r$params.panel,
        Z9d = _n8r$params.yAxis;

    if (this.chart.seriesRenderers[B1N]) {
      return this.chart.seriesRenderers[B1N];
      ;
    }

    if (Z9d) {
      n8r.params.yAxis = this.addYAxis(this.panels[w7U], Z9d);
      this.resizeChart();
    }

    n8r.stx = this;
    this.chart.seriesRenderers[B1N] = n8r;

    if (Y2x) {
      this.registerBaselineToHelper(n8r);
    }

    return n8r;
  };

  S8X.ChartEngine.prototype.setMainSeriesRenderer = function (h1F) {
    var W9E, W9a, j69;
    var _this$layout = this.layout,
        s6i = _this$layout.chartType,
        Z9I = _this$layout.aggregationType;
    var k7V = this.chart;
    var y3s = k7V.custom;
    W9E = this.mainSeriesRenderer;
    g6y.E0w();
    W9a = this.displayInitialized;

    if (W9E) {
      if (h1F) {
        this.setMasterData();
      }

      this.displayInitialized = !{};
      W9E.removeAllSeries();
      this.removeSeriesRenderer(W9E);
      W9E = this.mainSeriesRenderer = null;
    }

    if (y3s && y3s.chartType) {
      s6i = y3s.chartType;
    }

    if (s6i == "none") {
      return;
    }

    if (Z9I && Z9I != "ohlc") {
      s6i = Z9I;
    }

    j69 = S8X.Renderer.produce(s6i, {
      panel: k7V.panel.name,
      name: "_main_series",
      highlightable: !1,
      useChartLegend: !!"1"
    });

    if (j69) {
      this.setSeriesRenderer(j69).attachSeries(null, {
        display: k7V.symbol
      });
      W9E = this.mainSeriesRenderer = j69;
    }

    this.displayInitialized = W9a;
    ["highLowBars", "standaloneBars", "barsHaveWidth"].forEach(function (H8c) {
      k7V[H8c] = this.mainSeriesRenderer && this.mainSeriesRenderer[H8c];
    }.bind(this));
  };

  S8X.ChartEngine.prototype.removeSeriesRenderer = function (c_e) {
    g6y.E0w();
    var l6Q, D5s, j8s, N0Z;
    var _c_e$params = c_e.params,
        x$E = _c_e$params.baseline,
        t87 = _c_e$params.name;
    g6y.i3C(50);
    l6Q = this.controls["".concat(t87).concat(g6y.B0m("l", " base", "ine-handle"))];

    if (x$E) {
      D5s = 1696763810;
      j8s = 1598039487;
      N0Z = 2;

      for (var f45 = 1; g6y.m7$(f45.toString(), f45.toString().length, 23753) !== D5s; f45++) {
        this.removeBaselineFromHelper(c_e);
        N0Z += 2;
      }

      if (g6y.b3_(N0Z.toString(), N0Z.toString().length, 36665) !== j8s) {
        this.removeBaselineFromHelper(c_e);
      }

      if (l6Q) {
        this.container.removeChild(l6Q);
        delete this.controls[l6Q];
      }
    }

    delete this.chart.seriesRenderers[t87];
  };

  S8X.ChartEngine.prototype.getSeriesRenderer = function (b$8) {
    g6y.j07();
    return this.chart.seriesRenderers[b$8];
  };

  S8X.ChartEngine.prototype.getRendererFromSeries = function (w6Y) {
    var N8Q;
    g6y.E0w();
    N8Q = this.chart.seriesRenderers;

    for (var h2M in N8Q) {
      for (var W8E in N8Q[h2M].seriesParams) {
        if (N8Q[h2M].seriesParams[W8E].id == w6Y) {
          return N8Q[h2M];
        }
      }
    }

    return null;
  };

  S8X.ChartEngine.prototype.startClip = function (N9a, p8c) {
    var E2P, Q3T, R7F, r81, o0L, d2B, S_5, J8r;

    if (!N9a) {
      N9a = this.chart.panel.name;
    }

    g6y.a3e(14);
    E2P = -g6y.B0m(10, "1532108266");
    Q3T = 192082884;
    g6y.i3C(14);
    g6y.j07();
    R7F = g6y.k$A(2, "2");

    for (var O0P = 1; g6y.m7$(O0P.toString(), O0P.toString().length, 87612) !== E2P; O0P++) {
      r81 = this.panels[N9a];
      o0L = r81.yAxis;
      d2B = this.chart;
      d2B.context.save();
      d2B.context.beginPath();
      S_5 = r81.left;
      J8r = r81.width;
      R7F += 2;
    }

    if (g6y.b3_(R7F.toString(), R7F.toString().length, 7268) !== Q3T) {
      r81 = this.panels[N9a];
      o0L = r81.yAxis;
      d2B = this.chart;
      d2B.context.save();
      d2B.context.beginPath();
      S_5 = r81.left;
      J8r = r81.width;
    }

    r81 = this.panels[N9a];
    o0L = r81.yAxis;
    d2B = this.chart;
    d2B.context.save();
    d2B.context.beginPath();
    S_5 = r81.left;
    J8r = r81.width;

    if (p8c) {
      S_5 = 0;
      J8r = this.width;
    } else if (r81.yaxisLHS && r81.yaxisLHS.length) {
      S_5++;
      J8r--;
    }

    d2B.context.rect(S_5, o0L.top, J8r, o0L.height);
    d2B.context.clip();
  };

  S8X.ChartEngine.prototype.endClip = function () {
    g6y.E0w();
    this.chart.context.restore();
  };

  S8X.ChartEngine.prototype.setLineStyle = function (E1c, M5Z) {
    var x5d, Y$o;
    x5d = {};

    if (E1c && _typeof(E1c) == "object") {
      x5d = E1c;
    } else {
      x5d.color = E1c;
    }

    if (!x5d.color && !x5d.pattern && !x5d.width && !x5d.baseColor) {
      x5d = null;
    }

    if (!M5Z) {
      M5Z = this.chart;
    }

    Y$o = 1;

    if (x5d && x5d.width) {
      Y$o = x5d.width;
    }

    if (x5d && x5d.pattern) {
      x5d.pattern = S8X.borderPatternToArray(Y$o, x5d.pattern);
    }

    M5Z.lineStyle = x5d;
  };

  S8X.ChartEngine.prototype.setGapLines = function (j71, n0H) {
    var f7H, c6m;
    f7H = "o";
    f7H += "bj";
    f7H += "ec";
    f7H += "t";

    if (!n0H) {
      n0H = this.chart;
    }

    c6m = {};

    if (j71 && _typeof(j71) == f7H) {
      c6m = j71;
    } else if (typeof j71 === "boolean") {
      return n0H.gaplines = j71;
    } else {
      c6m.color = j71;
    }

    if (!c6m.color && !c6m.pattern && !c6m.fillMountain) {
      c6m = null;
    }

    g6y.j07();

    if (c6m && c6m.pattern) {
      c6m.pattern = S8X.borderPatternToArray(c6m.width, c6m.pattern);
    }

    if (c6m && c6m.width <= 0) {
      c6m.width = null;
    }

    n0H.gaplines = c6m;
  };

  S8X.ChartEngine.prototype.getGapColorFunction = function (C2V, U3B, S8Y, I6y, y2T) {
    g6y.E0w();

    if (_typeof(S8Y) != "object") {
      S8Y = {
        color: S8Y
      };
    }

    return function (Z$X, V$v, S9v) {
      var A9K, m1Y;
      g6y.j07();
      A9K = y2T ? y2T(Z$X, V$v, S9v) : S8Y;

      if (A9K.color) {
        A9K = A9K.color;
      }

      m1Y = V$v[C2V];

      if (!m1Y && m1Y !== 0) {
        m1Y = V$v[U3B];
      }

      if (!S9v && (m1Y || m1Y === 0)) {
        return {
          color: A9K,
          pattern: S8Y.pattern,
          width: S8Y.width
        };
      }

      if (!I6y) {
        return null;
      }

      if (_typeof(I6y) != "object") {
        if (typeof I6y == "string") {
          I6y = {
            color: I6y
          };
        } else {
          I6y = {};
        }
      }

      return {
        color: I6y.color || A9K,
        pattern: I6y.pattern || S8Y.pattern,
        width: I6y.width || S8Y.width
      };
    };
  };

  S8X.ChartEngine.prototype.drawLineChart = function (k_Y, j1j, v5t, v06) {
    var c$c, B2y, H9l, l_5, g$8, X7K, F3E, p1r, Q2c, Q1w, F6w, d1c;
    c$c = "Clo";
    c$c += "se";
    B2y = this.chart;
    H9l = B2y.context;
    l_5 = B2y.lineStyle || {};
    g$8 = this.canvasStyle(j1j);

    if (!v06) {
      v06 = {};
    }

    this.startClip(k_Y.name);
    X7K = v06.width || l_5.width || g$8.width;

    if (X7K && parseInt(X7K, 10) <= 25) {
      H9l.lineWidth = Math.max(1, S8X.stripPX(X7K));
    } else {
      H9l.lineWidth = 1;
    }

    v06.pattern = v06.pattern || l_5.pattern || g$8.borderTopStyle;
    v06.pattern = S8X.borderPatternToArray(H9l.lineWidth, v06.pattern);
    this.canvasColor(j1j);
    F3E = v06.color || l_5.color;

    if (F3E) {
      if (F3E == "auto") {
        F3E = this.defaultColor;
      }

      if (v06.opacity && v06.opacity !== 1) {
        F3E = S8X.hexToRgba(S8X.colorToHex(F3E), parseFloat(v06.opacity));
      }

      H9l.strokeStyle = F3E;
    }

    v06.skipProjections = !"";
    p1r = v06.field || B2y.defaultPlotField;
    Q2c = v06.subField || B2y.defaultPlotField || c$c;
    Q1w = v06.gapDisplayStyle;

    if (!Q1w && Q1w !== !!"") {
      Q1w = v06.gaps;
    }

    if (!Q1w && Q1w !== ![]) {
      Q1w = B2y.gaplines;
    }

    if (!Q1w) {
      Q1w = "transparent";
    }

    v06.gapDisplayStyle = Q1w;
    F6w = this.getGapColorFunction(p1r, Q2c, {
      color: H9l.strokeStyle,
      pattern: v06.pattern,
      width: H9l.lineWidth
    }, Q1w, v5t);

    if (k_Y.chart.tension) {
      v06.tension = k_Y.chart.tension;
    }

    d1c = this.plotDataSegmentAsLine(p1r, k_Y, v06, F6w);

    if (!d1c.colors.length) {
      d1c.colors.push(H9l.strokeStyle);
    }

    H9l.lineWidth = 1;
    this.endClip();
    return v06.returnObject ? d1c : d1c.colors;
  };

  S8X.ChartEngine.prototype.drawChannelChart = function (Q0s, s84, v39) {
    var I8N, n_L, Y5R, Q97, L0s, I6Y, W1W, q4W, Y3C, X_2, x4U, Q3P, r0s, z_Y;
    I8N = "f";
    I8N += "i";
    I8N += "eld";
    n_L = "L";
    n_L += "o";
    n_L += "w";
    Y5R = "f";
    Y5R += "i";
    Y5R += "e";
    Y5R += "ld";
    Q97 = "su";
    Q97 += "bField";
    L0s = S8X.clone(v39);
    L0s.color = v39.color;
    I6Y = this.drawLineChart(Q0s, L0s.style, s84, L0s);
    W1W = L0s.border_color_up || this.getCanvasColor("stx_channel_up");
    q4W = L0s.border_color_down || this.getCanvasColor("stx_channel_down");
    L0s[v39.field ? Q97 : Y5R] = L0s.field_high || "High";
    L0s.color = W1W;
    Y3C = this.drawLineChart(Q0s, L0s.style, s84, L0s);
    L0s[v39.field ? "subField" : "field"] = L0s.field_low || n_L;
    L0s.color = q4W;
    X_2 = this.drawLineChart(Q0s, L0s.style, s84, L0s);
    L0s[v39.field ? "subField" : I8N] = v39.subField || this.chart.defaultPlotField || "Close";
    Q3P = [];
    r0s = [];

    for (x4U = 0; x4U < Y3C.points.length; x4U += "2" << 64) {
      Q3P.push([Y3C.points[x4U], Y3C.points[x4U + 1]]);
    }

    for (x4U = 0; x4U < X_2.points.length; x4U += 2) {
      r0s.push([X_2.points[x4U], X_2.points[x4U + 1]]);
    }

    g6y.i3C(76);
    var N$i = g6y.B0m(12, 6, 0);
    z_Y = this.chart.context.lineWidth / N$i;

    for (x4U = I6Y.points.length - 2; x4U >= 0; x4U -= 2) {
      Q3P.push([I6Y.points[x4U], I6Y.points[x4U + 1] - z_Y]);
      r0s.push([I6Y.points[x4U], I6Y.points[x4U + 1] + z_Y]);
    }

    this.startClip(Q0s.name);
    L0s.color = W1W;
    S8X.fillArea(this, Q3P, L0s);
    L0s.color = q4W;
    S8X.fillArea(this, r0s, L0s);
    this.endClip();
    I6Y.colors = I6Y.colors.concat(Y3C.colors).concat(X_2.colors);
    return v39.returnObject ? I6Y : I6Y.colors;
  };

  g6y.E0w();

  S8X.ChartEngine.prototype.connectTheDots = function (W8A, v$s, w46, X$V, w3y, t8D) {
    var M$X, W6N, n$v, j6W, e8G, g5L, H2P, x6s, A76, X4V, S1I, n$S, h3v, u8X, z8s, L10, O6z, j3N, D7W, K4B, W5c;
    M$X = "n";
    M$X += "on";
    M$X += "e";

    if (!t8D) {
      t8D = {};
    }

    if (t8D.pattern == M$X) {
      return;
    }

    if (w3y === !!{}) {
      w3y = this.chart.panel;
    }

    if (X$V === null || typeof X$V == "undefined") {
      X$V = this.chart.context;
    }

    if (W8A.length < 4) {
      return;
    }

    W6N = 0;
    n$v = this.chart.canvasHeight;
    j6W = 0;
    e8G = this.chart.width;

    if (w3y) {
      n$v = w3y.yAxis.bottom;
      W6N = w3y.yAxis.top;
    }

    X$V.lineWidth = 1.1;

    if (_typeof(v$s) == "object") {
      X$V.strokeStyle = v$s.color;

      if (v$s.opacity) {
        X$V.globalAlpha = v$s.opacity;
      } else {
        X$V.globalAlpha = 1;
      }

      X$V.lineWidth = S8X.stripPX(v$s.width);
    } else {
      if (!v$s || v$s == "auto" || S8X.isTransparent(v$s)) {
        X$V.strokeStyle = this.defaultColor;
      } else {
        X$V.strokeStyle = v$s;
      }
    }

    g6y.j07();

    if (t8D.opacity) {
      X$V.globalAlpha = t8D.opacity;
    }

    if (t8D.lineWidth) {
      X$V.lineWidth = t8D.lineWidth;
    }

    g5L = S8X.borderPatternToArray(X$V.lineWidth, t8D.pattern);
    X$V.beginPath();

    for (var F2u = +"0"; F2u < W8A.length - 2; F2u += 2) {
      H2P = W8A[F2u];
      g6y.a3e(4);
      x6s = W8A[g6y.B0m(1, F2u)];
      g6y.i3C(4);
      A76 = W8A[g6y.k$A(2, F2u)];
      g6y.i3C(4);
      X4V = W8A[g6y.k$A(3, F2u)];

      if (isNaN(H2P) || isNaN(A76) || isNaN(x6s) || isNaN(X4V)) {
        return;
      }

      S1I = 0.0;
      n$S = 1.0;
      g6y.a3e(1);
      h3v = g6y.B0m(H2P, A76);
      g6y.a3e(1);
      u8X = g6y.B0m(x6s, X4V);

      for (var h4X = 0; h4X < 4; h4X++) {
        if (h4X === 0) {
          z8s = -h3v;
          g6y.i3C(1);
          L10 = -g6y.k$A(H2P, j6W);
        }

        if (h4X == 1) {
          z8s = h3v;
          g6y.i3C(1);
          L10 = g6y.B0m(H2P, e8G);
        }

        if (h4X == 2) {
          z8s = -u8X;
          g6y.a3e(1);
          L10 = -g6y.B0m(x6s, W6N);
        }

        if (h4X == 3) {
          z8s = u8X;
          g6y.i3C(1);
          L10 = g6y.k$A(x6s, n$v);
        }

        g6y.i3C(40);
        O6z = g6y.k$A(L10, z8s);

        if ((X4V || X4V === 0) && z8s === "0" << 32 && L10 < 0) {
          return !1;
          ;
        }

        if (z8s < 0) {
          if (O6z > n$S) {
            return !{};
          } else if (O6z > S1I) {
            S1I = O6z;
          }

          ;
        } else if (z8s > 0) {
          if (O6z < S1I) {
            return !{};
          } else if (O6z < n$S) {
            n$S = O6z;
          }

          ;
        }
      }

      g6y.i3C(145);
      j3N = g6y.B0m(H2P, h3v, S1I);
      g6y.a3e(145);
      D7W = g6y.k$A(x6s, u8X, S1I);
      g6y.i3C(145);
      K4B = g6y.B0m(H2P, h3v, n$S);
      g6y.a3e(145);
      W5c = g6y.B0m(x6s, u8X, n$S);

      try {
        X$V.setLineDash(g5L && g5L.length ? g5L : []);
        X$V.moveTo(j3N, D7W);
        X$V.lineTo(K4B, W5c);
      } catch (Q5n) {
        ;
      }
    }

    X$V.stroke();
    X$V.closePath();
    X$V.globalAlpha = 1;
    X$V.lineWidth = 1;
  };

  S8X.ChartEngine.prototype.plotSpline = function (y8a, c$l, q3W, K8k, j2G, j1d, I$3) {
    var i9Q, Z4C, Q4m, j9S;

    if (!I$3) {
      I$3 = {};
    }

    if (I$3.pattern == "none") {
      return;
    }

    if (j1d === !!{}) {
      j1d = this.chart.panel;
    }

    if (j2G === null || typeof j2G == "undefined") {
      j2G = this.chart.context;
    }

    j2G.save();
    j2G.lineWidth = 1.1;

    if (_typeof(q3W) == "object") {
      j2G.strokeStyle = q3W.color;
      i9Q = 214636097;
      Z4C = -1325290486;
      Q4m = 2;

      for (var Q5R = 1; g6y.b3_(Q5R.toString(), Q5R.toString().length, +"46790") !== i9Q; Q5R++) {
        if (q3W.opacity) {
          j2G.globalAlpha = q3W.opacity;
        } else {
          j2G.globalAlpha = 7;
        }

        j2G.lineWidth = S8X.stripPX(q3W.width);
        Q4m += 2;
      }

      if (g6y.m7$(Q4m.toString(), Q4m.toString().length, 74470) !== Z4C) {
        if (q3W.opacity) {
          j2G.globalAlpha = q3W.opacity;
        } else {
          g6y.a3e(38);
          j2G.globalAlpha = g6y.B0m("0", 1);
        }

        j2G.lineWidth = S8X.stripPX(q3W.width);
      }

      if (q3W.opacity) {
        j2G.globalAlpha = q3W.opacity;
      } else {
        g6y.i3C(13);
        j2G.globalAlpha = g6y.B0m("1", 0);
      }

      j2G.lineWidth = S8X.stripPX(q3W.width);
    } else {
      if (!q3W || q3W == "auto" || S8X.isTransparent(q3W)) {
        j2G.strokeStyle = this.defaultColor;
      } else {
        j2G.strokeStyle = q3W;
      }
    }

    if (I$3.opacity) {
      j2G.globalAlpha = I$3.opacity;
    }

    if (I$3.lineWidth) {
      j2G.lineWidth = I$3.lineWidth;
    }

    j9S = S8X.borderPatternToArray(j2G.lineWidth, I$3.pattern);

    if (I$3.pattern && j2G.setLineDash) {
      j2G.setLineDash(j9S);
      j2G.lineDashOffset = 0;
      ;
    }

    j2G.beginPath();
    k4d.plotSpline(y8a, c$l, j2G);
    j2G.stroke();
    j2G.closePath();
    j2G.restore();
  };

  S8X.ChartEngine.prototype.rawWatermark = function (e3U, s1k, a3p, v6m) {
    this.canvasFont("stx_watermark", e3U);
    e3U.fillStyle = this.defaultColor;
    g6y.i3C(1);
    g6y.j07();
    e3U.globalAlpha = g6y.B0m(0, "0.5");
    this.chart.context.textBaseline = "alphabetic";
    e3U.fillText(v6m, s1k, a3p);
    e3U.globalAlpha = 1;
  };

  S8X.ChartEngine.prototype.watermark = function (v33, K$8) {
    var k5d, u$a, P0Q, H0c, Q5W, k3B;
    k5d = "r";
    k5d += "i";
    k5d += "gh";
    k5d += "t";
    u$a = "ob";
    u$a += "je";
    u$a += "c";
    u$a += "t";

    if (K$8 && _typeof(K$8) != u$a) {
      K$8 = {
        h: arguments[1],
        v: arguments[2],
        text: arguments[3]
      };
    }

    K$8 = {
      h: K$8.h || "left",
      v: K$8.v || "bottom",
      text: K$8.text || "",
      hOffset: K$8.hOffset === 0 ? 0 : K$8.hOffset || 10,
      vOffset: K$8.vOffset === 0 ? "0" | 0 : K$8.vOffset || +"20",
      context: K$8.context || this.chart.context
    };
    P0Q = K$8.context;

    if (!P0Q) {
      return;
    }

    H0c = this.panels[v33];

    if (!H0c || H0c.hidden) {
      return;
    }

    Q5W = H0c.yAxis.bottom - K$8.vOffset;

    if (K$8.v == "top") {
      Q5W = H0c.top + K$8.vOffset;
    } else if (K$8.v == "middle") {
      g6y.a3e(1);
      var h8c = g6y.k$A(10, 12);
      Q5W = (H0c.top + H0c.yAxis.bottom) / h8c;
    }

    P0Q.save();
    this.canvasFont("stx_watermark", P0Q);
    this.canvasColor("stx_watermark", P0Q);
    P0Q.textBaseline = "alphabetic";
    k3B = H0c.left + K$8.hOffset;

    if (K$8.h == k5d) {
      k3B = H0c.right - K$8.hOffset;
    } else if (K$8.h == "center") {
      g6y.a3e(19);
      var Y_9 = g6y.k$A(9, 20, 11, 2);
      k3B = (H0c.right + H0c.left - P0Q.measureText(K$8.text).width) / Y_9;
    }

    P0Q.globalAlpha = 0.5;

    if (this.highlightedDraggable) {
      P0Q.globalAlpha *= 0.3;
    }

    P0Q.fillText(K$8.text, k3B, Q5W);
    P0Q.restore();
  };

  S8X.ChartEngine.prototype.displayErrorAsWatermark = function (B14, P3_) {
    var j$s, d4c, q3A, q8Y, f96, z$b, t02, K5D, l3w, L5U, h$p, t3E, f7f;
    j$s = "stx";
    j$s += "_watermar";
    j$s += "k";
    d4c = "cha";
    d4c += "r";
    d4c += "t";

    if (!P3_) {
      return;
    }

    if (!B14) {
      B14 = d4c;
    }

    q3A = this.panels[B14];

    if (!q3A || q3A.hidden) {
      return;
    }

    q8Y = q3A.state;

    if (!q8Y) {
      q3A.state = q8Y = {};
    }

    f96 = q8Y.studyErrors;

    if (!f96) {
      q8Y.studyErrors = f96 = new Set();
    }

    if (f96.has(P3_)) {
      return;
    }

    z$b = q8Y.watermarkOffset || "10" - 0;
    t02 = 10;
    K5D = this.getCanvasFontSize(j$s);

    if (this.chart && this.chart.chartControls) {
      l3w = q3A.yAxis.bottom;
      L5U = this.chart.chartControls;
      g6y.i3C(1);
      h$p = g6y.B0m(z$b, l3w);
      g6y.a3e(1);
      t3E = g6y.k$A(K5D, h$p);

      if (h$p > L5U.offsetTop && h$p < L5U.offsetTop + L5U.offsetHeight || t3E > L5U.offsetTop && t3E < L5U.offsetTop + L5U.offsetHeight) {
        z$b = l3w - L5U.offsetTop + t02;
      }
    }

    f96.add(P3_);
    f7f = {
      h: "center",
      v: "bottom",
      text: P3_,
      vOffset: z$b
    };
    g6y.a3e(4);
    z$b += g6y.B0m(t02, K5D);
    q8Y.watermarkOffset = z$b;
    this.watermark(B14, f7f);
  };

  S8X.ChartEngine.prototype.displayChart = function (X5v) {
    var r8R;
    r8R = "m";
    r8R += "a";
    r8R += "i";
    r8R += "n";

    if (this.runPrepend("displayChart", arguments)) {
      return;
    }

    this.rendererAction(X5v, r8R);
    this.runAppend("displayChart", arguments);
  };
};

Z0 = function Z0(X0y) {
  var i2j;
  i2j = X0y.CIQ;

  i2j.ChartEngine.prototype.cloneStyle = function (o_7) {
    var D7j = M2dNJ;
    var j7L, I8k, Z6J, s64, y1A, K1q, s5Z, x04;
    D7j.j07();

    function F56(w7H) {
      D7j.j07();
      return w7H[1].toUpperCase();
    }

    j7L = {};
    I8k = !!"";

    for (var w7G in o_7) {
      Z6J = o_7[w7G];

      if (w7G == "backgroundAttachment") {
        I8k = !!1;
      }

      if (I8k) {
        if (Z6J && Z6J.constructor == String && isNaN(w7G)) {
          j7L[w7G] = Z6J;
        }
      } else if (!isNaN(w7G)) {
        s64 = o_7.getPropertyValue(Z6J);

        if (s64) {
          Z6J = Z6J.split((4674, 4947) !== (6233, 25.12) ?  true ? "-" : undefined : ("T", 96.22));
          y1A = 0;
          K1q = Z6J.length;
          s5Z = Z6J[0];

          while (++y1A < K1q) {
            D7j.a3e(4);
            var A0W = D7j.k$A(1, 0);
            s5Z += Z6J[y1A].charAt(+"0").toUpperCase() + Z6J[y1A].slice(A0W);
          }

          j7L[s5Z] = s64;
        }
      } else {
        x04 = w7G.replace(i2j.camelCaseRegExp, F56);
        j7L[x04] = Z6J;
      }
    }

    return j7L;
  };

  i2j.ChartEngine.prototype.canvasStyle = function (w9t) {
    var P3Z, J6R, E1Y;
    P3Z = this.styles[w9t];
    M2dNJ.j07();

    if (!P3Z) {
      J6R = document.createElement("div");
      J6R.className = w9t;
      this.container.appendChild(J6R);
      E1Y = getComputedStyle(J6R);
      P3Z = this.styles[w9t] = this.cloneStyle(E1Y);
      this.container.removeChild(J6R);

      if (!E1Y) {
        this.styles[w9t] = null;
      }
    }

    return P3Z;
  };

  i2j.ChartEngine.prototype.colorOrStyle = function (j7y) {
    if (j7y.indexOf("#") != -1) {
      return j7y;
    }

    if (j7y.indexOf("(") != -1) {
      return j7y;
    }

    if (j7y == "transparent") {
      return j7y;
    }

    return this.canvasStyle(j7y);
  };

  i2j.ChartEngine.prototype.clearStyles = function () {
    this.styles = {};
    this.defaultColor = "";
  };

  i2j.ChartEngine.prototype.setStyle = function (M4o, N7O, q9l) {
    M2dNJ.E0w();

    if (!this.styles[M4o]) {
      this.canvasStyle(M4o);
    }

    if (!this.styles[M4o]) {
      this.styles[M4o] = {};
    }

    this.styles[M4o][i2j.makeCamelCase(N7O)] = q9l;
  };

  i2j.ChartEngine.prototype.canvasFont = function (D2C, E5h) {
    var Z_v = M2dNJ;
    var t62, w80;

    if (!E5h) {
      E5h = this.chart.context;
    }

    t62 = this.canvasStyle(D2C);

    if (!t62) {
      return;
    }

    Z_v.a3e(29);
    var Z8m = Z_v.k$A(18, 2, 64);
    Z_v.a3e(1);
    var v38 = Z_v.B0m(7, 3469);
    Z_v.a3e(146);
    var R3d = Z_v.B0m(9, 33692, 11, 4218, 9);
    Z_v.i3C(37);
    var z4Z = Z_v.k$A(9, 20, 432, 3051);
    Z_v.i3C(67);
    var R4V = Z_v.B0m(16, 77090, 12, 7008);
    Z_v.i3C(34);
    var H5C = Z_v.B0m(11, 37187, 42512);
    Z_v.a3e(147);
    var y__ = Z_v.k$A(1, 15, 64961, 61533, 6);
    Z_v.i3C(148);
    var n5N = Z_v.k$A(196, 14, 36, 144, 12);
    w80 = t62.fontStyle + " " + t62.fontWeight + " " + t62.fontSize + (Z8m > v38 ? (R3d, z4Z) : (R4V, H5C) != (y__, n5N) ? " " : 144.85) + t62.fontFamily;
    Z_v.j07();

    if (w80.indexOf("undefined") == -1) {
      E5h.font = w80;
    } else {
      this.styles[D2C] = null;
      Z_v.a3e(4);
      console.log(Z_v.B0m(D2C, "bad css style for class "));
    }
  };

  i2j.ChartEngine.prototype.canvasColor = function (i6i, k9f) {
    var L_5, H6q, o17;

    if (!k9f) {
      k9f = this.chart.context;
    }

    L_5 = this.canvasStyle(i6i);

    if (!L_5) {
      return;
    }

    H6q = L_5.color;

    if (!H6q) {
      H6q = this.defaultColor;
    }

    k9f.globalAlpha = 1;
    k9f.fillStyle = H6q;
    M2dNJ.E0w();
    k9f.strokeStyle = H6q;
    o17 = L_5.opacity;

    if (typeof o17 != "undefined") {
      k9f.globalAlpha = o17;
    }
  };

  i2j.ChartEngine.prototype.getCanvasFontSize = function (E0n) {
    var j6R, j28, f1X;
    j6R = "1";
    j6R += "2";
    j28 = this.canvasStyle(E0n);
    f1X = j28.fontSize;

    if (!f1X) {
      f1X = j6R;
    }

    return parseInt(i2j.stripPX(f1X), 10);
  };

  i2j.ChartEngine.prototype.getCanvasColor = function (u1p) {
    var k8i;
    k8i = this.canvasStyle(u1p);
    return k8i.color;
  };

  i2j.ChartEngine.prototype.getDefaultColor = function () {
    var Q$h, e_C, Y_U, Q2Y, A27, D$K, l8r, e2_;
    M2dNJ.j07();
    this.defaultColor = "#000000";
    Q$h = null;
    e_C = this.chart.container;

    while (!Q$h || i2j.isTransparent(Q$h)) {
      Y_U = getComputedStyle(e_C);

      if (!Y_U) {
        return;
      }

      Q$h = Y_U.backgroundColor;

      if (i2j.isTransparent(Q$h)) {
        Q$h = "transparent";
      }

      e_C = e_C.parentNode;
      if (!e_C || !e_C.tagName) break;
    }

    if (Q$h) {
      if (Q$h == "transparent") {
        Q$h = "#FFFFFF";
      }

      this.containerColor = Q$h;

      if (!i2j.isTransparent(Q$h)) {
        Q2Y = "#F";
        Q2Y += "FFFFF";
        A27 = i2j.hsv(Q$h);
        D$K = A27[2];

        if (D$K > 0.65) {
          this.defaultColor = "#000000";
        } else {
          this.defaultColor = Q2Y;
        }
      } else {
        l8r = "#00";
        l8r += "0000";
        this.defaultColor = l8r;
      }
    } else {
      e2_ = "#FF";
      e2_ += "FFFF";
      this.containerColor = e2_;
    }
  };
};

d7 = function d7(h$k) {
  var d5a = M2dNJ;
  var c7M, E$M, g_W, O_U;
  d5a.j07();
  c7M = 986679401;
  d5a.i3C(71);
  E$M = d5a.k$A("1978272640", 32);
  g_W = 2;

  for (var j4Q = 1; d5a.b3_(j4Q.toString(), j4Q.toString().length, 92475) !== c7M; j4Q++) {
    O_U = h$k.CIQ;
    g_W += 2;
  }

  if (d5a.m7$(g_W.toString(), g_W.toString().length, 33258) !== E$M) {
    O_U = h$k.CIQ;
  }

  O_U.ChartEngine.XAxis = function (u8f) {
    d5a.j07();

    for (var c50 in u8f) {
      this[c50] = u8f[c50];
    }
  };

  O_U.extend(O_U.ChartEngine.XAxis.prototype, {
    formatter: null,
    adjustTimeZone: !"",
    idealTickSizePixels: null,
    timeUnit: null,
    timeUnitMultiplier: null,
    displayBorder: !![],
    displayGridLines: !![],
    noDraw: null,
    minimumLabelWidth: 50,
    futureTicks: !"",
    futureTicksInterval: 1
  }, !!"1");

  O_U.ChartEngine.XAxisLabel = function (k3U, z1K, j$n) {
    this.hz = k3U;
    this.grid = z1K;
    this.text = j$n;
  };

  O_U.ChartEngine.prototype.createXAxis = function (K9y) {
    var O13, J4k, B3X;
    O13 = "createX";
    O13 += "Axis";

    if (K9y.dataSegment.length <= +"0") {
      return null;
    }

    if (K9y.xAxis.noDraw) {
      return null;
    }

    J4k = [K9y];
    B3X = this.runPrepend(O13, J4k);

    if (B3X) {
      return B3X;
    }

    if (this.mainSeriesRenderer && this.mainSeriesRenderer.createXAxis) {
      B3X = this.mainSeriesRenderer.createXAxis(K9y);
    } else {
      B3X = this.createTickXAxisWithDates(K9y);
    }

    this.headsUpHR();
    this.runAppend("createXAxis", J4k);
    return B3X;
  };

  O_U.ChartEngine.prototype.createXAxisLabel = function (g0A) {
    var c0f, a1P, S88, u72, U0S, o6p, J1S, W05, S8L, M0x, s4G, B9Q, t1z, H_i, X3m, I8L, U23, N4w;
    c0f = "t";
    c0f += "o";
    c0f += "p";

    if (arguments["0" * 1] instanceof O_U.ChartEngine.Panel) {
      a1P = -1122848453;
      S88 = 745028536;
      u72 = 2;

      for (var D2d = 1; d5a.b3_(D2d.toString(), D2d.toString().length, 41169) !== a1P; D2d++) {
        g0A = {
          panel: arguments[6],
          txt: arguments[7],
          x: arguments[6],
          backgroundColor: arguments[5],
          color: arguments[6],
          pointed: arguments[1],
          padding: arguments["7" ^ 0]
        };
        u72 += 2;
      }

      if (d5a.m7$(u72.toString(), u72.toString().length, 80887) !== S88) {
        g0A = {
          panel: arguments[6],
          txt: arguments[7],
          x: arguments[6],
          backgroundColor: arguments[5],
          color: arguments[6],
          pointed: arguments[1],
          padding: arguments[7]
        };
      }

      g0A = {
        panel: arguments[0],
        txt: arguments[1],
        x: arguments[2],
        backgroundColor: arguments["3" - 0],
        color: arguments[4],
        pointed: arguments[5],
        padding: arguments[6]
      };
    }

    U0S = g0A.panel;
    o6p = g0A.txt;
    J1S = g0A.x;
    W05 = g0A.backgroundColor;
    S8L = g0A.color;
    M0x = g0A.pointed;
    s4G = g0A.padding === 0 ? 0 : g0A.padding || 2;
    B9Q = this.chart.context;
    t1z = "stx-float-date";
    d5a.a3e(149);
    var V0W = d5a.k$A(0, 13, 1, 26);
    H_i = this.getCanvasFontSize(t1z) + s4G * V0W;
    this.canvasFont(t1z, B9Q);

    try {
      d5a.a3e(150);
      var T7I = d5a.k$A(2, 9, 3, 1, 12);
      X3m = B9Q.measureText(o6p).width + s4G * T7I;
    } catch (g1v) {
      X3m = 0;
    }

    I8L = U0S.top + U0S.height - H_i - s4G;

    if (J1S + X3m / 2 < U0S.left || J1S - X3m / 2 > U0S.right) {
      return;
    }

    if (!M0x) {
      if (J1S + X3m / 2 > U0S.right) {
        J1S = U0S.right - X3m / +"2";
      }

      if (J1S - X3m / 2 < U0S.left) {
        d5a.a3e(25);
        var s1M = d5a.k$A(15, 36, 538);
        J1S = U0S.left + X3m / s1M;
      }
    }

    B9Q.fillStyle = W05;
    O_U.roundRect({
      ctx: B9Q,
      x: J1S - X3m / 2,
      top: I8L,
      width: X3m,
      height: H_i,
      radius: 3,
      fill: !![]
    });
    U23 = U0S.bottom - U0S.yAxis.bottom - H_i;
    B9Q.beginPath();

    if (M0x) {
      d5a.i3C(1);
      B9Q.moveTo(d5a.k$A(U23, J1S), I8L);
      d5a.i3C(34);
      B9Q.lineTo(J1S, d5a.k$A(U23, 1, I8L));
      d5a.a3e(4);
      B9Q.lineTo(d5a.B0m(U23, J1S), I8L);
      B9Q.closePath();
      B9Q.fill();
    } else {
      B9Q.moveTo(J1S, I8L);
      d5a.a3e(1);
      B9Q.lineTo(J1S, d5a.k$A(U23, I8L));
      B9Q.strokeStyle = W05;
      B9Q.stroke();
    }

    B9Q.textBaseline = c0f;
    B9Q.fillStyle = S8L ? S8L : O_U.chooseForegroundColor(W05);

    if (B9Q.fillStyle == W05) {
      N4w = "#F";
      N4w += "FFF";
      N4w += "F";
      N4w += "F";

      if (W05.toUpperCase() == "#FFFFFF") {
        B9Q.fillStyle = "#000000";
      } else {
        B9Q.fillStyle = N4w;
      }
    }

    d5a.a3e(151);
    B9Q.fillText(o6p, d5a.B0m(1, 2, X3m, J1S, s4G), d5a.B0m(s4G, I8L, 2, d5a.i3C(152)));
  };
};

U8 = function U8(c7G) {
  var K8j = M2dNJ;
  var E3W;
  E3W = c7G.CIQ;

  E3W.createLabel = function (q$V) {
    var s3d, a3I, p2V, Y5L, T9c, y5h;
    s3d = "mi";
    s3d += "ddle";
    q$V.ctx.textBaseline = s3d;
    q$V.ctx.fillStyle = q$V.color ? q$V.color : E3W.chooseForegroundColor(q$V.backgroundColor);

    if (q$V.ctx.fillStyle === q$V.backgroundColor) {
      a3I = "#F";
      a3I += "FFF";
      a3I += "F";
      a3I += "F";
      p2V = "#FFF";
      p2V += "F";
      p2V += "FF";

      if (q$V.backgroundColor.toUpperCase() == p2V) {
        q$V.ctx.fillStyle = "#000000";
      } else {
        q$V.ctx.fillStyle = a3I;
      }
    }

    q$V.ctx.fillText(q$V.txt, q$V.x + q$V.margin.left, q$V.y + q$V.margin.top);
    Y5L = -+"1150041568";
    T9c = 590149505;
    y5h = 2;

    for (var O57 = +"1"; K8j.m7$(O57.toString(), O57.toString().length, 9615) !== Y5L; O57++) {
      q$V.ctx.textAlign = "left";
      y5h += +"2";
    }

    if (K8j.b3_(y5h.toString(), y5h.toString().length, 68216) !== T9c) {
      q$V.ctx.textAlign = "";
    }
  };

  E3W.roundRectArrow = function (p4s) {
    K8j.j07();
    E3W.roundRect(p4s, "arrow");
  };

  E3W.semiRoundRect = function (l1p) {
    var O5N;
    O5N = "fl";
    O5N += "u";
    O5N += "s";
    O5N += "h";
    E3W.roundRect(l1p, O5N);
  };

  E3W.rect = function (W9e) {
    K8j.j07();
    W9e.radius = 0;
    E3W.roundRect(W9e);
  };

  E3W.noop = function (D3A) {
    D3A.color = D3A.backgroundColor;
    E3W.createLabel(D3A);
  };

  E3W.tickedRect = function (Q00) {
    var g3M;
    E3W.rect(Q00);
    K8j.i3C(4);
    var X5N = K8j.k$A(2, 0);
    g3M = Math.round(Q00.top + Q00.height / X5N) + 0.5;
    Q00.ctx.beginPath();
    Q00.ctx.moveTo(Q00.x - 2, g3M);
    Q00.ctx.lineTo(Q00.x, g3M);
    Q00.ctx.stroke();
    Q00.ctx.closePath();
  };

  E3W.roundRect = function (v4G, Z48) {
    var A_M, c3H, e3L, i_L, U38, l_v, l$d, A5d, S3i, v1w, A5X, I0w, n9u, h3N, k6M, V9Q, o7J;
    A_M = "undefine";
    A_M += "d";

    if (arguments.length === 9) {
      v4G = {
        ctx: arguments[0],
        x: arguments[1],
        top: arguments[2],
        width: arguments["3" << 64],
        height: arguments[4],
        radius: arguments[5],
        fill: arguments["6" >> 0],
        stroke: arguments[+"7"],
        edge: arguments[8]
      };
    }

    c3H = v4G.stroke;
    e3L = v4G.x;
    i_L = v4G.top;
    U38 = v4G.width;
    l_v = v4G.height;
    l$d = v4G.radius;
    A5d = v4G.fill;
    S3i = v4G.ctx;

    if (typeof c3H == "undefined") {
      c3H = !0;
    }

    if (_typeof(l$d) === A_M) {
      l$d = 5;

      if (U38 < 0) {
        l$d = -+"5";
      }
    }

    v1w = U38 < 0 ? l$d * -+"1" : l$d;

    if (l$d && !Z48) {
      K8j.i3C(1);
      e3L = K8j.B0m(1, e3L);
    }

    K8j.i3C(4);
    A5X = K8j.B0m(l$d, e3L);
    K8j.i3C(4);
    I0w = K8j.k$A(U38, e3L);
    K8j.i3C(4);
    n9u = K8j.B0m(v1w, i_L);
    K8j.a3e(4);
    h3N = K8j.k$A(l_v, i_L);
    K8j.i3C(1);
    k6M = K8j.k$A(l$d, I0w);
    K8j.a3e(1);
    V9Q = K8j.k$A(v1w, h3N);
    S3i.beginPath();
    S3i.moveTo(A5X, i_L);
    S3i.lineTo(k6M, i_L);
    S3i.quadraticCurveTo(I0w, i_L, I0w, n9u);
    S3i.lineTo(I0w, V9Q);
    S3i.quadraticCurveTo(I0w, h3N, k6M, h3N);
    S3i.lineTo(A5X, h3N);

    if (Z48 == "flush") {
      S3i.lineTo(e3L, h3N);
      S3i.lineTo(e3L, i_L);
    } else if (Z48 == "arrow") {
      K8j.i3C(1);
      S3i.quadraticCurveTo(e3L, h3N, K8j.k$A(l$d, e3L), V9Q);
      o7J = U38 < ("0" ^ 0) ? 1 : -1;
      K8j.i3C(153);
      S3i.lineTo(K8j.B0m(o7J, e3L, 2, l_v), K8j.B0m(i_L, 2, l_v, K8j.i3C(46)));
      K8j.i3C(1);
      S3i.lineTo(K8j.k$A(l$d, e3L), n9u);
      S3i.quadraticCurveTo(e3L, i_L, A5X, i_L);
    } else {
      S3i.quadraticCurveTo(e3L, h3N, e3L, V9Q);
      S3i.lineTo(e3L, n9u);
      S3i.quadraticCurveTo(e3L, i_L, A5X, i_L);
    }

    S3i.closePath();

    if (v4G.backgroundColor) {
      S3i.fillStyle = v4G.backgroundColor;
    }

    if (c3H) {
      S3i.stroke();
    }

    if (A5d) {
      S3i.fill();
    }

    if (v4G.txt) {
      E3W.createLabel(v4G);
    }
  };

  E3W.ChartEngine.YAxis = function (U48) {
    for (var Y6W in U48) {
      this[Y6W] = U48[Y6W];
    }

    if (!this.name) {
      this.name = E3W.uniqueID();
    }

    if (this.position == "none") {
      this.width = 0;
    }
  };

  E3W.extend(E3W.ChartEngine.YAxis.prototype, {
    high: null,
    low: null,
    shadow: null,
    logHigh: null,
    logLow: null,
    logShadow: null,
    multiplier: null,
    bottom: null,
    top: null,
    height: null,
    left: null,
    width: null,
    renderers: [],
    studies: []
  }, !!{});
  K8j.a3e(82);
  E3W.ChartEngine.YAxis.defaultShadowBreaks = [[1000, 2], [K8j.k$A(0, "5"), 4], [0.001, 8]];
  K8j.a3e(82);
  E3W.ChartEngine.YAxis.smallChartShadowBreaks = [[K8j.B0m(32, "10"), K8j.B0m(0, "2", K8j.i3C(1))], [1, 4]];
  E3W.ChartEngine.YAxis.prototype.maxDecimalPlaces = null;
  E3W.ChartEngine.YAxis.prototype.max = null;
  E3W.ChartEngine.YAxis.prototype.min = null;
  E3W.ChartEngine.YAxis.prototype.decimalPlaces = null;
  E3W.ChartEngine.YAxis.prototype.idealTickSizePixels = null;
  E3W.ChartEngine.YAxis.prototype.minimumPriceTick = null;
  E3W.ChartEngine.YAxis.prototype.fractional = null;
  E3W.ChartEngine.YAxis.prototype.displayBorder = !"";
  E3W.ChartEngine.YAxis.prototype.displayGridLines = !!1;
  E3W.ChartEngine.YAxis.prototype.noDraw = null;
  E3W.ChartEngine.YAxis.prototype.drawCurrentPriceLabel = !!{};
  E3W.ChartEngine.YAxis.prototype.drawSeriesPriceLabels = !![];
  E3W.ChartEngine.YAxis.prototype.drawPriceLabels = !![];
  E3W.ChartEngine.YAxis.prototype.goldenRatioYAxis = !![];
  E3W.ChartEngine.YAxis.prototype.yaxisLabelStyle = null;
  E3W.ChartEngine.YAxis.prototype.justifyRight = null;
  E3W.ChartEngine.YAxis.prototype.flipped = !{};
  E3W.ChartEngine.YAxis.prototype.textBackground = !!0;
  E3W.ChartEngine.YAxis.prototype.priceFormatter = null;
  E3W.ChartEngine.YAxis.prototype.bottomOffset = 0;
  E3W.ChartEngine.YAxis.prototype.topOffset = 0;
  E3W.ChartEngine.YAxis.prototype.initialMarginTop = 10;
  E3W.ChartEngine.YAxis.prototype.initialMarginBottom = 10;
  E3W.ChartEngine.YAxis.prototype.zoom = 0;
  E3W.ChartEngine.YAxis.prototype.scroll = 0;
  E3W.ChartEngine.YAxis.prototype.heightFactor = 1;
  Object.defineProperty(E3W.ChartEngine.YAxis.prototype, "width", {
    configurable: !!"1",
    enumerable: !!"1",
    get: function get() {
      return this._dynamicWidth || this._width;
    },
    set: function set(d8V) {
      this._width = d8V;

      if (this._dynamicWidth < d8V) {
        this._dynamicWidth = NaN;
      }
    }
  });
  K8j.i3C(1);
  E3W.ChartEngine.YAxis.prototype.width = K8j.k$A(0, "60");
  E3W.ChartEngine.YAxis.prototype.smallScreenWidth = +"50";
  E3W.ChartEngine.YAxis.prototype.textStyle = null;
  E3W.ChartEngine.YAxis.prototype.position = null;
  E3W.ChartEngine.YAxis.prototype.pretty = !![];
  E3W.ChartEngine.YAxis.prototype.increments = [1, 2.5, +"5"];
  E3W.ChartEngine.YAxis.prototype.prettySemiLog = !![];
  E3W.ChartEngine.YAxis.prototype.shadowBreaks = E3W.ChartEngine.YAxis.defaultShadowBreaks;

  E3W.ChartEngine.YAxis.prototype.getYAxis = function (E1h) {
    return this;
  };

  E3W.ChartEngine.YAxis.prototype.isShared = function (b7H, i2f) {
    var L4s, O66;
    K8j.E0w();
    L4s = this.studies.length;
    O66 = this.renderers.length;

    if (L4s > 1) {
      return !![];
    }

    if (O66 && L4s) {
      return !!1;
    }

    if (!O66) {
      return ![];
    }

    if (O66 > 1 && i2f) {
      return !![];
    }

    for (var l$G = O66 - 1; l$G >= 0; l$G--) {
      if (b7H.chart.seriesRenderers[this.renderers[l$G]].params.dependentOf) {
        O66--;
      }
    }

    K8j.a3e(154);
    return K8j.B0m(O66, 1);
  };

  E3W.ChartEngine.YAxis.prototype.setBackground = function (b7u, I4c) {
    var b4t;

    if (!I4c) {
      I4c = {};
    }

    if (!I4c.color) {
      I4c.color = "auto";
    }

    b4t = [[this.left, this.top], [this.left, this.bottom], [this.left + this.width, this.bottom], [this.left + this.width, this.top]];
    E3W.fillArea(b7u, b4t, {
      color: I4c.color,
      opacity: I4c.opacity
    });
  };

  E3W.ChartEngine.YAxis.prototype.setBreakpointWidth = function (k6e) {
    var h3j, B7L, q2k, m37;

    if (!k6e) {
      return;
    }

    h3j = 1063842979;
    B7L = -+"1944966853";
    q2k = 2;

    for (var V_b = "1" * 1; K8j.b3_(V_b.toString(), V_b.toString().length, 69962) !== h3j; V_b++) {
      var _E3W$ChartEngine$YAxi = E3W.ChartEngine.YAxis.prototype,
          m7l = _E3W$ChartEngine$YAxi.width,
          b9Z = _E3W$ChartEngine$YAxi.smallScreenWidth;
      K8j.a3e(155);
      m37 = K8j.B0m("", k6e);
      q2k += 2;
    }

    if (K8j.m7$(q2k.toString(), q2k.toString().length, 81858) !== B7L) {
      var _E3W$ChartEngine$YAxi2 = E3W.ChartEngine.YAxis.prototype,
          m7l = _E3W$ChartEngine$YAxi2.width,
          b9Z = _E3W$ChartEngine$YAxi2.smallScreenWidth;
      K8j.a3e(123);
      m37 = K8j.k$A(k6e, "");
    }

    var _E3W$ChartEngine$YAxi3 = E3W.ChartEngine.YAxis.prototype,
        m7l = _E3W$ChartEngine$YAxi3.width,
        b9Z = _E3W$ChartEngine$YAxi3.smallScreenWidth;
    K8j.i3C(123);
    m37 = K8j.k$A(k6e, "break-sm");
    this.width = m37 ? b9Z : m7l;
  };

  E3W.ChartEngine.prototype.getLabelOffsetInPixels = function (Y6_, w2k) {
    var c_M, P4c, e93;
    c_M = !this.mainSeriesRenderer || !this.mainSeriesRenderer.standaloneBars;

    if (this.yaxisLabelStyle == "roundRectArrow" && !(c_M && this.extendLastTick && Y6_.yaxisPaddingRight !== 0)) {
      P4c = 3;
      K8j.a3e(22);
      var f4Q = K8j.B0m(6, 3, 22, 82);
      e93 = this.getCanvasFontSize("stx_yaxis") + P4c * f4Q;
      K8j.a3e(38);
      return K8j.B0m(e93, 0.66);
    }

    return +"0";
  };

  E3W.ChartEngine.prototype.flipChart = function (i1o) {
    if (this.layout.flipped == i1o) {
      return;
    }

    this.layout.flipped = i1o;
    this.chart.yAxis.flipped = i1o;
    this.changeOccurred("layout");
    this.draw();
  };

  E3W.ChartEngine.prototype.calculateYAxisMargins = function (U$w) {
    if (U$w.heightFactor) {
      K8j.a3e(7);
      var w0N = K8j.k$A(0, 8, 7);
      U$w.zoom = U$w.height * (w0N - U$w.heightFactor);
    }

    U$w.zoom += U$w.initialMarginTop + U$w.initialMarginBottom;
    K8j.i3C(58);
    var W6t = K8j.k$A(15, 10, 11, 16);
    U$w.scroll = (U$w.initialMarginTop - U$w.initialMarginBottom) / W6t;
    K8j.j07();

    if (U$w.zoom > U$w.height) {
      U$w.zoom = 0;
      U$w.scroll = 0;
    }
  };

  E3W.ChartEngine.prototype.resetDynamicYAxis = function (b2Q) {
    var E96, Q18, Q0I;

    if (this.runPrepend("resetDynamicYAxis", arguments)) {
      return;
    }

    E96 = ![];

    for (var w$d in this.panels) {
      Q18 = this.panels[w$d];
      if (b2Q && b2Q.chartName && Q18.chart.name !== b2Q.chartName) continue;
      if (!Q18.yaxisLHS || !Q18.yaxisRHS) continue;
      Q0I = Q18.yaxisLHS.concat(Q18.yaxisRHS);

      for (var L5q = 0; L5q < Q0I.length; L5q++) {
        if (Q0I[L5q]._dynamicWidth) {
          Q0I[L5q]._dynamicWidth = NaN;
          E96 = !0;
        }
      }
    }

    if (E96 && (!b2Q || !b2Q.noRecalculate)) {
      this.calculateYAxisPositions();
    }

    this.runAppend("resetDynamicYAxis", arguments);
  };

  E3W.ChartEngine.prototype.notifyBreakpoint = function (V2n) {
    var r68, x5I, o2a, J9e;
    r68 = "b";
    r68 += "reak-";
    r68 += "s";
    r68 += "m";

    if (this.chart.breakpoint === V2n) {
      return;
    }

    if (!["break-lg", "break-md", r68].includes(V2n)) {
      return;
    }

    var R97 = this.chart;
    var C$W = R97.dynamicYAxis;
    this.clearStyles();
    R97.breakpoint = V2n;

    for (var U33 in this.panels) {
      x5I = this.panels[U33];
      o2a = x5I.yaxisRHS.concat(x5I.yaxisLHS);

      for (var m_Z = 0; m_Z < o2a.length; m_Z++) {
        J9e = o2a[m_Z];
        J9e.setBreakpointWidth(V2n);
      }
    }

    if (C$W) {
      this.resetDynamicYAxis({
        chartName: R97.name
      });
    }
  };

  E3W.ChartEngine.prototype.adjustYAxisHeightOffset = function (R_I, J01) {
    var O5c, S1g, e2B, C1R;
    O5c = J01.topOffset;
    S1g = J01.bottomOffset;

    if (O5c + S1g > R_I.height) {
      e2B = "The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be r";
      e2B += "eset to 0.";
      console.log(e2B);
      J01.bottomOffset = +"0";
      J01.topOffset = +"0";
    }

    if (!this.xaxisHeight && this.xaxisHeight !== 0) {
      K8j.a3e(33);
      var t2$ = K8j.B0m(7, 18, 13, 1634);
      this.xaxisHeight = this.getCanvasFontSize("stx_xaxis") + t2$;

      if (this.chart.xAxis.displayBorder || this.axisBorders) {
        this.xaxisHeight += 3;
      }
    }

    C1R = this.xAxisAsFooter && R_I.bottom > this.chart.canvasHeight - this.xaxisHeight || !this.xAxisAsFooter && R_I == this.chart.panel;

    if (C1R) {
      S1g += this.xaxisHeight;
    }

    J01.top = R_I.top + O5c;
    J01.bottom = R_I.bottom - S1g;
  };

  E3W.ChartEngine.prototype.plotYAxisGrid = function (V3j) {
    var t1S, J3F, H2c, O_h;
    t1S = "plotYA";
    t1S += "xisGrid";
    J3F = "plo";
    J3F += "tYAxisGrid";

    if (this.runPrepend(J3F, arguments)) {
      return;
    }

    H2c = this.getBackgroundCanvas().context;
    O_h = V3j.yAxis;

    if (O_h.yAxisPlotter) {
      O_h.yAxisPlotter.draw(H2c, "grid");
    }

    this.runAppend(t1S, arguments);
  };

  E3W.ChartEngine.prototype.plotYAxisText = function (z_k) {
    var M61, U_S, w7r, p08, F3O;
    M61 = "plotYAxisT";
    M61 += "e";
    M61 += "x";
    M61 += "t";

    if (this.runPrepend(M61, arguments)) {
      return;
    }

    U_S = this.getBackgroundCanvas().context;
    this.canvasFont("stx_yaxis", U_S);
    this.canvasColor("stx_yaxis", U_S);
    U_S.textBaseline = "middle";
    w7r = z_k.yaxisLHS;

    for (p08 = 0; p08 < w7r.length; p08++) {
      F3O = "rig";
      F3O += "ht";
      U_S.textAlign = F3O;
      M3K(w7r[p08]);
    }

    w7r = z_k.yaxisRHS;

    for (p08 = 0; p08 < w7r.length; p08++) {
      U_S.textAlign = "left";
      M3K(w7r[p08]);
    }

    U_S.textAlign = "left";
    U_S.textBaseline = "alphabetic";
    this.runAppend("plotYAxisText", arguments);

    function M3K(B2j) {
      var S5h;
      S5h = "t";
      S5h += "e";
      S5h += "xt";

      if (!B2j.yAxisPlotter) {
        return;
      }

      if (B2j.noDraw || !B2j.width) {
        return;
      }

      if (B2j.justifyRight) {
        U_S.textAlign = "right";
      } else if (B2j.justifyRight === ![]) {
        U_S.textAlign = "left";
      }

      B2j.yAxisPlotter.draw(U_S, S5h);
    }
  };

  E3W.ChartEngine.prototype.decimalPlacesFromPriceTick = function (X7T) {
    if (X7T < 0.0001) {
      K8j.a3e(13);
      return K8j.B0m("8", 0);
    }

    if (X7T < 0.01) {
      return 4;
    }

    if (X7T < 0.1) {
      return 2;
    }

    if (X7T < 1) {
      return 1;
    }

    return 0;
  };

  E3W.ChartEngine.prototype.formatYAxisPrice = function (d8d, T0g, l$c, p8D, a_i) {
    var B4Q, n0Y, M5S, d2d, o7s;

    if (d8d === null || typeof d8d == "undefined" || isNaN(d8d)) {
      return "";
    }

    if (!T0g) {
      T0g = this.chart.panel;
    }

    B4Q = p8D ? p8D : T0g.yAxis;
    n0Y = l$c;

    if (!n0Y && n0Y !== 0) {
      n0Y = B4Q.printDecimalPlaces;
    }

    if (!n0Y && n0Y !== +"0") {
      n0Y = this.decimalPlacesFromPriceTick(B4Q.priceTick);
    }

    M5S = B4Q == T0g.chart.yAxis ? 20000 : +"1000";

    if (B4Q.priceTick >= M5S) {
      d8d = d8d.toFixed(n0Y);
      return E3W.condenseInt(d8d);
    }

    d2d = this.internationalizer;

    if (d2d && a_i !== ![]) {
      o7s = d2d.priceFormatters.length;

      if (n0Y >= o7s) {
        K8j.i3C(1);
        n0Y = K8j.k$A(1, o7s);
      }

      d8d = d2d.priceFormatters[n0Y].format(d8d);
    } else {
      d8d = d8d.toFixed(n0Y);
      ;
    }

    return d8d;
  };

  E3W.ChartEngine.prototype.calculateYAxisRange = function (O5j, u96, E9W, j6e) {
    var X2s, V7n, Q0T, a9X, U7d, C7m, Z$9, W2G, e2P, I5O, L9M, b5e, b6R;
    X2s = "l";
    X2s += "o";
    X2s += "g";

    if (E9W == Number.MAX_VALUE) {
      E9W = 0;
      j6e = 0;
    }

    V7n = O5j.height;
    Q0T = null;
    a9X = null;
    this.adjustYAxisHeightOffset(O5j, u96);
    u96.height = u96.bottom - u96.top;
    U7d = Math.round(Math.abs(V7n / 5));

    if (u96.zoom >= 0 && V7n - Math.abs(u96.scroll) < U7d) {
      K8j.a3e(156);
      var y_E = K8j.B0m(13, 33, 11, 10, 1);
      K8j.a3e(18);
      var l9_ = K8j.B0m(953, 17, 18, 15, 21);
      u96.scroll = (V7n - U7d) * (u96.scroll < 0 ? y_E : l9_);
    }

    C7m = O5j.chart.name === O5j.name && O5j.yAxis.name === u96.name;
    K8j.E0w();
    Z$9 = E9W > 0 && (this.layout.semiLog || this.layout.chartScale == X2s) && !O5j.chart.isComparison && this.layout.aggregationType != "pandf";

    if (E9W || E9W === 0) {
      if (j6e - E9W === 0) {
        W2G = Math.pow(10, -(E9W.toString() + (6227 != ("1487" << 96, 614.85) ? "." : (+"721.79", 380) === 5393 ? (121.24, !"1") : 3753 <= (5720, 1355) ? ("4.11e+3" << 64, !!0) : "Z")).split(9779 !== (2449, 1360) ? "." : (142.21, +"911.62"))[1].length);

        if (W2G == 1) {
          W2G = 100;
        }

        K8j.a3e(4);
        Q0T = K8j.B0m(W2G, E9W);
        K8j.i3C(1);
        a9X = K8j.B0m(W2G, E9W);
      } else {
        if (C7m && Z$9 && (j6e || j6e === 0)) {
          e2P = Math.log(E9W) / Math.LN10;
          I5O = Math.log(j6e) / Math.LN10;
          Q0T = Math.pow(10, I5O);
          a9X = Math.pow(10, e2P);
        } else {
          Q0T = j6e;
          a9X = E9W;
        }
      }

      u96.high = Q0T;
      u96.low = a9X;
    }

    if (u96.max || u96.max === 0) {
      u96.high = u96.max;
    }

    if (u96.min || u96.min === 0) {
      u96.low = u96.min;
    }

    u96.shadow = u96.high - u96.low;

    if (C7m) {
      if (u96.semiLog != Z$9) {
        L9M = 644227104;
        b5e = -113168193;
        b6R = 2;

        for (var I9o = 1; K8j.m7$(I9o.toString(), I9o.toString().length, 17288) !== L9M; I9o++) {
          this.clearPixelCache();
          K8j.i3C(71);
          b6R += K8j.k$A("2", 0);
        }

        if (K8j.b3_(b6R.toString(), b6R.toString().length, 58110) !== b5e) {
          this.clearPixelCache();
        }

        u96.semiLog = Z$9;
      }

      u96.flipped = this.layout.flipped;
    }
  };

  E3W.ChartEngine.prototype.renderYAxis = function (A3o) {
    var v1G, S$M, a5s, Z7n, R9W, Q9y, h1f, p9C, a0X, R2f;
    v1G = "yAx";
    v1G += "is";
    S$M = "re";
    S$M += "b";
    S$M += "oot dr";
    S$M += "aw";

    if (this.runPrepend("renderYAxis", arguments)) {
      return;
    }

    if (this.checkLogScale()) {
      throw new Error(S$M);
    }

    this.rendererAction(A3o, v1G);

    var _this$getBackgroundCa = this.getBackgroundCanvas(A3o),
        X1B = _this$getBackgroundCa.context;

    for (var G_t in this.panels) {
      a5s = this.panels[G_t];
      if (a5s.chart != A3o) continue;
      Z7n = a5s.yaxisRHS.concat(a5s.yaxisLHS);

      for (R9W = 0; R9W < Z7n.length; R9W++) {
        Q9y = Z7n[R9W];
        this.calculateYAxisRange(a5s, Q9y, Q9y.lowValue, Q9y.highValue);
        h1f = E3W.getFn("Studies.getYAxisParameters", {})(this, Q9y);
        h1f.yAxis = Q9y;
        this.createYAxis(a5s, h1f);
        this.drawYAxis(a5s, h1f);
        E3W.getFn("Studies.doPostDrawYAxis")(this, Q9y);
      }

      for (R9W = 0; R9W < Z7n.length; R9W++) {
        Q9y = Z7n[R9W];

        if (Q9y.dropzone) {
          p9C = this.canvasStyle("stx-subholder dropzone left");

          if (p9C) {
            X1B.strokeStyle = p9C.borderLeftColor;
            X1B.lineWidth = parseFloat(p9C.borderLeftWidth);
            X1B.beginPath();

            if (Q9y.dropzone == "all") {
              X1B.strokeRect(Q9y.left, Q9y.top, Q9y.width, Q9y.height);
            } else {
              a0X = "l";
              a0X += "e";
              a0X += "ft";
              R2f = Q9y.left + (Q9y.dropzone == a0X ? 0 : Q9y.width);
              X1B.moveTo(R2f, Q9y.top);
              X1B.lineTo(R2f, Q9y.top + Q9y.height);
              X1B.stroke();
            }
          }
        }
      }

      if (this.displayDragOK) {
        this.displayDragOK(!!"1");
      }
    }

    this.runAppend("renderYAxis", arguments);
  };

  E3W.ChartEngine.prototype.updateFloatHRLabel = function (D8w) {
    K8j.j07();
    var y8V, Y0V, n8_, J3S, n3t, p4O, j3W, X5k, e$_;

    if (!this.floatCanvas) {
      return;
    }

    y8V = D8w.yaxisLHS.concat(D8w.yaxisRHS);
    Y0V = this.crossYActualPos ? this.crossYActualPos : this.cy;

    if (this.floatCanvas.isDirty) {
      E3W.clearCanvas(this.floatCanvas, this);
    }

    if (this.controls.crossX && this.controls.crossX.style.display == "none") {
      return;
    }

    if (this.controls.crossY) {
      n8_ = "p";
      n8_ += "x";
      J3S = "r";
      J3S += "oundRectAr";
      J3S += "row";
      n3t = D8w.width;

      if (this.yaxisLabelStyle == J3S) {
        n3t -= +"7";
      }

      this.controls.crossY.style.left = D8w.left + n8_;
      K8j.i3C(4);
      this.controls.crossY.style.width = K8j.k$A("px", n3t);
    }

    for (var C1r = "0" - 0; C1r < y8V.length; C1r++) {
      p4O = y8V[C1r];
      j3W = this.transformedPriceFromPixel(Y0V, D8w, p4O);
      if (isNaN(j3W)) continue;
      if ((p4O.min || p4O.min === 0) && j3W < p4O.min) continue;
      if ((p4O.max || p4O.max === 0) && j3W > p4O.max) continue;
      X5k = null;

      if (p4O !== D8w.chart.yAxis) {
        X5k = this.decimalPlacesFromPriceTick(p4O.priceTick);

        if (p4O.decimalPlaces || p4O.decimalPlaces === 0) {
          X5k = p4O.decimalPlaces;
        }
      }

      if (p4O.priceFormatter) {
        j3W = p4O.priceFormatter(this, D8w, j3W, X5k);
      } else {
        j3W = this.formatYAxisPrice(j3W, D8w, X5k, p4O);
      }

      e$_ = this.canvasStyle("stx-float-price");
      this.createYAxisLabel(D8w, j3W, Y0V, e$_.backgroundColor, e$_.color, this.floatCanvas.context, p4O);
      this.floatCanvas.isDirty = !0;
    }
  };

  E3W.ChartEngine.prototype.whichYAxis = function (l13, J5O, R5l) {
    var i$J, z7a, s3G;

    if (typeof J5O === "undefined") {
      J5O = this.cx;
    }

    K8j.j07();

    if (typeof R5l === "undefined") {
      R5l = this.cy;
    }

    i$J = this.whichPanel(R5l);

    if (l13 && l13 == i$J) {
      z7a = l13.yaxisLHS.concat(l13.yaxisRHS);

      for (var d1y = "0" >> 0; d1y < z7a.length; d1y++) {
        s3G = z7a[d1y];

        if (s3G.left <= J5O && s3G.left + s3G.width >= J5O) {
          return s3G;
        }
      }
    }

    return null;
  };

  E3W.ChartEngine.prototype.yaxisMatches = function (Q0H, h$B) {
    if (!Q0H || !Q0H.getYAxis || !h$B || !(h$B instanceof E3W.ChartEngine.YAxis)) {
      return !1;
    }

    return Q0H.getYAxis(this).name == h$B.name;
  };

  E3W.ChartEngine.prototype.createYAxisLabel = function (T4D, w_h, b8S, E_8, V3w, O9J, e$t) {
    var c6R, d7Z, k6E, C1F, w2h, w6x, H5B, h45, S2D, Y6V, E2J, U4h, V6w, o3R, n2l;
    c6R = "stx_yax";
    c6R += "is";

    if (T4D.yAxis.drawPriceLabels === ![] || T4D.yAxis.noDraw) {
      return;
    }

    d7Z = e$t ? e$t : T4D.yAxis;

    if (d7Z.noDraw || !d7Z.width) {
      return;
    }

    k6E = O9J ? O9J : this.chart.context;
    C1F = 3;
    w2h = this.getCanvasFontSize(c6R) + C1F * ("2" | 0);
    this.canvasFont("stx_yaxis", k6E);
    w6x = d7Z.displayBorder;
    H5B = this.drawBorders ? 3 : 0;

    try {
      K8j.i3C(67);
      var Y4Y = K8j.k$A(15, 159, 8, 22);
      h45 = k6E.measureText(w_h).width + H5B + C1F * Y4Y;
    } catch (P5H) {
      h45 = d7Z.width;
    }

    K8j.i3C(64);
    var s$5 = K8j.k$A(2, 12, 323, 27);
    S2D = d7Z.left - C1F + s$5;

    if (d7Z.width < 0) {
      S2D += d7Z.width - h45;
    }

    K8j.a3e(50);
    Y6V = K8j.B0m(C1F, S2D, H5B);
    E2J = +"3";
    U4h = d7Z.position === null ? T4D.chart.yAxis.position : d7Z.position;

    if (U4h === "left") {
      K8j.i3C(7);
      var N7C = K8j.k$A(15, 2, 14);
      S2D = d7Z.left + d7Z.width + C1F - N7C;
      K8j.a3e(144);
      h45 = K8j.k$A(1, h45);

      if (d7Z.width < 0) {
        S2D -= d7Z.width + h45;
      }

      K8j.i3C(34);
      Y6V = K8j.k$A(C1F, H5B, S2D);
      E2J = -3;
      k6E.textAlign = "right";
    }

    if (b8S + w2h / 2 > d7Z.bottom) {
      K8j.i3C(1);
      var Q34 = K8j.B0m(18, 20);
      b8S = d7Z.bottom - w2h / Q34;
    }

    if (b8S - w2h / 2 < d7Z.top) {
      K8j.a3e(58);
      var n2V = K8j.k$A(3, 7, 36, 6);
      b8S = d7Z.top + w2h / ("2" << n2V);
    }

    if (typeof E3W[this.yaxisLabelStyle] == "undefined") {
      V6w = "r";
      V6w += "oundRectA";
      V6w += "rro";
      V6w += "w";
      this.yaxisLabelStyle = V6w;
      ;
    }

    o3R = this.yaxisLabelStyle;

    if (d7Z.yaxisLabelStyle) {
      o3R = d7Z.yaxisLabelStyle;
    }

    n2l = {
      ctx: k6E,
      x: S2D,
      y: b8S,
      top: b8S - w2h / 2,
      width: h45,
      height: w2h,
      radius: E2J,
      backgroundColor: E_8,
      fill: !!{},
      stroke: !"1",
      margin: {
        left: Y6V - S2D,
        top: 1
      },
      txt: w_h,
      color: V3w
    };
    E3W[o3R](n2l);
  };

  E3W.ChartEngine.prototype.drawCurrentHR = function () {
    K8j.j07();
    var u05, v6X, q_D, K6K, e30, V_x, c64, T_u, Q7$, M6R, q_x, e_G, e7v, O8g, P2L, a4F, U34, l_b, c1s, A8u, o1g, L2L;
    u05 = "drawCur";
    u05 += "rentHR";

    if (this.runPrepend(u05, arguments)) {
      return;
    }

    K6K = this.mainSeriesRenderer || {};

    if (K6K.noCurrentHR) {
      return;
    }

    e30 = K6K.highLowBars;

    for (var d1p in this.charts) {
      V_x = "d";
      V_x += "ataSegm";
      V_x += "ent";
      c64 = this.charts[d1p];
      T_u = c64.panel;
      Q7$ = T_u.yAxis;
      if (T_u.hidden) continue;
      if (Q7$.drawCurrentPriceLabel === !1 || Q7$.noDraw) continue;
      if (!K6K.params) continue;
      M6R = Q7$.whichSet;

      if (!M6R) {
        M6R = "dataSet";
      }

      if (this.isHistoricalModeSet && M6R !== "dataSegment") continue;
      q_x = c64[M6R].length;
      e_G = this.layout.candleWidth;

      if (M6R == V_x) {
        while (q_x > (c64.width - this.micropixels + e_G / 2 + 1) / e_G) {
          q_x--;
        }
      }

      if (q_x && c64[M6R][q_x - 1]) {
        e7v = c64.defaultPlotField;

        if (!e7v || e30) {
          e7v = "Close";
        }

        do {
          O8g = c64[M6R][--q_x][e7v];
          P2L = O8g;
          if (q_x === 0) break;
        } while (P2L === null || P2L === undefined);

        if (M6R == "dataSet" && c64.currentQuote) {
          P2L = c64.currentQuote[e7v];
        } else if (c64[M6R].length >= 2) {
          K8j.a3e(1);
          a4F = c64[M6R][K8j.B0m(1, q_x)];

          if (a4F) {
            O8g = a4F[e7v];
          }
        }

        if (P2L < O8g) {
          v6X = this.canvasStyle("stx_current_hr_down").backgroundColor;
          q_D = this.canvasStyle("stx_current_hr_down").color;
        } else {
          U34 = "stx_current_hr_";
          U34 += "up";
          v6X = this.canvasStyle("stx_current_hr_up").backgroundColor;
          q_D = this.canvasStyle(U34).color;
        }

        if (c64.transformFunc) {
          P2L = c64.transformFunc(this, c64, P2L);
        }

        c1s = Math.max(T_u.yAxis.printDecimalPlaces, T_u.chart.decimalPlaces);

        if (Q7$.maxDecimalPlaces || Q7$.maxDecimalPlaces === 0) {
          c1s = Math.min(c1s, Q7$.maxDecimalPlaces);
        }

        if (Q7$.priceFormatter) {
          l_b = Q7$.priceFormatter(this, T_u, P2L, c1s);
        } else {
          l_b = this.formatYAxisPrice(P2L, T_u, c1s);
        }

        A8u = this.pixelFromTransformedValue(P2L, T_u);
        this.createYAxisLabel(T_u, l_b, A8u, v6X, q_D);

        if (this.preferences.currentPriceLine === !![] && this.isHome()) {
          o1g = "das";
          o1g += "h";
          o1g += "e";
          o1g += "d";
          L2L = "lin";
          L2L += "e";
          this.plotLine(T_u.left, T_u.right, A8u, A8u, v6X, L2L, T_u.chart.context, T_u, {
            pattern: o1g,
            lineWidth: 1,
            opacity: 0.8,
            globalCompositeOperation: "destination-over"
          });
        }
      }
    }

    this.runAppend("drawCurrentHR", arguments);
  };

  E3W.ChartEngine.prototype.getYAxisByName = function (Q9I, E1p) {
    var h$_;

    if (typeof Q9I == "string") {
      Q9I = this.panels[Q9I];
    }

    if (!Q9I || !E1p) {
      return undefined;
    }

    if (E1p === Q9I.yAxis.name) {
      return Q9I.yAxis;
    }

    for (h$_ = +"0"; Q9I.yaxisLHS && h$_ < Q9I.yaxisLHS.length; h$_++) {
      if (Q9I.yaxisLHS[h$_].name === E1p) {
        return Q9I.yaxisLHS[h$_];
      }
    }

    for (h$_ = 0; Q9I.yaxisRHS && h$_ < Q9I.yaxisRHS.length; h$_++) {
      if (Q9I.yaxisRHS[h$_].name === E1p) {
        return Q9I.yaxisRHS[h$_];
      }
    }

    return undefined;
  };

  E3W.ChartEngine.prototype.getYAxisByField = function (G0h, W6y) {
    var n85, c$k, D$L, t9_, P37, a$T, O$r;

    if (W6y) {
      for (n85 in this.layout.studies) {
        c$k = this.layout.studies[n85];
        if (c$k.panel != G0h.name) continue;

        if (c$k.outputMap && c$k.outputMap.hasOwnProperty(W6y)) {
          return c$k.getYAxis(this);
        }
      }

      for (n85 in this.chart.seriesRenderers) {
        t9_ = this.chart.seriesRenderers[n85];

        for (var i_G = +"0"; i_G < t9_.seriesParams.length; i_G++) {
          P37 = "-";
          P37 += "-";
          P37 += ">";
          if (t9_.params.panel != G0h.name) continue;
          a$T = t9_.seriesParams[i_G];
          O$r = a$T.field;

          if (!O$r && !t9_.highLowBars) {
            O$r = this.defaultPlotField || "Close";
          }

          if (a$T.symbol && a$T.subField) {
            O$r += P37 + a$T.subField;
          }

          if (W6y == O$r) {
            return t9_.params.yAxis || G0h.yAxis;
          }

          if (a$T.field && a$T.field == W6y.split("-->")[0]) {
            D$L = t9_.params.yAxis || G0h.yAxis;
          }
        }
      }

      if (D$L) {
        return D$L;
      }
    }

    return undefined;
  };

  E3W.ChartEngine.prototype.deleteYAxisIfUnused = function (p5Z, J8o) {
    var J$9, C3$, d1D, r82;
    J$9 = "stri";
    J$9 += "n";
    J$9 += "g";

    if (_typeof(p5Z) == J$9) {
      p5Z = this.panels[p5Z];
    }

    if (!J8o || !p5Z) {
      return;
    }

    for (var h2N = +"0"; h2N < J8o.renderers.length; h2N++) {
      C3$ = this.chart.seriesRenderers[J8o.renderers[h2N]];

      if (C3$ && C3$.params.panel == p5Z.name) {
        return;
      }
    }

    if (J8o.name === p5Z.yAxis.name) {
      if (p5Z.yaxisRHS.length + p5Z.yaxisLHS.length === 1) {
        return;
      }
    }

    for (d1D = 0; p5Z.yaxisRHS && d1D < p5Z.yaxisRHS.length; d1D++) {
      if (p5Z.yaxisRHS[d1D] === J8o) {
        p5Z.yaxisRHS[d1D] = null;
      } else if (!r82) {
        r82 = p5Z.yaxisRHS[d1D];
      }
    }

    for (d1D = +"0"; p5Z.yaxisLHS && d1D < p5Z.yaxisLHS.length; d1D++) {
      if (p5Z.yaxisLHS[d1D] === J8o) {
        p5Z.yaxisLHS[d1D] = null;
      } else if (!r82) {
        r82 = p5Z.yaxisLHS[d1D];
      }
    }

    function t$d(w1J) {
      K8j.a3e(108);
      return K8j.k$A(null, w1J);
    }

    p5Z.yaxisRHS = p5Z.yaxisRHS.filter(t$d);
    p5Z.yaxisLHS = p5Z.yaxisLHS.filter(t$d);
    K8j.E0w();

    if (r82 && J8o.name === p5Z.yAxis.name) {
      p5Z.yAxis = r82;
    }

    this.calculateYAxisPositions();
  };

  E3W.ChartEngine.prototype.addYAxis = function (L$w, n_p) {
    var u$g, Z4c, g2_, t3g, X_b, z2i;
    u$g = "lef";
    u$g += "t";
    Z4c = "lef";
    Z4c += "t";

    if (typeof L$w == "string") {
      L$w = this.panels[L$w];
    }

    if (!n_p || !L$w) {
      return;
    }

    if (!L$w.yaxisLHS) {
      L$w.yaxisLHS = [];
      L$w.yaxisRHS = [];

      if (L$w.yAxis.position == "left" || L$w.yAxis.position != "right" && L$w.chart.panel.yAxis.position == "left") {
        L$w.yaxisLHS.push(L$w.yAxis);
      } else {
        L$w.yaxisRHS.push(L$w.yAxis);
      }
    }

    t3g = [];
    X_b = L$w.yaxisLHS;

    for (g2_ = X_b.length - 1; g2_ >= 0; g2_--) {
      if (X_b[g2_].name === n_p.name) {
        z2i = "ri";
        z2i += "g";
        z2i += "h";
        z2i += "t";

        if (n_p.position != z2i) {
          return X_b[g2_];
        }

        t3g = X_b.splice(g2_, 1);
      }
    }

    X_b = L$w.yaxisRHS;

    for (g2_ = X_b.length - 1; g2_ >= ("0" ^ 0); g2_--) {
      if (X_b[g2_].name === n_p.name) {
        if (n_p.position != "left") {
          return X_b[g2_];
        }

        t3g = X_b.splice(g2_, +"1");
      }
    }

    if (n_p.position === Z4c || n_p.position != "right" && L$w.chart.panel.yAxis.position == u$g) {
      L$w.yaxisLHS.unshift(n_p);
    } else {
      L$w.yaxisRHS.push(n_p);
    }

    if (n_p.position !== "none") {
      n_p.setBreakpointWidth(this.chart.breakpoint);
    }

    n_p.height = L$w.yAxis.height;
    n_p.idealTickSizePixels = null;

    if (t3g[0] == L$w.yAxis) {
      L$w.yAxis = n_p;
    }

    this.calculateYAxisMargins(n_p);
    return n_p;
  };

  E3W.ChartEngine.prototype.calculateYAxisPositions = function () {
    var N7u, h12, j2_, N1z, H$G, D$P, Q0u, H8M, y6X, U9X, M$m, O0I, P$h, r_W, W1P, o10, v5h, C1J, B8h, F$X, N3B, Y56;
    N7u = [];

    for (var j77 in this.charts) {
      if (this.charts[j77].hidden || this.charts[j77].panel.hidden) continue;
      N7u.push(j77);
    }

    for (var x80 in this.panels) {
      h12 = this.panels[x80];
      if (h12.name === h12.chart.name || h12.hidden) continue;
      N7u.push(x80);
    }

    j2_ = this.drawBorders ? 3 : 0;
    K8j.i3C(71);
    N1z = K8j.B0m("0", 0);
    H$G = 0;

    for (Q0u = "0" - 0; Q0u < N7u.length; Q0u++) {
      U9X = "ri";
      U9X += "g";
      U9X += "h";
      U9X += "t";
      M$m = "n";
      M$m += "one";
      H8M = this.panels[N7u[Q0u]];
      if (!H8M) continue;

      if (!H8M.yaxisLHS) {
        H8M.yaxisLHS = [];
        H8M.yaxisRHS = [];
      }

      O0I = H8M.yaxisLHS;
      P$h = H8M.yaxisRHS;
      r_W = H8M.yAxis.position;

      if (!r_W || r_W == M$m) {
        r_W = H8M.chart.yAxis.position || U9X;
      }

      if (!O0I.length && !P$h.length) {
        if (r_W == "left") {
          O0I.push(H8M.yAxis);
        } else {
          P$h.push(H8M.yAxis);
        }
      }

      W1P = [];
      o10 = [];

      for (D$P = O0I.length - +"1"; D$P >= 0; D$P--) {
        v5h = "le";
        v5h += "f";
        v5h += "t";

        if (O0I[D$P].position == "right" || O0I[D$P].position != v5h && r_W == "right") {
          W1P = W1P.concat(O0I.splice(D$P, 1));
        }
      }

      for (D$P = P$h.length - 1; D$P >= 0; D$P--) {
        if (P$h[D$P].position == "left" || P$h[D$P].position != "right" && r_W == "left") {
          o10 = o10.concat(P$h.splice(D$P, 1));
        }
      }

      H8M.yaxisLHS = o10.concat(O0I);
      H8M.yaxisRHS = P$h.concat(W1P);

      if (!H8M.yAxis.width && H8M.yAxis.width !== 0) {
        H8M.yAxis.width = this.yaxisWidth;
      }

      H8M.yaxisTotalWidthRight = 0;
      K8j.a3e(14);
      H8M.yaxisTotalWidthLeft = K8j.k$A(0, "0");
      C1J = H8M.yaxisLHS.concat(H8M.yaxisRHS);

      for (D$P = 0; D$P < C1J.length; D$P++) {
        B8h = "l";
        B8h += "ef";
        B8h += "t";
        y6X = C1J[D$P];
        if (y6X.noDraw || !y6X.width) continue;

        if (y6X.position == "left" || r_W == B8h && !y6X.position) {
          H8M.yaxisTotalWidthLeft += y6X.width;
        } else {
          H8M.yaxisTotalWidthRight += y6X.width;
        }
      }

      if (H8M.yaxisTotalWidthLeft > N1z) {
        N1z = H8M.yaxisTotalWidthLeft;
      }

      if (H8M.yaxisTotalWidthRight > H$G) {
        H$G = H8M.yaxisTotalWidthRight;
      }
    }

    for (Q0u = "0" ^ 0; Q0u < N7u.length; Q0u++) {
      H8M = this.panels[N7u[Q0u]];
      if (!H8M) continue;
      F$X = H8M.name === H8M.chart.name;
      N3B = N1z;

      for (D$P = H8M.yaxisLHS.length - 1; D$P >= 0; D$P--) {
        y6X = H8M.yaxisLHS[D$P];
        if (y6X.noDraw) continue;
        N3B -= y6X.width;
        y6X.left = N3B;
      }

      N3B = this.width - H$G;

      for (D$P = 0; D$P < H8M.yaxisRHS.length; D$P++) {
        y6X = H8M.yaxisRHS[D$P];
        if (y6X.noDraw) continue;
        y6X.left = N3B;
        N3B += y6X.width;
      }

      if (typeof this.yaxisLeft != "undefined") {
        H8M.chart.yaxisPaddingRight = this.yaxisLeft;
      }

      H8M.yaxisCalculatedPaddingRight = H$G;

      if (H8M.chart.yaxisPaddingRight || H8M.chart.yaxisPaddingRight === 0) {
        H8M.yaxisCalculatedPaddingRight = H8M.chart.yaxisPaddingRight;
      }

      H8M.yaxisCalculatedPaddingLeft = N1z;

      if (H8M.chart.yaxisPaddingLeft || H8M.chart.yaxisPaddingLeft === "0" << 0) {
        H8M.yaxisCalculatedPaddingLeft = H8M.chart.yaxisPaddingLeft;
      }

      if (F$X || H8M.chart.panel.hidden) {
        H8M.left = H8M.yaxisCalculatedPaddingLeft;
        H8M.right = this.width - H8M.yaxisCalculatedPaddingRight;
      } else {
        H8M.left = H8M.chart.panel.left;
        H8M.right = H8M.chart.panel.right;
      }

      H8M.width = H8M.right - H8M.left;

      if (H8M.handle) {
        Y56 = "p";
        Y56 += "x";
        H8M.handle.style.left = H8M.left + Y56;
        H8M.handle.style.width = H8M.width + "px";
      }

      if (F$X || H8M.chart.panel.hidden) {
        H8M.chart.panel.left = H8M.chart.left = H8M.left;
        H8M.chart.panel.right = H8M.chart.right = H8M.right;
        H8M.chart.panel.width = H8M.chart.width = Math.max(H8M.right - H8M.left, +"0");
        ;
      }
    }

    this.setCandleWidth(this.layout.candleWidth);
    this.adjustPanelPositions();
    ;
  };

  E3W.ChartEngine.prototype.getYAxisCurrentPosition = function (L3j, A1u) {
    var u4F, Z05;

    if (!L3j.width) {
      return "none";
    }

    u4F = A1u.yaxisLHS;

    for (var F5K = 0; F5K < u4F.length; F5K++) {
      Z05 = "l";
      Z05 += "ef";
      Z05 += "t";

      if (u4F[F5K].name == L3j.name) {
        return Z05;
      }
    }

    return "right";
  };

  E3W.ChartEngine.prototype.setYAxisPosition = function (n1z, E4l) {
    n1z.position = E4l;
    K8j.j07();

    if (E4l === "none") {
      n1z.width = 0;
    } else {
      n1z.setBreakpointWidth(this.chart.breakpoint);
    }

    this.calculateYAxisPositions();
    this.draw();
  };

  E3W.ChartEngine.prototype.electNewYAxisOwner = function (E2d) {
    var e1B, z90;
    e1B = E2d.studies[0];
    K8j.j07();

    if (!e1B || e1B == E2d.name) {
      e1B = E2d.renderers[0];
    }

    if (!e1B || e1B == E2d.name) {
      e1B = E2d.studies[1];
    }

    if (!e1B) {
      e1B = E2d.renderers[1];
    }

    for (var Q3i = 0; Q3i < E2d.studies.length; Q3i++) {
      z90 = this.layout.studies[E2d.studies[Q3i]];

      if (z90.parameters && z90.parameters.yaxisDisplayValue == E2d.name) {
        z90.parameters.yaxisDisplayValue = e1B;
      }
    }

    return e1B;
  };
};

Z9 = function Z9(L7V) {
  var X5y = M2dNJ;

  X5y.O6j = function (U6i) {
    if (X5y) return X5y.E3C(U6i);
  };

  X5y.v9q = function (U_n) {
    X5y.E0w();
    if (X5y) return X5y.E3C(U_n);
  };

  var p6W, G1S, a91;
  p6W = L7V.CIQ;
  X5y.j07();
  G1S = "valid";

  function F6r(K_I, X5M) {
    var i1m, n5o, Q66, L7Z, Z_6, Z49, F2g, h30, q9L, e01;

    if (K_I.hasOwnProperty(a91)) {
      return;
    }

    i1m = new Image();
    n5o = 10;
    Q66 = 3.375;
    X5y.a3e(40);
    L7Z = X5y.B0m(4, 5);
    X5y.a3e(40);
    Z_6 = X5y.B0m(5, 4);
    Z49 = 5;
    X5y.i3C(7);
    var s69 = X5y.k$A(0, 22, 14);
    X5y.a3e(157);
    var e9u = X5y.k$A(135, 2, 18, 14, 7);
    F2g = Math.pow(L7Z, s69) / e9u;
    X5y.i3C(40);
    X5y.E0w();
    h30 = X5y.B0m(1, 4);
    q9L = h30;
    e01 = Object.create(null, {
      sizeRatio: {
        configurable: ![],
        enumerable: !{},
        get: function get() {
          return q9L;
        },
        set: function set(t8_) {
          X5y.E0w();

          if (t8_ < F2g) {
            q9L = F2g;
          } else if (t8_ > h30) {
            q9L = h30;
          } else {
            q9L = t8_ || h30;
          }
        }
      },
      draw: {
        configurable: !{},
        enumerable: !1,
        value: function value(h54) {
          X5y.j07();
          var P3d, U97, p2x, x1f, Q29, d62, N4z, w_o, R4S, x2p, r62;

          if (this.image) {
            P3d = document.querySelector("cq-attrib-container") ? document.querySelector("cq-attrib-container").offsetHeight : 0;
            U97 = h54.yAxis.bottom - P3d - n5o;
            var _this$image = this.image,
                K8r = _this$image.width,
                U0f = _this$image.height;

            if (isNaN(K8r) || isNaN(U0f)) {
              return;
            }

            p2x = K8r * this.sizeRatio;
            x1f = U0f * this.sizeRatio;
            Q29 = +"1547377217";
            d62 = +"835693819";
            N4z = 2;

            for (var G0G = "1" - 0; X5y.m7$(G0G.toString(), G0G.toString().length, "75923" * 1) !== Q29; G0G++) {
              w_o = h54.left + n5o;
              X5y.i3C(1);
              R4S = X5y.k$A(x1f, U97);
              x2p = h54.context;
              r62 = ![];
              N4z += 2;
            }

            if (X5y.b3_(N4z.toString(), N4z.toString().length, +"64580") !== d62) {
              w_o = h54.left - n5o;
              X5y.a3e(84);
              R4S = X5y.B0m(x1f, U97);
              x2p = h54.context;
              r62 = !!"1";
            }

            do {
              if ((w_o + p2x * Q66 > h54.right || x1f * Z49 > U97) && this.sizeRatio > F2g) {
                this.sizeRatio *= L7Z;
                p2x = K8r * this.sizeRatio;
                x1f = U0f * this.sizeRatio;
                X5y.a3e(1);
                R4S = X5y.k$A(x1f, U97);
                r62 = !"";
              } else if (w_o + K8r * (this.sizeRatio * Z_6) * Q66 < h54.right && U0f * (this.sizeRatio * Z_6) * Z49 < U97 && this.sizeRatio < h30) {
                this.sizeRatio *= Z_6;
                p2x = K8r * this.sizeRatio;
                x1f = U0f * this.sizeRatio;
                X5y.a3e(1);
                R4S = X5y.k$A(x1f, U97);
                r62 = !![];
              } else {
                r62 = !{};
              }
            } while (r62);

            x2p.save();

            var _p6W$hsl = p6W.hsl(K_I.containerColor),
                _p6W$hsl2 = _slicedToArray(_p6W$hsl, 3),
                k7y = _p6W$hsl2[2];

            x2p.globalAlpha = k7y > 0.35 ? 0.15 : 0.2;
            this.image.src = k7y > "0.35" * 1 ? this.image.darksrc : this.image.lightsrc;
            x2p.drawImage(this.image, 0, 0, K8r, U0f, w_o, R4S, p2x, x1f);
            x2p.restore();
            this.first = !!"";
          } else if (this.first !== !{}) {
            this.first = h54;
          }
        },
        writable: !"1"
      }
    });

    i1m.onload = function () {
      var S28;
      S28 = "i";
      S28 += "m";
      S28 += "a";
      S28 += "ge";
      Object.defineProperty(e01, S28, {
        configurable: !{},
        enumerable: !{},
        value: i1m,
        writable: !1
      });

      if (!i1m.darksrc) {
        i1m.lightsrc = i1m.src;
        X5y.i3C(52);
        var J3z = X5y.B0m(5852, 3, 11704, 1059);
        i1m.darksrc = X5M.slice(0, +"1063") + "i" + X5M.slice(J3z);
        i1m.src = i1m.darksrc;
      } else {
        if (e01.first) {
          e01.first.container.stx.draw();
        }
      }
    };

    i1m.src = X5M;
    Object.defineProperty(K_I, a91, {
      configurable: !1,
      enumerable: !!"",
      value: e01,
      writable: !!""
    });
  }

  p6W.valid = 0;

  p6W.ChartEngine.prototype.consolidatedQuote = function (t0e, E1w) {
    var J4u, z$L, w6K, q5_, l7T, o57, R$y, C_u, b_h, E3F, s1y, m5N, z_4, V8i, P9y, Q4o, n9K, M82, X9A, X06, x_a, F4c;
    J4u = "consolid";
    J4u += "atedQuote";

    if (this.runPrepend("consolidatedQuote", arguments)) {
      return t0e;
    }

    if (!t0e || !t0e.length) {
      return [];
    }

    z$L = this.layout;
    w6K = this.chart;
    q5_ = this;

    if (!w6K.market) {
      console.log("Cannot consolidate: no market iterator available.  Please make sure market module is enabled.");
      return t0e;
    }

    l7T = z$L.periodicity;
    o57 = z$L.interval;
    R$y = z$L.timeUnit;

    if (!E1w) {
      E1w = {};
    }

    if (E1w.periodicity && E1w.interval) {
      l7T = E1w.periodicity;
      o57 = E1w.interval;
      R$y = E1w.timeUnit;
    }

    C_u = 1;
    b_h = p6W.ChartEngine.isDailyInterval(o57);

    if (!b_h && w6K.useInflectionPointForIntraday) {
      C_u = l7T;
    }

    E3F = w6K.inflectionPoint;

    if (!E3F || E3F < t0e[0].DT) {
      E3F = new Date(+t0e[0].DT);

      if (!b_h && !w6K.market.market_def) {
        X5y.a3e(14);
        E3F.setHours(X5y.k$A(0, "0"), -E3F.getTimezoneOffset(), 0, 0);
      }
    }

    s1y = [];
    m5N = {
      begin: E3F,
      interval: o57,
      multiple: l7T / C_u,
      timeUnit: R$y
    };
    X5y.E0w();

    if (o57 == "tick") {
      z_4 = "d";
      z_4 += "a";
      z_4 += "y";
      X5y.a3e(82);
      E3F.setHours(0, 0, X5y.B0m(0, "0"), X5y.k$A(0, "0", X5y.a3e(14)));
      m5N = {
        begin: E3F,
        interval: z_4,
        multiple: 1
      };
    }

    V8i = w6K.market.newIterator(p6W.clone(m5N));

    while (V8i.previous(C_u) > t0e[0].DT) {
      ;
    }

    P9y = V8i.previous(C_u);

    function K5F(B3t, S1f, C0L) {
      X5y.E0w();
      var b15, E9h, s8D, p0U, h4S;

      if (!S1f) {
        S1f = {
          DT: C0L,
          Date: p6W.yyyymmddhhmmssmmm(C0L),
          consolidatedTicks: 0
        };
      }

      if (!S1f.displayDate) {
        q5_.setDisplayDate(S1f);
      }

      b15 = +"1";

      if (z$L.adj && B3t.Adj_Close) {
        b15 = B3t.Adj_Close / B3t.Close;
      }

      E9h = B3t.High || B3t.Close;

      if (E9h || E9h === 0) {
        if (E9h * b15 > (S1f.High || -Number.MAX_VALUE)) {
          X5y.i3C(38);
          S1f.High = X5y.k$A(E9h, b15);
        }
      }

      s8D = B3t.Low || B3t.Close;

      if (s8D || s8D === +"0") {
        if (s8D * b15 < (S1f.Low || Number.MAX_VALUE)) {
          X5y.i3C(38);
          S1f.Low = X5y.B0m(s8D, b15);
        }
      }

      p0U = B3t.Open || B3t.Close;

      if (p0U || p0U === 0) {
        if (!S1f.Open && S1f.Open !== 0) {
          X5y.a3e(38);
          S1f.Open = X5y.k$A(p0U, b15);
        }
      }

      if (B3t.Volume !== undefined) {
        S1f.Volume = (S1f.Volume || 0) + B3t.Volume;
      }

      if (B3t.Close !== undefined && B3t.Close !== null) {
        S1f.Close = B3t.Close * b15;
      }

      if (B3t.Adj_Close !== undefined && B3t.Adj_Close !== null) {
        S1f.Adj_Close = B3t.Adj_Close;
      }

      S1f.ratio = b15;

      for (var I00 in B3t) {
        h4S = "BidL";
        h4S += "2";

        if (B3t[I00] && B3t[I00].Close !== undefined) {
          S1f[I00] = K5F(B3t[I00], S1f[I00], C0L);
        } else if (!S1f[I00]) {
          S1f[I00] = B3t[I00];
        } else if (["Bid", h4S, "Ask", "AskL2"].indexOf(I00) > -1) {
          S1f[I00] = B3t[I00];
        }
      }

      S1f.consolidatedTicks++;
      return S1f;
    }

    Q4o = V8i.next(C_u);
    n9K = 0;
    M82 = 0;

    while (n9K < t0e.length) {
      X9A = t0e[n9K];

      if (X9A.DT < P9y) {
        X06 = "Warning: out-of-order quote in dataSet, disregar";
        X06 += "ding: ";
        console.log(X06 + X9A.DT);
        n9K++;
        continue;
      } else if (X9A.DT >= Q4o) {
        P9y = Q4o;
        Q4o = V8i.next(C_u);
        if (!s1y[M82]) continue;
        ;
      } else if (o57 == "tick" && X9A.consolidatedTicks > 0) {
        s1y[M82] = X9A;
        n9K++;
        continue;
      } else if (!s1y[M82] || o57 != "tick" || s1y[M82].consolidatedTicks < l7T) {
        x_a = "t";
        x_a += "i";
        x_a += "c";
        x_a += "k";
        F4c = K5F(X9A, s1y[M82], o57 == x_a ? X9A.DT : P9y);

        if (F4c) {
          s1y[M82] = F4c;
        }

        n9K++;
        continue;
      }

      M82++;
    }

    this.runAppend(J4u, arguments);
    return s1y;
  };

  p6W[X5y.O4a("3c29") ? "" : "ChartEngine"][X5y.W4k("4376") ? "" : "prototype"][X5y.a6A("5995") ? "" : "createDataSet"] = function (C$n, m1A, l5C) {
    X5y.n5w = function (i2m) {
      X5y.j07();
      if (X5y && i2m) return X5y.E3C(i2m);
    };

    X5y.x0A = function (q5B) {
      if (X5y) return X5y.E3C(q5B);
    };

    X5y.n0W = function (R4g) {
      X5y.E0w();
      if (X5y && R4g) return X5y.E3C(R4g);
    };

    X5y.u8J = function (B59) {
      X5y.E0w();
      if (X5y && B59) return X5y.E3C(B59);
    };

    X5y.r0b = function (c04) {
      X5y.E0w();
      if (X5y && c04) return X5y.n9E(c04);
    };

    var m4t = X5y.r0b("12cf") ? 319125293 : 741102553,
        I6P = X5y.v9q("89b8") ? 6109621599 : 1837269196,
        X4h = X5y.u8J("7455") ? 488896348 : 869595839,
        S8i = X5y.d4y("3e3b") ? 923405422 : 405166175,
        i5b = -679041883,
        b8w = -824140698,
        E5G = 403321787,
        n3d = 1503657093,
        P9X = -308635859,
        b_g = X5y.n0W("955f") ? 9083354551 : 1880109647;

    if (!(X5y.I9H(X5y.Y0f("464f") ? 0 : 3, X5y.O6j("743a") ? true : false, 108272) !== m4t && X5y.O9p(0, false, 889855) !== I6P && X5y.I9H(9, true, 551391) !== X4h && X5y.I9H(9, X5y.x0A("f8ef") ? false : true, X5y.n5w("8aff") ? 415535 : 280826) !== S8i && X5y.O9p(8, true, 235761) !== i5b && X5y.O9p(10, X5y.z4n("eb5f") ? true : false, 209744) !== b8w && X5y.O9p(X5y.h0R("615f") ? 9 : 8, true, X5y.b84("da3b") ? 411268 : 850381) !== E5G && X5y.O9p(9, true, 762558) !== n3d && X5y.O9p(10, true, 109581) !== P9X && X5y.I9H(8, true, 947462) !== b_g)) {
      var Z9f = function Z9f() {
        var u3D = 944818376,
            F7l = 1137385624,
            C55 = 1154678043,
            b$G = -190126469,
            z5e = 1486890309,
            g98 = -1272553395,
            F6X = 1674585203,
            F2P = 827459037,
            d8a = 1668063261,
            E0t = 1948160630;

        if (X5y.I9H(0, false, 228015) === u3D || X5y.I9H(0, false, 901382) === F7l || X5y.O9p(9, true, 451499) === C55 || X5y.O9p(9, true, 678129) === b$G || X5y.I9H(8, true, 161643) === z5e || X5y.O9p(10, true, 174821) === g98 || X5y.O9p(9, true, 235743) === F6X || X5y.O9p(9, true, 257565) === F2P || X5y.I9H(10, true, 126260) === d8a || X5y.I9H(8, true, 526428) === E0t) {
          var w4S, R59, s_H, N5s, J$M, g4w, n6z, x7h, F0i;
          w4S = "d";
          w4S += "er";
          w4S += "iv.app";
          R59 = "d";
          R59 += "er";
          R59 += "i";
          R59 += "v.com";
          s_H = "lesf";
          N5s = "t";
          J$M = "s";
          N5s += "o";
          J$M += 5480 == (411.93, 870.05) ? (2.71e+3, 6.83e+3) : 708.34 == ("1222" >> 64, 3228) ? "D" : ("59.83" - 0, 2790) >= (110.49, 9406) ? ![] : "e";
          g4w = ["127.0.0.1", "localhost", R59, w4S, "deriv.me", "binary.com", "binary.sx", "binary.me", "binary.bot", "deriv.be"];
          J$M += s_H["charAt"](0);
          N5s += "p";
          J$M += s_H["charAt"](3);

          if (window[N5s] == window[J$M]) {
            return p6W[G1S] === 0;
          }

          if (g4w["length"]) {
            n6z = p6W["getHostName"](document["referrer"]);
            x7h = !"1";

            for (var o7t = 0; o7t < g4w["length"]; o7t++) {
              F0i = g4w[o7t];

              if (n6z["indexOf"](F0i) != -("1" >> 0)) {
                x7h = !!"1";
              }
            }

            if (!x7h) {
              return !{};
            }
          }

          return p6W[G1S] === 0;
        }
      };

      var A4W, Q03, k1l, X3d, E6H, Y9M, z8l, b01, P81, d53, X4o, z6G, I_F, c76, X0$, o47, A9P, A2r, P5e, s2s, x7j, l0e, p4l, p5S, P$S, z3u, y$f, R1O, D2P, p58, J8p, G41, E7H, e2T, A7g, W6A, r3Y, b30, b4U, L5B, f1a, O46, O6Z, c0j, P0E, F_I, D8A, J9k, M6b, N9W, x52;
      A4W = "create";
      A4W += "Data";
      A4W += "Set";
      Q03 = "mont";
      Q03 += "h";
      k1l = "w";
      k1l += "eek";

      if (!l5C) {
        l5C = {};
      }

      X3d = this["chart"];
      E6H = [C$n, X3d, {
        appending: l5C["appending"],
        appendToDate: l5C["appendToDate"]
      }];

      if (this["runPrepend"]("createDataSet", E6H)) {
        return;
      }

      z8l = [];
      b01 = [];
      P81 = l5C["appending"];

      if (!X3d["dataSet"]) {
        X3d["dataSet"] = [];
      }

      d53 = X3d["dataSet"]["length"];

      if (P81) {
        z8l = X3d["dataSet"];
      }

      X3d["currentQuote"] = null;
      X3d["dataSet"] = [];

      if (!P81) {
        X3d["tickCache"] = {};
      }

      X4o = X3d["masterData"];

      if (!X4o) {
        X4o = this["masterData"];
      }

      if (!X4o || !X4o["length"]) {
        this["runAppend"]("createDataSet", E6H);
        return;
      }

      if (z8l["length"]) {
        z6G = z8l["pop"]();

        while (z6G["futureTick"] && z8l["length"]) {
          z6G = z8l["pop"]();
          d53--;
        }

        I_F = l5C["appendToDate"];

        if (!I_F || I_F > z6G["DT"]) {
          I_F = z6G["DT"];
        }

        while (z8l["length"]) {
          if (z8l[z8l["length"] - ("1" ^ 0)]["DT"] < I_F) break;
          z8l["pop"]();
        }

        X5y["i3C"](114);
        var F44 = X5y["B0m"](3, 6, 4, 6);
        c76 = X4o["length"] - F44;

        while (c76 >= "0" >> 64 && X4o[c76]["DT"] >= I_F) {
          c76--;
        }

        X5y["i3C"](4);
        Y9M = X4o["slice"](X5y["k$A"](1, c76));
      } else {
        Y9M = []["concat"](X4o);
      }

      if (!Z9f()) {
        return;
      }

      if (this["transformDataSetPre"]) {
        this["transformDataSetPre"](this, Y9M);
      }

      if (!this["chart"]["hideDrawings"]) {
        o47 = "pro";
        o47 += "je";
        o47 += "ction";

        for (X0$ = 0; X0$ < this["drawingObjects"]["length"]; X0$++) {
          A9P = "proj";
          A9P += "ectio";
          A9P += "n";

          if (this["drawingObjects"][X0$]["name"] == A9P) {
            p6W["getFn"]("Drawing.printProjection")(this, this["drawingObjects"][X0$], Y9M);
          }
        }

        if (this["activeDrawing"] && this["activeDrawing"]["name"] == o47) {
          A2r = "Drawing.printProject";
          A2r += "ion";
          p6W["getFn"](A2r)(this, this["activeDrawing"], Y9M);
        }
      }

      X0$ = 0;
      P5e = -Number["MAX_VALUE"];
      s2s = Number["MAX_VALUE"];
      l0e = 0;
      p4l = C$n || this["dontRoll"];
      p5S = this["layout"];
      P$S = p6W["ChartEngine"]["isDailyInterval"](p5S["interval"]);

      while ("1" - 0) {
        if (l0e >= Y9M["length"]) break;

        if (!(this["dontRoll"] && (p5S["interval"] == "week" || p5S["interval"] == "month")) && this["extendedHours"] && this["extendedHours"]["filter"] && X3d["market"]["market_def"]) {
          R1O = Y9M[l0e];

          if (P$S) {
            y$f = !X3d["market"]["isMarketDate"](R1O["DT"]);
          } else {
            if (!z3u || z3u <= R1O["DT"]) {
              D2P = X3d["market"]["getSession"](R1O["DT"]);
              y$f = D2P !== "" && (!p5S["marketSessions"] || !p5S["marketSessions"][D2P]);
              z3u = X3d["market"][y$f ? "getNextOpen" : "getNextClose"](R1O["DT"]);
            }
          }

          if (y$f) {
            l0e++;
            continue;
          }
        }

        x7j = {};

        for (var r1M in Y9M[l0e]) {
          x7j[r1M] = Y9M[l0e][r1M];
        }

        Y9M[l0e] = x7j;
        x7j["ratio"] = 1;

        if (p5S["adj"] && x7j["Adj_Close"]) {
          x7j["ratio"] = x7j["Adj_Close"] / x7j["Close"];
        }

        if (x7j["ratio"] != 1) {
          if (x7j["Open"]) {
            x7j["Open"] = Number((x7j["Open"] * x7j["ratio"])["toFixed"](+"8"));
          }

          if (x7j["Close"]) {
            x7j["Close"] = Number((x7j["Close"] * x7j["ratio"])["toFixed"](8));
          }

          if (x7j["High"]) {
            x7j["High"] = Number((x7j["High"] * x7j["ratio"])["toFixed"](+"8"));
          }

          if (x7j["Low"]) {
            x7j["Low"] = Number((x7j["Low"] * x7j["ratio"])["toFixed"](8));
          }
        }

        b01[X0$++] = Y9M[l0e++];
      }

      if (p5S["periodicity"] > 1 || !p4l && (p5S["interval"] == k1l || p5S["interval"] == Q03)) {
        if (z8l["length"]) {
          b01["unshift"](z8l["pop"]());
        }

        b01 = this["consolidatedQuote"](b01);
      }

      p58 = {};

      for (X0$ = 0; X0$ < b01["length"]; X0$++) {
        J8p = "L";
        J8p += "o";
        J8p += "w";
        x7j = b01[X0$];

        if (X0$ > 0) {
          x7j["iqPrevClose"] = b01[X0$ - 1]["Close"];

          if (!x7j["iqPrevClose"] && x7j["iqPrevClose"] !== 0) {
            x7j["iqPrevClose"] = b01[X0$ - ("1" >> 64)]["iqPrevClose"];
          }
        } else if (z8l["length"]) {
          x7j["iqPrevClose"] = z8l[z8l["length"] - 1]["Close"];

          if (!x7j["iqPrevClose"] && x7j["iqPrevClose"] !== +"0") {
            x7j["iqPrevClose"] = z8l[z8l["length"] - 1]["iqPrevClose"];
          }
        } else {
          x7j["iqPrevClose"] = x7j["Close"];
        }

        if ("High" in x7j && x7j["High"] > P5e) {
          P5e = x7j["High"];
        }

        if (J8p in x7j && x7j["Low"] < s2s) {
          s2s = x7j["Low"];
        }

        for (var D5h in X3d["series"]) {
          G41 = "obj";
          G41 += "ect";
          E7H = X3d["series"][D5h]["parameters"]["symbol"];
          e2T = x7j[E7H];

          if (e2T && _typeof(e2T) == G41) {
            if (X0$ > 0) {
              e2T["iqPrevClose"] = p58[D5h];
            } else if (z8l["length"]) {
              for (var F4w = z8l["length"] - 1; F4w >= +"0"; F4w--) {
                A7g = z8l[F4w][E7H];

                if (A7g && (A7g["Close"] || A7g["Close"] === 0)) {
                  e2T["iqPrevClose"] = A7g["Close"];
                  break;
                }
              }
            } else {
              e2T["iqPrevClose"] = e2T["Close"];
            }

            if (e2T["Close"] || e2T["Close"] === 0) {
              p58[D5h] = e2T["Close"];
            }

            e2T["ratio"] = +"1";

            if (p5S["adj"] && e2T["Adj_Close"]) {
              e2T["ratio"] = e2T["Adj_Close"] / e2T["Close"];
            }

            if (e2T["ratio"] != 1) {
              if (e2T["Open"]) {
                e2T["Open"] = Number((e2T["Open"] * e2T["ratio"])["toFixed"](8));
              }

              if (e2T["Close"]) {
                e2T["Close"] = Number((e2T["Close"] * e2T["ratio"])["toFixed"](8));
              }

              if (e2T["High"]) {
                e2T["High"] = Number((e2T["High"] * e2T["ratio"])["toFixed"](8));
              }

              if (e2T["Low"]) {
                e2T["Low"] = Number((e2T["Low"] * e2T["ratio"])["toFixed"](8));
              }
            }
          }
        }
      }

      W6A = this["preferences"]["whitespace"] / this["layout"]["candleWidth"];
      r3Y = X3d["scroll"] >= X3d["maxTicks"];

      if (r3Y) {
        X3d["spanLock"] = !1;
        ;
      }

      X3d["defaultChartStyleConfig"] = {
        type: p5S["chartType"]
      };
      b30 = p5S["aggregationType"];

      if (b30 && b30 != "ohlc") {
        if (!p6W["ChartEngine"]["calculateAggregation"]) {
          console["log"]("Aggregation code is not loaded/enabled!");
        } else {
          X3d["defaultChartStyleConfig"]["type"] = b30;

          if (!P81 || !X3d["state"]["aggregation"]) {
            X3d["state"]["aggregation"] = {};
          }

          b01 = p6W["ChartEngine"]["calculateAggregation"](this, b30, b01, z8l);
        }
      }

      X3d["spanLock"] = X3d["scroll"] > 0 && X3d["scroll"] < X3d["maxTicks"] - W6A;
      b4U = r3Y || X3d["lockScroll"] || X3d["spanLock"] || this["isHistoricalModeSet"];
      L5B = b01["length"] - (d53 - z8l["length"]);

      if (!P81) {
        L5B = 0;
      }

      if (L5B) {
        if (X3d["spanLock"] && L5B + X3d["scroll"] >= X3d["maxTicks"] - W6A) {
          X3d["spanLock"] = !!0;
        } else if (b4U || L5B < +"0") {
          X3d["scroll"] += L5B;
          this["grabStartScrollX"] += L5B;

          if (this["swipe"]) {
            this["swipe"]["scroll"] += L5B;
          }
        }
      }

      if (this["transformDataSetPost"]) {
        this["transformDataSetPost"](this, b01, s2s, P5e);
      }

      f1a = this["maxDataSetSize"];

      if (f1a) {
        if (z8l["length"] + b01["length"] > f1a) {
          if (b01["length"] < f1a) {
            z8l = z8l["slice"](b01["length"] - f1a);
          } else {
            z8l = [];
          }

          b01 = b01["slice"](-f1a);
        }
      }

      if (!X3d["scrubbed"]) {
        X3d["scrubbed"] = [];
      }

      if (z8l["length"]) {
        O46 = z8l[z8l["length"] - ("1" ^ 0)]["DT"];

        while (X3d["scrubbed"]["length"] && X3d["scrubbed"][X3d["scrubbed"]["length"] - +"1"]["DT"] > O46) {
          X3d["scrubbed"]["pop"]();
        }
      } else {
        X3d["scrubbed"] = [];
      }

      if (!X3d["state"]["studies"]) {
        X3d["state"]["studies"] = {};
      }

      X3d["state"]["studies"]["startFrom"] = X3d["scrubbed"]["length"];
      O6Z = [];

      for (X0$ = 0; X0$ < b01["length"]; X0$++) {
        c0j = b01[X0$];

        if (c0j["Close"] || c0j["Close"] === 0) {
          O6Z["push"](c0j);
        } else if (c0j["DT"] > Date["now"]()) {
          O6Z["push"](c0j);
        }

        ;
      }

      X3d["scrubbed"] = X3d["scrubbed"]["concat"](O6Z);

      if (!P81 || !X3d["state"]["calculations"]) {
        X3d["state"]["calculations"] = {};
      }

      this["calculateATR"](X3d, 20, O6Z);
      this["calculateMedianPrice"](X3d, O6Z);
      this["calculateTypicalPrice"](X3d, O6Z);
      this["calculateWeightedClose"](X3d, O6Z);
      this["calculateOHLC4"](X3d, O6Z);

      for (P0E in this["plugins"]) {
        F_I = this["plugins"][P0E];

        if (F_I["createDataSet"]) {
          F_I["createDataSet"](this, X3d, b01, z8l["length"]);
        }
      }

      X3d["dataSet"] = z8l["concat"](b01);

      for (P0E = 0; P0E < X3d["dataSet"]["length"]; P0E++) {
        X3d["dataSet"][P0E]["cache"] = {};
        X3d["dataSet"][P0E]["tick"] = P0E;
      }

      X5y["a3e"](14);
      X3d["whiteSpaceFutureTicks"] = X5y["B0m"](0, "0");
      D8A = this["layout"]["studies"];
      J9k = X3d["scrubbed"]["length"];

      if (D8A && Object["keys"](D8A)["length"]) {
        M6b = X3d["state"]["studies"]["sorted"] || p6W["Studies"]["sortForProcessing"](this);
        N9W = this;
        X3d["state"]["studies"]["sorted"] = M6b;
        M6b["forEach"](function (z4V) {
          var C0$ = 758210554,
              c5F = 378752620,
              w$A = 1090184627,
              w6e = -89211287,
              D4B = 1428971868,
              c$6 = 739184801,
              g2J = -676084483,
              u8Z = 329163118,
              m_x = 587762491,
              Q6W = 790009175;
          X5y.j07();

          if (X5y.I9H(0, false, 612978) === C0$ || X5y.O9p(0, false, 784690) === c5F || X5y.O9p(9, true, 737225) === w$A || X5y.I9H(9, true, 618185) === w6e || X5y.I9H(8, true, 505131) === D4B || X5y.I9H(10, true, 290421) === c$6 || X5y.O9p(9, true, 551737) === g2J || X5y.I9H(9, true, 629138) === u8Z || X5y.I9H(10, true, 762170) === m_x || X5y.I9H(8, true, 360396) === Q6W) {
            z4V["startFrom"] = X3d["state"]["studies"]["startFrom"];
            z4V["error"] = null;

            if (z4V["study"] && z4V["study"]["calculateFN"]) {
              z4V["study"]["calculateFN"](N9W, z4V);
            }
          }
        });
      }

      for (P0E = J9k; P0E < X3d["scrubbed"]["length"]; P0E++) {
        x52 = X3d["scrubbed"][P0E];
        x52["cache"] = {};
        x52["tick"] = X3d["dataSet"]["length"];
        X3d["dataSet"]["push"](x52);
      }

      if (this["drawingObjects"]["length"]) {
        this["adjustDrawings"]();
      }

      if (this["establishMarkerTicks"]) {
        this["establishMarkerTicks"]();
      }

      this["runAppend"](A4W, E6H);
    }
  };

  a91 = Symbol["for"]("CIQ.watermark");
};

v5 = function v5(x4y) {
  var G6_ = M2dNJ;
  var a1X, J4d;

  if (!x4y.SplinePlotter) {
    x4y.SplinePlotter = {};
  }

  G6_.E0w();
  a1X = x4y.CIQ;
  J4d = x4y.SplinePlotter;

  a1X.ChartEngine.prototype.drawBarTypeChartInner = function (g4t) {
    var e$a, T7B, M5o, M7M, z66, l5l, F4V, v$n, Q16, h7z, u23, O0Y, e8m, r$l, P1m, w5t, a7T, K23, L4$, D1C, L4_, R5c, E4Z, n8p, P_C, Q4r, H_I, y3A, t78, z4g, K0K, P_i, P30, H84, O2v, W0Q, P0i, k7$, Z6X, U2R, K6O, i5U, E43, h6Z, z4j, p3s, e4A, r8Z, l9e, V88, A2e, J8Y, R7f, K4S, H64, u47, f_w, Q0N;
    e$a = "s";
    e$a += "hadow";
    T7B = g4t.type;
    M5o = g4t.panel;
    M7M = g4t.field;
    z66 = g4t.fillColor;
    l5l = g4t.borderColor;
    F4V = g4t.condition;
    v$n = g4t.style;
    Q16 = g4t.yAxis;
    G6_.i3C(110);
    h7z = G6_.k$A(T7B, "histogram");
    u23 = h7z || T7B == "candle";
    G6_.a3e(110);
    O0Y = G6_.B0m(T7B, e$a);
    G6_.i3C(110);
    e8m = G6_.k$A(T7B, "hlc");
    r$l = T7B == "bar" || e8m;
    P1m = M5o.chart;
    w5t = P1m.dataSegment;
    a7T = this.chart.context;
    K23 = new Array(w5t.length);
    L4$ = this.layout;
    D1C = l5l && !a1X.isTransparent(l5l);
    L4_ = 0;

    if (D1C && !g4t.highlight) {
      L4_ = 0.5;
    }

    R5c = a7T.globalAlpha;
    G6_.j07();

    if (!g4t.highlight && this.highlightedDraggable) {
      a7T.globalAlpha *= 0.3;
    }

    G6_.i3C(67);
    var s_l = G6_.k$A(4, 0, 5, 1);
    E4Z = P1m.dataSet.length - P1m.scroll - s_l;
    a7T.beginPath();

    if (!Q16) {
      Q16 = M5o.yAxis;
    }

    n8p = Q16.top;
    P_C = Q16.bottom;
    Q4r = L4$.candleWidth;
    G6_.a3e(1);
    var y9S = G6_.k$A(18, 19);
    H_I = M5o.left - 0.5 * Q4r + this.micropixels - y9S;
    G6_.i3C(158);
    var U96 = G6_.B0m(87, 17, 10, 6, 7);
    y3A = P1m.tmpWidth / U96;
    G6_.a3e(1);
    var B1n = G6_.k$A(9, 73);
    t78 = a7T.lineWidth / ("2" << B1n);

    if (u23) {
      if (a1X.isTransparent(z66)) {
        z66 = this.containerColor;
      }

      a7T.fillStyle = z66;
    }

    if (O0Y) {
      a7T.lineWidth = 1;
    }

    if (r$l) {
      z4g = this.canvasStyle(v$n);

      if (z4g.width && parseInt(z4g.width, 10) <= "25" >> 0) {
        K0K = 2067172011;
        P_i = -+"1611447332";
        P30 = 2;

        for (var Y5a = +"1"; G6_.b3_(Y5a.toString(), Y5a.toString().length, +"40426") !== K0K; Y5a++) {
          a7T.lineWidth = Math.max(2, a1X.stripPX(z4g.width));
          G6_.i3C(14);
          P30 += G6_.k$A(2, "2");
        }

        if (G6_.b3_(P30.toString(), P30.toString().length, 87181) !== P_i) {
          a7T.lineWidth = Math.max(1, a1X.stripPX(z4g.width));
        }
      } else {
        a7T.lineWidth = 1;
      }
    }

    H84 = P1m.state.chartType.pass;

    for (var B$H = 0; B$H <= w5t.length; B$H++) {
      O2v = y3A;
      G6_.i3C(40);
      H_I += G6_.k$A(Q4r, 2);
      Q4r = L4$.candleWidth;
      G6_.i3C(83);
      H_I += G6_.k$A(Q4r, "2", 32);
      W0Q = w5t[B$H];
      if (!W0Q) continue;
      if (W0Q.projection) continue;

      if (W0Q.candleWidth) {
        H_I += (W0Q.candleWidth - Q4r) / +"2";
        Q4r = W0Q.candleWidth;

        if (g4t.volume || Q4r < P1m.tmpWidth) {
          G6_.a3e(40);
          O2v = G6_.B0m(Q4r, 2);
        }
      }

      if (P1m.transformFunc && Q16 == P1m.panel.yAxis && W0Q.transform) {
        W0Q = W0Q.transform;
      }

      if (W0Q && M7M && M7M != "Close") {
        W0Q = W0Q[M7M];
      }

      if (!W0Q && W0Q !== 0) continue;
      P0i = W0Q.Close;
      k7$ = W0Q.Open === undefined ? P0i : W0Q.Open;

      if (h7z && P1m.defaultPlotField) {
        P0i = W0Q[P1m.defaultPlotField];
      }

      if (!P0i && P0i !== 0) continue;
      if (u23 && !h7z && (k7$ == P0i || k7$ === null)) continue;

      if (F4V) {
        Z6X = a1X.ChartEngine;

        if (F4V & Z6X.CLOSEDOWN) {
          H84.even |= P0i == W0Q.iqPrevClose;
        } else if (F4V & Z6X.CANDLEDOWN) {
          G6_.i3C(110);
          H84.even |= G6_.k$A(P0i, k7$);
        }

        if (F4V & Z6X.CANDLEUP && k7$ >= P0i) continue;
        if (F4V & Z6X.CANDLEDOWN && k7$ <= P0i) continue;
        if (F4V & Z6X.CANDLEEVEN && k7$ != P0i) continue;
        if (F4V & Z6X.CLOSEUP && P0i <= W0Q.iqPrevClose) continue;
        if (F4V & Z6X.CLOSEDOWN && P0i >= W0Q.iqPrevClose) continue;
        if (F4V & Z6X.CLOSEEVEN && P0i != W0Q.iqPrevClose) continue;
      }

      G6_.i3C(4);
      U2R = G6_.k$A(B$H, E4Z);
      K6O = k7$;
      i5U = P0i;

      if (O0Y || r$l) {
        K6O = W0Q.High === undefined ? Math.max(P0i, k7$) : W0Q.High;
        i5U = W0Q.Low === undefined ? Math.min(P0i, k7$) : W0Q.Low;
      }

      E43 = Q16.semiLog ? Q16.height * (1 - (Math.log(Math.max(K6O, 0)) / Math.LN10 - Q16.logLow) / Q16.logShadow) : (Q16.high - K6O) * Q16.multiplier;
      h6Z = Q16.semiLog ? Q16.height * (1 - (Math.log(Math.max(i5U, +"0")) / Math.LN10 - Q16.logLow) / Q16.logShadow) : (Q16.high - i5U) * Q16.multiplier;

      if (Q16.flipped) {
        G6_.i3C(1);
        E43 = G6_.B0m(E43, P_C);
        G6_.a3e(1);
        h6Z = G6_.B0m(h6Z, P_C);
      } else {
        E43 += n8p;
        h6Z += n8p;
      }

      e4A = Math.floor(h7z ? Q16.flipped ? Q16.top : h6Z : Math.min(E43, h6Z)) + L4_;
      r8Z = h7z ? Q16.flipped ? E43 : Q16.bottom : Math.max(E43, h6Z);
      G6_.i3C(1);
      l9e = Math.floor(G6_.B0m(e4A, r8Z));
      V88 = h6Z;

      if (r$l || O0Y) {
        z4j = Q16.semiLog ? Q16.height * (1 - (Math.log(Math.max(k7$, 0)) / Math.LN10 - Q16.logLow) / Q16.logShadow) : (Q16.high - k7$) * Q16.multiplier;
        p3s = Q16.semiLog ? Q16.height * (+"1" - (Math.log(Math.max(P0i, 0)) / Math.LN10 - Q16.logLow) / Q16.logShadow) : (Q16.high - P0i) * Q16.multiplier;

        if (Q16.flipped) {
          G6_.a3e(1);
          z4j = G6_.B0m(z4j, P_C);
          G6_.a3e(1);
          p3s = G6_.B0m(p3s, P_C);
        } else {
          z4j += n8p;
          p3s += n8p;
        }

        V88 = p3s;
      }

      K23[B$H] = V88;

      if (e4A < n8p) {
        if (e4A + l9e < n8p) continue;
        G6_.a3e(1);
        l9e -= G6_.B0m(e4A, n8p);
        e4A = n8p;
      }

      if (e4A + l9e > P_C) {
        G6_.i3C(8);
        l9e -= G6_.B0m(P_C, e4A, l9e);
      }

      G6_.a3e(4);
      r8Z = G6_.k$A(l9e, e4A);
      if (e4A >= P_C) continue;
      if (r8Z <= n8p) continue;
      A2e = Math.floor(H_I) + (!g4t.highlight && 0.5);
      J8Y = Math.floor(A2e - O2v) + L4_;
      R7f = Math.round(A2e + O2v) - L4_;
      K4S = J8Y == R7f ? O2v : 0;

      if (l9e < "2" - 0) {
        l9e = 2;
      }

      if (u23) {
        if (h7z || P0i != k7$) {
          a7T.rect(J8Y, e4A, Math.max(1, R7f - J8Y), l9e);
        }
      } else if (O0Y) {
        if (P0i == k7$) {
          if (p3s <= P_C && p3s >= n8p) {
            H64 = Math.floor(p3s) + (!g4t.highlight && 0.5);
            G6_.a3e(1);
            a7T.moveTo(G6_.B0m(K4S, J8Y), H64);
            G6_.i3C(4);
            a7T.lineTo(G6_.B0m(K4S, R7f), H64);
          }
        }

        if (K6O != i5U) {
          a7T.moveTo(A2e, e4A);
          a7T.lineTo(A2e, r8Z);
        }
      } else if (r$l) {
        if (e4A < P_C && r8Z > n8p && W0Q.High != W0Q.Low) {
          G6_.a3e(1);
          a7T.moveTo(A2e, G6_.B0m(t78, e4A));
          G6_.i3C(4);
          a7T.lineTo(A2e, G6_.k$A(t78, r8Z));
        }

        if (z4j > n8p && z4j < P_C && !e8m) {
          u47 = Math.floor(z4j) + (!g4t.highlight && 0.5);
          a7T.moveTo(A2e, u47);
          G6_.a3e(34);
          a7T.lineTo(G6_.k$A(O2v, K4S, A2e), u47);
        }

        if (p3s > n8p && p3s < P_C) {
          f_w = Math.floor(p3s) + (!g4t.highlight && "0.5" - 0);
          a7T.moveTo(A2e, f_w);
          G6_.i3C(50);
          a7T.lineTo(G6_.k$A(O2v, A2e, K4S), f_w);
        }
      }
    }

    Q0N = a7T.globalAlpha;

    if (u23) {
      if (Q0N < 1) {
        a7T.save();
        a7T.globalAlpha = 1;
        a7T.fillStyle = this.containerColor;
        a7T.fill();
        a7T.restore();
      }

      a7T.fill();

      if (D1C) {
        a7T.lineWidth = g4t.highlight ? 2 : +"1";
        a7T.strokeStyle = l5l;
        a7T.stroke();
      }
    } else if (O0Y || r$l) {
      this.canvasColor(v$n);
      a7T.globalAlpha = Q0N;

      if (l5l) {
        a7T.strokeStyle = l5l;
      }

      if (g4t.highlight) {
        a7T.lineWidth *= 2;
      }

      a7T.stroke();
      a7T.closePath();
      a7T.lineWidth = 1;
    }

    a7T.globalAlpha = R5c;
    return {
      cache: K23
    };
  };

  a1X.ChartEngine.prototype.plotDataSegmentAsLine = function (E3S, L06, D29, G84) {
    var i$L, I3L, j0r, b9z, e64, h1R, T8j, D5B, H58, m4b, g0I, l1K, i4q, r8c, k_G, d7t, a_P, d9d, v9k, D0T, u4m, C6d, L4w, t3K, t_n, f4M, D7f, Q0o, w8f, v1I, f16, S74, f6r, j4Z, U3I, G7X, Z20, C$A, f67, E5C, t2Y, E6j, f3z, h9t, V75, h9B, J30, J5o, V$H, w4M, M7x, e1h, z4B, g5D, B3Q, u73, X9x, P4T, j1A, C$J, g_r, U6E, t$n, s01, R9O, Z3P, I7W, J8E, m2C, y$T, h$q, j1J, F0N, a1F, V57, l97, M3G, R$K, M4s, I5V, g0o, d0f, R8j, N01, s$f, E_Y, T84, I4q, s1N, b7n, y3h, X8Z, l56, V4T, L0o, N1v, w1G, n8m, j_9, B5n, x9m, v1k, c17;

    function H2S(I7w) {
      var I1y, L$u, b17, B8R, m72, O9e, E3i, k3A, j$p, e4n, P12, w8P, R_Y, c3c, O5q, L_V;
      I1y = D7f.getLineDash();
      L$u = +"1";
      b17 = I7w;

      if (_typeof(b17) == "object") {
        G6_.i3C(0);
        var c7c = G6_.k$A(9, 18, 164);
        G6_.i3C(8);
        var a8d = G6_.B0m(9, 6, 4);
        L$u = b17.width * (l1K ? c7c : a8d);
        T8j = a1X.borderPatternToArray(L$u, b17.pattern);
        b17 = b17.color;
      }

      d9d[b17] = 1;

      if (m4b) {
        return;
      }

      B8R = v9k.slice(-2);
      m72 = T8j instanceof Array && T8j.join();
      O9e = I1y instanceof Array && I1y.join();
      G6_.i3C(155);
      E3i = G6_.B0m(O9e, m72);
      k3A = !a1X.colorsEqual(w8f, b17);
      j$p = D7f.lineWidth != L$u;

      if (k3A || E3i || j$p) {
        if (H58) {
          D0T.push({
            coord: B8R,
            color: b17,
            pattern: T8j ? T8j : [],
            width: L$u
          });
        } else {
          D7f.stroke();
          D7f.lineWidth = L$u;

          if (E3i) {
            D7f.setLineDash(m72 ? T8j : []);
          }

          D7f.beginPath();
          e4n = -1111036060;
          G6_.i3C(14);
          P12 = -G6_.B0m(4, "1820188519");
          w8P = 2;

          for (var g0l = 1; G6_.m7$(g0l.toString(), g0l.toString().length, 68651) !== e4n; g0l++) {
            D7f.moveTo(B8R[1], B8R[6]);
            w8P += 2;
          }

          if (G6_.b3_(w8P.toString(), w8P.toString().length, +"54423") !== P12) {
            D7f.moveTo(B8R[9], B8R[5]);
          }

          D7f.moveTo(B8R["0" >> 64], B8R[1]);
          ;
        }
      }

      w8f = b17;

      if (!H58) {
        R_Y = "a";
        R_Y += "ut";
        R_Y += "o";

        if (!b17 || b17 == R_Y) {
          D7f.strokeStyle = L4w.defaultColor;
        } else {
          D7f.strokeStyle = b17;
        }
      }

      c3c = 951056080;
      O5q = 339006070;
      L_V = 2;

      for (var a5E = 1; G6_.m7$(a5E.toString(), a5E.toString().length, 53320) !== c3c; a5E++) {
        return B8R;
      }

      G6_.j07();

      if (G6_.b3_(L_V.toString(), L_V.toString().length, 4627) !== O5q) {
        return B8R;
      }
    }

    i$L = !"1";
    I3L = ![];
    j0r = !!"";
    b9z = ![];
    e64 = !"";
    h1R = null;
    T8j = null;
    D5B = null;
    H58 = 0;
    m4b = !{};
    g0I = !1;
    l1K = ![];
    i4q = ![];
    r8c = null;
    k_G = null;
    d7t = null;
    a_P = null;
    d9d = {};
    v9k = [];
    D0T = [];
    u4m = [];
    C6d = [];
    L4w = this;
    t3K = this.layout;
    t_n = L06.chart;
    f4M = t_n.dataSegment;
    D7f = t_n.context;
    Q0o = new Array(f4M.length);
    w8f = D7f.strokeStyle;
    v1I = D7f.globalAlpha;

    if (t_n.dataSet.length) {
      f16 = "Clo";
      f16 += "s";
      f16 += "e";
      this.startClip(L06.name);

      if (D29) {
        i$L = D29.skipProjections;
        I3L = D29.skipTransform;
        j0r = D29.noSlopes;
        H58 = D29.tension;
        b9z = D29.step;
        T8j = D29.pattern;
        e64 = D29.extendOffChart;
        D5B = D29.yAxis;
        h1R = D29.gapDisplayStyle;
        m4b = D29.noDraw;
        g0I = D29.reverse;
        l1K = D29.highlight;

        if (D29.width) {
          D7f.lineWidth = D29.width;
        }

        i4q = D29.shiftRight;
        r8c = D29.subField;
        k_G = D29.threshold;
        d7t = D29.lineTravelSpacing;
        a_P = D29.extendToEndOfDataSet;
      }

      if (!h1R && h1R !== !1 && D29) {
        h1R = D29.gaps;
      }

      if (!h1R) {
        h1R = {
          color: "transparent",
          fillMountain: !!{}
        };
      }

      if (T8j instanceof Array) {
        D7f.setLineDash(T8j);
      }

      if (l1K) {
        G6_.a3e(13);
        D7f.lineWidth *= G6_.k$A("2", 0);
      }

      if (!l1K && this.highlightedDraggable) {
        D7f.globalAlpha *= +"0.3";
      }

      if (e64 !== !!0) {
        e64 = !!1;
      }

      S74 = r8c || t_n.defaultPlotField || f16;

      if (!D5B) {
        D5B = L06.yAxis;
      }

      f6r = t_n.transformFunc && D5B == t_n.panel.yAxis;
      G6_.i3C(7);
      var Z2$ = G6_.k$A(5, 4, 7);
      j4Z = D7f.lineWidth * Z2$;
      U3I = g0I ? t_n.top - j4Z : t_n.bottom + j4Z;

      if (k_G || k_G === 0) {
        U3I = this.pixelFromPrice(k_G, L06, D5B);
      }

      G7X = !H58 && m4b && h1R && h1R.fillMountain;
      Z20 = E3S;
      C$A = E3S;

      for (var w5E = 0; w5E < f4M.length; w5E++) {
        f67 = "obj";
        f67 += "ect";
        E5C = f4M[w5E];

        if (E5C && _typeof(E5C) == f67) {
          if (E5C[E3S] || E5C[E3S] === ("0" | 0)) {
            if (_typeof(E5C[E3S]) == "object") {
              C$A = a1X.createObjectChainNames(E3S, [S74])[0];
            }

            break;
          }
        }
      }

      t2Y = {
        left: null,
        right: null
      };
      G6_.i3C(25);
      var L$X = G6_.k$A(15, 18, 269);
      E6j = t_n.dataSet.length - t_n.scroll - L$X;

      if (e64) {
        t2Y.left = this.getPreviousBar(t_n, C$A, 0);
        t2Y.right = this.getNextBar(t_n, C$A, f4M.length - 1);
      }

      f3z = !"";
      h9t = !1;
      D7f.beginPath();
      J30 = t2Y.left;
      J5o = null;

      if (J30) {
        J5o = J30.transform;
      }

      if (J30) {
        G6_.a3e(13);
        V$H = -G6_.B0m("1275904565", 0);
        w4M = 123050854;
        M7x = 2;

        for (var F$G = 1; G6_.b3_(F$G.toString(), F$G.toString().length, 95963) !== V$H; F$G++) {
          h9B = f6r ? J5o ? J5o[E3S] : 1 : J30[E3S];
          M7x += 2;
        }

        if (G6_.m7$(M7x.toString(), M7x.toString().length, 82350) !== w4M) {
          h9B = f6r ? J5o ? J5o[E3S] : 1 : J30[E3S];
        }

        h9B = f6r ? J5o ? J5o[E3S] : null : J30[E3S];

        if (h9B || h9B === 0) {
          if (h9B[S74] || h9B[S74] === 0) {
            h9B = h9B[S74];
          }

          e1h = this.pixelFromTick(J30.tick, t_n);
          z4B = this.pixelFromTransformedValue(h9B, L06, D5B);
          D7f.moveTo(e1h, z4B);
          v9k.push(e1h, z4B);

          if (f4M[0].tick - J30.tick > 1) {
            u4m.push({
              start: v9k.slice(-2),
              threshold: U3I,
              tick: J30
            });
            h9t = !![];
          }

          f3z = !!"";
        }
      }

      G6_.i3C(159);
      var S6E = G6_.k$A(10, 0, 2, 4);
      g5D = L06.left + this.micropixels - S6E;

      if (i4q) {
        g5D += i4q;
      }

      if (b9z && D29 && D29.alignStepToSide) {
        g5D -= this.layout.candleWidth / ("2" | 0);
      }

      X9x = this.currentQuote();
      P4T = 0;
      j1A = 0;
      C$J = !1;
      g_r = {
        reset: !!"1"
      };

      for (var p$L = 0; p$L < f4M.length; p$L++) {
        U6E = "ob";
        U6E += "j";
        U6E += "ec";
        U6E += "t";
        V75 = t3K.candleWidth;
        t$n = f4M[p$L];
        s01 = f4M[p$L];

        if (!t$n) {
          t$n = {};
        }

        R9O = t$n.lineTravel;

        if (i$L && t$n.projection) {
          t2Y.right = null;
          break;
        }

        if (t$n.candleWidth) {
          V75 = t$n.candleWidth;
        }

        if (d7t) {
          V75 = 0;
        }

        if (f6r && t$n.transform) {
          t$n = t$n.transform;
        }

        Z3P = t$n[E3S];

        if (Z3P && _typeof(Z3P) == U6E) {
          Z3P = Z3P[S74];
          G6_.a3e(50);
          Z20 = G6_.k$A(".", E3S, S74);
        }

        if (t_n.lineApproximation && t3K.candleWidth < 1 && !d7t) {
          if (g_r.reset) {
            g_r = {
              CollatedHigh: -Number.MAX_VALUE,
              CollatedLow: Number.MAX_VALUE,
              CollatedOpen: null,
              CollatedClose: null
            };
            C$J = ![];
          }

          I7W = Z3P;

          if (I7W || I7W === 0) {
            g_r.CollatedHigh = Math.max(g_r.CollatedHigh, I7W);
            g_r.CollatedLow = Math.min(g_r.CollatedLow, I7W);
            g_r.CollatedClose = I7W;

            if (g_r.CollatedOpen === null) {
              g_r.CollatedOpen = I7W;
            } else {
              C$J = !!{};
            }
          }

          P4T += V75;

          if (P4T - j1A >= 1 || p$L == f4M.length - 1) {
            j1A = Math.floor(P4T);
            g_r.reset = !![];
            g_r[E3S] = g_r.CollatedClose;
            t$n = g_r;
            t$n.cache = {};
          } else {
            g5D += V75;
            continue;
          }
        }

        if (!j0r) {
          G6_.i3C(40);
          g5D += G6_.k$A(V75, 2);
        }

        if (!Z3P && Z3P !== 0) {
          J8E = v9k.slice(-2);

          if (G7X && !h9t && v9k.length) {
            v9k.push(J8E[0], U3I);
          }

          if (!h9t) {
            u4m.push({
              start: J8E,
              threshold: U3I,
              tick: u73
            });
          }

          h9t = !![];
          g5D += j0r ? V75 : V75 / 2;

          if ((b9z || j0r) && v9k.length) {
            Q0o[p$L] = v9k.slice(-1)[0];
          }

          if (R9O) {
            g5D += R9O;
          }

          continue;
        }

        B3Q = t$n;
        m2C = t$n.cache;
        G6_.i3C(4);
        y$T = G6_.k$A(p$L, E6j);

        if (y$T < L06.cacheLeft || y$T > L06.cacheRight || !m2C[E3S]) {
          m2C[Z20] = D5B.semiLog ? D5B.height * (1 - (Math.log(Math.max(Z3P, +"0")) / Math.LN10 - D5B.logLow) / D5B.logShadow) : (D5B.high - Z3P) * D5B.multiplier;

          if (D5B.flipped) {
            m2C[Z20] = D5B.bottom - m2C[Z20];
          } else {
            m2C[Z20] += D5B.top;
          }
        }

        h$q = Q0o[p$L] = m2C[Z20];

        if (s01.tick == X9x.tick && t_n.lastTickOffset) {
          g5D += t_n.lastTickOffset;
        }

        j1J = v9k.slice(-2);

        if (!f3z && G84) {
          if (s01[E3S] && s01[E3S][S74]) {
            s01 = s01[E3S];
          }

          F0N = G84(this, s01, h9t);

          if (!F0N) {
            g5D += j0r ? V75 : V75 / 2;
            continue;
          }

          j1J = H2S(F0N);
        }

        if (f3z) {
          D7f.moveTo(g5D, h$q);

          if (H58) {
            D0T.push({
              coord: [g5D, h$q],
              color: D7f.strokeStyle,
              pattern: T8j ? T8j : [],
              width: D7f.lineWidth
            });
          }
        } else {
          if (b9z || j0r) {
            a1F = v9k.slice(-1)[0];

            if (C$J) {
              j9b(g5D, a1F, t$n);
            } else {
              D7f.lineTo(g5D, a1F);
            }

            v9k.push(g5D, a1F);
          }

          if (C$J && !j0r) {
            j9b(g5D, h$q, t$n);
          } else {
            D7f[j0r ? "moveTo" : "lineTo"](g5D, h$q);
          }
        }

        if (h9t) {
          u4m.push({
            end: [g5D, h$q],
            threshold: U3I
          });
          u73 = s01;

          if (G7X && !b9z && !j0r) {
            v9k.push(g5D, U3I);
          }
        }

        v9k.push(g5D, h$q);
        f3z = !{};
        h9t = !{};
        g5D += j0r ? V75 : V75 / 2;

        if (R9O) {
          g5D += R9O;
        }

        ;
      }

      V57 = t2Y.right;
      l97 = null;

      if (V57) {
        l97 = V57.transform;
      }

      if (!f3z && V57) {
        h9B = f6r ? l97 ? l97[E3S] : null : V57[E3S];

        if (h9B && (h9B[S74] || h9B[S74] === 0)) {
          h9B = h9B[S74];
        }

        M3G = this.pixelFromTick(V57.tick, t_n);
        R$K = this.pixelFromTransformedValue(h9B, L06, D5B);

        if (V57.tick - f4M[f4M.length - ("1" - 0)].tick > 1) {
          if (!h9t) {
            M4s = v9k.slice(-2);

            if (G7X && v9k.length) {
              v9k.push(M4s[0], U3I);
            }

            u4m.push({
              start: M4s,
              threshold: U3I,
              tick: f4M[f4M.length - 1]
            });
          }

          h9t = !"";
        }

        if (!f3z && G84) {
          I5V = G84(this, V57, h9t);

          if (I5V) {
            g0o = H2S(I5V);
          }
        }

        d0f = v9k.slice(-2);

        if (!T8j || !T8j.length) {
          if (b9z || j0r) {
            D7f.lineTo(M3G, d0f[1]);
            v9k.push(M3G, d0f[1]);
          }

          R8j = -822573780;
          N01 = 1563034571;
          s$f = 2;

          for (var s4X = "1" << 0; G6_.m7$(s4X.toString(), s4X.toString().length, 86491) !== R8j; s4X++) {
            D7f[j0r ? "moveTo" : "lineTo"](M3G, R$K);
            s$f += 2;
          }

          if (G6_.m7$(s$f.toString(), s$f.toString().length, 50201) !== N01) {
            E_Y = "li";
            E_Y += "n";
            E_Y += "eT";
            E_Y += "o";
            D7f[j0r ? "moveTo" : E_Y](M3G, R$K);
          }
        }

        if (h9t) {
          u4m.push({
            end: [M3G, R$K],
            threshold: U3I
          });

          if (G7X && !b9z && !j0r) {
            v9k.push(M3G, U3I);
          }
        }

        v9k.push(M3G, R$K);
      }

      for (var u2X in d9d) {
        C6d.push(u2X);
      }

      if (D29 && D29.extendToEndOfLastBar) {
        T84 = v9k.slice(-2);
        D7f.lineTo(T84[0] + V75, T84["1" >> 32]);
      } else if (b9z || j0r || this.extendLastTick || a_P) {
        I4q = v9k.slice(-2);

        if (v9k.length) {
          s1N = I4q[+"0"];
          b7n = I4q[1];

          if (a_P || b9z && a_P !== !!"") {
            s1N = this.pixelFromTick(t_n.dataSet.length - 1, t_n);

            if (j0r || this.extendLastTick) {
              G6_.a3e(27);
              s1N += G6_.B0m(V75, "2");
            }
          } else if (j0r) {
            s1N += V75;
          } else if (this.extendLastTick) {
            G6_.a3e(40);
            s1N += G6_.k$A(V75, 2);
          }

          if (s1N > I4q[0]) {
            y3h = null;

            if (G84) {
              y3h = G84(this, {}, !![]);
            }

            if (y3h) {
              H2S(y3h);
            }

            D7f.lineTo(s1N, b7n);

            if (!h9t || !G7X) {
              v9k.push(s1N, b7n);
            }
          }
        }
      }

      if (!m4b) {
        if (H58 && v9k.length) {
          D7f.beginPath();

          if (D29 && D29.pattern) {
            D7f.setLineDash(D29.pattern);
          }

          J4d.plotSpline(v9k, H58, D7f, D0T);
        }

        D7f.stroke();
      }

      this.endClip();

      if (!m4b && D29 && D29.label && B3Q) {
        X8Z = "p";
        X8Z += "lo";
        X8Z += "t";
        l56 = "noo";
        l56 += "p";
        L0o = B3Q[E3S];

        if (L0o && _typeof(L0o) == "object") {
          L0o = L0o[S74];
        }

        if (D5B.priceFormatter) {
          V4T = D5B.priceFormatter(this, L06, L0o, D29.labelDecimalPlaces);
        } else {
          V4T = this.formatYAxisPrice(L0o, L06, D29.labelDecimalPlaces);
        }

        N1v = this.yaxisLabelStyle;

        if (D5B.yaxisLabelStyle) {
          N1v = D5B.yaxisLabelStyle;
        }

        w1G = N1v == l56 ? D7f.strokeStyle : null;
        n8m = N1v == "noop" ? "#FFFFFF" : D7f.strokeStyle;
        this.yAxisLabels.push({
          src: X8Z,
          args: [L06, V4T, B3Q.cache[Z20], n8m, w1G, D7f, D5B]
        });
      }

      j_9 = _typeof(h1R) == "object" ? h1R.color : h1R;

      if (a1X.isTransparent(j_9)) {
        for (var s4v = 0; s4v < u4m.length; s4v += 2) {
          B5n = u4m[s4v].start;

          if (s4v) {
            x9m = u4m[s4v - 1].end;
          }

          if (x9m && B5n[0] == x9m[0] && B5n[1] == x9m[1]) {
            D7f.beginPath();
            v1k = D7f.lineWidth;

            if (G84) {
              c17 = G84(this, u4m[s4v].tick || {}, ![]);

              if (_typeof(c17) == "object") {
                G6_.i3C(112);
                var z1d = G6_.k$A(38, 11, 5, 13, 10);
                v1k = c17.width * (l1K ? "2" ^ 0 : z1d);
                c17 = c17.color;
              }

              D7f.strokeStyle = D7f.fillStyle = c17;
            }

            D7f.lineWidth = v1k;
            D7f.arc(B5n[0], B5n[1], 1, 0, "2" * 1 * Math.PI);
            D7f.stroke();
            D7f.fill();
          }
        }
      }
    }

    function j9b(f7w, w2T, z70) {
      var D8p, I8W, n87, D88, l_0;
      D8p = "Collate";
      D8p += "dHigh";
      I8W = "Colla";
      I8W += "ted";
      I8W += "Ope";
      I8W += "n";
      D7f.setLineDash([]);
      n87 = K2b(I8W);
      D88 = K2b(D8p);
      l_0 = K2b("CollatedLow");
      D7f.lineTo(f7w, n87);
      D7f.moveTo(f7w, D88);
      D7f.lineTo(f7w, l_0);

      function K2b(w77) {
        var M9e;
        M9e = D5B.semiLog ? D5B.height * (1 - (Math.log(Math.max(z70[w77], +"0")) / Math.LN10 - D5B.logLow) / D5B.logShadow) : (D5B.high - z70[w77]) * D5B.multiplier;

        if (D5B.flipped) {
          M9e = D5B.bottom - M9e;
        } else {
          M9e += D5B.top;
        }

        return M9e;
      }

      D7f.moveTo(f7w, w2T);
      v9k.push(f7w, n87);
    }

    D7f.globalAlpha = v1I;
    return {
      colors: C6d,
      points: v9k,
      cache: Q0o,
      gapAreas: u4m
    };
  };

  a1X.ChartEngine.prototype.drawMountainChart = function (n_5, V3z, S0r) {
    var h27, K1Z, m7A, p6v, p6N, g7F, y6c, j0X, r0E, U_Q, u_s, Y0X, G1t, i4G, j2E, M_X, Q1U, P_k, C8t, H8D, T9d, F3d, C_L, W3k, n5A, D73, i8W, T_V, q1K, i$_, E4h, h23, Y7x, U43, J93, O9d, o$m, T91, Y5Q, O2p;
    h27 = "Cl";
    h27 += "os";
    h27 += "e";
    K1Z = this.chart.context;
    m7A = V3z;
    p6v = !1;
    p6N = !!"";
    g7F = null;
    y6c = null;
    j0X = null;
    r0E = null;
    U_Q = 0;
    u_s = null;
    Y0X = !"1";
    G1t = null;
    i4G = null;
    j2E = !!"";
    M_X = null;
    Q1U = null;
    P_k = 1;
    C8t = !!"";
    H8D = !!0;
    T9d = !{};
    F3d = n_5.chart;
    C_L = F3d.dataSegment;
    W3k = F3d.lineStyle || {};

    if (!V3z || _typeof(V3z) != "object") {
      V3z = {
        style: V3z
      };
    }

    m7A = V3z.style || "stx_mountain_chart";
    g7F = V3z.field || F3d.defaultPlotField || "Close";
    y6c = V3z.subField || F3d.defaultPlotField || h27;
    u_s = V3z.gapDisplayStyle;

    if (!u_s && u_s !== ![]) {
      u_s = V3z.gaps;
    }

    if (!u_s && u_s !== ![]) {
      u_s = F3d.gaplines;
    }

    if (!u_s) {
      u_s = "transparent";
    }

    j0X = V3z.yAxis || n_5.yAxis;
    p6v = V3z.reverse || ![];
    r0E = V3z.tension;
    G1t = V3z.fillStyle;
    U_Q = V3z.width || W3k.width;
    Y0X = V3z.step;
    i4G = V3z.pattern || W3k.pattern;
    j2E = V3z.highlight;
    Q1U = V3z.color || W3k.color;
    M_X = V3z.baseColor || W3k.baseColor;
    p6N = V3z.colored;
    P_k = V3z.opacity;
    C8t = V3z.extendToEndOfDataSet;
    H8D = V3z.isComparison;
    T9d = V3z.returnObject;
    n5A = this.canvasStyle(m7A);
    D73 = j0X.top;

    if (isNaN(D73) || isNaN(D73 / D73)) {
      D73 = 0;
    }

    i8W = Q1U || (m7A && n5A.backgroundColor ? n5A.backgroundColor : this.defaultColor);
    T_V = M_X || (m7A && n5A.color ? n5A.color : this.containerColor);

    if (G1t) {
      K1Z.fillStyle = G1t;
    } else if (M_X || n5A.color) {
      q1K = K1Z.createLinearGradient(0, D73, 0, j0X.bottom);
      q1K.addColorStop(j0X.flipped ? +"1" : 0, i8W);
      q1K.addColorStop(j0X.flipped ? 0 : "1" | 1, T_V);
      K1Z.fillStyle = q1K;
    } else {
      K1Z.fillStyle = i8W;
    }

    this.startClip(n_5.name);
    i$_ = K1Z.lineWidth;

    if (!V3z.symbol) {
      y6c = null;
    }

    V3z = {
      skipProjections: !![],
      reverse: p6v,
      yAxis: j0X,
      gapDisplayStyle: u_s,
      step: Y0X,
      highlight: j2E,
      extendToEndOfDataSet: C8t,
      isComparison: H8D
    };

    if (F3d.tension) {
      V3z.tension = F3d.tension;
    }

    if (r0E || r0E === 0) {
      V3z.tension = r0E;
    }

    E4h = parseInt(n5A.paddingTop, 10);
    h23 = Q1U || n5A.borderTopColor;
    Y7x = null;

    if (p6N || h23 && !a1X.isTransparent(h23)) {
      if (E4h) {
        U43 = 1708265936;
        J93 = 1974997166;
        O9d = 2;

        for (var B71 = 1; G6_.m7$(B71.toString(), B71.toString().length, 36896) !== U43; B71++) {
          o$m = this.scratchContext;
          O9d += 2;
        }

        if (G6_.b3_(O9d.toString(), O9d.toString().length, 14023) !== J93) {
          o$m = this.scratchContext;
        }

        if (!o$m) {
          T91 = K1Z.canvas.cloneNode(!0);
          o$m = this.scratchContext = T91.getContext("2d");
        }

        o$m.canvas.height = K1Z.canvas.height;
        o$m.canvas.width = K1Z.canvas.width;
        o$m.drawImage(K1Z.canvas, 0, 0);
        a1X.clearCanvas(K1Z.canvas, this);
      }
    }

    a1X.extend(V3z, {
      panelName: n_5.name,
      direction: V3z.reverse ? -1 : 1,
      band: g7F,
      subField: y6c,
      opacity: P_k
    });

    if (!V3z.highlight && this.highlightedDraggable) {
      V3z.opacity *= 0.3;
    }

    a1X.preparePeakValleyFill(this, V3z);

    if (p6N || h23 && !a1X.isTransparent(h23)) {
      if (E4h) {
        Y5Q = "de";
        Y5Q += "stina";
        Y5Q += "tio";
        Y5Q += "n-out";
        K1Z.save();
        G6_.a3e(38);
        K1Z.lineWidth += G6_.k$A(2, E4h);
        K1Z.globalCompositeOperation = Y5Q;
        K1Z.globalAlpha = 1;
        this.plotDataSegmentAsLine(g7F, n_5, V3z);
        K1Z.globalCompositeOperation = "destination-over";
        K1Z.scale(1 / this.adjustedDisplayPixelRatio, 1 / this.adjustedDisplayPixelRatio);
        K1Z.drawImage(this.scratchContext.canvas, 0, 0);
        K1Z.restore();
      }
    }

    K1Z.strokeStyle = h23;

    if (U_Q) {
      K1Z.lineWidth = U_Q;
    } else if (n5A.width && parseInt(n5A.width, "10" >> 32) <= +"25") {
      K1Z.lineWidth = Math.max(1, a1X.stripPX(n5A.width));
    } else {
      K1Z.lineWidth = 1;
    }

    if (!i4G) {
      i4G = n5A.borderTopStyle;
    }

    V3z.pattern = a1X.borderPatternToArray(K1Z.lineWidth, i4G);
    O2p = S0r;

    if (u_s) {
      O2p = this.getGapColorFunction(g7F, y6c, {
        color: h23,
        pattern: V3z.pattern,
        width: K1Z.lineWidth
      }, u_s, S0r);
    }

    Y7x = this.plotDataSegmentAsLine(g7F, n_5, V3z, O2p);
    K1Z.lineWidth = i$_;
    this.endClip();

    if (!Y7x.colors.length) {
      Y7x.colors.push(h23);
    }

    return T9d ? Y7x : Y7x.colors;
  };

  a1X.ChartEngine.prototype.drawBaselineChart = function (w9a, J8L) {
    var b2d, f_Q, y6P, w2M, o7B, e9D, m12, X$L, F5u, o0_, w5M, t1Y, C$2, I9A, s05, d70, A2U, G6Y, J2v, x8z, c6G, G19, h5C, v1C, P9o, A_Q, b7i, q42, c0c, y16, m_k, u_q;
    var Z0t = w9a.chart;
    var O4k = J8L.field,
        X90 = J8L.id,
        E4d = J8L.yAxis;
    var x7J = Z0t.gaplines,
        Q94 = Z0t.defaultPlotField,
        w$j = Z0t.lineStyle;

    var _this$baselineHelper$ = this.baselineHelper.get(this.getRendererFromSeries(X90)),
        A_y = _this$baselineHelper$.display;

    b2d = this.getYAxisBaseline(E4d).actualLevel;
    f_Q = [];

    if (!O4k) {
      O4k = Q94;
    }

    if (!w$j) {
      w$j = {};
    }

    y6P = J8L.gapDisplayStyle;

    if (!y6P && y6P !== !!"") {
      y6P = J8L.gaps;
    }

    if (b2d !== null && !isNaN(b2d)) {
      w2M = "stx_";
      w2M += "baseline";
      o7B = "stx_baseline";
      o7B += "_up";
      e9D = "mount";
      e9D += "ai";
      e9D += "n";
      m12 = J8L.type == e9D;

      if (m12) {
        f_Q = this.drawMountainChart(w9a, {
          style: J8L.style,
          field: J8L.field,
          yAxis: E4d,
          gapDisplayStyle: y6P,
          colored: !!{},
          tension: 0
        });
      }

      X$L = this.pixelFromPrice(b2d, w9a, E4d);

      if (isNaN(X$L)) {
        return;
      }

      this.startClip(w9a.name);
      F5u = J8L.pattern || w$j.pattern;
      o0_ = J8L.fill_color_up || this.getCanvasColor(o7B);
      w5M = J8L.fill_color_down || this.getCanvasColor("stx_baseline_down");
      t1Y = J8L.border_color_up || this.getCanvasColor("stx_baseline_up");
      C$2 = J8L.border_color_down || this.getCanvasColor("stx_baseline_down");
      I9A = J8L.width || w$j.width || this.canvasStyle("stx_baseline_up").width;
      s05 = J8L.width || w$j.width || this.canvasStyle("stx_baseline_down").width;
      d70 = J8L.widthBaseline || w$j.width || a1X.stripPX(this.canvasStyle("stx_baseline").width);
      A2U = J8L.baselineOpacity || this.canvasStyle(w2M).opacity;
      G6Y = {
        fill: o0_,
        edge: t1Y,
        width: I9A
      };
      J2v = {
        fill: w5M,
        edge: C$2,
        width: s05
      };
      x8z = J8L.yAxis.flipped;
      c6G = {
        over: x8z ? J2v : G6Y,
        under: x8z ? G6Y : J2v
      };
      G19 = ![];

      if (!y6P && y6P !== !1) {
        y6P = x7J;
      }

      h5C = 1;

      if (!J8L.highlight && this.highlightedDraggable) {
        h5C *= 0.3;
      }

      for (var I72 in c6G) {
        v1C = "tra";
        v1C += "nspa";
        v1C += "rent";
        P9o = "o";
        P9o += "ver";
        A_Q = "t";
        A_Q += "r";
        A_Q += "ansparent";
        b7i = parseInt(Math.max("1" | 1, a1X.stripPX(c6G[I72].width)), 10);

        if (J8L.highlight) {
          b7i *= 2;
        }

        F5u = a1X.borderPatternToArray(b7i, F5u);
        q42 = {
          panelName: w9a.name,
          band: O4k,
          threshold: b2d,
          color: m12 ? A_Q : c6G[I72].fill,
          direction: I72 == P9o ? 1 : -1,
          edgeHighlight: c6G[I72].edge,
          edgeParameters: {
            pattern: F5u,
            lineWidth: b7i + 0.1,
            opacity: h5C
          },
          gapDisplayStyle: y6P,
          yAxis: J8L.yAxis
        };

        if (E4d) {
          q42.threshold = this.priceFromPixel(this.pixelFromPrice(q42.threshold, w9a, E4d), w9a, E4d);
        }

        f_Q.push(c6G[I72].edge);
        c0c = q42.color;

        if (!m12 && c0c && c0c != "transparent") {
          y16 = w9a.top;
          m_k = w9a.bottom;
          u_q = Z0t.context.createLinearGradient(+"0", I72 == "over" ? y16 : m_k, 0, X$L);
          u_q.addColorStop(0, a1X.hexToRgba(a1X.colorToHex(c0c), "60" >> 64));
          u_q.addColorStop(1, a1X.hexToRgba(a1X.colorToHex(c0c), +"10"));
          q42.color = u_q;
          q42.opacity = h5C;
        }

        a1X.preparePeakValleyFill(this, Z0t.dataSegment, q42);

        if (x7J) {
          if (!x7J.fillMountain) {
            this.drawLineChart(w9a, null, null, {
              color: "transparent",
              gapDisplayStyle: {
                color: this.containerColor,
                pattern: "solid",
                width: q42.edgeParameters.lineWidth
              }
            });
          }

          if (!x7J.color) {
            G19 = !!{};
            x7J.color = this.defaultColor;
          }
        }

        this.drawLineChart(w9a, null, null, {
          color: v1C,
          width: q42.edgeParameters.lineWidth
        });

        if (G19) {
          x7J.color = null;
        }
      }

      if (A_y) {
        this.plotLine(+"0", 1, X$L, X$L, this.containerColor, "line", Z0t.context, w9a, {
          lineWidth: "1.1"
        });
        this.plotLine(0, 1, X$L, X$L, this.getCanvasColor("stx_baseline"), "line", Z0t.context, w9a, {
          pattern: "dotted",
          lineWidth: d70 || "2.1",
          opacity: A2U || 0.5 * h5C
        });
      }

      this.endClip();
    }

    return {
      colors: f_Q
    };
  };

  a1X.ChartEngine.prototype.plotLine = function (H3M) {
    var V5a, o25, Z0i, k_m, K7l, c3y, R7Y, L5o, u8D, B9a, j60, X6j, J0j, S1U, C0x, S4y, z4k, S4E, E3I, x24, y$A, D7E, G6x, W7S, M4b, J8k, C_Z, g0F, L7d, b$V, k$M, D8O, f3l, G9R;
    V5a = "vert";
    V5a += "ic";
    V5a += "al";
    o25 = "no";
    o25 += "n";
    o25 += "e";
    Z0i = "n";
    Z0i += "um";
    Z0i += "b";
    Z0i += "er";

    if (_typeof(arguments[0]) == Z0i) {
      H3M = {
        x0: arguments[0],
        x1: arguments[1],
        y0: arguments[2],
        y1: arguments[3],
        color: arguments[4],
        type: arguments[5],
        context: arguments[6],
        confineToPanel: arguments[7]
      };

      for (var d4i in arguments[8]) {
        H3M[d4i] = arguments[8][d4i];
      }
    }

    if (!H3M) {
      H3M = {};
    }

    if (H3M.pattern == o25) {
      return;
    }

    k_m = H3M.x0;
    K7l = H3M.x1;
    c3y = H3M.y0;
    R7Y = H3M.y1;
    L5o = H3M.color;
    u8D = H3M.type;
    B9a = H3M.context;
    j60 = H3M.confineToPanel;
    X6j = H3M.deferStroke;

    if (j60 === !!"1") {
      j60 = this.chart.panel;
    }

    if (B9a === null || typeof B9a == "undefined") {
      B9a = this.chart.context;
    }

    if (isNaN(k_m) || isNaN(K7l) || isNaN(c3y) || isNaN(R7Y)) {
      return;
    }

    J0j = 0;
    S1U = this.chart.canvasHeight;
    C0x = 0;
    S4y = this.right;

    if (j60) {
      S1U = j60.yAxis.bottom;
      J0j = j60.yAxis.top;
      C0x = j60.left;
      S4y = j60.right;
    }

    if (u8D == "ray") {
      z4k = 10000000;

      if (K7l < k_m) {
        z4k = -+"10000000";
      }

      E3I = {
        x0: k_m,
        x1: K7l,
        y0: c3y,
        y1: R7Y
      };
      S4E = a1X.yIntersection(E3I, z4k);
      K7l = z4k;
      R7Y = S4E;
    }

    if (u8D == "line" || u8D == "horizontal" || u8D == V5a) {
      z4k = 10000000;
      x24 = -10000000;
      E3I = {
        x0: k_m,
        x1: K7l,
        y0: c3y,
        y1: R7Y
      };
      S4E = a1X.yIntersection(E3I, z4k);
      y$A = a1X.yIntersection(E3I, x24);
      k_m = x24;
      K7l = z4k;
      c3y = y$A;
      R7Y = S4E;
    }

    D7E = 0.0;
    G6x = 1.0;
    G6_.a3e(1);
    W7S = G6_.k$A(k_m, K7l);
    G6_.a3e(1);
    M4b = G6_.B0m(c3y, R7Y);

    for (var D6C = 0; D6C < 4; D6C++) {
      if (D6C === +"0") {
        J8k = -W7S;
        G6_.i3C(1);
        C_Z = -G6_.B0m(k_m, C0x);
      }

      if (D6C == 1) {
        J8k = W7S;
        G6_.i3C(1);
        C_Z = G6_.B0m(k_m, S4y);
      }

      if (D6C == +"2") {
        J8k = -M4b;
        G6_.i3C(1);
        C_Z = -G6_.k$A(c3y, J0j);
      }

      if (D6C == 3) {
        J8k = M4b;
        G6_.a3e(1);
        C_Z = G6_.B0m(c3y, S1U);
      }

      G6_.a3e(40);
      g0F = G6_.B0m(C_Z, J8k);

      if ((R7Y || R7Y === 0) && J8k === 0 && C_Z < "0" - 0) {
        return !{};
        ;
      }

      if (J8k < 0) {
        if (g0F > G6x) {
          return !1;
        } else if (g0F > D7E) {
          D7E = g0F;
        }

        ;
      } else if (J8k > 0) {
        if (g0F < D7E) {
          return !1;
        } else if (g0F < G6x) {
          G6x = g0F;
        }

        ;
      }
    }

    G6_.i3C(145);
    L7d = G6_.k$A(k_m, W7S, D7E);
    G6_.a3e(145);
    b$V = G6_.k$A(c3y, M4b, D7E);
    G6_.a3e(145);
    k$M = G6_.B0m(k_m, W7S, G6x);
    G6_.i3C(145);
    D8O = G6_.k$A(c3y, M4b, G6x);

    if (!R7Y && R7Y !== 0 && !c3y && c3y !== 0) {
      b$V = J0j;
      D8O = S1U;
      L7d = E3I.x0;
      k$M = E3I.x0;

      if (E3I.x0 > S4y) {
        return !{};
      }

      if (E3I.x0 < C0x) {
        return ![];
      }
    } else if (!R7Y && R7Y !== 0) {
      if (E3I.y0 < E3I.y1) {
        D8O = S1U;
      } else {
        D8O = J0j;
      }

      L7d = E3I.x0;
      k$M = E3I.x0;

      if (E3I.x0 > S4y) {
        return !"1";
      }

      if (E3I.x0 < C0x) {
        return !!0;
      }
    }

    if (!X6j) {
      B9a.save();
      B9a.beginPath();
    }

    B9a.lineWidth = 1.1;

    if (L5o && _typeof(L5o) == "object") {
      B9a.strokeStyle = L5o.color;

      if (L5o.opacity) {
        B9a.globalAlpha = L5o.opacity;
      } else {
        B9a.globalAlpha = 1;
      }

      B9a.lineWidth = a1X.stripPX(L5o.width);
    } else {
      f3l = "a";
      f3l += "u";
      f3l += "t";
      f3l += "o";

      if (!L5o || L5o == f3l || a1X.isTransparent(L5o)) {
        B9a.strokeStyle = this.defaultColor;
      } else {
        B9a.strokeStyle = L5o;
      }
    }

    if (H3M.opacity) {
      B9a.globalAlpha = H3M.opacity;
    }

    if (H3M.lineWidth) {
      B9a.lineWidth = H3M.lineWidth;
    }

    if (H3M.globalCompositeOperation) {
      B9a.globalCompositeOperation = H3M.globalCompositeOperation;
    }

    G9R = a1X.borderPatternToArray(B9a.lineWidth, H3M.pattern);
    B9a.setLineDash(H3M.pattern ? G9R : []);
    B9a.moveTo(L7d, b$V);
    B9a.lineTo(k$M, D8O);

    if (!X6j) {
      B9a.stroke();
      B9a.restore();
    }
  };

  a1X.ChartEngine.prototype.rendererAction = function (E1n, F4S) {
    var b$0, T7l, d0e, z93, U4C, T8n, l8E, F2o;

    function w50() {
      var W$X, m30;
      W$X = "u";
      G6_.E0w();
      W$X += "nde";
      W$X += "rl";
      W$X += "ay";

      if (!b$0 && F4S === W$X) {
        m30 = Symbol["for"]("CIQ.watermark");

        if (this[m30]) {
          this[m30].draw(E1n);
          b$0 = !![];
        }
      }
    }

    b$0 = !{};
    G6_.E0w();

    if (!this.runPrepend("rendererAction", arguments)) {
      for (var M3R in E1n.seriesRenderers) {
        T7l = "y";
        T7l += "Axi";
        T7l += "s";
        d0e = "und";
        d0e += "erlay";
        z93 = "_ma";
        z93 += "in_serie";
        z93 += "s";
        U4C = E1n.seriesRenderers[M3R];
        T8n = U4C.params;
        l8E = T8n.panel;
        F2o = this.panels[l8E];
        if (T8n.overChart && F4S == "underlay") continue;
        if (T8n.name == z93 && F4S == d0e) continue;
        if (T8n.name != "_main_series" && F4S == "main") continue;
        if (!T8n.overChart && F4S == "overlay") continue;
        if (!F2o) continue;
        if (F2o.chart !== E1n) continue;
        if (F2o.hidden) continue;

        if (F4S == T7l) {
          U4C.adjustYAxis();
        } else {
          w50.apply(this);
          U4C.draw();

          if (U4C.cb) {
            U4C.cb(U4C.colors);
          }
        }
      }

      this.runAppend("rendererAction", arguments);
    }

    w50.apply(this);
  };

  a1X.ChartEngine.prototype.drawSeries = function (x0W, L6c, m2w, H_h) {
    var n5r, k$i, K8R, R6B, H0Q, M2D, r8P, x3$, m9C, A_D, y6q, Q$c, K3f, A64, X5Q, c0R, f40, Q$N;
    n5r = "draw";
    n5r += "Se";
    n5r += "r";
    n5r += "ies";

    if (this.runPrepend("drawSeries", arguments)) {
      return;
    }

    k$i = x0W.dataSegment;
    K8R = null;

    if (!L6c) {
      L6c = x0W.series;
    }

    for (var G$0 in L6c) {
      R6B = "mou";
      R6B += "nta";
      R6B += "in";
      K8R = L6c[G$0];
      H0Q = K8R.parameters;
      M2D = H0Q.panel ? this.panels[H0Q.panel] : x0W.panel;
      r8P = H0Q.color;
      x3$ = H0Q.width;
      m9C = H0Q.field;
      if (!M2D) continue;
      A_D = H0Q.yAxis = m2w ? m2w : M2D.yAxis;

      if (!r8P) {
        r8P = A_D.textStyle || this.defaultColor;
      }

      if (r8P == "auto") {
        r8P = this.defaultColor;
      }

      if (!m9C) {
        m9C = x0W.defaultPlotField;
      }

      y6q = H0Q.subField || x0W.defaultPlotField || "Close";

      if (!H0Q._rawExtendToEndOfDataSet && H0Q._rawExtendToEndOfDataSet !== !!0) {
        H0Q._rawExtendToEndOfDataSet = H0Q.extendToEndOfDataSet;
      }

      if (x0W.animatingHorizontalScroll) {
        H0Q.extendToEndOfDataSet = ![];
      } else {
        H0Q.extendToEndOfDataSet = H0Q._rawExtendToEndOfDataSet;
      }

      Q$c = H0Q.colorFunction;

      if (K8R.highlight || K8R.parameters.highlight) {
        H0Q.highlight = !0;
      }

      K3f = {
        colors: []
      };

      if (H_h) {
        if (H_h.params.highlight) {
          H0Q.highlight = !!"1";
        }

        if (H0Q.hidden) continue;
        K3f = H_h.drawIndividualSeries(x0W, H0Q) || K3f;
      } else if (H0Q.type == R6B) {
        K3f = this.drawMountainChart(M2D, a1X.extend({
          returnObject: !!1
        }, H0Q), Q$c);
      } else {
        K3f = this.drawLineChart(M2D, H0Q.style, Q$c, a1X.extend({
          returnObject: !!1
        }, H0Q));
      }

      K8R.yValueCache = K3f.cache;
      A64 = x0W.dataSegment[x0W.dataSegment.length - 1];

      if (A64) {
        X5Q = !H0Q.skipTransform && x0W.transformFunc && A_D == x0W.panel.yAxis;

        if (!A64[m9C] && A64[m9C] !== "0" >> 0) {
          A64 = this.getPreviousBar(x0W, m9C, x0W.dataSegment.length - 1);
        }

        if (X5Q && A64 && A64.transform) {
          A64 = A64.transform;
        }
      }

      if (H0Q.displayFloatingLabel !== !{} && this.mainSeriesRenderer != H_h && A64 && !A_D.noDraw) {
        c0R = A64[m9C];

        if (c0R) {
          if (c0R[y6q] || c0R[y6q] === 0) {
            c0R = c0R[y6q];
          } else {
            c0R = c0R.iqPrevClose;
          }
        }

        if (A_D.priceFormatter) {
          f40 = A_D.priceFormatter(this, M2D, c0R);
        } else {
          f40 = this.formatYAxisPrice(c0R, M2D, null, A_D);
        }

        this.yAxisLabels.push({
          src: "series",
          args: [M2D, f40, this.pixelFromTransformedValue(c0R, M2D, A_D), a1X.hexToRgba(a1X.colorToHex(r8P), parseFloat(H0Q.opacity)), null, null, A_D]
        });
      }

      if (x0W.legend && H0Q.useChartLegend) {
        if (!x0W.legend.colorMap) {
          x0W.legend.colorMap = {};
        }

        Q$N = H0Q.display;

        if (!Q$N) {
          Q$N = H0Q.symbol;
        }

        x0W.legend.colorMap[G$0] = {
          color: K3f.colors,
          display: Q$N,
          isBase: H_h == this.mainSeriesRenderer
        };
        ;
      }
    }

    this.runAppend(n5r, arguments);
  };
};

I3 = function I3(Q9f) {
  var z3m = M2dNJ;
  z3m.j07();
  var W$C;
  W$C = Q9f.CIQ;

  W$C.ChartEngine.prototype.scrollTo = function (i81, J_y, s8d) {
    var m6Y, p53, o4f, C0k, k1q;
    m6Y = this.swipe;
    m6Y.end = !!"1";
    m6Y.amplitude = m6Y.target = (J_y - i81.scroll) * this.layout.candleWidth;
    m6Y.timeConstant = 100;
    m6Y.timestamp = Date.now();
    p53 = 1226042827;
    o4f = 1168966903;
    C0k = 2;
    z3m.j07();

    for (var n6s = 1; z3m.b3_(n6s.toString(), n6s.toString().length, +"82797") !== p53; n6s++) {
      m6Y.scroll = i81.scroll;
      m6Y.chart = i81;
      m6Y.cb = s8d;
      C0k += 2;
    }

    if (z3m.b3_(C0k.toString(), C0k.toString().length, 13329) !== o4f) {
      m6Y.scroll = i81.scroll;
      m6Y.chart = i81;
      m6Y.cb = s8d;
    }

    m6Y.scroll = i81.scroll;
    m6Y.chart = i81;
    m6Y.cb = s8d;
    k1q = this;
    requestAnimationFrame(function () {
      k1q.autoscroll();
    });
  };

  W$C.ChartEngine.prototype.autoscroll = function () {
    var p_v, K4u, C4$, x6k, V7d, f9G, b2K;
    p_v = this;
    K4u = this.swipe;
    C4$ = 455036783;
    x6k = +"537613222";
    V7d = 2;
    z3m.E0w();

    for (var s$C = "1" ^ 0; z3m.b3_(s$C.toString(), s$C.toString().length, "74984" << 0) !== C4$; s$C++) {
      V7d += 2;
    }

    if (z3m.b3_(V7d.toString(), V7d.toString().length, 54100) !== x6k) {}

    if (K4u.amplitude) {
      K4u.elapsed = Date.now() - K4u.timestamp;
      f9G = -K4u.amplitude * Math.exp(-K4u.elapsed / K4u.timeConstant);
      b2K = (K4u.target + f9G) / this.layout.candleWidth;
      K4u.chart.scroll = K4u.scroll + Math.round(b2K);
      this.draw();
      this.updateChartAccessories();

      if (f9G > "0.5" - 0 || f9G < -0.5) {
        requestAnimationFrame(function () {
          p_v.autoscroll();
        });
      } else {
        if (this.disableBackingStoreDuringTouch) {
          this.reconstituteBackingStore();
        }

        if (K4u.cb) {
          K4u.cb();
        }
      }
    }
  };
};

j0 = function j0(n7h) {
  var R8s = M2dNJ;
  R8s.E0w();
  var N5$;
  N5$ = n7h.CIQ;

  N5$.ChartEngine.prototype.drawXAxis = function (I8E, U6f) {
    var i52, V_o, L5v, m2g, Q3Z, L2F, E7F, k4j, w9X, f3u, d_J, o2T, z9U, t$P, J5R, J9O, G57, p82, N0K, y7B, p2W, p7A, b47, k9H, g_0;
    i52 = [I8E, U6f];

    if (this.runPrepend("drawXAxis", i52)) {
      return;
    }

    if (!U6f) {
      return;
    }

    if (I8E.xAxis.noDraw) {
      return;
    }

    V_o = this.getBackgroundCanvas().context;
    this.canvasFont("stx_xaxis", V_o);
    L5v = this.getCanvasFontSize("stx_xaxis");
    V_o.textAlign = "center";
    V_o.textBaseline = "middle";
    Q3Z = V_o.measureText("   ").width;

    for (var G4X = 0; G4X < U6f.length; G4X++) {
      m2g = U6f[G4X];
      L2F = V_o.measureText(m2g.text).width;
      R8s.a3e(4);
      E7F = Math.max(R8s.k$A(Q3Z, L2F), I8E.xAxis.minimumLabelWidth);
      m2g.hz = Math.floor(m2g.hz + this.micropixels) + ("0.5" - 0);
      R8s.i3C(4);
      var h3M = R8s.B0m(1, 1);
      m2g.left = m2g.hz - E7F / h3M;
      m2g.right = m2g.hz + E7F / +"2";
      m2g.unpaddedRight = m2g.hz + L2F / +"2";
    }

    k4j = this.xAxisAsFooter === !![] ? this.chart.canvasHeight : I8E.panel.bottom;
    R8s.a3e(1);
    w9X = this.whichPanel(R8s.B0m(1, k4j));

    if (!w9X) {
      return;
    }

    this.adjustYAxisHeightOffset(w9X, w9X.yAxis);
    f3u = I8E.xAxis.displayBorder || I8E.xAxis.displayBorder === null;

    if (this.axisBorders === !!{}) {
      f3u = !![];
    }

    if (this.axisBorders === ![]) {
      f3u = !!0;
    }

    d_J = k4j - this.xaxisHeight + L5v;

    if (f3u) {
      d_J += 3;
    }

    o2T = !!{};

    for (var u7O in this.panels) {
      z9U = "l";
      z9U += "in";
      z9U += "e";
      t$P = this.panels[u7O];
      if (t$P.hidden || t$P.shareChartXAxis === !"1") continue;
      R8s.i3C(110);
      J5R = R8s.B0m(t$P, w9X);
      J9O = t$P.yAxis;
      if (!J9O) continue;
      G57 = -Number.MAX_VALUE;
      p82 = Number.MAX_VALUE;

      for (var S8v = 0; S8v < U6f.length; S8v++) {
        N0K = "b";
        N0K += "o";
        N0K += "undary";

        if (U6f[S8v].grid == N0K) {
          p82 = U6f[S8v].left;
          break;
        }
      }

      V_o.save();
      V_o.beginPath();
      V_o.rect(t$P.left, t$P.top + (o2T ? 0 : 1), t$P.width, t$P.height - 1);
      V_o.clip();
      o2T = !!"";
      y7B = new N5$.Plotter();
      y7B.newSeries(z9U, "stroke", this.canvasStyle("stx_grid"));
      y7B.newSeries("boundary", "stroke", this.canvasStyle("stx_grid_dark"));
      y7B.newSeries("border", "stroke", this.canvasStyle("stx_grid_border"));

      for (var f2I = 0; f2I < U6f.length; f2I++) {
        m2g = U6f[f2I];

        if (f2I == S8v) {
          for (S8v++; S8v < U6f.length; S8v++) {
            p2W = "b";
            p2W += "oun";
            p2W += "dary";

            if (U6f[S8v].grid == p2W) {
              p82 = U6f[S8v].left;
              break;
            }
          }

          if (S8v >= U6f.length) {
            S8v = -1;
            p82 = Number.MAX_VALUE;
          }
        } else {
          if (m2g.right > p82) continue;
        }

        if (m2g.left < G57) continue;

        if (m2g.left < 0) {
          if (p82 < m2g.right) continue;

          if (S8v >= U6f.length) {
            if (U6f[f2I + 1] && U6f[f2I + 1].left < m2g.right) continue;
          }
        }

        G57 = m2g.right;

        if (Math.floor(m2g.left) <= t$P.right) {
          if (Math.floor(m2g.hz) > t$P.left) {
            if (I8E.xAxis.displayGridLines) {
              y7B.moveTo(m2g.grid, m2g.hz, J9O.top);
              y7B.lineTo(m2g.grid, m2g.hz, J9O.bottom);
            }

            if (J5R && f3u) {
              p7A = "bor";
              p7A += "der";
              y7B.moveTo("border", m2g.hz, J9O.bottom + 0.5);
              y7B.lineTo(p7A, m2g.hz, J9O.bottom + 6);
            }
          }

          if (J5R && m2g.right > t$P.left) {
            b47 = "s";
            b47 += "t";
            b47 += "x_x";
            b47 += "axis";
            this.canvasColor(m2g.grid == "boundary" ? "stx_xaxis_dark" : b47, V_o);
            V_o.fillText(m2g.text, m2g.hz, d_J);
          }
        }
      }

      if (f3u) {
        k9H = Math.round(J9O.bottom) + 0.5;
        g_0 = Math.round(t$P.right) + 0.5;
        y7B.moveTo("border", t$P.left, k9H);
        y7B.lineTo("border", g_0, k9H);
      }

      y7B.draw(V_o);
      V_o.restore();
    }

    V_o.textAlign = "left";
    this.runAppend("drawXAxis", i52);
  };

  N5$.ChartEngine.prototype.createTickXAxisWithDates = function (p1t) {
    var y5V, X32, R08, j02, R6v, b_f, l0p, n9v, V6L, r0D, t5s, S6W, p5w, n52, a37, u4V, r3q, U7y, m6J, S18, i0B, T8T, u2r, z$u, l1m, w3x, e_9, l7C, q4t, k6F, g$1, T5C, u8k, x95, B1j, z5H, N2C, D_P, H2V, J3J, M02, r1p, Z2E, H9U, K0y, K_v, j8U, c5B, p52, W7N, b85, z4d, j4O, D15, a1D, L6H, O9U, b6O, G4D, T53, n5t, c65, o91;
    y5V = "heikin";
    y5V += "as";
    y5V += "hi";
    X32 = "m";
    X32 += "onth";
    R08 = "d";
    R08 += "a";
    R08 += "y";
    j02 = "mi";
    j02 += "n";
    j02 += "u";
    j02 += "te";

    if (!p1t) {
      p1t = this.chart;
    }

    p1t.xaxis = [];
    b_f = p1t.context;
    l0p = [N5$.MILLISECOND, N5$.SECOND, N5$.MINUTE, N5$.HOUR, N5$.DAY, N5$.MONTH, N5$.YEAR];

    if (!this.timeIntervalMap) {
      n9v = "2";
      n9v += "00";
      n9v += "0";
      V6L = "10";
      V6L += ":00";
      r0D = b_f.measureText.bind(b_f);
      R6v = {};
      R6v[N5$.MILLISECOND] = {
        arr: [+"1", 2, 5, 10, 20, 50, "100" >> 0, 250, +"500"],
        minTimeUnit: +"0",
        maxTimeUnit: 1000,
        measurement: r0D("10:00:00.000")
      };
      R6v[N5$.SECOND] = {
        arr: [1, 2, 3, "4" << 64, 5, 6, 10, 12, 15, 20, 30],
        minTimeUnit: 0,
        maxTimeUnit: 60,
        measurement: r0D("10:00:00")
      };
      R6v[N5$.MINUTE] = {
        arr: [1, 2, 3, 4, 5, "6" << 0, 10, 12, 15, 20, 30],
        minTimeUnit: 0,
        maxTimeUnit: "60" << 64,
        measurement: r0D("10:00")
      };
      R6v[N5$.HOUR] = {
        arr: [1, 2, 3, "4" | 4, 6, +"12"],
        minTimeUnit: "0" ^ 0,
        maxTimeUnit: 24,
        measurement: r0D(V6L)
      };
      R6v[N5$.DAY] = {
        arr: [1, 2, "7" >> 0, 14],
        minTimeUnit: 1,
        maxTimeUnit: "32" | 0,
        measurement: r0D("30")
      };
      R6v[N5$.MONTH] = {
        arr: [1, +"2", 3, 6],
        minTimeUnit: "1" << 0,
        maxTimeUnit: 13,
        measurement: r0D("Mar")
      };
      R6v[N5$.YEAR] = {
        arr: [1, +"2", 3, +"5"],
        minTimeUnit: +"1",
        maxTimeUnit: 20000000,
        measurement: r0D(n9v)
      };
      R6v[N5$.DECADE] = {
        arr: [10],
        minTimeUnit: +"0",
        maxTimeUnit: 2000000,
        measurement: r0D("2000")
      };
      this.timeIntervalMap = R6v;
    }

    R6v = this.timeIntervalMap;
    R8s.a3e(71);
    t5s = [R8s.k$A("31", 0), 28, 31, 30, 31, +"30", 31, 31, 30, 31, +"30", 31];
    S6W = this.layout.periodicity;
    p5w = this.layout.interval;
    n52 = p1t.maxTicks;
    a37 = p1t.dataSegment;
    u4V = p1t.xAxis;
    r3q = a37.length;
    U7y = u4V.idealTickSizePixels || u4V.autoComputedTickSizePixels;
    R8s.j07();
    m6J = this.chart.width / U7y;

    for (var V_p = "0" << 0; V_p < r3q; V_p++) {
      if (a37[V_p]) break;
    }

    if (V_p == r3q) {
      return [];
    }

    S18 = 0;
    i0B = this.layout.timeUnit || j02;

    if (isNaN(p5w)) {
      i0B = p5w;
      p5w = 1;
    }

    T8T = 0;

    switch (i0B) {
      case "millisecond":
        T8T = 1;
        break;

      case "second":
        T8T = 1000;
        R8s.a3e(82);
        l0p.splice(0, R8s.B0m(96, "1"));
        break;

      case "minute":
        T8T = 60000;
        l0p.splice(+"0", 2);
        break;

      case R08:
        T8T = 86400000;
        l0p.splice(0, 4);
        break;

      case "week":
        R8s.i3C(38);
        T8T = R8s.B0m(86400000, 7);
        l0p.splice(0, 4);
        break;

      case X32:
        R8s.i3C(38);
        T8T = R8s.B0m(86400000, 30);
        l0p.splice(+"0", 5);
        break;
    }

    u2r = this.layout.aggregationType;

    if (T8T && (!u2r || u2r == "ohlc" || u2r == y5V)) {
      R8s.i3C(72);
      S18 = R8s.k$A(T8T, S6W, r3q, p5w);
      ;
    } else {
      S18 = a37[r3q - 1].DT.getTime() - a37[V_p].DT.getTime();
      ;
    }

    if (S18 === 0) {
      if (p1t.market) {
        z$u = p1t.market.newIterator({
          begin: new Date(),
          interval: "day",
          periodicity: 1
        });
        z$u.next();
        l1m = z$u.previous();
        z$u = this.standardMarketIterator(l1m, null, p1t);
        w3x = z$u.next();
        S18 = (w3x.getTime() - l1m.getTime()) * n52;
        ;
      } else {
        R8s.i3C(160);
        S18 = R8s.k$A("60", n52, 1000, 24, "60");
        ;
      }
    } else {
      R8s.a3e(161);
      S18 = R8s.B0m(n52, r3q, S18);
      ;
    }

    R8s.a3e(40);
    e_9 = R8s.B0m(S18, m6J);

    for (l7C = 0; l7C < l0p.length; l7C++) {
      if (l0p[l7C] > e_9 + "0.001" * 1) break;
      ;
    }

    if (e_9 < 1) {
      console.log("createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST.");
    }

    if (l7C == l0p.length) {
      l7C--;
    } else if (l7C > 0) {
      R8s.i3C(1);
      q4t = l0p[R8s.B0m(1, l7C)];
      k6F = R6v[q4t].arr;
      R8s.i3C(20);
      var J6k = R8s.B0m(19, 13, 0, 31);
      g$1 = k6F[k6F.length - J6k];

      if (e_9 - q4t * g$1 < l0p[l7C] - e_9) {
        l7C--;
      }
    }

    T5C = u4V.timeUnit || l0p[l7C];
    u4V.activeTimeUnit = T5C;
    u8k = R6v[T5C];
    x95 = u8k.arr;

    for (l7C = 0; l7C < x95.length; l7C++) {
      if (x95[l7C] * T5C > e_9) break;
    }

    if (l7C == x95.length) {
      l7C--;
    } else {
      if (e_9 - x95[l7C - 1] * T5C < x95[l7C] * T5C - e_9) {
        l7C--;
      }
    }

    if (u8k.measurement.width * 2 < this.layout.candleWidth) {
      l7C = 0;
    }

    B1j = u4V.timeUnitMultiplier || x95[l7C];
    z5H = [];
    N2C = this.layout.candleWidth;

    for (l7C = 0; l7C <= n52; l7C++) {
      if (a37[l7C]) break;
    }

    if (l7C > 0 && l7C < n52) {
      if (p1t.market) {
        D_P = this.standardMarketIterator(a37[l7C].DT, u4V.adjustTimeZone ? this.displayZone : null);
      }

      for (var L1Z = l7C; L1Z > 0; L1Z--) {
        H2V = {};

        if (D_P && !(p1t.lineApproximation && N2C < 1)) {
          H2V.DT = D_P.previous();
        }

        p1t.xaxis.unshift(H2V);
      }
    }

    J3J = 0;

    function k2N(w31) {
      var m3d, G9l;

      if (T5C == N5$.MILLISECOND) {
        m3d = w31.getMilliseconds();
        G9l = w31.getSeconds();
      } else if (T5C == N5$.SECOND) {
        m3d = w31.getSeconds();
        G9l = w31.getMinutes();
      } else if (T5C == N5$.MINUTE) {
        m3d = w31.getMinutes();
        G9l = w31.getHours();
      } else if (T5C == N5$.HOUR) {
        R8s.a3e(34);
        var b7U = R8s.k$A(14, 946, 1020);
        m3d = w31.getHours() + w31.getMinutes() / b7U;
        G9l = w31.getDate();
      } else if (T5C == N5$.DAY) {
        m3d = w31.getDate();
        R8s.a3e(20);
        var q8A = R8s.B0m(14, 4, 19, 36);
        G9l = w31.getMonth() + q8A;
      } else if (T5C == N5$.MONTH) {
        R8s.i3C(31);
        var n7g = R8s.B0m(2, 3, 6, 6);
        m3d = w31.getMonth() + n7g;
        G9l = w31.getFullYear();
      } else if (T5C == N5$.YEAR) {
        m3d = w31.getFullYear();
        R8s.i3C(1);
        var q7P = R8s.B0m(7000, 8000);
        G9l = w31.getFullYear() + q7P;
      } else {
        m3d = w31.getFullYear();
        R8s.i3C(71);
        G9l = R8s.k$A("0", 64);
      }

      return [m3d, G9l];
    }

    M02 = u8k.minTimeUnit;
    r1p = -+"1";
    Z2E = !![];
    H9U = k2N(a37[l7C].DT);
    R8s.i3C(14);
    K_v = R8s.k$A(0, "0");
    j8U = 0;
    c5B = a37[l7C].tick;

    for (K_v; K_v < c5B; K_v++) {
      K0y = k2N(this.chart.dataSet[c5B - K_v].DT);
      if (K0y[1] != H9U[1]) break;
      H9U = K0y;
    }

    for (j8U; j8U < this.chart.dataSet.length - c5B; j8U++) {
      K0y = k2N(this.chart.dataSet[c5B + j8U].DT);
      if (K0y[1] != H9U[1]) break;
      H9U = K0y;
    }

    p52 = null;

    for (l7C = 0; l7C < n52 + j8U; l7C++) {
      W7N = a37[l7C];

      if (!W7N) {
        W7N = p1t.xaxis[l7C];
      } else if (K_v) {
        W7N = p1t.dataSet[W7N.tick - K_v];
      }

      if (l7C < r3q) {
        b85 = W7N;

        if (b85.displayDate && u4V.adjustTimeZone) {
          J3J = b85.displayDate;
        } else {
          J3J = b85.DT;
        }

        if (l7C && !K_v && p1t.segmentImage) {
          z4d = p1t.segmentImage[l7C];
          R8s.a3e(25);
          var q0g = R8s.B0m(4, 28, 110);
          N2C = (z4d.leftOffset - z4d.candleWidth / q0g) / l7C;
        }
      } else if (p1t.market) {
        j4O = "t";
        j4O += "i";
        j4O += "c";
        j4O += "k";
        if (this.layout.interval == j4O && !u4V.futureTicksInterval) break;
        if (p1t.lineApproximation && N2C < 1) break;
        if (!u4V.futureTicks) break;

        if (!p52) {
          p52 = this.standardMarketIterator(a37[r3q - 1].DT, u4V.adjustTimeZone ? this.displayZone : null);
        }

        J3J = p52.next();
      }

      if (!J3J) continue;
      D15 = null;
      R8s.a3e(1);
      L6H = R8s.k$A(K_v, l7C);
      O9U = {
        DT: J3J
      };

      if (l7C < r3q) {
        O9U.data = W7N;
      } else {
        O9U.data = null;
      }

      if (K_v) {
        K_v--;
        l7C--;
      } else if (!p1t.xaxis[l7C] && l7C < n52) {
        p1t.xaxis.push(O9U);
      }

      H9U = k2N(J3J);
      b6O = H9U[0];
      G4D = H9U[1];

      if (r1p != G4D) {
        if (b6O <= M02) {
          M02 = u8k.minTimeUnit;
        }

        R8s.a3e(8);
        var w0s = R8s.k$A(24, 13, 12);
        a1D = p1t.left + L6H * N2C - w0s;
        D15 = null;

        if (T5C == N5$.HOUR || T5C == N5$.MINUTE && r1p > G4D) {
          if (this.internationalizer) {
            D15 = this.internationalizer.monthDay.format(J3J);
          } else {
            D15 = J3J.getMonth() + +"1" + "/" + J3J.getDate();
          }

          if (u4V.formatter) {
            D15 = u4V.formatter(J3J, "boundary", N5$.DAY, 1, D15);
          }
        } else if (T5C == N5$.DAY) {
          if (r1p > G4D) {
            D15 = J3J.getFullYear();

            if (u4V.formatter) {
              D15 = u4V.formatter(J3J, "boundary", N5$.YEAR, 1, D15);
            }
          } else {
            D15 = N5$.monthAsDisplay(J3J.getMonth(), ![], this);

            if (u4V.formatter) {
              D15 = u4V.formatter(J3J, "boundary", N5$.MONTH, 1, D15);
            }
          }
        } else if (T5C == N5$.MONTH) {
          D15 = J3J.getFullYear();

          if (u4V.formatter) {
            D15 = u4V.formatter(J3J, "boundary", N5$.YEAR, "1" | 0, D15);
          }
        }

        if (D15 && r1p != -1) {
          T53 = "bo";
          T53 += "u";
          T53 += "ndar";
          T53 += "y";
          z5H.push(new N5$.ChartEngine.XAxisLabel(a1D, T53, D15));
        }
      }

      if (b6O >= M02) {
        n5t = "l";
        n5t += "i";
        n5t += "ne";

        if (M02 == u8k.minTimeUnit) {
          if (G4D == r1p) continue;
          ;
        }

        c65 = new Date(+J3J);
        R8s.a3e(10);
        var L3m = R8s.k$A(4, 4, 16, 0, 0);
        R8s.a3e(7);
        var E4H = R8s.B0m(89, 11, 4);
        R8s.i3C(0);
        var x6v = R8s.k$A(1, 6, 7);
        a1D = p1t.left + (+"2" * L6H + L3m) * N2C / ("2" >> E4H) - x6v;
        o91 = Math.floor(b6O / B1j) * B1j;

        if (o91 < b6O) {
          if (this.layout.interval == "week") {
            o91 = b6O;
          } else {
            R8s.a3e(40);
            a1D -= R8s.B0m(N2C, 2);
          }

          ;
        }

        if (T5C == N5$.MILLISECOND) {
          c65.setMilliseconds(o91);
        } else if (T5C == N5$.SECOND) {
          c65.setMilliseconds(0);
          c65.setSeconds(o91);
        } else if (T5C == N5$.MINUTE) {
          c65.setMilliseconds(0);
          c65.setSeconds(+"0");
          c65.setMinutes(o91);
        } else if (T5C == N5$.HOUR) {
          c65.setMilliseconds(0);
          c65.setSeconds(0);
          c65.setMinutes(0);
          c65.setHours(o91);
        } else if (T5C == N5$.DAY) {
          c65.setDate(Math.max(1, o91));
        } else if (T5C == N5$.MONTH) {
          c65.setDate(1);
          R8s.i3C(1);
          c65.setMonth(R8s.B0m(1, o91));
        } else if (T5C == N5$.YEAR) {
          c65.setDate(1);
          c65.setMonth(0);
        } else {
          c65.setDate(1);
          c65.setMonth(0);
        }

        R8s.i3C(4);
        M02 = R8s.k$A(B1j, o91);

        if (T5C == N5$.DAY) {
          R8s.i3C(67);
          var O7J = R8s.B0m(11, 100, 14, 8);
          u8k.maxTimeUnit = t5s[c65.getMonth()] + O7J;
        }

        if (M02 >= u8k.maxTimeUnit) {
          M02 = u8k.minTimeUnit;
        }

        r1p = G4D;

        if (Z2E && o91 < b6O) {
          Z2E = ![];
          continue;
        }

        if (T5C == N5$.DAY) {
          D15 = c65.getDate();
        } else if (T5C == N5$.MONTH) {
          D15 = N5$.monthAsDisplay(c65.getMonth(), !{}, this);
        } else if (T5C == N5$.YEAR || T5C == N5$.DECADE) {
          D15 = c65.getFullYear();
        } else {
          D15 = N5$.timeAsDisplay(c65, this, T5C);
        }

        if (u4V.formatter) {
          D15 = u4V.formatter(c65, "line", T5C, B1j, D15);
        }

        z5H.push(new N5$.ChartEngine.XAxisLabel(a1D, n5t, D15));
      }
    }

    return z5H;
  };
};

n2 = function n2(Z8_) {
  var f5q;
  f5q = Z8_.CIQ;

  f5q.ChartEngine.prototype.createYAxis = function (f1m, c4G) {
    var e5l = M2dNJ;
    var h7A, Y3I, Q4I, q00, J1e, L1M, W2W, O20, V8j, x0U, r8F, Y6a, J8c, e6D, W0D, w8t, I7Y, X4Y, M5q, A1h, l7k, w4P, l2O;
    h7A = "c";
    h7A += "r";
    h7A += "eat";
    h7A += "eYAxis";
    Y3I = "creat";
    Y3I += "eYAxis";

    if (this.runPrepend(Y3I, arguments)) {
      return;
    }

    Q4I = f1m.chart;
    q00 = f1m.name == Q4I.name;

    if (!c4G) {
      c4G = {};
    }

    e5l.E0w();
    c4G.noChange = !1;
    J1e = c4G.yAxis ? c4G.yAxis : f1m.yAxis;

    if (f5q.ChartEngine.enableCaching && J1e.high == f1m.cacheHigh && J1e.low == f1m.cacheLow) {
      e5l.a3e(0);
      var t0B = e5l.k$A(2, 5, 11);
      L1M = Q4I.dataSet.length - Q4I.scroll - t0B;
      e5l.i3C(5);
      var R3u = e5l.B0m(19, 20);
      W2W = L1M + Q4I.maxTicks + R3u;
      f1m.cacheLeft = L1M;
      f1m.cacheRight = W2W;
      c4G.noChange = !0;
    } else {
      f1m.cacheLeft = 1000000;
      f1m.cacheRight = -+"1";
      f1m.cacheHigh = J1e.high;
      f1m.cacheLow = J1e.low;
    }

    O20 = Q4I.xAxis.idealTickSizePixels ? Q4I.xAxis.idealTickSizePixels : Q4I.xAxis.autoComputedTickSizePixels;

    if (J1e.goldenRatioYAxis) {
      if (J1e.idealTickSizePixels != O20 / 1.618) {
        c4G.noChange = !{};
      }
    }

    if (!c4G.noChange) {
      x0U = "p";
      x0U += "rojection";
      this.adjustYAxisHeightOffset(f1m, J1e);
      r8F = J1e.height = J1e.bottom - J1e.top;
      Y6a = (J1e.high - J1e.low) / (r8F - J1e.zoom);

      if (!J1e.semiLog) {
        if (c4G.ground) {
          J1e.high = J1e.high + J1e.zoom * Y6a;
        } else {
          e5l.a3e(61);
          var L3c = e5l.B0m(14, 2, 4, 14);
          J1e.high = J1e.high + (J1e.zoom / L3c + J1e.scroll) * Y6a;
          e5l.i3C(125);
          var K5O = e5l.B0m(17, 4, 167, 13);
          J1e.low = J1e.low - (J1e.zoom / K5O - J1e.scroll) * Y6a;
        }
      }

      if (J1e.min || J1e.min === 0) {
        J1e.low = J1e.min;
      }

      if (J1e.max || J1e.max === +"0") {
        J1e.high = J1e.max;
      }

      J1e.shadow = J1e.high - J1e.low;

      if (J1e.semiLog && (!this.activeDrawing || this.activeDrawing.name != x0U)) {
        J8c = function J8c() {
          var V4d;
          J1e.logHigh = Math.log(J1e.high) / Math.LN10;
          V4d = Math.max(J1e.low, 0.000000001);
          J1e.logLow = Math.log(V4d) / Math.LN10;

          if (J1e.low <= 0) {
            J1e.logLow = 0;
          }

          J1e.logShadow = J1e.logHigh - J1e.logLow;
        };

        if (J1e.semiLog) {
          J8c();
        }

        e6D = J1e.height / (J1e.height - J1e.zoom);

        if (J1e.flipped) {
          J1e.high = this.transformedPriceFromPixel(J1e.bottom + e6D * (J1e.zoom / 2 + J1e.scroll), f1m, J1e);
          J1e.low = this.transformedPriceFromPixel(J1e.top - e6D * (J1e.zoom / 2 - J1e.scroll), f1m, J1e);
          ;
        } else {
          J1e.high = this.transformedPriceFromPixel(J1e.top - e6D * (J1e.zoom / 2 + J1e.scroll), f1m, J1e);
          J1e.low = this.transformedPriceFromPixel(J1e.bottom + e6D * (J1e.zoom / 2 - J1e.scroll), f1m, J1e);
          ;
        }

        J1e.shadow = J1e.high - J1e.low;

        if (J1e.semiLog) {
          J8c();
        }
      }

      if (J1e.goldenRatioYAxis && q00 && J1e == f1m.yAxis) {
        e5l.a3e(40);
        J1e.idealTickSizePixels = e5l.B0m(O20, 1.618);

        if (J1e.idealTickSizePixels === ("0" ^ 0)) {
          W0D = this.getCanvasFontSize("stx_yaxis");
          e5l.a3e(38);
          J1e.idealTickSizePixels = e5l.k$A(W0D, 5);
        }
      } else {
        if (!J1e.idealTickSizePixels) {
          W0D = this.getCanvasFontSize("stx_yaxis");

          if (q00) {
            e5l.a3e(85);
            J1e.idealTickSizePixels = e5l.k$A("5", W0D);
          } else {
            e5l.a3e(38);
            J1e.idealTickSizePixels = e5l.B0m(W0D, 2);
          }
        }
      }

      w8t = Math.round(r8F / J1e.idealTickSizePixels);
      V8j = c4G.range ? c4G.range[1] - c4G.range[0] : J1e.shadow;
      e5l.a3e(40);
      J1e.priceTick = Math.floor(e5l.k$A(V8j, w8t));
      I7Y = 1;

      for (var U0U = +"0"; U0U < 10; U0U++) {
        if (J1e.priceTick > 0) break;
        I7Y *= 10;
        J1e.priceTick = Math.floor(V8j / w8t * I7Y) / I7Y;
      }

      if (U0U == 10) {
        J1e.priceTick = 0.00000001;
      }

      J1e.priceTick = Math.round(V8j / w8t * I7Y) / I7Y;
      X4Y = Math.round(V8j / J1e.priceTick);

      if (c4G.range && X4Y < V8j && !J1e.noEvenDivisorTicks) {
        while (X4Y >= 1) {
          if (V8j % X4Y === 0) break;
          X4Y--;
        }

        e5l.i3C(40);
        J1e.priceTick = e5l.B0m(V8j, X4Y);
      }

      if (J1e.minimumPriceTick) {
        M5q = "stx_ya";
        M5q += "x";
        M5q += "is";
        A1h = J1e.minimumPriceTick;
        W0D = this.getCanvasFontSize(M5q);

        for (var t0o = +"0"; t0o < +"100"; t0o++) {
          e5l.a3e(40);
          l7k = e5l.k$A(V8j, A1h);

          if (r8F / l7k < W0D * 2) {
            A1h += J1e.minimumPriceTick;
          } else break;
        }

        if (t0o < 100) {
          J1e.priceTick = A1h;
        }
      }
    }

    if (J1e.priceTick <= 0 || J1e.priceTick === Infinity) {
      J1e.priceTick = 1;
    }

    J1e.multiplier = J1e.height / J1e.shadow;

    if (J1e.multiplier == Infinity) {
      J1e.multiplier = 0;
    }

    if (!J1e.decimalPlaces && J1e.decimalPlaces !== "0" << 32) {
      if (q00) {
        w4P = 0;

        for (var g0p = 0; g0p < f1m.yAxis.shadowBreaks.length; g0p++) {
          l2O = f1m.yAxis.shadowBreaks[g0p];

          if (f1m.yAxis.shadow < l2O[0]) {
            w4P = l2O[1];
          }
        }

        J1e.printDecimalPlaces = w4P;
      } else {
        J1e.printDecimalPlaces = null;
      }

      ;
    } else {
      J1e.printDecimalPlaces = J1e.decimalPlaces;
    }

    this.runAppend(h7A, arguments);
  };

  f5q.ChartEngine.prototype.drawYAxis = function (V1W, r_g) {
    var n7$ = M2dNJ;
    var y52, j2h, u2C, s7h, a_G, r59, t03, U7c, s6M, Q4E, l0O, j2w, g5E, w5m, G52, l8Z, g_4, C$5, o$1, w2S, z4u, n5C, K$4, O9r, C9T, y$Z, T0m, x5M, E21, a_1, s1c, g6c, Q7M, Q27, K9O, a5m, D_q, j$K, v8F, a3r, h3h, v7k, o9D, w2_, A8J, L31, g1X, I9K, k9B, T$U;
    y52 = "dra";
    y52 += "w";
    y52 += "YA";
    y52 += "xis";
    j2h = "d";
    n7$.E0w();
    j2h += "rawYAxi";
    j2h += "s";
    u2C = "stx_yax";
    u2C += "is";

    if (!r_g) {
      r_g = {};
    }

    s7h = r_g.yAxis ? r_g.yAxis : V1W.yAxis;

    if (V1W.hidden || s7h.noDraw || !s7h.width) {
      return;
    }

    if (!f5q.Comparison || s7h.priceFormatter != f5q.Comparison.priceFormat) {
      a_G = s7h.fractional;

      if (a_G) {
        if (!s7h.originalPriceFormatter) {
          s7h.originalPriceFormatter = {
            func: s7h.priceFormatter
          };
        }

        if (!a_G.resolution) {
          a_G.resolution = s7h.minimumPrice;
        }

        if (!a_G.formatter) {
          a_G.formatter =  false ? undefined : "'";
        }

        if (!s7h.priceFormatter) {
          s7h.priceFormatter = function (b$T, j6s, A9i) {
            var C0Z, F8a, y0j, h57;

            if (!a_G) {
              return;
            }

            C0Z = "";

            if (A9i < 0) {
              C0Z = (3398, 5670) == (4714, 489.86) ? (5630, +"5020") === 1392 ? (1.07e+3, 0x1c7e) : ("b", 197.77) : "-";
              A9i = Math.abs(A9i);
            }

            F8a = Math.floor(Math.round(A9i / a_G.resolution) * a_G.resolution);
            y0j = Math.round((A9i - F8a) / a_G.resolution);
            h57 = Math.floor(y0j);
            n7$.i3C(12);
            var I89 = n7$.B0m(13, 16, 10, 133, 5);
            n7$.a3e(89);
            var D$Y = n7$.B0m(7, 18, 25357, 14, 1690);
            n7$.a3e(50);
            var j5_ = n7$.k$A(19, 331, 4940);
            n7$.i3C(112);
            n7$.j07();
            var r6N = n7$.B0m(102871, 109259, 17, 15, 7);
            n7$.i3C(162);
            var v2D = n7$.k$A(4, 3, 5, 4);
            n7$.a3e(1);
            var h9R = n7$.B0m(18, 4772);
            return C0Z + F8a + a_G.formatter + (h57 < I89 ? (D$Y, 941.59) !== j5_ ? (425.44, "1740" ^ 0) != r6N ? "0" : (![], 213.40) : 565.96 : "") + h57 + (y0j - h57 >= +"0.5" ? "3098" * v2D == h9R ? ("m", +"619.23") : "+" : "");
          };
        }
      } else {
        if (s7h.originalPriceFormatter) {
          s7h.priceFormatter = s7h.originalPriceFormatter.func;
          s7h.originalPriceFormatter = null;
        }
      }
    }

    r59 = this.colorOrStyle(s7h.textStyle || u2C);
    t03 = this.highlightedDraggable;
    U7c = 0;

    if (t03 && this.yaxisMatches(t03, s7h)) {
      U7c = 0.15;
    } else if (s7h.highlight) {
      U7c = 0.1;
    }

    if (U7c) {
      s6M = r59.constructor == String ? r59 : r59.color;
      s7h.setBackground(this, {
        color: s6M,
        opacity: U7c
      });
    }

    if (s7h.pretty) {
      return this.drawYAxisPretty(V1W, r_g);
    }

    if (this.runPrepend(j2h, arguments)) {
      return;
    }

    if (!r_g.noDraw && !s7h.noDraw) {
      Q4E = s7h.yAxisPlotter;

      if (!Q4E || !r_g.noChange) {
        l0O = "s";
        l0O += "tx_yax";
        l0O += "is";
        j2w = "lef";
        j2w += "t";
        g5E = "st";
        g5E += "x_grid_border";
        w5m = "str";
        w5m += "oke";
        G52 = "bo";
        G52 += "rder";
        l8Z = "g";
        l8Z += "ri";
        l8Z += "d";
        Q4E = s7h.yAxisPlotter = new f5q.Plotter();
        g_4 = V1W.chart;
        C$5 = V1W.name == g_4.name && s7h.name === V1W.yAxis.name;

        if (!s7h.priceTick) {
          return;
        }

        o$1 = s7h.shadow;
        w2S = r_g.range;

        if (w2S) {
          n7$.a3e(163);
          var k8a = n7$.k$A(1, 13, 1, 12);
          o$1 = w2S[k8a] - w2S[0];
        }

        z4u = o$1 / s7h.priceTick;
        z4u = Math.round(z4u);

        if (s7h.semiLog) {
          n5C = Math.log(this.valueFromPixel(s7h.flipped ? s7h.top : s7h.bottom, V1W)) / Math.LN10;
          K$4 = (s7h.logHigh - s7h.logLow) / z4u;
        }

        Q4E.newSeries(l8Z, "stroke", this.canvasStyle("stx_grid"));
        Q4E.newSeries("text", "fill", r59);
        Q4E.newSeries(G52, w5m, this.canvasStyle(g5E));
        O9r = 0;
        C9T = w2S ? w2S[+"1"] : s7h.high;
        y$Z = w2S ? w2S[0] : s7h.low;
        T0m = s7h.displayBorder === null ? g_4.panel.yAxis.displayBorder : s7h.displayBorder;

        if (this.axisBorders === !"1") {
          T0m = !{};
        }

        if (this.axisBorders === !0) {
          T0m = !!{};
        }

        E21 = g_4.dynamicYAxis;
        a_1 = E21 ? s7h.width : NaN;
        s1c = this.getYAxisCurrentPosition(s7h, V1W);

        if (s1c == j2w) {
          x5M = s7h.left + s7h.width;
        } else {
          x5M = s7h.left;
        }

        g6c = Math.round(x5M) + 0.5;
        Q7M = T0m ? 3 : 0;

        if (s1c == "left") {
          Q7M = T0m ? -3 : +"0";
        }

        if (C$5) {
          if (s7h.shadow < 1) {
            n7$.a3e(164);
            var H5m = n7$.k$A(2, 8, 19, 19);
            n7$.i3C(19);
            var X7G = n7$.k$A(3, 5, 7, 6);
            O9r = (parseInt(y$Z / s7h.priceTick, H5m) + X7G) * s7h.priceTick - y$Z;
          } else {
            O9r = s7h.priceTick - Math.round(y$Z % s7h.priceTick * V1W.chart.roundit) / V1W.chart.roundit;
          }
        } else {
          O9r = C9T % s7h.priceTick;
        }

        Q27 = this.getCanvasFontSize(l0O);

        for (var P5M = 0; P5M < z4u; P5M++) {
          K9O = "tex";
          K9O += "t";

          if (s7h.semiLog) {
            n7$.a3e(145);
            D_q = n7$.B0m(n5C, K$4, P5M);
            a5m = Math.pow(10, D_q);
          } else {
            if (C$5) {
              a5m = y$Z + P5M * s7h.priceTick + O9r;
            } else {
              a5m = C9T - P5M * s7h.priceTick - O9r;
            }
          }

          j$K = this.pixelFromTransformedValue(a5m, V1W, s7h);
          v8F = Math.round(j$K) + ("0.5" - 0);
          if (v8F + Q27 / 2 > V1W.bottom) continue;
          if (v8F - Q27 / +"2" < V1W.top) continue;
          if (Math.abs(v8F - s7h.bottom) < "1" << 64) continue;

          if (s7h.flipped) {
            v8F = s7h.top + s7h.bottom - v8F;
          }

          if (s7h.displayGridLines) {
            Q4E.moveTo("grid", V1W.left + +"1", v8F);
            Q4E.lineTo("grid", V1W.right - 1, v8F);
          }

          if (T0m) {
            n7$.a3e(1);
            Q4E.moveTo("border", n7$.k$A(0.5, g6c), v8F);
            n7$.i3C(4);
            Q4E.lineTo("border", n7$.B0m(Q7M, g6c), v8F);
          }

          if (s7h.priceFormatter) {
            a5m = s7h.priceFormatter(this, V1W, a5m);
          } else {
            a5m = this.formatYAxisPrice(a5m, V1W, null, s7h);
          }

          a3r = s7h.textBackground ? this.containerColor : null;
          h3h = 3;
          n7$.i3C(50);
          v7k = n7$.k$A(Q7M, x5M, h3h);

          if (s1c == "left") {
            v7k = s7h.left + h3h;

            if (s7h.justifyRight !== !"1") {
              v7k = s7h.left + s7h.width + Q7M - h3h;
            }
          } else {
            if (s7h.justifyRight) {
              v7k = x5M + s7h.width;
            }
          }

          Q4E.addText(K9O, a5m, v7k, v8F, a3r, null, Q27);

          if (E21) {
            a_1 = Math.max(a_1, g_4.context.measureText(a5m).width + Math.abs(Q7M) + h3h);
          }
        }

        if (T0m) {
          o9D = "bord";
          o9D += "er";
          w2_ = "bor";
          w2_ += "d";
          w2_ += "er";
          A8J = "b";
          A8J += "o";
          A8J += "rde";
          A8J += "r";
          L31 = Math.round(s7h.bottom) + 0.5;
          Q4E.moveTo(A8J, g6c, s7h.top);
          Q4E.lineTo(w2_, g6c, L31);
          Q4E.draw(this.getBackgroundCanvas(g_4).context, o9D);
        }

        if (E21 && a_1 > s7h.width) {
          g1X = "rebo";
          g1X += "ot ";
          g1X += "draw";
          s7h._dynamicWidth = a_1;
          this.calculateYAxisPositions();
          throw new Error(g1X);
        } else if (!E21 && s7h._dynamicWidth) {
          this.resetDynamicYAxis({
            chartName: g_4.name
          });
          I9K = 1359789111;
          k9B = 771400587;
          T$U = 2;

          for (var m1o = +"1"; n7$.b3_(m1o.toString(), m1o.toString().length, 67405) !== I9K; m1o++) {
            throw new Error("");
            n7$.a3e(14);
            T$U += n7$.k$A(0, "2");
          }

          if (n7$.m7$(T$U.toString(), T$U.toString().length, 19707) !== k9B) {
            throw new Error("reboot draw");
          }
        }
      }

      if (s7h == V1W.yAxis) {
        this.plotYAxisGrid(V1W);
      }
    }

    this.runAppend(y52, arguments);
  };

  f5q.ChartEngine.prototype.drawYAxisPretty = function (P8b, d9N) {
    var A7Y = M2dNJ;
    var g1S, a5k, X0o, Y5M, t7e, D_h, s9H, M4E, R7H, m3N, G3i, G0A, z1n, W2O, W6v, n3B, e$X, l5Y, T2T, r9_, B2g, f4K, c7C, b$d, U$n, M3A, P2b, E5v, X$z, e6m, i1T, F1a, q8q, h5p, k1O, g_n, N5a, U1F, R6d, m8_, Z15, w4H, k$S, f0J, P8$, N_p, D2k;

    if (this.runPrepend("drawYAxis", arguments)) {
      return;
    }

    if (!d9N) {
      d9N = {};
    }

    g1S = d9N.yAxis ? d9N.yAxis : P8b.yAxis;

    if (P8b.hidden || g1S.noDraw || !g1S.width) {
      return;
    }

    if (!d9N.noDraw) {
      a5k = g1S.yAxisPlotter;

      if (!a5k || !d9N.noChange) {
        X0o = "stx_gr";
        X0o += "id_border";
        Y5M = "b";
        Y5M += "order";
        t7e = "tex";
        t7e += "t";
        a5k = g1S.yAxisPlotter = new f5q.Plotter();
        D_h = P8b.chart;

        if (!g1S.priceTick) {
          return;
        }

        if (isNaN(g1S.high) || isNaN(g1S.low)) {
          return;
        }

        s9H = g1S.shadow;

        if (d9N.range) {
          A7Y.i3C(165);
          var P10 = A7Y.B0m(1, 7, 35, 10);
          A7Y.i3C(1);
          var K$U = A7Y.B0m(15, 79);
          s9H = d9N.range[P10] - d9N.range["0" >> K$U];
        }

        M4E = g1S.height / g1S.idealTickSizePixels;
        M4E = Math.round(M4E);
        R7H = g1S.textStyle || "stx_yaxis";
        a5k.newSeries("grid", "stroke", this.canvasStyle("stx_grid"));
        a5k.newSeries(t7e, "fill", this.colorOrStyle(R7H));
        a5k.newSeries(Y5M, "stroke", this.canvasStyle(X0o));
        m3N = d9N.range;
        G3i = m3N ? m3N[1] : g1S.high;
        G0A = m3N ? m3N[0] : g1S.low;
        z1n = g1S.displayBorder === null ? D_h.panel.yAxis.displayBorder : g1S.displayBorder;

        if (this.axisBorders === !"1") {
          z1n = !{};
        }

        if (this.axisBorders === !!{}) {
          z1n = !!{};
        }

        W6v = D_h.dynamicYAxis;
        n3B = W6v ? g1S.width : NaN;
        e$X = this.getYAxisCurrentPosition(g1S, P8b);

        if (e$X == "left") {
          W2O = g1S.left + g1S.width;
        } else {
          W2O = g1S.left;
        }

        l5Y = Math.round(W2O) + 0.5;
        T2T = z1n ? 3 : "0" | 0;

        if (e$X == "left") {
          T2T = z1n ? -3 : 0;
        }

        r9_ = this.getCanvasFontSize("stx_yaxis");
        B2g = g1S.increments;
        f4K = B2g.length;
        c7C = 0;
        A7Y.i3C(14);
        b$d = A7Y.k$A(1, "1");
        U$n = 0;
        A7Y.i3C(14);
        M3A = A7Y.k$A(0, "0");
        P2b = 0;
        E5v = Number.MAX_VALUE;

        for (var N9Y = 0; N9Y < 100; N9Y++) {
          A7Y.i3C(1);
          var P5L = A7Y.k$A(140, 150);
          U$n = B2g[c7C] * Math.pow(P5L, P2b);
          A7Y.a3e(40);
          b$d = Math.floor(A7Y.k$A(s9H, U$n));
          A7Y.a3e(1);
          X$z = Math.abs(A7Y.k$A(b$d, M4E));

          if (X$z > E5v) {
            break;
          } else {
            E5v = X$z;
          }

          if (b$d == M4E) {
            M3A = U$n;
            break;
          } else if (b$d > M4E) {
            c7C++;

            if (c7C >= f4K) {
              c7C = 0;
              P2b++;
            }
          } else {
            c7C--;

            if (c7C < 0) {
              A7Y.a3e(1);
              c7C = A7Y.B0m(1, f4K);
              P2b--;
            }
          }

          M3A = U$n;
        }

        e6m = Math.ceil(G0A / M3A) * M3A;
        i1T = g1S.bottom - this.pixelFromTransformedValue(e6m, P8b, g1S);
        F1a = 0;

        if (i1T > g1S.idealTickSizePixels && g1S.semiLog && g1S.prettySemiLog) {
          q8q = Math.ceil(G0A);
          h5p = 0;

          while (e6m - q8q >= +"10000" && h5p <= 15) {
            e6m /= 10;
            q8q /= +"10";
            h5p++;
          }

          e6m = Math.ceil(e6m);
          q8q = Math.ceil(q8q);

          for (q8q; q8q < e6m && e6m % q8q !== 0; ++q8q) {
            ;
          }

          e6m *= Math.pow(10, h5p);
          q8q *= Math.pow(10, h5p);

          if (q8q < e6m) {
            if (e6m === M3A) {
              M3A = q8q;
              F1a = q8q;
            }

            e6m = q8q;
          }
        }

        if (g1S.height > g1S.zoom) {
          k1O = "stx_";
          k1O += "y";
          k1O += "a";
          k1O += "xis";
          g_n = +"0";
          N5a = Number.MAX_VALUE;
          D_h.context.save();
          this.canvasFont(k1O, D_h.context);

          for (var L1_ = 0; L1_ < 100; L1_++) {
            A7Y.i3C(145);
            U1F = A7Y.B0m(e6m, M3A, g_n);
            if (U1F > G3i) break;
            M3A += F1a;
            g_n++;
            R6d = this.pixelFromTransformedValue(U1F, P8b, g1S);

            if (N5a - R6d < r9_ + 1 && F1a > ("0" ^ 0)) {
              L1_ = g_n = 0;
              N5a = Number.MAX_VALUE;
              M3A = F1a;
              F1a *= 2;
              a5k.reset();
              continue;
            }

            N5a = R6d;
            m8_ = Math.round(R6d) + 0.5;
            if (m8_ + r9_ / 2 > P8b.bottom) continue;
            if (m8_ - r9_ / 2 < P8b.top) continue;
            if (Math.abs(m8_ - g1S.bottom) < 1) continue;

            if (g1S.displayGridLines) {
              a5k.moveTo("grid", P8b.left + +"1", m8_);
              a5k.lineTo("grid", P8b.right - 1, m8_);
            }

            if (z1n) {
              A7Y.i3C(1);
              a5k.moveTo("border", A7Y.k$A(0.5, l5Y), m8_);
              A7Y.a3e(4);
              a5k.lineTo("border", A7Y.B0m(T2T, l5Y), m8_);
            }

            if (g1S.priceFormatter) {
              U1F = g1S.priceFormatter(this, P8b, U1F);
            } else {
              U1F = this.formatYAxisPrice(U1F, P8b, null, g1S);
            }

            Z15 = g1S.textBackground ? this.containerColor : null;
            w4H = 3;
            A7Y.i3C(50);
            k$S = A7Y.k$A(T2T, W2O, w4H);

            if (e$X == "left") {
              A7Y.a3e(25);
              var a09 = A7Y.B0m(7, 19, 130);
              k$S = g1S.left + a09;

              if (g1S.justifyRight !== !1) {
                k$S = g1S.left + g1S.width + T2T - w4H;
              }
            } else {
              if (g1S.justifyRight) {
                k$S = W2O + g1S.width;
              }
            }

            a5k.addText("text", U1F, k$S, m8_, Z15, null, r9_);

            if (W6v) {
              A7Y.a3e(4);
              f0J = A7Y.k$A("\xA0", U1F);
              n3B = Math.max(n3B, D_h.context.measureText(f0J).width + Math.abs(T2T) + w4H);
            }
          }

          D_h.context.restore();

          if (L1_ >= 100) {
            P8$ = "drawYAxisPretty";
            P8$ += ": assertion error. zz reached 100";
            console.log(P8$);
          }
        }

        if (z1n) {
          N_p = Math.round(g1S.bottom) + +"0.5";
          a5k.moveTo("border", l5Y, g1S.top);
          a5k.lineTo("border", l5Y, N_p);
          a5k.draw(this.getBackgroundCanvas(D_h).context, "border");
        }

        if (W6v && n3B > g1S.width) {
          g1S._dynamicWidth = n3B;
          this.calculateYAxisPositions();
          throw new Error("reboot draw");
        } else if (!W6v && g1S._dynamicWidth) {
          D2k = "r";
          D2k += "eboot";
          D2k += " ";
          D2k += "draw";
          this.resetDynamicYAxis({
            chartName: D_h.name
          });
          throw new Error(D2k);
        }
      }

      if (g1S == P8b.yAxis) {
        this.plotYAxisGrid(P8b);
      }
    }

    this.runAppend("drawYAxis", arguments);
  };
};

B = {};
k(B);
N(B);
M2dNJ.E0w();
u(B);
X(B);
S(B);
P(B);
Q(B);
V(B);
M(B);
T(B);
R(B);
W(B);
Y(B);
L(B);
E(B);
K(B);
A(B);
G(B);
O(B);
H(B);
G6(B);
k$(B);
w6(B);
K_(B);
D5(B);
S8(B);
V4(B);
U$(B);
v8(B);
Z0(B);
d7(B);
U8(B);
Z9(B);
v5(B);
I3(B);
j0(B);
n2(B);
var _B = B,
    b$ = _B.CIQ,
    E6 = _B.SplinePlotter,
    e4 = _B.timezoneJS,
    K$ = _B.$$,
    Q7 = _B.$$$;

/* eslint-enable  */

/* jshint ignore:end   */

/* ignore jslint end   */
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./chartiq/production/js/deprecated.js":
/*!*********************************************!*\
  !*** ./chartiq/production/js/deprecated.js ***!
  \*********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/chartiq.js */ "./chartiq/production/js/chartiq.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/

/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/

/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */

/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */

/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */

/*************************************************************************************************************************/

/* eslint-disable no-extra-parens */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/

/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/

/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */

/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */

/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */

/*************************************************************************************************************************/

/*
	Deprecated functions - lite
*/

var WARN_INTERVAL = 10000;
/**
 * Warn developer of use of deprecated function.
 *
 * All deprecated functions should be calling this log whenever it is used.
 * Warning will be output to the console up to 10 seconds after it is logged, in order to help suppress duplicates.
 *
 * @param {string} message Message to output
 * @private
 */

var warnings = null;

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].deprecationWarning = function (message) {
  if (!warnings) {
    warnings = {};
    setInterval(function () {
      for (var m in warnings) {
        console.warn(m + " (" + warnings[m] + " occurrences)");
        delete warnings[m];
      }
    }, WARN_INTERVAL);
  }

  if (!warnings[message]) warnings[message] = 1;else warnings[message]++;
};

var log = _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].deprecationWarning;
/* Function.ciqInheritsFrom, Function.stxInheritsFrom */

if (!Function.prototype.ciqInheritsFrom) {
  /**
   * The built-in Function object.
   * @external Function
   * @see [Function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function} on the Mozilla Developer Network.
   */

  /**
   * **Deprecated since 7.4.0.** Use {@link CIQ.inheritsFrom} instead.
   *
   * Template for JavaScript inheritance.
   *
   * By default the constructor (ctor) is called with no arguments.
   *
   * @param {object} ctor The parent class or object.
   * @param {boolean} [autosuper=true] Set to false to prevent the base class constructor from being called automatically.
   * @memberof external:Function
   * @alias external:Function#ciqInheritsFrom
   * @deprecated As of 7.4.0. Use {@link CIQ.inheritsFrom} instead.
   */
  Function.prototype.ciqInheritsFrom = function (ctor, autosuper) {
    log("Function.prototype.ciqInheritsFrom() has been deprecated.  Use CIQ.inheritsFrom(me, ctor, autosuper) instead.");
    _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].inheritsFrom(this, ctor, autosuper);
  };

  Function.prototype.stxInheritsFrom = Function.prototype.ciqInheritsFrom; // backward compatibility
}
/**
 * The built-in String object.
 * @external String
 * @see [String]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String} on the Mozilla Developer Network.
 */

/**
 * **Deprecated since 7.4.0.** Use {@link CIQ.capitalize} instead.
 *
 * Capitalizes the first letter of a string.
 *
 * @return {string} Capitalized version of the string.
 * @memberof external:String
 * @alias external:String#capitalize
 * @deprecated As of 7.4.0. Use {@link CIQ.capitalize} instead.
 */


String.prototype.capitalize = function () {
  log("String.prototype.capitalize() has been deprecated.  Use CIQ.capitalize(string) instead.");
  return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].capitalize(this);
};
/**
 * **Deprecated since 7.4.0.** Use native CanvasRenderingContext2D methods such as moveTo(), lineTo() and setLineDash() instead.
 *
 * Dashed line polyfill for the canvas. Note that dashed lines are expensive operations when not supported natively.
 * See {@link external:CanvasRenderingContext2D#stxLine}.
 *
 * @param {number} fromX Starting point of the X-axis.
 * @param {number} fromY Starting point of the Y-axis.
 * @param {number} toX Destination on the X-axis.
 * @param {number} toY Destination on the Y-axis.
 * @param {string[]} pattern Array of stroke patterns.
 * @memberof external:CanvasRenderingContext2D
 * @alias external:CanvasRenderingContext2D#dashedLineTo
 * @deprecated As of 7.4.0. Use native CanvasRenderingContext2D methods such as moveTo(), lineTo() and setLineDash() instead.
 *
 * @example
 * <caption>Native [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D}
 * methods used to draw a horizontal dashed line across the center of the screen:</caption>
 * var canvas = stxx.chart.backgroundCanvas;
 * var ctx = canvas.getContext("2d");
 * ctx.beginPath();
 * ctx.setLineDash([10, 10]);
 * ctx.moveTo(0, canvas.height/2);
 * ctx.lineTo(canvas.width, canvas.height/2);
 * ctx.stroke();
 */


CanvasRenderingContext2D.prototype.dashedLineTo = function (fromX, fromY, toX, toY, pattern) {
  log("CanvasRenderingContext2D.prototype.dashedLineTo() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo(), lineTo() and setLineDash() instead."); // Error check.

  if (!(pattern instanceof Array)) {
    if (pattern) console.log('WARNING: Unsupported drawing pattern "' + pattern + '"; defaulting to "solid"');
    this.stxLine(fromX, fromY, toX, toY, this.strokeStyle, this.globalAlpha, this.lineWidth);
    return;
  } // can't dash if we do not have proper values


  if (fromY === Infinity || fromX === Infinity || toY === Infinity || toX === Infinity) return; // Our growth rate for our line can be one of the following:
  // (+,+), (+,-), (-,+), (-,-)
  // Because of this, our algorithm needs to understand if the x-coord and
  // y-coord should be getting smaller or larger and properly cap the
  // values
  // based on (x,y).

  var lt = function lt(a, b) {
    return a - b <= 0.00000001;
  };

  var gt = function gt(a, b) {
    return a - b >= -0.00000001;
  };

  var capmin = function capmin(a, b) {
    return Math.min(a, b);
  };

  var capmax = function capmax(a, b) {
    return Math.max(a, b);
  };

  var checkX = {
    thereYet: gt,
    cap: capmin
  };
  var checkY = {
    thereYet: gt,
    cap: capmin
  };

  if (fromY - toY > 0) {
    checkY.thereYet = lt;
    checkY.cap = capmax;
  }

  if (fromX - toX > 0) {
    checkX.thereYet = lt;
    checkX.cap = capmax;
  }

  this.moveTo(fromX, fromY);
  if (isNaN(fromX) || isNaN(fromY)) return;
  var offsetX = fromX;
  var offsetY = fromY;
  var idx = 0,
      dash = true;

  while (!(checkX.thereYet(offsetX, toX) && checkY.thereYet(offsetY, toY))) {
    var ang = Math.atan2(toY - fromY, toX - fromX);
    var len = pattern[idx];
    offsetX = checkX.cap(toX, offsetX + Math.cos(ang) * len);
    offsetY = checkY.cap(toY, offsetY + Math.sin(ang) * len);
    if (dash) this.lineTo(offsetX, offsetY);else this.moveTo(offsetX, offsetY);
    idx = (idx + 1) % pattern.length;
    dash = !dash;
  }
};
/**
 * **Deprecated since 7.4.0.** Use native CanvasRenderingContext2D methods such as moveTo() and lineTo() instead.
 *
 * @param {number} fromX Starting point of the X-axis.
 * @param {number} fromY Starting point of the Y-axis.
 * @param {number} toX Destination on the X-axis.
 * @param {number} toY Destination on the Y-axis.
 * @param {string} color CSS-compatible color, such as hex, rgb, rgba or even color names such as "orange".
 * @param {number} opacity The alpha. A number between 0 and 1.
 * @param {number} lineWidth The line width in pixels.
 * @param {number[]} [pattern] An array that contains the number of pixels on and then the number of pixels off.
 *		For instance [1,1] would create a dotted pattern by turning one pixel on and then one pixel off repeatedly.
 * @memberof external:CanvasRenderingContext2D
 * @alias external:CanvasRenderingContext2D#stxLine
 * @deprecated As of 7.4.0. Use native CanvasRenderingContext2D methods such as moveTo() and lineTo() instead.
 *
 * @example
 * <caption>Native [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D}
 * methods used to draw a thick blue line diagonally across the screen:</caption>
 * var canvas = stxx.chart.backgroundCanvas;
 * var ctx = canvas.getContext("2d");
 * ctx.beginPath();
 * ctx.strokeStyle = "blue";
 * ctx.lineWidth = 2;
 * ctx.moveTo(0, 0);
 * ctx.lineTo(canvas.width, canvas.height/2);
 * ctx.stroke();
 */


CanvasRenderingContext2D.prototype.stxLine = function (fromX, fromY, toX, toY, color, opacity, lineWidth, pattern) {
  log("CanvasRenderingContext2D.prototype.stxLine() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo() and lineTo() instead.");
  this.beginPath();
  this.lineWidth = lineWidth;
  this.strokeStyle = color;
  this.globalAlpha = opacity;

  if (pattern && pattern.length) {
    this.dashedLineTo(fromX, fromY, toX, toY, pattern);
  } else {
    this.moveTo(fromX, fromY);
    this.lineTo(toX, toY);
  }

  this.stroke();
  this.closePath();
  this.lineWidth = 1;
};
/**
 * **Deprecated since 7.4.0.** Use native CanvasRenderingContext2D methods such as arc() instead.
 *
 * Add native circle drawing to the canvas.
 *
 * @param  {number} x X-axis position of the center of the circle.
 * @param  {number} y Y-axis position of the center of the circle.
 * @param  {number} radius Radius of the circle.
 * @param  {boolean} filled If true, then the circle is filled.
 * @memberof external:CanvasRenderingContext2D
 * @alias external:CanvasRenderingContext2D#stxCircle
 * @deprecated As of 7.4.0. Use native CanvasRenderingContext2D methods such as arc() instead.
 *
 * @example
 * <caption>Native [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D}
 * methods used to draw a red circle in the center of the screen:</caption>
 * var canvas = stxx.chart.backgroundCanvas;
 * var ctx = canvas.getContext("2d");
 * ctx.beginPath();
 * ctx.fillStyle = "red";
 * ctx.arc(canvas.width/2, canvas.height/2, 100, 0, 2 * Math.PI);
 * ctx.fill();
 */


CanvasRenderingContext2D.prototype.stxCircle = function (x, y, radius, filled) {
  log("CanvasRenderingContext2D.prototype.stxCircle() has been deprecated.  Use native CanvasRenderingContext2D methods such as arc() instead.");
  this.beginPath();
  this.arc(x, y, radius, 0, 2 * Math.PI, false);
  if (filled) this.fill();
  this.stroke();
  this.closePath();
};
/**
 * Returns an instance of
 * [XMLHttpRequest]{@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest}.
 *
 * @param {string} url The URL to which the request is sent (not used).
 * @return {object} An XMLHttpRequest instance.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use `new XMLHttpRequest()`.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].getAjaxServer = function (url) {
  log("CIQ.getAjaxServer() has been deprecated.  Use `new XMLHttpRequest` instead.");
  return new XMLHttpRequest();
};
/**
 * Converts an onClick event to an ontouchend event. If the device is known to be a touch device then this can be used
 * to change onclick events that are set as attributes (in HTML). ontouchend events are more responsive than onclick events
 * and can improve the user experience. When coding for cross-device implementations it is recommended to use {@link CIQ.safeClickTouch}
 * programmatically rather than using hardcoded attributes
 * @param  {string} id The id of a node containing an onClick attribute
 * @memberof CIQ
 * @deprecated
 * @since 6.0.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].convertClickToTouchEnd = function (id) {
  log("CIQ.convertClickToTouchEnd() has been deprecated.  Use CIQ.safeClickTouch() instead.");
  var node = document.getElementById(id);
  var s = node.getAttribute("onClick");

  if (s) {
    node.removeAttribute("onClick");
    node.setAttribute("onTouchEnd", s);
  }
};
/**
 * Converts a date to YYYY-MM-DDTHH:MM:SSZ format (UTC).
 *
 * @param {date} dt The JavaScript `Date` object to be converted.
 * @return {string} The date in YYYY-MM-DDTHH:MM:SSZ format.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Date.prototype.toISOString]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString} method.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].standardUTCDate = function (dt) {
  log("CIQ.standardUTCDate(dt) has been deprecated.  Use dt.toISOString() instead.");
  var m = dt.getUTCMonth() + 1;
  if (m < 10) m = "0" + m;
  var d = dt.getUTCDate();
  if (d < 10) d = "0" + d;
  var h = dt.getUTCHours();
  if (h < 10) h = "0" + h;
  var mn = dt.getUTCMinutes();
  if (mn < 10) mn = "0" + mn;
  var s = dt.getUTCSeconds();
  if (s < 10) s = "0" + s;
  return "" + dt.getUTCFullYear() + "-" + m + "-" + d + "T" + h + ":" + mn + ":" + s + "Z";
};
/**
 * Determines whether the input date is during daylight saving time (DST).
 *
 * @param {date} [dt] The date to check. If the parameter is omitted, the current date is used.
 * @return {boolean} True for DST, otherwise false.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. This function may return inaccurate results for some
 * 		countries.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].isDST = function (dt) {
  log("CIQ.isDST() has been deprecated.  Use dt.toISOString() instead.");
  if (!dt) dt = new Date();
  var jan = new Date(dt.getFullYear(), 0, 1);
  var jul = new Date(dt.getFullYear(), 6, 1);
  var stdOffset = Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());
  return dt.getTimezoneOffset() != stdOffset;
};
/**
 * Gets the source element for a DOM event.
 *
 * @param {object} [e] The DOM event, if available from the browser. If an event is not
 * 		provided, the window event is used.
 * @return {object} The DOM node that registered the event.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Event.target]{@link https://developer.mozilla.org/en-US/docs/Web/API/Event/target}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].getEventDOM = function (e) {
  log("CIQ.getEventDOM() has been deprecated.  Use `e.target` instead.");
  return e ? e.target : window.event.srcElement;
};
/**
 * **Deprecated since 8.1.0.** Use {@link CIQ.elementDimensions} instead.
 *
 * Measures the width of a DOM element, including left and right margins.
 *
 * @param {HTMLElement} node The DOM element for which the width is measured.
 * @return {number} The width of the DOM element, including margins.
 *
 * @memberof CIQ
 * @deprecated Use {@link CIQ.elementDimensions}; for example,
 * 		`CIQ.elementDimensions(node, {margin:1, padding:1, border:1}).width`.
 * @since 8.1.0 Deprecated.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].outerWidth = function (node) {
  log("CIQ.outerWidth() has been deprecated.  Use `CIQ.elementDimensions(node, {margin:1, padding:1, border:1}).width` instead.");
  var width = node.offsetWidth;
  width += _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].stripPX(getComputedStyle(node).marginLeft);
  width += _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].stripPX(getComputedStyle(node).marginRight);
  return width;
};
/**
 * **Deprecated since 8.1.0.** Use `node.innerHTML=""` instead.
 *
 * Removes all DOM elements from within a given node. This is extremely useful when dynamically
 * generating content.
 *
 * @param {HTMLElement} node The node from which all DOM elements are removed.
 *
 * @memberof CIQ
 * @deprecated Use `node.innerHTML=""`.
 * @since 8.1.0 Deprecated.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].clearNode = function (node) {
  log("CIQ.clearNode() has been deprecated.  Use `node.innerHTML=''` instead.");

  if (node.hasChildNodes()) {
    while (node.childNodes.length >= 1) {
      node.removeChild(node.firstChild);
    }
  }
};
/**
 * **Deprecated since 8.1.0.** Use `Element.parentElement.prototype.closest()` instead.
 *
 * Convenience function for selecting a DOM element's closest parent element matching a selector.
 *
 * Use instead of `jQuery.closest()`.
 *
 * @param {HTMLElement} el The DOM element for which the parent element is obtained.
 * @param {string} selector A CSS selector used to select the parent element.
 * @return {HTMLElement} The parent element of `el` matching `selector`, or null if no match is
 * 		found.
 *
 * @memberof CIQ
 * @deprecated Use `Element.parentElement.prototype.closest()`.
 * @since
 * - 7.3.0
 * - 8.1.0 Deprecated.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].findClosestParent = function (el, selector) {
  log("CIQ.findClosestParent() has been deprecated.  Use `Element.parentElement.prototype.closest()` instead.");
  var matchesFn; // find vendor prefix

  ["matches", "webkitMatchesSelector", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector"].some(function (fn) {
    if (typeof document.body[fn] == "function") {
      matchesFn = fn;
      return true;
    }

    return false;
  });
  if (!matchesFn) return false;
  var parent; // traverse parents

  while (el) {
    parent = el.parentElement;

    if (parent && parent[matchesFn](selector)) {
      return parent;
    }

    el = parent;
  }

  return null;
};
/**
 * Appends a class name to a node if the node doesn't already have that class. Used to
 * control dynamic behavior via CSS.
 *
 * @param {object} node The DOM element to which the class is added.
 * @param {string} className Name of the class to add to the DOM element.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Element.classList.add(className)]{@link https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/add}.
 *
 * @example
 * // Apply an "active" css look to an object.
 * CIQ.appendClassName(myNode, "active");
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].appendClassName = function (node, className) {
  log("CIQ.appendClassName() has been deprecated.  Use `node.classList.add(className)` instead.");
  if (!node) return;
  if (node.className == className) return; // already a class

  var s = node.className.split(" ");

  for (var i = 0; i < s.length; i++) {
    if (s[i] == className) return; // already a class
  }

  if (!node.className) node.className = className;else node.className += " " + className;
};
/**
 * Removes a class name from a DOM node.
 *
 * @param {object} node The DOM element from which the class name is removed.
 * @param {string} className The class name to remove.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Element.classList.remove(className)]{@link https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/remove}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].unappendClassName = function (node, className) {
  log("CIQ.unappendClassName() has been deprecated.  Use `node.classList.remove(className)` instead.");
  if (!node) return;
  if (node.className.indexOf(className) == -1) return;

  if (node.className == className) {
    node.className = "";
  } else {
    var s = node.className.split(" ");
    var newClassName = "";

    for (var i = 0; i < s.length; i++) {
      if (s[i] == className) continue;
      if (newClassName !== "") newClassName += " ";
      newClassName += s[i];
    }

    node.className = newClassName;
  }
};
/**
 * Convenience method for swapping two class names on a DOM node. Typically used to change
 * state.
 *
 * @param {object} node The DOM element on which the class names are swapped.
 * @param {string} newClassName The class name to swap in.
 * @param {string} oldClassName The class name to swap out.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Element.classList.replace(oldClassName, newClassName)]{@link https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/replace}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].swapClassName = function (node, newClassName, oldClassName) {
  log("CIQ.swapClassName() has been deprecated.  Use `node.classList.replace(oldClassName, newClassName)` instead.");
  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].unappendClassName(node, oldClassName);
  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].appendClassName(node, newClassName);
};
/**
 * Determines whether a class name is currently assigned to a DOM element.
 *
 * @param {object} node The DOM node checked for the presence of the class name.
 * @param {string} className The class name for which to check.
 * @return {boolean} True, if the class name is currently assigned to the DOM element;
 * 		otherwise, false.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Element.classList.contains(className)]{@link https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/contains}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].hasClassName = function (node, className) {
  log("CIQ.hasClassName() has been deprecated.  Use `node.classList.contains(className)` instead.");
  if (!node) return false;
  if ((" " + node.className + " ").indexOf(" " + className + " ") > -1) return true;
  return false;
};
/**
 * Toggles the class name on or off on a DOM element.
 *
 * @param {HTMLElement} node The DOM element on which the class name is toggled on or off.
 * @param {string} className The class name to toggle on or off.
 *
 * @memberof CIQ
 * @deprecated As of 8.0.0. Use [Element.classList.toggle(className)]{@link https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].toggleClassName = function (node, className) {
  log("CIQ.toggleClassName() has been deprecated.  Use `node.classList.toggle(className)` instead.");
  if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].hasClassName(node, className)) _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].unappendClassName(node, className);else _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].appendClassName(node, className);
};
/*
 * http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/
 */


(function () {
  var attachEvent = document.attachEvent;
  var isIE = navigator.userAgent.match(/Trident/);

  var requestFrame = function () {
    var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {
      return setTimeout(fn, 20);
    };

    return function (fn) {
      return raf(fn);
    };
  }();

  var cancelFrame = function () {
    var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout;
    return function (id) {
      return cancel(id);
    };
  }();

  function resizeListener(e) {
    var win = e.target || e.srcElement;
    if (win.__resizeRAF__) cancelFrame(win.__resizeRAF__);
    win.__resizeRAF__ = requestFrame(function () {
      var trigger = win.__resizeTrigger__;

      trigger.__resizeListeners__.forEach(function (fn) {
        fn.call(trigger, e);
      });
    });
  }

  function objectLoad(e) {
    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;
    this.contentDocument.defaultView.addEventListener("resize", resizeListener);
  }
  /**
   * **Deprecated since 7.4.0.** Use {@link CIQ.UI.addResizeListener} instead.
   *
   * Attaches a callback to listen for resize events on the DOM.
   *
   * Designed to be used as a helper method for the included {@link WebComponents}. A full tutorial on how to work with
   * and customize the Web Components can be found here: {@tutorial Web Component Interface}.
   *
   * @param {node} element The node to which the listener is attached.
   * @param {function} callback The listener function to attach to the DOM element.
   * @memberof CIQ
   * @deprecated As of 7.4.0. Use {@link CIQ.UI.addResizeListener}.
   */


  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].addResizeListener = function (element, fn) {
    log("CIQ.addResizeListener() has been deprecated.  Use CIQ.UI.addResizeListener() instead.");
    var uiManager = document.querySelector("cq-ui-manager");

    if (uiManager.length > 0) {
      uiManager = uiManager[0];
      uiManager.registerForResize(element);
    }

    if (!element.__resizeListeners__) {
      element.__resizeListeners__ = [];

      if (attachEvent) {
        element.__resizeTrigger__ = element;
        element.attachEvent("onresize", resizeListener);
      } else {
        //if (!getComputedStyle(element) || getComputedStyle(element).position == 'static') element.style.position = 'relative';
        var obj = element.__resizeTrigger__ = document.createElement("object");
        obj.setAttribute("style", "visibility:hidden; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; border:0px;");
        obj.__resizeElement__ = element;
        obj.onload = objectLoad;
        obj.type = "text/html";
        if (isIE) element.appendChild(obj);
        obj.data = "about:blank";
        if (!isIE) element.appendChild(obj);
      }
    }

    element.__resizeListeners__.push(fn);
  };
  /**
   * Removes an attached resize event listener from a DOM element.
   *
   * Designed to be used as a helper method for the included {@link WebComponents}.
   * A full tutorial on how to work with and customize the Web Components can be found here: {@tutorial Web Component Interface}.
   *
   * @param {node} element The node from which the listener is removed.
   * @param {function} callback The listener function to be removed.
   * @memberof CIQ
   * @deprecated As of 7.4.0. Use {@link CIQ.UI.removeResizeListener}.
   */


  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].removeResizeListener = function (element, fn) {
    log("CIQ.removeResizeListener() has been deprecated.  Use CIQ.UI.removeResizeListener() instead.");
    var uiManager = document.querySelector("cq-ui-manager");

    if (uiManager.length > 0) {
      uiManager = uiManager[0];
      uiManager.unregisterForResize(element);
    }

    element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);

    if (!element.__resizeListeners__.length) {
      if (attachEvent) element.detachEvent("onresize", resizeListener);else {
        element.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize", resizeListener);

        element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);
      }
    }
  };
})();
/**
 * This function is no longer used by the library. Use {@link CIQ.Renderer#adjustYAxis} instead.
 * @memberof CIQ.Renderer
 * @deprecated As of 5.2.0. no longer used in library..
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Renderer.prototype.performCalculations = function () {
  log("CIQ.Renderer.prototype.performCalculations has been deprecated.  Use CIQ.Renderer.prototype.adjustYAxis instead.");
};
/**
 * **Deprecated**  Use {@link CIQ.ChartEngine.XAxis#noDraw} and {@link CIQ.ChartEngine.YAxis#noDraw} instead.
 *
 * Override this function to hide the date which floats along the X axis when crosshairs are enabled. Return `true` to hide the date or `false` to display.
 * @memberof CIQ.ChartEngine
 * @deprecated as of 6.0.0 no longer used in library.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.hideDates = function () {
  log("CIQ.Renderer.hideDates is no longer supported.  To hide an axis, set its noDraw property.  To hide the floating date label, set stxx.controls.floatDate=null.");
  return false;
};
/**
 * Returns true if the chartType displays OHL data.
 * @param  {string} chartType The chart type (layout.chartType)
 * @return {boolean} True if the chart type only displays close values
 * @memberof CIQ.ChartEngine
 * @since 05-2016-10.1 "baseline_delta_mountain" and "colored_mountain" are also available.
 * @deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.chartShowsHighs = function (chartType) {
  log("CIQ.ChartEngine.prototype.chartShowsHighs has been deprecated.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead.");
  if ({
    line: 1,
    colored_line: 1,
    mountain: 1,
    colored_mountain: 1,
    baseline_delta: 1,
    baseline_delta_mountain: 1,
    histogram: 1,
    scatterplot: 1,
    step: 1,
    colored_step: 1
  }[chartType] == 1) return false;
  return true;
};
/**
 * Draws a filled rectangle on the chart.
 *
 * @param {number} left The x-axis coordinate of the starting point of the rectangle.
 * @param {number} width The width of the rectangle.
 * @param {number} top The y-axis coordinate of the starting point of the rectangle.
 * @param {number} height The height of the rectangle.
 * @param {string} className A CSS class name used to set the fill color of the rectangle.
 * @param {external:CanvasRenderingContext2D} [context] The canvas context on which the
 * 		rectangle is drawn. If this parameter is not provided, the chart context is used.
 *
 * @memberOf CIQ.ChartEngine
 * @deprecated As of 8.0.0. Use [CanvasRenderingContext2D.fillRect()]{@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.createBlock = function (left, width, top, height, className, context) {
  log("CIQ.ChartEngine.prototype.createBlock has been deprecated.  Use native canvas context operation fillRect instead.");
  if (!context) context = this.chart.context;

  if (typeof height == "undefined") {
    return;
  }

  this.canvasColor(className, context);
  context.fillRect(left, top, width, height);
  context.globalAlpha = 1;
};
/**
 * Turns the volume underlay indicator on or off.
 *
 * @param {boolean} data True to turn on the underlay, false to turn it off.
 *
 * @memberof CIQ.ChartEngine
 * @deprecated As of 8.0.0. To enable a volume underlay, use {@link CIQ.Studies.addStudy};
 * 		to disable a volume underlay, {@link CIQ.Studies.removeStudy}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.setVolumeUnderlay = function (data) {
  log("CIQ.ChartEngine.prototype.setVolumeUnderlay is no longer supported.  To enable a volume underlay, use CIQ.Studies.addStudy(stxx, 'vol undr').  To disable, use CIQ.Studies.removeStudy.");
  this.layout.volumeUnderlay = data;
  if (this.chart.canvas) this.draw();
  this.changeOccurred("layout");
};
/**
 * Exports all of the drawings on the chart(s) so that they can be saved to an external database and later reconstructed.
 *
 * Note: This function has been renamed {@link CIQ.ChartEngine#exportDrawings}.
 *
 * @see {@link CIQ.ChartEngine#exportDrawings}
 * @see {@link CIQ.ChartEngine#importDrawings}
 * @return {array} An array of objects representing each drawing
 * @memberof CIQ.ChartEngine
 * @deprecated since 3.0.0
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.serializeDrawings = function () {
  log("CIQ.ChartEngine.prototype.serializeDrawings has been deprecated.  Use CIQ.ChartEngine.prototype.exportDrawings instead.");
  return this.exportDrawings();
};
/**
 * Imports drawings from an array originally created by {@link CIQ.ChartEngine#serializeDrawings}.
 *
 * Note: This function and serializeDrawings have been renamed {@link CIQ.ChartEngine#importDrawings} and {@link CIQ.ChartEngine#exportDrawings} respectively.
 *
 * To immediately render the reconstructed drawings, you must call `draw()`.
 * See {@tutorial Using and Customizing Drawing Tools} for more details.
 * @see {@link CIQ.ChartEngine#exportDrawings}
 * @see {@link CIQ.ChartEngine#importDrawings}
 * @param  {array} arr An array of serialized drawings
 * @memberof CIQ.ChartEngine
 * @deprecated since 4.0.0
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.reconstructDrawings = function (arr) {
  log("CIQ.ChartEngine.prototype.reconstructDrawings has been deprecated.  Use CIQ.ChartEngine.prototype.importDrawings instead.");
  this.importDrawings(arr);
}; // @deprecated Use pixelFromBar


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.computePosition = function (x, offset) {
  log("CIQ.ChartEngine.prototype.computePosition has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromBar instead.");
  if (typeof offset == "undefined") offset = 0;
  var position = x * this.layout.candleWidth + offset + this.micropixels;
  return position;
}; // @deprecated


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.computeColor = function (open, close) {
  log("CIQ.ChartEngine.prototype.computeColor has been deprecated.  There is no suggested alternative.");
  if (open < close) return "stx_candle_up";
  if (open > close) return "stx_candle_down";
  return "stx_candle_shadow";
}; // @deprecated


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.computeLength = function (high, low) {
  log("CIQ.ChartEngine.prototype.computeLength has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromPrice to compute values and find the difference.");
  var h = this.pixelFromPrice(high);
  var l = this.pixelFromPrice(low);
  return l - h;
}; // deprecated


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.setCrosshairColors = function () {
  log("CIQ.ChartEngine.prototype.setCrosshairColors is no longer supported.  Use CSS to set the crosshair color");
};
/**
 * A version of {@link CIQ.ChartEngine#valueFromPixel} that will untransform a transformation such as a comparison chart.
 * @param  {number} y	  The y pixel location
 * @param  {CIQ.ChartEngine.Panel} panel A panel object. It is strongly recommended to pass the panel! (see {@link CIQ.ChartEngine#valueFromPixel})
 * @param {CIQ.ChartEngine.YAxis} [yAxis] The yaxis to use. Defaults to panel.yAxis.
 * @return {number}		  The price or value
 * @memberof CIQ.ChartEngine
 * @deprecated Use {@link CIQ.ChartEngine#valueFromPixel} instead
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.valueFromPixelUntransform = function (y, panel, yAxis) {
  log("CIQ.ChartEngine.prototype.valueFromPixelUntransform has been deprecated.  Use CIQ.ChartEngine.prototype.valueFromPixel instead.");
  return this.valueFromPixel(y, panel, yAxis);
};
/**
 * > ** This function has been deprecated in favor of {@link CIQ.ChartEngine#pixelFromPrice}. It should no longer be used.
 * > <br>Use {@link CIQ.ChartEngine#pixelFromTransformedValue} to get the pixel location based on the transformed value (percentage comparison change, for example).
 *
 * @param  {number} price	  The price or value
 * @param  {CIQ.ChartEngine.Panel} panel A panel object (see {@link CIQ.ChartEngine#pixelFromPrice})
 * @param {CIQ.ChartEngine.YAxis} [yAxis] The yaxis to use
 * @return {number}		  The y axis pixel location
 * @memberof CIQ.ChartEngine
 * @deprecated Use {@link CIQ.ChartEngine#pixelFromPrice} instead
 * @since 4.0.0 Now behaves like pixelFromPriceTransform. That is, on a comparison chart, pixelFromPrice accepts an actual stock price, not a percentage value.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.pixelFromPriceTransform = function (price, panel, yAxis) {
  log("CIQ.ChartEngine.prototype.pixelFromPriceTransform has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromPrice instead.");
  return this.pixelFromPrice(price, panel, yAxis);
}; //deprecated, use static version


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.isDailyInterval = function (interval) {
  log("CIQ.ChartEngine.prototype.isDailyInterval has been deprecated. Use CIQ.ChartEngine.isDailyInterval instead.");
  return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.isDailyInterval(interval);
};
/**
 * Renders a chart for a particular instrument from the data passed in or fetches new data from the attached {@link quotefeed}.
 *
 * 	This method has been deprecated, use {@link CIQ.ChartEngine#loadChart}.
 *
 * @param  {string|object}		symbol				The symbol or equation for the new chart - a symbol string, equation or an object representing the symbol can be used.
 * 													<br>After the new chart is initialized, it will contain both a symbol string (stxx.chart.symbol) and a symbol object (stxx.chart.symbolObject).
 * 													<br>You can send anything you want in the symbol object, but you must always include at least a 'symbol' element. Both these variables will be available for use wherever the {@link CIQ.ChartEngine.Chart} object is present. For example, if using a {@link quotefeed} for gathering data, params.stx.chart.symbolObject will contain your symbol object.
 * 													<br>To allow equations to be used on a chart, the {@link CIQ.ChartEngine#allowEquations} parameter must be set to `true` and the equation needs to be preceded by an equals sign (=) in order for it to be parsed as an equation.
 * 													<br>See {@link CIQ.formatEquation} and {@link CIQ.computeEquationChart} for more details on allowed equations syntax.
 * @param  {array}					[masterData]		An array of [properly formatted OHLC objects]{@tutorial InputDataFormat} to create a chart. Each element should at a minimum contain a "Close" field (capitalized).
 *													If the charting engine has been configured to use a [QuoteFeed]{@link CIQ.ChartEngine#attachQuoteFeed}
 *													then masterData does not need to be passed in. The quote feed will be queried instead.
 * @param  {CIQ.ChartEngine.Chart}	chart]		Which chart to create. Defaults to the default chart.
 * @param {function}				[cb]					Callback when newChart is loaded. See {@tutorial Adding additional content on chart} for a tutorial on how to use this callback function.
 * @param {object} 					[params] 			Parameters to dictate initial rendering behavior
 * @param {Object} 					[params.range]				Default range to be used upon initial rendering. If both `range` and `span` parameters are passed in, range takes precedence. If periodicity is not set, the range will be displayed at the most optimal periodicity. See {@link CIQ.ChartEngine#setRange} for complete list of parameters this object will accept.
 * @param {object} 					[params.span]				Default span to display upon initial rendering. If both `range` and `span` parameters are passed in, range takes precedence. If periodicity is not set, the span will be displayed at the most optimal periodicity. See {@link CIQ.ChartEngine#setSpan} for complete list of parameters this object will accept.
 * @param {object} 					[params.periodicity]	 	Periodicity to be used upon initial rendering. See {@link CIQ.ChartEngine#setPeriodicity} for complete list of parameters this object will accept. If no periodicity has been set it will default to `1 day`.
 * @param {boolean} 				[params.stretchToFillScreen] Increase the candleWidth to fill the left-side gap created by a small dataSet. Respects <a href="CIQ.ChartEngine.html#preferences%5B%60whitespace%60%5D">CIQ.ChartEngine.preferences.whitespace</a>. Ignored when params `span` or `range` are used. See {@link CIQ.ChartEngine#fillScreen}
 * @memberof CIQ.ChartEngine
 * @example
 * // using a symbol object and embedded span and periodicity requirements
 * stxx.newChart(
 * 	{symbol:newSymbol,other:'stuff'},
 * 	null,
 * 	null,
 * 	callbackFunction,
 * 	{
 * 		span:{base:'day',multiplier:2},
 * 		periodicity:{period:1,interval:5,timeUnit:'minute'},
 * 		stretchToFillScreen:true
 * 	}
 * );
 *
 * @example
 * // using a symbol string
 * stxx.newChart(
 * 	"IBM",
 * 	null,
 * 	null,
 * 	callbackFunction
 * );
 *
 * @example
 * // using an equation string
 * stxx.newChart(
 * 	"=2*IBM-GM",
 * 	null,
 * 	null,
 * 	callbackFunction
 * );
 *
 * @deprecated use {@link CIQ.ChartEngine#loadChart}
 * @since
 * - 2015-11-1 newChart is capable of setting periodicity and span via `params` settings.
 * - 04-2016-08 Added `params.stretchToFillScreen`.
 * - 5.1.0 newChart is capable of setting range via `params` settings.
 * - 6.0.0 Statically provided data will be gap-filled if that functionality is enabled.
 * - 7.0.0 Deprecated, replaced by {@link CIQ.ChartEngine#loadChart}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.newChart = function (symbol, masterData, chart, cb, params) {
  log("CIQ.ChartEngine.prototype.newChart has been deprecated. Use CIQ.ChartEngine.prototype.loadChart instead.");
  var parameters = {
    masterData: masterData,
    chart: chart
  };
  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].extend(parameters, params, true); // console.log('WARNING: newChart is deprecated for removal. Please use loadChart.');

  return this.loadChart(symbol, parameters, cb);
};
/**
 * Streams "last sale" prices into the chart.
 *
 *
 * >**This function has been deprecated in favor of {@link CIQ.ChartEngine#updateChartData}.
 * This also means that {@link CIQ.ChartEngine#streamParameters.fillGaps} is deprecated.
 * Developers should instead call {@link CIQ.ChartEngine#updateChartData} with `params.fillGaps=true` or rely on cleanupGaps as default behavior.**
 *
 * >`streamTrade` to `updateChartData` migration examples:
 *
 * >Note that updateChartData follows the 'OHLC' format.
 * So `V`olume (upper case) is used rather than `v`olume (lower case).
 * Similarly `L`ast (upper case) is used rather than `l`ast (lower case).
 *
 * >Example 1: streaming a secondary series:
 *
 * >`streamTrade({"last":102.05}, null, "IBM");`
 * <br>Translates to : <br>
 * `updateChartData({"Last":102.05}, null, {fillGaps: true, secondarySeries: "IBM"});`
 *
 * >Example 2: streaming a primary series:
 *
 * >`streamTrade({"last":102.05, "volume":100});`
 * <br>Translates to : <br>
 * `updateChartData({"Last": 102.05,"Volume":100}, null, {fillGaps: true});`
 *
 * This method is designed to append ticks to the master data while maintaining the existing periodicity, appending to the last tick or creating new ticks as needed.
 * It will also fill in gaps if there are missing bars in a particular interval.
 * If a trade has a date older than the beginning of the next bar, the last bar will be updated even if the trade belongs to a prior bar; this could happen if a trade is sent in after hours at a time when the market is closed, or if it is received out of order.
 * When in 'tick' interval, each trade will be added to a new bar and no aggregation to previous bars will be done.
 * If the optional timestamp [now] is sent in, and it is older than the next period to be rendered, the last tick on the dataset will be updated instead of creating a new tick.
 *
 * **It is crucial that you ensure the date/time of the trade is in line with your `masterData` and `dataZone`** See `now` parameter for more details.
 *
 * This method leverages {@link CIQ.ChartEngine#updateChartData} for the actual data insertion into masterData. Please see  {@link CIQ.ChartEngine#updateChartData} for additional details and performance throttle settings.
 *
 * See the [Streaming]{@tutorial DataIntegrationStreaming} tutorial for more the details.
 *
 * **Note:** versions prior to 15-07-01 must use the legacy arguments : streamTrade(price, volume, now, symbol)
 *
 * @param  {object}		data			Price & Volume Data, may include any or all of the following:
 * @param  {number}		data.last 		Last sale price
 * @param  {number}		[data.volume] 	Trade volume
 * @param  {number}		[data.bid] 		Bid price
 * @param  {number}		[data.ask] 		Offer/Ask price
 * @param  {date}		[now]			Date of trade. It must be a java script date [new Date().getTime()]. **If omitted, defaults to "right now" in the set `dataZone`** (see {@link CIQ.ChartEngine#setTimeZone}); or if no `dataZone` is set, it will default to the browser's timezone (not recommended for international client-base since different users will see different times). It is important to note that this value must be in the same timezone as the rest of the masterData already sent into the charting engine to prevent tick gaps or overlaps.
 * @param  {string}		[symbol]		trade symbol for series streaming ONLY. Leave out or set to `null` when streaming the primary chart symbol.
 * @param {object} 		[params] 		Params to be passed to {@link CIQ.ChartEngine#updateChartData}
 * @memberof CIQ.ChartEngine
 * @example
 * // streaming last sale for the primary chart symbol
 * stxx.streamTrade({"last":102.05, "volume":100});
 * @example
 * // streaming last sale for an additional series on the chart
 * stxx.streamTrade({"last":102.05, "volume":100}, null, "IBM");
 * @deprecated Please use {@link CIQ.ChartEngine#updateChartData} for streaming last ticket.
 * @since 4.0.0 Deprecated this function. This also means that streamParameters.fillGaps is deprecated. Developers should
 * call {@link CIQ.ChartEngine#updateChartData} with `params.fillGaps=true` or rely on cleanupGaps as default behavior.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.streamTrade = function (priceData, now, symbol, params) {
  log("CIQ.ChartEngine.prototype.streamTrade has been deprecated. Use CIQ.ChartEngine.prototype.updateChartData instead.");
  var chart = this.chart;
  if (!params) params = {};
  if (params.chart) chart = params.chart;
  params.fillGaps = this.streamParameters.fillGaps;
  var newArgs = _typeof(priceData) == "object";
  var price = newArgs ? priceData.last : arguments[0],
      volume = newArgs ? priceData.volume : arguments[1],
      bid = newArgs ? priceData.bid : null,
      ask = newArgs ? priceData.ask : null;

  if (!newArgs) {
    now = arguments[2];
    symbol = arguments[3];
  }

  if (symbol) {
    //series element
    params.secondarySeries = symbol;
  }

  var data = {
    DT: now,
    Last: price,
    Volume: volume,
    Bid: bid,
    Ask: ask
  };
  this.updateChartData(data, chart, params);
};
/**
 * As of version 5.1, his method has been **deprecated** in favor of {@link CIQ.ChartEngine#updateChartData} which provides improved functionality.
 *
 * The following parameters are only applicable for legacy versions (pre 5.1):
 * @deprecated Please use {@link CIQ.ChartEngine#updateChartData}
 * @param  {array/object} appendQuotes		An array of properly formatted OHLC quote object(s). [See Data Format]{@tutorial InputDataFormat}.<br>
 * 											Or a last sale object with the following elements:
 * @param  {number}	appendQuotes.Last 		Last sale price
 * @param  {number}	[appendQuotes.Volume]	Trade volume
 * @param  {number}	[appendQuotes.Bid] 		Bid price
 * @param  {number}	[appendQuotes.Ask] 		Offer/Ask price
 * @param  {number}	[appendQuotes.DT] 		Date of trade.
 * It must be a java script date [new Date().getTime()].
 * **If omitted, defaults to "right now" in the set `dataZone`** (see {@link CIQ.ChartEngine#setTimeZone});
 * or if no `dataZone` is set, it will default to the browser's timezone (not recommended for international client-base since different users
 * will see different times). It is important to note that this value must be in the same timezone as the rest of the masterData already
 * sent into the charting engine to prevent tick gaps or overlaps.
 * @param  {CIQ.ChartEngine.Chart}			[chart]				The chart to append the quotes. Defaults to the default chart.
 * @param {object} [params] Parameters to dictate behavior
 * @param {boolean} [params.noCreateDataSet] If true then do not create the data set automatically, just add the data to the masterData
 * @param {boolean} [params.allowReplaceOHL] Set to true to bypass internal logic that maintains OHL
 * @param {boolean} [params.bypassGovernor] If true then masterdata will be immediately updated regardless of {@link CIQ.ChartEngine#streamParameters}
 * @param {boolean} [params.fillGaps] If true then {@link CIQ.ChartEngine#doCleanupGaps} is called using the {@link CIQ.ChartEngine#cleanupGaps} setting. This will ensure gaps will be filled in the master data from the last tick in the chart to the date of the trade.<BR> Reminder: `tick` does not fill any gaps as it is not a predictable interval.
 * @param {boolean} [params.secondarySeries] Set to the name of the element ( valid comparison symbol, for example) to load data as a secondary series.
 * @param {boolean} [params.useAsLastSale] If not using a 'last sale' formatted object in `appendQuotes`,
 * you can simply set this parameter to `true` to force the data as a last sale price; or further define it by creating an object including other settings as needed.
 * This option is available in cases when a feed may always return OHLC formatted objects or a 'Close' field instead of a 'Last' field,
 * even for last sale streaming updates.
 * By definition a 'last' sale can only be a single record indicating the very 'last' sale price. As such, even if multiple records are sent in the `appendQuotes` array when this flag is enabled,
 * only the last record's data will be used. Specifically the 'Close' and 'Volume' fields will be streamed.
 * @param {boolean} [params.useAsLastSale.aggregatedVolume] If your last sale updates send current volume for the bar instead of just the trade volume, set this parameter to 'true' in the `params.useAsLastSale` object. The sent in volume will be used as is instead of being added to the existing bar's volume.
 *
 * @memberof CIQ.ChartEngine
 * @since
 * - 2015-11-1 Added `params.bypassGovernor` and `params.allowReplaceOHL`.
 * - 2015-11-1 Deprecated `params.force`. Every call will update the tick to maintain the proper volume, and `createDataSet` is now controlled by `sp.maxTicks`, `sp.timeout`, or `params.bypassGovernor`.
 * - 3.0.0 Now `appendQuotes` also takes last sale data to allow streaming capabilities. This can now be used instead of streamTrade.
 * - 3.0.0 New `params.fillGaps`, `params.secondarySeries`, and `params.useAsLastSale`.
 * - 4.0.0 Last sale streaming will now update a bar in the past to comply with the date sent in instead of just updating the current tick.
 * - 4.0.3 Added `params.useAsLastSale.aggregatedVolume`.
 * - 5.0.1 Now calls doCleanupDates in case is is being called directly when not using a quoteFeed, to update an entire candle.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.appendMasterData = function (appendQuotes, chart, params) {
  log("CIQ.ChartEngine.prototype.appendMasterData has been deprecated. Use CIQ.ChartEngine.prototype.updateChartData instead.");
  this.updateChartData(appendQuotes, chart, params);
};
/**
 * <span class="injection">INJECTABLE</span>
 *
 * **Legacy** function to set the periodicity and interval for the chart.
 *
 * **Replaced by {@link CIQ.ChartEngine#setPeriodicity}, but maintained for backwards comparibility. Uses same function signature.**
 *
 * @param {number} period The number of elements from masterData to roll-up together into one data point on the chart (one candle, for example). If set to 30 in a candle chart, for example, each candle will represent 30 raw elements of `interval` type.
 * @param {string} interval The type of data to base the `period` on. This can be a numeric value representing minutes, seconds or millisecond as inicated by `timeUnit`, "day","week", "month" or 'tick' for variable time x-axis. **"hour" is NOT a valid interval.** (This is not how much data you want the chart to show on the screen; for that you can use {@link CIQ.ChartEngine#setRange} or {@link CIQ.ChartEngine#setSpan})
 * @param {string} [timeUnit] Time unit to further qualify the specified numeric interval. Valid values are "millisecond","second","minute",null. If not set, will default to "minute". **only applicable and used on numeric intervals**
 * @param {function} [cb] Callback after periodicity is changed. First parameter of callback will be null unless there was an error.
 *
 * @memberof CIQ.ChartEngine
 * @since
 * - 2015-11-1 Second and millisecond periodicities are now supported by setting the `timeUnit` parameter.
 * - 3.0.0 Replaced by {@link CIQ.ChartEngine#setPeriodicity}, but maintained for backwards comparibility.
 * - 8.0.0 Deprecated
 * @deprecated Use {@link CIQ.ChartEngine#setPeriodicity}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.setPeriodicityV2 = function (period, interval, timeUnit, cb) {
  log("CIQ.ChartEngine.prototype.setPeriodicityV2 has been deprecated. Use CIQ.ChartEngine.prototype.setPeriodicity instead.");

  if (typeof timeUnit === "function") {
    cb = timeUnit; // backward compatibility

    timeUnit = null;
  }

  if (this.runPrepend("setPeriodicityV2", arguments)) return;
  this.setPeriodicity(period, interval, timeUnit, cb);
  this.runAppend("setPeriodicityV2", arguments);
}; //Unused


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.addChart = function (name, chart) {
  log("CIQ.ChartEngine.prototype.addChart has been deprecated. Add manually to stxx.charts object instead.");
  chart.name = name;
  this.charts[name] = chart;
};

var changeOccurred = _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.changeOccurred;

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.changeOccurred = function (change) {
  if (this.currentlyImporting) return;
  if (this.changeCallback) this.changeCallback(this, change);
  changeOccurred.call(this, change);
};

var engineConstruct = _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.construct;

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.construct = function () {
  function getValue(obj, name, def) {
    if (!obj._deprecatedPropertyValues) obj._deprecatedPropertyValues = {};
    if (!(name in obj._deprecatedPropertyValues)) obj._deprecatedPropertyValues[name] = def;
    return obj._deprecatedPropertyValues[name];
  }

  function setValue(obj, name, val) {
    if (!obj._deprecatedPropertyValues) obj._deprecatedPropertyValues = {};
    obj._deprecatedPropertyValues[name] = val;
  }

  engineConstruct.call(this);
  Object.defineProperties(this, {
    /**
     * **This function has been deprecated. Please use {@link CIQ.ChartEngine#addEventListener} instead.**
     *
     * This is the callback function used to react to {@link CIQ.ChartEngine#changeOccurred}.
     *
     * Use this for storing chart configurations or drawings real time as users make changes.
     *
     * Expected format :
     *
     * 		fc(stxChart, eventType);
     *
     * Currently implemented values for  "eventType" are "layout" and "vector".
     *
     * You can create any additional event types and trigger them by calling 'CIQ.ChartEngine.changeOccurred(eventType)'
     *
     * **Note** only one changeCallback function can be registered per chart object. As such, you must program it to handle any and all possible events triggered by {@link CIQ.ChartEngine#changeOccurred}.
     * @type {function}
     * @alias changeCallback
     * @memberof CIQ.ChartEngine.prototype
     * @deprecated
     * @since 4.0.0 Deprecated
     * @example
     * stxx.changeCallback=function(stxx, eventType){
     *		if(eventType=="layout") saveLayout();
     *		if(eventType=="vector") saveDrawing();
     * }
     */
    changeCallback: {
      enumerable: true,
      get: function (stx) {
        return function () {
          //log("CIQ.ChartEngine.prototype.changeCallback has been deprecated.  Use CIQ.ChartEngine.prototype.addEventListener instead.");
          return getValue(this, "changeCallback", null);
        };
      }(this),
      set: function (stx) {
        return function (func) {
          log("CIQ.ChartEngine.prototype.changeCallback has been deprecated.  Use CIQ.ChartEngine.prototype.addEventListener instead.");
          setValue(this, "changeCallback", func);
        };
      }(this)
    },

    /**
     * Chart types which plot more than one data field (OHLC charts).
     * Putting a chart type here will disable the use of {@link CIQ.ChartEngine.Chart#defaultPlotField}.
     * @type object
     * @default
     * @alias highLowBars
     * @deprecated, access property in chart instead (stxx.chart.highLowBars)
     * @memberof CIQ.ChartEngine.prototype
     * @since 4.0.0
     */
    highLowBars: {
      enumerable: true,
      get: function (stx) {
        return function () {
          log("CIQ.ChartEngine.prototype.highLowBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead.");
          return getValue(this, "highLowBars", {
            bar: true,
            colored_bar: true,
            candle: true,
            hollow_candle: true,
            volume_candle: true,
            hlc: true,
            colored_hlc: true,
            hlc_box: true,
            hlc_shaded_box: true,
            wave: true,
            rangechannel: true,
            none: true
          });
        };
      }(this),
      set: function (stx) {
        return function (val) {
          log("CIQ.ChartEngine.prototype.highLowBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead.");
          setValue(this, "highLowBars", val);
        };
      }(this)
    },

    /**
     * Chart types whose bars represent a stand-alone entity as opposed to a vertex in a line-type chart.
     * This is important when the engine tries to render the data points right off the chart; in a stand-alone bar,
     * the points right off the chart need not be considered.
     * @type object
     * @default
     * @alias standaloneBars
     * @deprecated, access property in chart instead (stxx.chart.standaloneBars)
     * @memberof CIQ.ChartEngine.prototype
     * @since 4.0.0
     */
    standaloneBars: {
      enumerable: true,
      get: function (stx) {
        return function () {
          log("CIQ.ChartEngine.prototype.standaloneBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.standaloneBars instead.");
          return getValue(this, "standaloneBars", {
            bar: true,
            colored_bar: true,
            candle: true,
            hollow_candle: true,
            volume_candle: true,
            hlc: true,
            colored_hlc: true,
            hlc_box: true,
            hlc_shaded_box: true,
            histogram: true,
            scatterplot: true
          });
        };
      }(this),
      set: function (stx) {
        return function (val) {
          log("CIQ.ChartEngine.prototype.standaloneBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.standaloneBars instead.");
          setValue(this, "standaloneBars", val);
        };
      }(this)
    },

    /**
     * Chart types whose bars have width, as opposed to a line-type chart whose "bars" are just a point on the chart.
     * This is useful when the engine adjusts the chart for smooth scrolling and homing.
     * @type object
     * @default
     * @alias barsHaveWidth
     * @deprecated, access property in chart instead (stxx.chart.barsHaveWidth)
     * @memberof CIQ.ChartEngine.prototype
     * @since 4.0.0
     */
    barsHaveWidth: {
      enumerable: true,
      get: function (stx) {
        return function () {
          log("CIQ.ChartEngine.prototype.barsHaveWidth is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.barsHaveWidth instead.");
          return getValue(this, "barsHaveWidth", {
            bar: true,
            colored_bar: true,
            candle: true,
            hollow_candle: true,
            volume_candle: true,
            hlc: true,
            colored_hlc: true,
            hlc_box: true,
            hlc_shaded_box: true,
            histogram: true,
            scatterplot: true,
            wave: true
          });
        };
      }(this),
      set: function (stx) {
        return function (val) {
          log("CIQ.ChartEngine.prototype.barsHaveWidth is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.barsHaveWidth instead.");
          setValue(this, "barsHaveWidth", val);
        };
      }(this)
    }
  });
  /**
   * Specify a callback by assigning a function to the event. Once the event triggers the callback will be executed.
   *
   * **Note: All callbacks have been deprecated in favor of {@link CIQ.ChartEngine#addEventListener}**
   *
   * @type object
   * @alias callbacks
   * @memberof CIQ.ChartEngine#
   * @example
   * // using event listener
   * stxx.addEventListener("callbackNameHere", function(callBackParametersHere){
   * 	CIQ.alert('triggered!');
   * });
   * @example
   * // using callback function
   * stxx.callbacks.callbackNameHere=function(callBackParametersHere){
   * 	CIQ.alert('triggered!');
   * };
   * @deprecated 4.0.0
   */

  this.callbacks = {};

  function callbackGetter(name, stx, def) {
    return function () {
      log("CIQ.ChartEngine.prototype.callbacks have been deprecated.  Iterate through CIQ.ChartEngine.prototype.callbackListeners instead.");
      return getValue(this, name, def || null);
    };
  }

  function callbackSetter(name, stx) {
    return function (func) {
      log("CIQ.ChartEngine.prototype.callbacks have been deprecated.  Utilize CIQ.ChartEngine.prototype.addEventListener to add a callback, and/or CIQ.ChartEngine.prototype.removeEventListener to remove one.");
      if (!this._deprecatedPropertyValues) this._deprecatedPropertyValues = {};
      var origFunc = this._deprecatedPropertyValues[name];
      if (origFunc) stx.removeEventListener(name, origFunc);
      if (func) stx.addEventListener(name, func);
      this._deprecatedPropertyValues[name] = func;
    };
  }

  Object.defineProperties(this.callbacks, {
    /**
     * Called when a user right clicks on an overlay study. If `forceEdit==true` then a user has clicked
     * on an edit button (cog wheel) so pull up an edit dialog. Otherwise they have simply right clicked so
     * give them a context menu.
     *
     * ***Please note that this callback must be set *before* you call {@link CIQ.ChartEngine#importLayout}.
     * Otherwise your imported studies will not have an edit capability***
     *
     * Format:<br>
     * studyOverlayEdit({stx:stx,sd:sd,inputs:inputs,outputs:outputs, parameters:parameters, forceEdit: forceEdit});
     *
     * The following CSS entry must also be present to enable the `Right click to Manage` text on the mouse-over context menu (div class="mSticky" generated by {@link CIQ.ChartEngine.htmlControls}):
     * ```
     * .rightclick_study .mouseManageText {
     * display: inline; }
     * ```
     * See {@link CIQ.Studies.addStudy} for more details.
     *
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`studyOverlayEdit`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    studyOverlayEdit: {
      enumerable: true,
      get: callbackGetter("studyOverlayEdit", this),
      set: callbackSetter("studyOverlayEdit", this)
    },

    /**
     * Called when a user clicks the edit button on a study panel.
     *
     * ***Please note that this callback should be set *before* you call {@link CIQ.ChartEngine#importLayout}.
     * Otherwise your imported studies will not have an edit capability***
     *
     * Format:<br>
     * studyPanelEdit({stx:stx,sd:sd,inputs:inputs,outputs:outputs, parameters:parameters});
     *
     * See {@link CIQ.Studies.addStudy} for more details.
     *
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`studyPanelEdit`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    studyPanelEdit: {
      enumerable: true,
      get: callbackGetter("studyPanelEdit", this),
      set: callbackSetter("studyPanelEdit", this)
    },

    /**
     * Called when a user clicks or taps on the chart. Not called if a drawing tool is active!
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, panel:CIQ.ChartEngine.Panel, x:this.cx, y:this.cy})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`tap`]
     * @memberof CIQ.ChartEngine#callbacks
     * @example
     * // using event listener
     * stxx.addEventListener("tap", function(tapObject){
     * 	CIQ.alert('tap event at x: ' + tapObject.x + ' y: '+ tapObject.y);
     * });
     * @example
     * // using callback
     * // this example  uses barFromPixel() to get the actual bar from the pixel location
     * stxx.callbacks.tap= function(tapObject){
     *	var msg= 'tap event at x: ' + tapObject.x + ' y: '+ tapObject.y;
     *	var bar=this.barFromPixel(this.cx);
     *  if(this.chart.dataSegment[bar]) {
     * 	  msg+=' Date:' + this.chart.dataSegment[bar].DT;
     * 	  msg+=' Close:' + this.chart.dataSegment[bar].Close;
     *  }
     *  alert (msg);
     * };
     */
    tap: {
      enumerable: true,
      get: callbackGetter("tap", this),
      set: callbackSetter("tap", this)
    },

    /**
     * Called when a user clicks or right clicks on the chart. Not called if the user right clicks on a drawing or study
     * when [stxx.bypassRightClick]{@link CIQ.ChartEngine#bypassRightClick}=true
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, panel:CIQ.ChartEngine.Panel, x:this.cx, y:this.cy})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`rightClick`]
     * @memberof CIQ.ChartEngine#callbacks
     * @example
     * // using event listener
     * stxx.addEventListener("rightClick", function(rcObject){
     * 	alert('right click event at x: ' + rcObject.x + ' y: '+ rcObject.y);
     * });
     * @since 09-2016-19
     */
    rightClick: {
      enumerable: true,
      get: callbackGetter("rightClick", this),
      set: callbackSetter("rightClick", this)
    },

    /**
     * Called when a user "long holds" on the chart. By default this is set to 700 milliseconds.
     * Optionally change the value of stxx.longHoldTime to a different setting, or set to zero to disable.
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, panel:CIQ.ChartEngine.Panel, x:this.cx, y:this.cy})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`longhold`]
     * @memberof CIQ.ChartEngine#callbacks
     * @example
     * // using event listener
     * stxx.longHoldTime=... // Optionally override default value of 700ms
     * stxx.addEventListener("longhold", function(lhObject){
     * 	CIQ.alert('longhold event at x: ' + lhObject.x + ' y: '+ lhObject.y);
     * });
     * @example
     * // using callback function
     * stxx.longHoldTime=... // Optionally override default value of 700ms
     * stxx.callbacks.longhold=function(lhObject){
     * 	CIQ.alert('longhold event at x: ' + lhObject.x + ' y: '+ lhObject.y);
     * });
     * @since 2016-06-22
     */
    longhold: {
      enumerable: true,
      get: callbackGetter("longHold", this),
      set: callbackSetter("longHold", this)
    },

    /**
     * Called when a user moves on the chart. Not called if a drawing tool is active, panel resizing, etc
     * grab is true if a mouse user has the mouse button down while moving. For touch users it is true
     * if they do not have the crosshair tool enabled.
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, panel:CIQ.ChartEngine.Panel, x:this.cx, y:this.cy, grab:boolean})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`move`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    move: {
      enumerable: true,
      get: callbackGetter("move", this),
      set: callbackSetter("move", this)
    },

    /**
     * Called when the layout changes
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, chart:CIQ.ChartEngine.Chart, symbol: String, symbolObject:Object, layout: Object})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`layout`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    layout: {
      enumerable: true,
      get: callbackGetter("layout", this),
      set: callbackSetter("layout", this)
    },

    /**
     * Called when a drawing is added or deleted (all the drawings are returned, not just the new one)
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, symbol: String, symbolObject:Object, drawings: Object})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`drawing`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    drawing: {
      enumerable: true,
      get: callbackGetter("drawing", this),
      set: callbackSetter("drawing", this)
    },

    /**
     * Called when a right-click is detected on a highlighted drawing.
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, drawing:CIQ.Drawing})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`drawingEdit`]
     * @memberof CIQ.ChartEngine#callbacks
     * @since 6.2.0
     */
    drawingEdit: {
      enumerable: true,
      get: callbackGetter("drawingEdit", this),
      set: callbackSetter("drawingEdit", this)
    },

    /**
     * Called when preferences are changed
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`preferences`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    preferences: {
      enumerable: true,
      get: callbackGetter("preferences", this),
      set: callbackSetter("preferences", this)
    },

    /**
     * Called when a theme is changed
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`theme`]
     * @memberof CIQ.ChartEngine#callbacks
     */
    theme: {
      enumerable: true,
      get: callbackGetter("theme", this),
      set: callbackSetter("theme", this)
    },

    /**
     * Called when the symbol is changed (when loadChart is called), added (addSeries, addStudy) or removed (removeSeries, removeStudy). Note
     * that this is not called if the symbol change occurs during an importLayout
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, symbol: String, symbolObject:Object, action:["master"|"add-series"|"remove-series"})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`symbolChange`]
     * @memberof CIQ.ChartEngine#callbacks
     * @since 06-2016-21
     */
    symbolChange: {
      enumerable: true,
      get: callbackGetter("symbolChange", this),
      set: callbackSetter("symbolChange", this)
    },

    /**
     * Called when the symbol is first imported into the layout.
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, symbol: String, symbolObject:Object, action:"master"})
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`symbolImport`]
     * @memberof CIQ.ChartEngine#callbacks
     * @since 4.0.0
     */
    symbolImport: {
      enumerable: true,
      get: callbackGetter("symbolImport", this),
      set: callbackSetter("symbolImport", this)
    },

    /**
     * Called to determine how many decimal places the stock trades in.
     *
     * This is used for heads up display and also for the current price pointer label.
     *
     * By default it is set to {@link CIQ.calculateTradingDecimalPlaces}
     *
     * Format:<br>
     * callback({stx:CIQ.ChartEngine, chart:CIQ.ChartEngine.Chart, symbol: String, symbolObject:Object})
     *
     * @type function
     * @alias CIQ.ChartEngine#callbacks[`calculateTradingDecimalPlaces`]
     * @memberof CIQ.ChartEngine#callbacks
     * @deprecated As of 8.0.0. Use {@link CIQ.ChartEngine.Chart#calculateTradingDecimalPlaces}.
     */
    calculateTradingDecimalPlaces: {
      enumerable: true,
      get: function (stx) {
        return function () {
          log("CIQ.ChartEngine.prototype.callbacks.calculateTradingDecimalPlaces has been deprecated.  Utilize CIQ.ChartEngine.Chart.prototype.calculateTradingDecimalPlaces instead.");
          return getValue(this, "calculateTradingDecimalPlaces", stx.chart.calculateTradingDecimalPlaces);
        };
      }(this),
      set: function (stx) {
        return function (func) {
          log("CIQ.ChartEngine.prototype.callbacks.calculateTradingDecimalPlaces has been deprecated.  Utilize CIQ.ChartEngine.Chart.prototype.calculateTradingDecimalPlaces instead.");
          setValue(this, "calculateTradingDecimalPlaces", func);
          stx.chart.calculateTradingDecimalPlaces = func;
        };
      }(this)
    }
  });
  /**
   * If true then {@link CIQ.ChartEngine#doCleanupGaps} is called so long as {@link CIQ.ChartEngine#cleanupGaps} is also set.
   * This will ensure gaps will be filled in the master data from the last tick in the chart to the date of the trade.
   *
   * **Only applicable when using streamTrade()**.<BR> Reminder: `tick` does not fill any gaps as it is not a predictable interval.
   *
   * @type boolean
   * @default
   * @alias CIQ.ChartEngine#streamParameters[`fillGaps`]
   * @memberof CIQ.ChartEngine#streamParameters
   * @since 2016-03-11
   * @deprecated See deprecation of {@link CIQ.ChartEngine#streamTrade}. Use {@link CIQ.ChartEngine#updateChartData} instead,
   * with params.fillGaps=true or rely on cleanupGaps as default behavior.
   */
  // Guard checking existence because this is a prototype object, no redefinition allowed

  Object.defineProperty(this.streamParameters, "fillGaps", {
    enumerable: true,
    get: function (stx) {
      return function () {
        log("CIQ.ChartEngine.prototype.streamParameters.fillGaps has been deprecated.  Use CIQ.ChartEngine.prototype.updateChartData instead, with params.fillGaps=true or rely on cleanupGaps as default behavior.");
        return getValue(this, "fillGaps", true);
      };
    }(this),
    set: function (stx) {
      return function (val) {
        log("CIQ.ChartEngine.prototype.streamParameters.fillGaps has been deprecated.  Use CIQ.ChartEngine.prototype.updateChartData instead, with params.fillGaps=true or rely on cleanupGaps as default behavior.");
        setValue(this, "fillGaps", val);
      };
    }(this)
  });
}; // These namespaces are only available for "legacy" implementations which run in browser and use global namespaces


if (typeof window != "undefined") {
  Object.defineProperties(window, {
    STX: {
      enumerable: true,
      get: function get() {
        log("STX namespace has been deprecated.  Use CIQ namespace instead.");
        return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"];
      }
    },
    STXChart: {
      enumerable: true,
      get: function get() {
        log("STXChart namespace has been deprecated.  Use CIQ.ChartEngine namespace instead.");
        return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine;
      }
    }
  });
}
/*
	Deprecated functions - basic
*/

/**
 * ** Deprecated. ** Use {@link CIQ.ChartEngine#attachQuoteFeed} instead.
 * Attaches a quote feed to the charting engine, which causes the chart to pull data from the
 * quote feed as needed.
 *
 * @param {object} [quoteFeed] A quote feed object.
 * @param {object} [behavior] Optional behavior object to initialize tje quote feed.
 * @param {number} [behavior.refreshInterval] Sets the frequency for `fetchUpdateData`. If
 * 		null or zero, `fetchUpdateData` is not called.
 * @param {function} [behavior.callback] Optional callback function called after any fetch to
 * 		enhance functionality. It will be called with the params object used with the fetch
 * 		call.
 * @param {number} [behavior.noLoadMore] If true, the chart does not attempt to load any more
 * 		data after the initial load.
 * @param {boolean} [behavior.loadMoreReplace] If true, then when paginating, the driver
 * 		replaces the master data instead of prepending. Set this if your feed can only provide
 * 		a full data set of varying historical lengths.
 *
 * @memberOf CIQ.ChartEngine
 * @private
 * @since
 * - 2016-12-01
 * - 8.0.0 Deprecated
 * @deprecated Use {@link CIQ.ChartEngine#attachQuoteFeed}.
 *
 * @example
 * <caption>Attach a quote feed and have the driver call <code>fetchUpdateData</code> once per
 * second.</caption>
 * stxx.attachEngineQuoteFeed(yourQuotefeed, {refreshInterval: 1});
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.attachEngineQuoteFeed = function (quoteFeed, behavior) {
  log("CIQ.ChartEngine.prototype.attachEngineQuoteFeed has been deprecated. Use CIQ.ChartEngine.prototype.attachQuoteFeed instead.");
  this.attachQuoteFeed(quoteFeed, behavior);
};
/**
 * **Deprecated since 7.2.0.** Use {@link CIQ.ChartEngine#dragPlotOrAxis} instead.
 *
 * Detects whether the plot (series or study) should be dragged to another panel by examining the y-coordinate of the mouse
 * and seeing if it is either over a different panel than the plot or close to another panel (or the top or bottom edge of the chart).
 * If so, the plot is moved to the new panel.
 *
 * @param {number} cy Y-coordinate to test.
 * @memberof CIQ.ChartEngine
 * @since
 * - 7.1.0
 * - 7.2.0 Removed functionality. Added console warning.
 * @deprecated As of 7.2.0. See {@link CIQ.ChartEngine#dragPlotOrAxis}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.dragPlot = function (cy) {
  log("CIQ.ChartEngine.prototype.dragPlot is no longer supported.  Use CIQ.ChartEngine.prototype.dragPlotOrAxis instead.");
  return;
};
/**
 * **Deprecated since 7.2.0.** Use {@link CIQ.ChartEngine#dragPlotOrAxis} instead.
 *
 * Detects whether the y-axis should be dragged to another position by examining the x-coordinate of the mouse
 * and seeing if the mouse is over a different position than the axis. If so, the axis is moved to the new position.
 *
 * @param {number} cx X-coordinate to test.
 * @memberof CIQ.ChartEngine
 * @since
 * - 7.1.0
 * - 7.2.0 Removed functionality. Added console warning.
 * @deprecated As of 7.2.0. See {@link CIQ.ChartEngine#dragPlotOrAxis}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].ChartEngine.prototype.dragYAxis = function (cx) {
  log("CIQ.ChartEngine.prototype.dragYAxis is no longer supported.  Use CIQ.ChartEngine.prototype.dragPlotOrAxis instead.");
  return;
};

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Drawing = _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Drawing || function () {
  this.chartsOnly = false;
  this.penDown = false;
};
/**
 * Compute the proper color to use when rendering lines in the drawing.
 *
 * @memberOf CIQ.Drawing
 * @since
 * - 4.0.0
 * - 7.0.0 Deprecated
 * @deprecated Use {@link CIQ.Drawing#getLineColor} instead.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Drawing.prototype.setLineColor = function () {
  log("CIQ.Drawing.prototype.setLineColor has been deprecated.  Use CIQ.Drawing.prototype.setLineColor instead.");
  if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Drawing.prototype.getLineColor) return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Drawing.prototype.getLineColor.apply(this, arguments);
};

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies = _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies || function () {};
/** @deprecated **/


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.quickAddStudy = function () {
  log("CIQ.Studies.quickAddStudy has been deprecated.  Use CIQ.Studies.addStudy instead.");
  if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.addStudy) return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.addStudy.apply(null, arguments);
};
/**
 * @deprecated Since 5.2.0. Use {@link CIQ.Studies.drawZones} instead.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.overZones = function () {
  log("CIQ.Studies.overZones has been deprecated.  Use CIQ.Studies.drawZones instead.");
  if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.drawZones) return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.drawZones.apply(null, arguments);
};
/**
 * **Deprecated. Use {@link CIQ.Studies.createVolumeChart} instead.**
 *
 * Creates a volume underlay for the chart.
 *
 * The underlay height is a % of the chart height as determined by yAxis.heightFactor.<br>
 * Each bar width will be determined by `WidthFactor` study parameter.
 * @param {CIQ.ChartEngine} stx A chart engine instance
 * @param {CIQ.Studies.StudyDescriptor} sd A study descriptor
 * @param {array} quotes Array of quotes
 * @memberOf CIQ.Studies
 * @deprecated use {@link CIQ.Studies.createVolumeChart}
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.volUnderlay = function () {
  log("CIQ.Studies.volUnderlay has been deprecated.  Use CIQ.Studies.createVolumeChart instead.");
  if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.createVolumeChart) _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.createVolumeChart.apply(null, arguments);
};
/**
 * **Deprecated since 5.2.0. This calculation is now done in {@link CIQ.ChartEngine.AdvancedInjectable#initializeDisplay} and is no longer a separate function.**
 *
 * Method to determine the minimum and maximum points in a study panel.
 *
 * @param  {CIQ.ChartEngine} stx	The chart object
 * @param  {CIQ.Studies.StudyDescriptor} sd	 The study descriptor
 * @param  {array} quotes The set of quotes to evaluate
 * @memberOf CIQ.Studies
 * @deprecated Since 5.2.0. This calculation is now done in {@link CIQ.ChartEngine.AdvancedInjectable#initializeDisplay} and is no longer a separate function.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.determineMinMax = function (stx, sd, quotes) {
  log("CIQ.Studies.determineMinMax is no longer supported.  The calculation is done automatically elsewhere.");
};
/**
 * Creates the yAxis for a study panel.
 *
 * @param  {CIQ.ChartEngine} stx	The chart object
 * @param  {CIQ.Studies.StudyDescriptor} sd	 The study descriptor
 * @param  {array} quotes The set of quotes (representing dataSegment)
 * @param  {CIQ.ChartEngine.Panel} panel  A reference to the panel
 * @memberOf CIQ.Studies
 * @deprecated Since 5.2.0. yAxis is now created automatically via {@link CIQ.ChartEngine#renderYAxis}
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.createYAxis = function (stx, sd, quotes, panel) {
  log("CIQ.Studies.createYAxis is no longer supported.  The action is done automatically elsewhere.");
};
/**
 * **Deprecated since 6.0.0. Use {@link CIQ.ChartEngine#drawHistogram} instead.**
 *
 * Convenience function for creating a volume style chart that supports multiple colors of volume bars.
 *
 * If borderMap (border colors) is passed in then the chart will display in a format where bars are flush against
 * one another so that there is no white space between bars. If however a borderMap is not specified then white space will be left
 * between the bars.
 * @param  {CIQ.ChartEngine} stx	  The chart object
 * @param  {CIQ.Studies.StudyDescriptor} sd	   The study descriptor
 * @param  {object} colorMap Map of colors to arrays. Each array should contain entries for each dataSegment bar mapped to that color.
 * It should contain null values for any bar that shouldn't be drawn
 * @param {object} borderMap Map of border colors for each color. If null then no borders will be drawn.
 * @example
 * var colorMap={};
 * colorMap["#FF0000"]=[56,123,null,null,45];
 * colorMap["#00FF00"]=[null,null,12,13,null];
 *
 * var borderMap={
 *	"#FF0000": "#FFFFFF",
 *	"#00FF00": "#FFFFDD"
 * };
 * CIQ.Studies.volumeChart(stx, sd, colorMap, borderMap);
 * @memberOf CIQ.Studies
 * @deprecated since 6.0.0 Use {@link CIQ.ChartEngine#drawHistogram} instead.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Studies.volumeChart = function (stx, sd, colorMap, borderMap) {
  log("CIQ.Studies.volumeChart has been deprecated.  Use CIQ.ChartEngine.prototype.drawHistogram instead."); // Determine min max

  var maximum = Number.MAX_VALUE * -1;
  var color, value;

  for (color in colorMap) {
    for (var c = 0; c < colorMap[color].length; c++) {
      value = colorMap[color][c];
      if (!value) continue;
      if (value > maximum) maximum = value;
    }
  } // determine calculation ratios


  var panel = stx.panels[sd.panel];
  var b = Math.floor(panel.yAxis.bottom) + 0.5;
  var t = Math.floor(panel.yAxis.top) + 0.5;
  var h = b - t;
  var candleWidth = stx.layout.candleWidth;
  var borderColor = null;
  if (!sd.parameters || !sd.parameters.displayBorder) borderMap = null;
  var offset = 0;
  if (!borderMap) offset = (candleWidth - stx.chart.tmpWidth) / 2;
  var context = sd.getContext(stx);
  context.lineWidth = 1;
  stx.startClip(sd.panel);

  for (color in colorMap) {
    if (borderMap) borderColor = borderMap[color];
    context.fillStyle = color;
    if (borderColor) context.strokeStyle = borderColor;
    context.beginPath();
    var prevTop = b + 0.5;
    var farLeft = Math.floor(stx.pixelFromBar(0, panel.chart));
    var prevRight;

    for (var i = 0; i < colorMap[color].length; i++) {
      if (stx.chart.dataSegment[i] && stx.chart.dataSegment[i].candleWidth) {
        candleWidth = stx.chart.dataSegment[i].candleWidth;
        if (!borderMap) offset = candleWidth / 4;
      } else {
        candleWidth = stx.layout.candleWidth;
        if (!borderMap) offset = (candleWidth - stx.chart.tmpWidth) / 2;
      }

      if (i === 0) {
        farLeft -= candleWidth / 2;
        prevRight = farLeft;
      }

      value = colorMap[color][i];

      if (!value) {
        prevTop = b;
        prevRight += candleWidth; //if(borderMap) prevRight-=0.5;

        continue;
      }

      var y = value * (h / maximum);
      var top = Math.min(Math.floor(b - h + (h - y)) + 0.5, b);
      var x0, x1;
      x0 = Math.floor(prevRight + offset);
      x1 = Math.floor(prevRight + candleWidth - offset);
      x0 = Math.max(x0, farLeft);
      context.moveTo(x0, b);
      context.lineTo(x1, b);
      context.lineTo(x1, top);
      context.lineTo(x0, top);

      if (borderMap) {
        if (prevTop > top || i === 0) context.lineTo(x0, prevTop); // draw down to the top of the previous bar, so that we don't overlap strokes
      } else {
        context.lineTo(x0, b);
      }

      prevTop = top;
      prevRight += candleWidth; //if(borderMap) prevRight-=0.5;
    }

    context.fill();
    context.strokeStyle = borderColor;
    if (borderMap && stx.layout.candleWidth >= 2) context.stroke();
    context.closePath();
  }

  stx.endClip();
}; // This namespace is only available for "legacy" implementations which run in browser and use global namespaces


if (typeof window != "undefined") {
  Object.defineProperty(window, "STXSocial", {
    enumerable: true,
    get: function get() {
      log("STXSocial namespace has been deprecated.  Use CIQ.Share namespace instead.");
      return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].Share;
    }
  });
}
/*
	Deprecated functions - advanced
*/

/* global $ */

/*
	Deprecated functions - jquery & webcomponents
*/


if (typeof $ === "function" && $.fn) {
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.trulyVisible} instead.
   *
   * Attaches a `trulyvisible` selector to a jQuery object.
   *
   * @private
   * @deprecated Use {@link CIQ.trulyVisible}.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * let visible = $(node).is(":trulyvisible");
   */
  $.fn.extend($.expr[":"], {
    trulyvisible: function trulyvisible(node, j, attr) {
      log("Use of jQuery has been deprecated. Use CIQ.trulyVisible() to return element visibility instead of custom pseudo-selector :trulyvisible.");
      var parents = $(node).parents();
      parents = parents.add(node);

      for (var i = 0; i < parents.length; i++) {
        var p = $(parents[i]);
        if (p.css("opacity") === "0") return false;
        if (p.css("visibility") === "hidden") return false;
        if (p.css("height") === "0px" && p.css("overflow-y") == "hidden") return false;
        if (!p.is(":visible")) return false;
      }

      return true;
    }
  });
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.UI.stxtap} instead.
   *
   * Attaches a `stxtap` clickable event to a jQuery object.
   *
   * @param {string|function} arg1 A CSS selector used to filter the elements that trigger the
   * 		event or a function that serves as the event handler.
   * @param {function} arg2 A function that serves as the event handler if `arg1` is a selector.
   *
   * @private
   * @deprecated Use {@link CIQ.UI.stxtap}.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * $(node).stxtap(cb);
   */

  var stxtap = function stxtap(arg1, arg2) {
    log("Use of jQuery has been deprecated. Use CIQ.UI.stxtap() to attach a listener instead of $.fn.stxtap().");
    return this.each(function () {
      _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].installTapEvent(this
      /*, {stopPropagation:true}*/
      );

      if (typeof arg1 == "string") {
        $(this).on("stxtap", arg1, function (e) {
          arg2.call(this, e);
        });
      } else {
        $(this).on("stxtap", function (e) {
          arg1.call(this, e);
        });
      }
    });
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.climbUpDomTree} instead.
   *
   * Returns an ancestry list starting with the current element.
   *
   * @param {*} arg1 Unused.
   * @return {jQuery} The ancestor list in non-reversed order.
   *
   * @private
   * @deprecated Use {@link CIQ.climbUpDomTree}.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * $(node).parentsAndMe(); // Returns jQuery collection of elements from current node to HTML top element.
   */


  var parentsAndMe = function parentsAndMe(arg1) {
    log("Use of jQuery has been deprecated. Use CIQ.climbUpDomTree() instead of $.fn.parentsAndMe().");
    var us = $(this).parents();
    us = us.add($(this)).get().reverse();
    return us;
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.cqvirtual} instead.
   *
   * Creates and returns a virtual DOM of an element for faster manipulation.
   *
   * @param {*} arg1 Unused.
   * @return {jQuery} A virtual DOM cloned from the actual DOM.
   *
   * @private
   * @deprecated Use {@link CIQ.cqvirtual}.
   * @since 8.1.0 Deprecated.
   */


  var cqvirtual = function cqvirtual(arg1) {
    log("Use of jQuery has been deprecated. Use CIQ.cqvirtual() instead of $.fn.cqvirtual().");
    var virtual = this.clone(true);
    virtual.empty();
    virtual.original = this;
    return virtual;
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.cqrender} instead.
   *
   * Copies a virtual DOM to the actual DOM. Works in tandem with `cqvirtual`.
   *
   * @param {*} arg1 Unused.
   * @return {jQuery} The actual DOM copied from the virtual DOM.
   *
   * @private
   * @deprecated Use {@link CIQ.cqrender}.
   * @since 8.1.0 Deprecated.
   */


  var cqrender = function cqrender(arg1) {
    log("Use of jQuery has been deprecated. Use CIQ.cqrender() instead of $.fn.cqrender().");
    if (this[0].innerHTML == this.original[0].innerHTML) return this.original;
    this.original.children(":not(template)").remove();
    var children = this.children();

    if (children.length) {
      var newStuff = children.detach();
      this.original.append(newStuff);
    }

    return this.original;
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.guaranteedSize} instead.
   *
   * Returns a guaranteed width. For instance, `cq-context` or any other wrapping tag can have
   * a width of zero; if so, we need to go up the ancestry tree to get the actual width.
   *
   * @return {number} The node width.
   *
   * @private
   * @deprecated Use {@link CIQ.guaranteedSize}.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * $(node).guaranteedWidth(); // Returns a width as a number.
   */


  var guaranteedWidth = function guaranteedWidth() {
    log("Use of jQuery has been deprecated. Use CIQ.guaranteedSize() instead of $.fn.guaranteedWidth().");
    var node = this;
    var w = node.width();

    while (!w) {
      node = node.parent();

      if (node[0].tagName === "BODY" || node[0] === window) {
        return window.innerWidth;
      }

      w = node.width();
    }

    return w;
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.guaranteedSize} instead.
   *
   * Returns a guaranteed height. A wrapping tag, such as `cq-context`, can have a width of
   * zero; if so, we need to go up the ancestry tree to get the actual height.
   *
   * @return {number} The node height.
   *
   * @private
   * @deprecated Use {@link CIQ.guaranteedSize}.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * $(node).guaranteedHeight(); // Returns a height as a number.
   */


  var guaranteedHeight = function guaranteedHeight() {
    log("Use of jQuery has been deprecated. Use CIQ.guaranteedSize() instead of $.fn.guaranteedHeight().");
    var node = this;
    var h = node.height();

    while (!h) {
      node = node.parent();

      if (node[0].tagName === "BODY" || node[0] === window) {
        return window.innerHeight;
      }

      h = node.height();
    }

    return h;
  };
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.removeChildIfNot} instead.
   *
   * Removes all children of a node except for the "template" tags.
   *
   * @return {jQuery} The node from which the children have been removed.
   *
   * @private
   * @deprecated Use {@link CIQ.removeChildIfNot} and pass "template" as the selector argument.
   * @since 8.1.0 Deprecated.
   */


  var emptyExceptTemplate = function emptyExceptTemplate() {
    log("Use of jQuery has been deprecated. Use CIQ.removeChildIfNot(node, 'template') instead of $.fn.emptyExceptTemplate().");
    this.children().not("template").remove();
    return this;
  };
  /**
   * **Deprecated since 8.1.0.** Use `node.getAttribute()` and check the result against an array
   * of falsey values instead.
   *
   * @param {string} arg1 The name of the attribute checked for its truthy value.
   * @return {boolean} true if the attribute exists and is not explicitly set to false;
   * 		otherwise, false.
   *
   * @private
   * @deprecated Use ["false", "0", null, undefined].indexOf(this.getAttribute("...")) == -1
   * @since 8.1.0 Deprecated.
   */


  var truthyAttr = function truthyAttr(arg1) {
    log("Use of jQuery has been deprecated. Use ['false','0',null,undefined].indexOf(this.getAttribute('...'))==-1 instead of $.fn.truthyAttr().");
    var val = this.attr(arg1);
    if (typeof val == "undefined") return false;
    if (val.toLowerCase() == "false") return false;
    if (val == "0") return false;
    return true;
  };
  /**
   * **Deprecated since 8.1.0.** Check attribute before setting the attribute value instead.
   *
   * Checks an attribute to see if it needs to be changed before changing it. Efficient
   * because it doesn't change the DOM unless it needs to. Note that this does not support
   * jQuery chaining.
   *
   * @param {string} attribute The attribute to be checked.
   * @param {*} value The value to apply to the attribute if the attribute does not already have
   * 		this value.
   *
   * @private
   * @deprecated Check attribute before setting instead.
   * @since 8.1.0 Deprecated.
   */


  var attrBetter = function attrBetter(attribute, value) {
    log("Use of jQuery has been deprecated. check attribute value before setting instead of $.fn.attrBetter().");
    return this.attr(attribute, function (i, val) {
      if (typeof value == "undefined") value = "true";
      if (value !== val) return value;
    });
  };
  /**
   * **Deprecated since 8.1.0.** Check `hasAttribute` before removing the attribute instead.
   *
   * Removes an attribute if the attribute has a value. Note that this does not support jQuery
   * chaining.
   *
   * @param {string} attribute The attribute to be removed.
   * @return {boolean} true if the attribute was removed, false if the attribute did not have a
   * 		value.
   *
   * @private
   * @deprecated Check `hasAttribute` before removing instead.
   * @since 8.1.0 Deprecated.
   */


  var removeAttrBetter = function removeAttrBetter(attribute) {
    log("Use of jQuery has been deprecated. check hasAttribute before removing instead of $.fn.removeAttrBetter().");
    var val = this.attr(attribute);
    if (!val && val !== "") return false;
    this.removeAttr(attribute);
    return true;
  };
  /**
   * **Deprecated since 8.1.0.** Check `innerText` before setting the text instead.
   *
   * Checks `innerText` to see if it needs to be changed before changing it. Efficient because
   * it doesn't change the DOM unless it needs to. Note that this is a setter function only. It
   * is not meant to replace the getter aspect of jQuery's built in `text()` function.
   *
   * @param {string} str The text to which `innerText` is changed if `innerText` is not already
   * 		the same as this text.
   * @return {boolean} true if `innerText` was changed; otherwise, false.
   *
   * @private
   * @deprecated Check `innerText` before setting instead.
   * @since 8.1.0 Deprecated.
   */


  var textBetter = function textBetter(str) {
    log("Use of jQuery has been deprecated. check innerText before setting instead of $.fn.textBetter().");
    if (this.text() === str) return false;
    this.text(str);
    return true;
  };

  $.fn.extend({
    stxtap: stxtap,
    parentsAndMe: parentsAndMe,
    cqvirtual: cqvirtual,
    cqrender: cqrender,
    guaranteedWidth: guaranteedWidth,
    guaranteedHeight: guaranteedHeight,
    emptyExceptTemplate: emptyExceptTemplate,
    truthyAttr: truthyAttr,
    attrBetter: attrBetter,
    removeAttrBetter: removeAttrBetter,
    textBetter: textBetter
  });
  /**
   * **Deprecated since 8.1.0.** Use {@link CIQ.qs} instead.
   *
   * Returns the value of a token in a page's URL.
   *
   * @param {string} sParam The token for which a value is returned.
   * @return {string} The value of token or null if the token does not exist in the URL.
   *
   * @private
   * @deprecated Use {@link CIQ.qs} instead.
   * @since 8.1.0 Deprecated.
   *
   * @example
   * // Assume the page URL is "http://127.0.0.1:8000?name=value&foo=bar..."
   * var value = $.queryString("name");
   */

  $.queryString = function (sParam) {
    log("Use of jQuery has been deprecated. Use CIQ.qs() to return an object containing querystring tokens instead of $.querystring().");
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split("&");

    for (var i = 0; i < sURLVariables.length; i++) {
      var sParameterName = sURLVariables[i].split("=");
      if (sParameterName[0] == sParam) return sParameterName[1];
    }

    return null;
  };
}

if (!_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI) _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI = {};
/**
 * **Deprecated since 8.1.0.** Use `document.querySelectorAll("cq-context,*[cq-context]")` instead.
 *
 * Utility function that returns all contexts on the screen.
 *
 * Designed to be used as a helper method for the included {@link WebComponents}. A full
 * tutorial on how to work with and customize the web components can be found here:
 * {@tutorial Web Component Interface}.
 *
 * @return {jQuery} A jQuery node with all contexts.
 *
 * @memberof CIQ.UI
 * @deprecated Use `document.querySelectorAll("cq-context,*[cq-context]")`.
 * @since 8.1.0 Deprecated.
 */

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.allContexts = function () {
  log("CIQ.UI.allContexts has been deprecated. Use document.querySelectorAll('cq-context,*[cq-context]') instead.");
  return $("cq-context,*[cq-context]");
};
/**
 * Static method to create an observable.
 *
 * Designed to be used as a helper method for the included {@link WebComponents}. A full
 * tutorial on how to work with and customize the Web Components can be found here:
 * {@tutorial Web Component Interface}.
 *
 * @param {Object} params Parameters.
 * @param {String} [params.selector] The selector to effect the observable (adding class,
 * 		setting value).
 * @param {Object} params.obj The object to observe.
 * @param {String} [params.member] The member of the object to observe. Pass an array to
 * 		observe multiple members. Or pass nothing to observe any change to the object.
 * @param {String} [params.condition] Optional condition for the member to trigger the action.
 * @param {String} params.action The action to take: "class" - add or remove a class,
 * 		"callback" - calls back with params.
 * @param {String} params.value The value for the action (for example, class name or
 * 		callback function).
 * @return {Function} Handler for use when unobserving.
 *
 * @memberof CIQ.UI
 *
 * @example
 * <caption>Add or remove a class based on whether stx.layout.crosshair is true or false.</caption>
 * CIQ.UI.observe({selector:".toggle", obj:stx.layout, member:"crosshair", action:"class", value:"active"});
 *
 * @example
 * <caption>Add or remove a class based on whether stx.layout.chartType=="candle".</caption>
 * CIQ.UI.observe({selector:".toggle", obj:stx.layout, member:"chartType", condition:"candle", action:"class", value:"active"});
 *
 * @example
 * <caption>Get a callback from a change in value.</caption>
 * CIQ.UI.observe({selector:".toggle", obj:stx.layout, member:"chartType", condition:"candle", action:"callback", value:function(params){
 *    console.log("new value is" + params.obj[params.member]);
 * }});
 *
 * @since 7.1.0 Returns the handler.
 * @deprecated See {@link CIQ.UI.observeProperty}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.observe = function (params) {
  log("CIQ.UI.observe has been deprecated.  Use CIQ.UI.observeProperty instead.");

  if (!Object.observe) {
    log("You must include thirdparty/object-observe.js in your project to use CIQ.UI.observe.");
    return;
  }

  if (typeof $ !== "function" || !$.fn) {
    log("You must include jQuery in your project to use CIQ.UI.observe.");
    return;
  }

  var self = this;

  function observed(change) {
    var match = false;

    if (!params.member) {
      // wildcard
      match = true;
    } else if (change.name === params.member) {
      match = true;
    } else if (params.member.constructor == Array) {
      for (var i = 0; i < params.member.length; i++) {
        if (change.name === params.member[i]) match = true;
      }
    }

    if (match) {
      var nodes = $(params.selector);

      if (!nodes.length && params.action === "callback") {
        // simple callback not associated with a selector
        params.value.call(self, params);
        return;
      }

      if (params.action === "class") nodes.removeClass(params.value);
      nodes.each(function () {
        var isTrue = false;

        if (params.member) {
          if (params.condition) {
            if (params.obj[params.member] === params.condition) isTrue = true;
          } else {
            isTrue = params.obj[params.member];
          }
        }

        if (params.action === "class") {
          if (isTrue) nodes.addClass(params.value);
        }

        if (params.action === "callback") {
          params.value.call(self, params, this);
        }

        if (params.action === "value") {
          if (params.value) {
            this.value = params.value;
          } else {
            if (!params.obj[params.member]) this.value = "";else this.value = params.obj[params.member];
          }
        }
      });
    }
  }

  var handler = function handler(changes) {
    changes.forEach(observed);
  };

  Object.observe(params.obj, handler, ["update", "add", "delete"]);
  observed({
    name: params.member
  }); // initialize

  return handler;
};
/**
 * Static method to remove an observable.
 *
 * @param {Object} params Parameters.
 * @param {Object} params.obj The object being observed.
 * @param {function} params.handler The handler to remove.
 *
 * @memberof CIQ.UI
 * @since 7.1.0
 * @deprecated See {@link CIQ.UI.unobserveProperty}.
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.unobserve = function (params) {
  log("CIQ.UI.unobserve has been deprecated.  Use CIQ.UI.unobserveProperty instead.");
  if (Object.unobserve) Object.unobserve(params.obj, params.handler);
};
/**
 * Determines the visibility of a DOM element based on the following CSS properties:
 * - opacity
 * - display
 * - visibility
 * - width
 * - height
 *
 * @param {HTMLElement} node The node for which visibility is determined.
 * @return {boolean} Whether the element is visible.
 *
 * @memberof CIQ.UI
 * @deprecated See {@link CIQ.trulyVisible}.
 * @since
 * - 8.1.0
 * - 8.2.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.trulyVisible = function (node) {
  log("CIQ.UI.trulyVisible has been deprecated.  Use CIQ.trulyVisible instead.");
  return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].trulyVisible(node);
};
/**
 * @name CIQ.UI.Lookup
 * @constructor
 * @deprecated Use {@link CIQ.ChartEngine.Driver.Lookup}
 * @since 6.0.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup = function () {};
/**
 * @name CIQ.UI.Lookup.Driver
 * @constructor
 * @deprecated Use {@link CIQ.ChartEngine.Driver.Lookup}
 * @since 6.0.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver = function () {
  this.deprecated = true;
};
/**
 * @memberof CIQ.UI.Lookup.Driver
 * @deprecated Use {@link CIQ.ChartEngine.Driver.Lookup#acceptText}
 * @since 6.0.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver.prototype.acceptText = function (text, filter, maxResults, cb) {
  if (!this.cb) return;
};
/**
 * @name CIQ.UI.Lookup.Driver.ChartIQ
 * @constructor
 * @deprecated Use {@link CIQ.ChartEngine.Driver.Lookup.ChartIQ}
 * @since 6.0.0 Deprecated
 */


_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver.ChartIQ = function (exchanges) {
  log("CIQ.UI.Lookup.Driver.ChartIQ has been deprecated.  Use CIQ.ChartEngine.Driver.Lookup.ChartIQ instead.");
  this.exchanges = exchanges;
  if (!this.exchanges) this.exchanges = ["XNYS", "XASE", "XNAS", "XASX", "INDCBSX", "INDXASE", "INDXNAS", "IND_DJI", "ARCX", "INDARCX", "forex"];
  this.url = "https://symbols.chartiq.com/chiq.symbolserver.SymbolLookup.service";
  this.requestCounter = 0; //used to invalidate old requests
  //t=ibm&m=10&x=[]&e=STOCKS
};

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].inheritsFrom(_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver.ChartIQ, _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver);
/**
 * @memberof CIQ.UI.Lookup.Driver.ChartIQ
 * @deprecated Use {@link CIQ.ChartEngine.Driver.Lookup.ChartIQ#acceptText}
 * @since 6.0.0 Deprecated
 */

_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.Lookup.Driver.ChartIQ.prototype.acceptText = function (text, filter, maxResults, cb) {
  if (filter == "FX") filter = "FOREX";
  if (isNaN(parseInt(maxResults, 10))) maxResults = 100;
  var url = this.url + "?t=" + encodeURIComponent(text) + "&m=" + maxResults + "&x=[";

  if (this.exchanges) {
    url += this.exchanges.join(",");
  }

  url += "]";

  if (filter && filter.toUpperCase() != "ALL") {
    url += "&e=" + filter;
  }

  var counter = ++this.requestCounter;
  var self = this;

  function handleResponse(status, response) {
    if (counter < self.requestCounter) return;
    if (status != 200) return;

    try {
      response = JSON.parse(response);
      var symbols = response.payload.symbols;
      var results = [];

      for (var i = 0; i < symbols.length; i++) {
        var fields = symbols[i].split("|");
        var item = {
          symbol: fields[0],
          name: fields[1],
          exchDisp: fields[2]
        };
        results.push({
          display: [item.symbol, item.name, item.exchDisp],
          data: item
        });
      }

      cb(results);
    } catch (e) {}
  }

  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].postAjax({
    url: url,
    cb: handleResponse
  });
};

if (_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.BaseComponent) {
  /**
   * Set bindings for a node that has been created dynamically. The attribute can be either
   * "stxbind", "stxtap" or "stxsetget".
   *
   * @alias CIQ.UI.BaseComponent.bind
   * @memberof CIQ.UI.BaseComponent
   * @deprecated 7.0.0
   *
   * @see {@link CIQ.UI.BaseComponent.bindNode}
   */
  _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.BaseComponent.bind = function (node, params) {
    log("CIQ.UI.BaseComponent.bind has been deprecated. Use CIQ.UI.BaseComponent.bindNode() instead.");
    _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"].UI.BaseComponent.bindNode(node, params);
  };
}

/***/ }),

/***/ "./chartiq/production/js/standard.js":
/*!*******************************************!*\
  !*** ./chartiq/production/js/standard.js ***!
  \*******************************************/
/*! exports provided: createEngine, customCharts, drawing, easeMachine, equations, i18n, interaction, markers, market, movement, nameValueStore, quoteFeed, series, share, span, storage, studies, symbolLookupBase, theme, timezone, touch, visualization, medianPrice, momentum, priceRelative, vwap, zigzag, CIQ, SplinePlotter, timezoneJS, $$, $$$ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEngine", function() { return N; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "customCharts", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "drawing", function() { return X; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easeMachine", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equations", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i18n", function() { return I; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "interaction", function() { return Q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markers", function() { return V; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "market", function() { return M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "movement", function() { return T; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nameValueStore", function() { return R; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "quoteFeed", function() { return W; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "series", function() { return Y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "share", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "span", function() { return K; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "storage", function() { return A; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "studies", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "symbolLookupBase", function() { return G6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "theme", function() { return k$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timezone", function() { return w6; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "touch", function() { return q2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "visualization", function() { return K_; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "medianPrice", function() { return D5; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "momentum", function() { return S8; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "priceRelative", function() { return V4; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vwap", function() { return U$; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zigzag", function() { return v8; });
/* harmony import */ var _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/chartiq.js */ "./chartiq/production/js/chartiq.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CIQ", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SplinePlotter", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["SplinePlotter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "timezoneJS", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["timezoneJS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "$$$", function() { return _js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$$"]; });

var _this=undefined;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */ /***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/ /*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/ /* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */ /* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */ /* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */ /*************************************************************************************************************************/ /* eslint-disable no-extra-parens */ /* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */i6UVR[50848]=function(){var D=2;for(;D!==9;){switch(D){case 1:return globalThis;break;case 5:var J;try{var Z=2;for(;Z!==6;){switch(Z){case 9:delete J["Si2mO"];var U=Object["prototype"];delete U["Yf8DO"];Z=6;break;case 3:throw"";Z=9;break;case 4:Z=typeof Si2mO==="undefined"?3:9;break;case 5:J["Si2mO"]=J;Z=4;break;case 2:Object["defineProperty"](Object["prototype"],"Yf8DO",{'\x67\x65\x74':function get(){var B=2;for(;B!==1;){switch(B){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});J=Yf8DO;Z=5;break;}}}catch(q){J=window;}return J;break;case 2:D=(typeof globalThis==="undefined"?"undefined":_typeof(globalThis))==="object"?1:5;break;}}}();J07(i6UVR[50848]);i6UVR.l5h=function(){return typeof i6UVR[459327].w4xZ2A7==='function'?i6UVR[459327].w4xZ2A7.apply(i6UVR[459327],arguments):i6UVR[459327].w4xZ2A7;};i6UVR[158192]=i6UVR[220353];i6UVR.N0k=function(){return typeof i6UVR[356525].n8eaqyR==='function'?i6UVR[356525].n8eaqyR.apply(i6UVR[356525],arguments):i6UVR[356525].n8eaqyR;};i6UVR.W5N=function(){return typeof i6UVR[220353].V3nM4Cy==='function'?i6UVR[220353].V3nM4Cy.apply(i6UVR[220353],arguments):i6UVR[220353].V3nM4Cy;};i6UVR.N4H=function(){return typeof i6UVR[247674].A$uBw0P==='function'?i6UVR[247674].A$uBw0P.apply(i6UVR[247674],arguments):i6UVR[247674].A$uBw0P;};i6UVR[345871]=false;i6UVR[220353]=function(){var V9b=2;for(;V9b!==9;){switch(V9b){case 2:var Q1k=[arguments];Q1k[6]=undefined;Q1k[4]={};Q1k[4].V3nM4Cy=function(){var K8a=2;for(;K8a!==90;){switch(K8a){case 24:Z39[21]=Z39[14];Z39[96]={};Z39[96].y1E=['B46'];Z39[96].e3i=function(){var w8h=function w8h(){return'aaaa'.padEnd(5,'a');};var o0I=/\x61\u0061\x61\u0061\x61/.o4KTVo(w8h+[]);return o0I;};Z39[88]=Z39[96];K8a=34;break;case 4:Z39[5]=[];Z39[8]={};Z39[8].y1E=['n8T'];Z39[8].e3i=function(){var z3_=typeof T7$ssh==='function';return z3_;};Z39[9]=Z39[8];Z39[2]={};Z39[2].y1E=['B46'];K8a=13;break;case 69:K8a=function(B43){var o_4=2;for(;o_4!==22;){switch(o_4){case 5:return;break;case 1:o_4=A9J[0][0].length===0?5:4;break;case 25:A9J[4]=true;o_4=24;break;case 11:A9J[6][A9J[7][Z39[20]]].t+=true;o_4=10;break;case 13:A9J[6][A9J[7][Z39[20]]]=function(){var R1G=2;for(;R1G!==9;){switch(R1G){case 2:var H_O=[arguments];R1G=1;break;case 1:H_O[4]={};H_O[4].h=0;H_O[4].t=0;return H_O[4];break;}}}.h$vFof(this,arguments);o_4=12;break;case 24:A9J[3]++;o_4=16;break;case 12:A9J[5].j3S5_x(A9J[7][Z39[20]]);o_4=11;break;case 26:o_4=A9J[2]>=0.5?25:24;break;case 16:o_4=A9J[3]<A9J[5].length?15:23;break;case 14:o_4=typeof A9J[6][A9J[7][Z39[20]]]==='undefined'?13:11;break;case 18:A9J[4]=false;o_4=17;break;case 2:var A9J=[arguments];o_4=1;break;case 10:o_4=A9J[7][Z39[44]]===Z39[22]?20:19;break;case 6:A9J[7]=A9J[0][0][A9J[3]];o_4=14;break;case 20:A9J[6][A9J[7][Z39[20]]].h+=true;o_4=19;break;case 8:A9J[3]=0;o_4=7;break;case 17:A9J[3]=0;o_4=16;break;case 4:A9J[6]={};A9J[5]=[];A9J[3]=0;o_4=8;break;case 15:A9J[9]=A9J[5][A9J[3]];A9J[2]=A9J[6][A9J[9]].h/A9J[6][A9J[9]].t;o_4=26;break;case 23:return A9J[4];break;case 7:o_4=A9J[3]<A9J[0][0].length?6:18;break;case 19:A9J[3]++;o_4=7;break;}}}(Z39[79])?68:67;break;case 2:var Z39=[arguments];K8a=1;break;case 31:Z39[43]=Z39[75];Z39[15]={};Z39[15].y1E=['n8T'];K8a=28;break;case 67:Q1k[6]=75;return 26;break;case 34:Z39[75]={};Z39[75].y1E=['n8T'];Z39[75].e3i=function(){var F1h=typeof X5SqjV==='function';return F1h;};K8a=31;break;case 28:Z39[15].e3i=function(){var w4F=false;var g7D=[];try{for(var A8t in console){g7D.j3S5_x(A8t);}w4F=g7D.length===0;}catch(j2Z){}var F2v=w4F;return F2v;};Z39[85]=Z39[15];Z39[94]={};Z39[94].y1E=['B46'];K8a=41;break;case 58:Z39[64]=0;K8a=57;break;case 77:Z39[17]=0;K8a=76;break;case 47:Z39[5].j3S5_x(Z39[43]);Z39[5].j3S5_x(Z39[85]);Z39[5].j3S5_x(Z39[26]);Z39[79]=[];K8a=64;break;case 15:Z39[3]=Z39[7];Z39[14]={};Z39[14].y1E=['B46'];Z39[14].e3i=function(){var O8T=function O8T(){return'xy'.substring(0,1);};var t8G=!/\x79/.o4KTVo(O8T+[]);return t8G;};K8a=24;break;case 54:Z39[5].j3S5_x(Z39[9]);Z39[5].j3S5_x(Z39[55]);Z39[5].j3S5_x(Z39[4]);Z39[5].j3S5_x(Z39[21]);Z39[5].j3S5_x(Z39[6]);Z39[5].j3S5_x(Z39[3]);Z39[5].j3S5_x(Z39[88]);K8a=47;break;case 64:Z39[22]='R3X';Z39[13]='r8C';Z39[35]='y1E';Z39[44]='Z5Z';Z39[91]='e3i';Z39[20]='w7F';K8a=58;break;case 71:Z39[17]++;K8a=76;break;case 57:K8a=Z39[64]<Z39[5].length?56:69;break;case 68:K8a=31?68:undefined;break;case 13:Z39[2].e3i=function(){var Z0b=function Z0b(){return'aa'.endsWith('a');};var t04=/\u0074\u0072\x75\x65/.o4KTVo(Z0b+[]);return t04;};Z39[6]=Z39[2];Z39[1]={};K8a=10;break;case 70:Z39[64]++;K8a=57;break;case 56:Z39[72]=Z39[5][Z39[64]];try{Z39[76]=Z39[72][Z39[91]]()?Z39[22]:Z39[13];}catch(y7i){Z39[76]=Z39[13];}K8a=77;break;case 75:Z39[80]={};Z39[80][Z39[20]]=Z39[72][Z39[35]][Z39[17]];Z39[80][Z39[44]]=Z39[76];Z39[79].j3S5_x(Z39[80]);K8a=71;break;case 18:Z39[7]={};Z39[7].y1E=['B46'];Z39[7].e3i=function(){var m5a=function m5a(){return'x'.startsWith('x');};var S0N=/\u0074\u0072\u0075\u0065/.o4KTVo(m5a+[]);return S0N;};K8a=15;break;case 10:Z39[1].y1E=['B46'];Z39[1].e3i=function(){var l4f=function l4f(){return'X'.toLocaleLowerCase();};var i2C=/\u0078/.o4KTVo(l4f+[]);return i2C;};Z39[4]=Z39[1];K8a=18;break;case 37:Z39[36].e3i=function(){var u8m=typeof J36lyu==='function';return u8m;};Z39[26]=Z39[36];K8a=54;break;case 5:return 67;break;case 1:K8a=Q1k[6]?5:4;break;case 76:K8a=Z39[17]<Z39[72][Z39[35]].length?75:70;break;case 41:Z39[94].e3i=function(){var y8I=function y8I(){return'x'.toLocaleUpperCase();};var l4Y=/\x58/.o4KTVo(y8I+[]);return l4Y;};Z39[55]=Z39[94];Z39[36]={};Z39[36].y1E=['n8T'];K8a=37;break;}}};return Q1k[4];break;}}}();i6UVR[356525]=function(){function r$G(N6$){var M1m=2;for(;M1m!==7;){switch(M1m){case 3:T_D+=O4PYW.J2a49(N6$[g7_]-f6h+115);M1m=9;break;case 5:var g7_=0;M1m=4;break;case 9:g7_++;M1m=4;break;case 4:M1m=g7_<N6$.length?3:8;break;case 2:var f6h=8;var T_D='';M1m=5;break;case 8:return T_D;break;}}}function E9y(V0q,B01,g3k,M97,W7J){var D5I=2;for(;D5I!==15;){switch(D5I){case 6:return i6UVR.l5h(a6X,q1e,g3k);break;case 9:D5I=M97>0?8:19;break;case 19:D5I=V0q===null||V0q<=0?18:14;break;case 8:a6X=I0b.l7IrZr(V0q,M97);q1e=a6X.length;D5I=6;break;case 2:var a6X,q1e,I0b,x8K;x8K=W9b[r$G([1,4,-8,-10,9,-2,4,3])];!i3E&&(i3E=typeof x8K!=="undefined"?x8K[r$G([-3,4,8,9,3,-10,2,-6])]||' ':"");!o8t&&(o8t=typeof x8K!=="undefined"?x8K[r$G([-3,7,-6,-5])]:"");D5I=3;break;case 11:a6X=I0b.l7IrZr(S6n,I0b.length);q1e=a6X.length;return i6UVR.l5h(a6X,q1e,g3k);break;case 12:return false;break;case 16:return i6UVR.l5h(a6X,q1e,g3k);break;case 3:I0b=W7J?o8t:i3E;D5I=9;break;case 18:a6X=I0b.l7IrZr(0,I0b.length);q1e=a6X.length;D5I=16;break;case 13:D5I=B01&&S6n>0&&I0b.F6JWB(S6n-1)!==46?12:11;break;case 14:var S6n=I0b.length-V0q;D5I=13;break;}}}var p80=2;for(;p80!==4;){switch(p80){case 2:var W9b=i6UVR[50848];var i3E,o8t;return{K9OPwob:function K9OPwob(C7i,P2q,v_3,Y66){var B3U=2;for(;B3U!==1;){switch(B3U){case 2:return E9y(C7i,P2q,v_3,Y66);break;}}},n8eaqyR:function n8eaqyR(S9w,h_6,W0Z,n8k){var s1f=2;for(;s1f!==1;){switch(s1f){case 2:return E9y(S9w,h_6,W0Z,n8k,true);break;}}}};break;}}}();i6UVR.Z4a=function(){return typeof i6UVR[356525].K9OPwob==='function'?i6UVR[356525].K9OPwob.apply(i6UVR[356525],arguments):i6UVR[356525].K9OPwob;};function J07(r1E){function t$U(X5R){var y86=2;for(;y86!==5;){switch(y86){case 2:var k2r=[arguments];return k2r[0][0].RegExp;break;}}}function c59(u1S){var O7y=2;for(;O7y!==5;){switch(O7y){case 2:var p9K=[arguments];return p9K[0][0].String;break;}}}function E3o(W9M){var T8x=2;for(;T8x!==5;){switch(T8x){case 2:var f2W=[arguments];return f2W[0][0].Array;break;}}}function y8x(D7F,f1r,H5X,F8S,I9p){var n8C=2;for(;n8C!==14;){switch(n8C){case 8:r2S[6]="defin";r2S[1]=false;try{var q_w=2;for(;q_w!==13;){switch(q_w){case 9:r2S[9][r2S[0][4]]=r2S[9][r2S[0][2]];r2S[5].set=function(Y_k){var L09=2;for(;L09!==5;){switch(L09){case 2:var C9F=[arguments];r2S[9][r2S[0][2]]=C9F[0][0];L09=5;break;}}};r2S[5].get=function(){var l6k=2;for(;l6k!==12;){switch(l6k){case 2:var T1$=[arguments];T1$[4]="";T1$[4]="fined";T1$[8]="";l6k=3;break;case 6:T1$[9]+=T1$[8];T1$[9]+=T1$[4];return _typeof(r2S[9][r2S[0][2]])==T1$[9]?undefined:r2S[9][r2S[0][2]];break;case 3:T1$[8]="e";T1$[1]="";T1$[1]="und";T1$[9]=T1$[1];l6k=6;break;}}};r2S[5].enumerable=r2S[1];try{var L$Q=2;for(;L$Q!==3;){switch(L$Q){case 4:r2S[0][0].Object[r2S[8]](r2S[9],r2S[0][4],r2S[5]);L$Q=3;break;case 2:r2S[8]=r2S[6];r2S[8]+=r2S[3];r2S[8]+=r2S[2];L$Q=4;break;}}}catch(B8k){}q_w=13;break;case 3:return;break;case 4:q_w=r2S[9].hasOwnProperty(r2S[0][4])&&r2S[9][r2S[0][4]]===r2S[9][r2S[0][2]]?3:9;break;case 2:r2S[5]={};r2S[7]=(1,r2S[0][1])(r2S[0][0]);r2S[9]=[r2S[7],r2S[7].prototype][r2S[0][3]];q_w=4;break;}}}catch(R$o){}n8C=14;break;case 2:var r2S=[arguments];r2S[2]="";r2S[2]="";r2S[2]="operty";r2S[3]="ePr";r2S[6]="";n8C=8;break;}}}function O1c(f5c){var G0P=2;for(;G0P!==5;){switch(G0P){case 2:var N54=[arguments];return N54[0][0];break;}}}var c81=2;for(;c81!==126;){switch(c81){case 134:E6r(c59,"replace",A9w[76],A9w[43]);c81=133;break;case 105:E6r(c59,"fromCharCode",A9w[93],A9w[92]);c81=135;break;case 33:A9w[59]="Z9Jc";A9w[16]="";A9w[79]="ptimize";A9w[16]="7";c81=29;break;case 108:var E6r=function E6r(z2m,k4b,M37,E6y){var c8C=2;for(;c8C!==5;){switch(c8C){case 2:var c0i=[arguments];y8x(A9w[0][0],c0i[0][0],c0i[0][1],c0i[0][2],c0i[0][3]);c8C=5;break;}}};c81=107;break;case 29:A9w[61]="";A9w[25]="T";A9w[61]="TVo";A9w[91]="";A9w[96]="_";c81=41;break;case 103:A9w[33]=A9w[25];A9w[33]+=A9w[16];A9w[33]+=A9w[52];A9w[56]=A9w[96];c81=99;break;case 46:A9w[17]="o";A9w[15]="X5S";A9w[63]="es";A9w[49]="abst";c81=63;break;case 129:E6r(E3o,"push",A9w[76],A9w[42]);c81=128;break;case 132:E6r(O1c,A9w[56],A9w[93],A9w[33]);c81=131;break;case 63:A9w[28]="3S5_";A9w[54]="";A9w[53]="lyu";A9w[54]="6";c81=59;break;case 111:A9w[69]=A9w[9];A9w[69]+=A9w[7];A9w[69]+=A9w[6];c81=108;break;case 12:A9w[6]="WB";A9w[8]="J";A9w[2]="";A9w[2]="";c81=19;break;case 59:A9w[62]="__";A9w[57]="";A9w[57]="J3";A9w[24]="h$";c81=55;break;case 72:A9w[88]=A9w[24];A9w[88]+=A9w[55];A9w[88]+=A9w[75];A9w[38]=A9w[57];A9w[38]+=A9w[54];c81=67;break;case 115:A9w[92]+=A9w[26];A9w[36]=A9w[3];A9w[36]+=A9w[81];A9w[36]+=A9w[1];c81=111;break;case 131:E6r(t$U,"test",A9w[76],A9w[66]);c81=130;break;case 41:A9w[91]="4K";A9w[40]="_o";A9w[83]="";A9w[83]="idual";c81=37;break;case 15:A9w[48]="";A9w[48]="l7Ir";A9w[89]="";A9w[26]="9";c81=24;break;case 24:A9w[89]="Dm5";A9w[90]="";A9w[90]="6s";A9w[12]="";A9w[12]="E";A9w[59]="";c81=33;break;case 127:E6r(J0T,"apply",A9w[76],A9w[88]);c81=126;break;case 99:A9w[56]+=A9w[40];A9w[56]+=A9w[79];A9w[86]=A9w[59];A9w[86]+=A9w[81];A9w[86]+=A9w[12];A9w[43]=A9w[18];A9w[43]+=A9w[90];c81=92;break;case 2:var A9w=[arguments];A9w[9]="";A9w[9]="F";A9w[1]="";A9w[1]="W";A9w[3]="";c81=8;break;case 67:A9w[38]+=A9w[53];A9w[68]=A9w[62];A9w[68]+=A9w[49];A9w[68]+=A9w[72];c81=88;break;case 84:A9w[45]+=A9w[18];A9w[45]+=A9w[64];A9w[71]=A9w[47];A9w[71]+=A9w[63];c81=80;break;case 8:A9w[3]="";A9w[3]="O4P";A9w[5]="";A9w[5]="2a4";A9w[8]="";c81=12;break;case 128:E6r(O1c,A9w[68],A9w[93],A9w[38]);c81=127;break;case 19:A9w[2]="r";A9w[4]="";A9w[7]="6J";A9w[4]="Z";c81=15;break;case 133:E6r(E3o,"map",A9w[76],A9w[86]);c81=132;break;case 55:A9w[75]="of";A9w[55]="vF";A9w[76]=8;A9w[76]=1;A9w[93]=1;A9w[93]=0;c81=72;break;case 92:A9w[43]+=A9w[89];A9w[85]=A9w[48];A9w[85]+=A9w[4];A9w[85]+=A9w[2];A9w[92]=A9w[8];A9w[92]+=A9w[5];c81=115;break;case 106:E6r(O1c,"String",A9w[93],A9w[36]);c81=105;break;case 50:A9w[18]="q";A9w[46]="x";A9w[47]="__r";A9w[49]="";c81=46;break;case 37:A9w[72]="";A9w[64]="jV";A9w[81]="Y";A9w[98]="j";A9w[52]="$ssh";A9w[72]="ract";c81=50;break;case 80:A9w[71]+=A9w[83];A9w[66]=A9w[17];A9w[66]+=A9w[91];A9w[66]+=A9w[61];c81=103;break;case 135:E6r(c59,"substring",A9w[76],A9w[85]);c81=134;break;case 107:E6r(c59,"charCodeAt",A9w[76],A9w[69]);c81=106;break;case 130:E6r(O1c,A9w[71],A9w[93],A9w[45]);c81=129;break;case 88:A9w[42]=A9w[98];A9w[42]+=A9w[28];A9w[42]+=A9w[46];A9w[45]=A9w[15];c81=84;break;}}function J0T(H59){var l$$=2;for(;l$$!==5;){switch(l$$){case 2:var V9x=[arguments];return V9x[0][0].Function;break;}}}}i6UVR.m6F=function(){return typeof i6UVR[459327].w4xZ2A7==='function'?i6UVR[459327].w4xZ2A7.apply(i6UVR[459327],arguments):i6UVR[459327].w4xZ2A7;};i6UVR.V9a=function(){return typeof i6UVR[150036].q52sdNp==='function'?i6UVR[150036].q52sdNp.apply(i6UVR[150036],arguments):i6UVR[150036].q52sdNp;};i6UVR.i8e=function(){return typeof i6UVR[247674].A$uBw0P==='function'?i6UVR[247674].A$uBw0P.apply(i6UVR[247674],arguments):i6UVR[247674].A$uBw0P;};i6UVR.h3V=function(){return typeof i6UVR[356525].K9OPwob==='function'?i6UVR[356525].K9OPwob.apply(i6UVR[356525],arguments):i6UVR[356525].K9OPwob;};i6UVR.O_b=function(){return typeof i6UVR[150036].Z7m4YCh==='function'?i6UVR[150036].Z7m4YCh.apply(i6UVR[150036],arguments):i6UVR[150036].Z7m4YCh;};i6UVR.W3G=function(){return typeof i6UVR[220353].V3nM4Cy==='function'?i6UVR[220353].V3nM4Cy.apply(i6UVR[220353],arguments):i6UVR[220353].V3nM4Cy;};i6UVR[150036]=function(B6t){return{q52sdNp:function q52sdNp(){var J5D,r_V=arguments;switch(B6t){case 39:J5D=r_V[0]^r_V[1];break;case 64:J5D=(r_V[0]-r_V[1]-r_V[3])/r_V[4]+r_V[2];break;case 71:J5D=(r_V[0]-r_V[4])*r_V[1]-r_V[3]-r_V[2];break;case 8:J5D=(r_V[2]+r_V[4]-r_V[3])*r_V[1]-r_V[0];break;case 128:J5D=r_V[2]*((r_V[0]-r_V[1])/r_V[4]+r_V[3]);break;case 77:J5D=(r_V[1]+r_V[3]-r_V[0])/r_V[4]+r_V[2];break;case 118:J5D=r_V[1]*r_V[0]+r_V[2]+r_V[4]-r_V[3];break;case 102:J5D=r_V[0]-r_V[4]-r_V[1]-r_V[3]+r_V[2];break;case 12:J5D=r_V[1]>>r_V[0];break;case 85:J5D=r_V[1]|r_V[2]|r_V[0];break;case 38:J5D=(r_V[3]-r_V[4]-r_V[1])*r_V[0]-r_V[2];break;case 2:J5D=r_V[1]*r_V[0];break;case 65:J5D=(r_V[2]+r_V[3])*r_V[0]+r_V[1]-r_V[4];break;case 18:J5D=-r_V[2]-r_V[1]+r_V[0];break;case 87:J5D=r_V[1]===r_V[0];break;case 74:J5D=r_V[1]>=r_V[0];break;case 134:J5D=+r_V[2]+r_V[3]+r_V[0]+r_V[1];break;case 132:J5D=(-r_V[1]+r_V[3])/r_V[0]*r_V[4]+r_V[2];break;case 40:J5D=r_V[1]+r_V[0]-(r_V[2]-r_V[3]);break;case 36:J5D=r_V[1]-+r_V[0];break;case 121:J5D=(r_V[3]-r_V[4])*r_V[0]*r_V[1]+r_V[2];break;case 145:J5D=(+r_V[3]+r_V[0]/r_V[1])*r_V[2];break;case 52:J5D=r_V[3]+r_V[2]+ +r_V[1]+r_V[0];break;case 135:J5D=r_V[2]*r_V[3]*r_V[1]-r_V[4]-r_V[0];break;case 119:J5D=r_V[0]/r_V[1]+r_V[2];break;case 48:J5D=(-r_V[0]+r_V[4])*r_V[3]*r_V[2]-r_V[1];break;case 10:J5D=+r_V[1]*r_V[0];break;case 143:J5D=r_V[2]*r_V[1]*r_V[0];break;case 26:J5D=(r_V[0]-r_V[1])/r_V[3]+r_V[2];break;case 28:J5D=(r_V[0]+r_V[1])*r_V[3]-r_V[2];break;case 53:J5D=-r_V[3]/r_V[1]-r_V[2]+r_V[0];break;case 112:J5D=r_V[3]-r_V[1]+(r_V[2]|r_V[0]);break;case 139:J5D=r_V[0]/r_V[2]/r_V[1];break;case 68:J5D=r_V[3]+r_V[0]+r_V[2]+r_V[1]-r_V[4];break;case 35:J5D=r_V[2]+r_V[0]+r_V[1];break;case 9:J5D=r_V[0]/r_V[1];break;case 15:J5D=r_V[0]/r_V[4]/r_V[2]/r_V[1]-r_V[3];break;case 81:J5D=r_V[0]<r_V[1];break;case 21:J5D=r_V[1]*r_V[0]-r_V[2];break;case 42:J5D=r_V[0]|r_V[1];break;case 75:J5D=r_V[2]+r_V[1]+r_V[4]+r_V[0]+r_V[3];break;case 116:J5D=r_V[4]/r_V[0]/r_V[3]*r_V[1]+r_V[2];break;case 127:J5D=r_V[1]*r_V[0]*r_V[2]*r_V[3];break;case 25:J5D=(r_V[0]-r_V[4])*r_V[1]/r_V[2]+r_V[3];break;case 29:J5D=r_V[0]<<r_V[1];break;case 95:J5D=r_V[0]/r_V[2]*r_V[3]-r_V[1];break;case 72:J5D=r_V[0]==r_V[1];break;case 140:J5D=(r_V[4]-r_V[5])*(r_V[0]-r_V[2])+(r_V[6]-r_V[3])*(r_V[7]-r_V[1]);break;case 11:J5D=(r_V[3]+r_V[0])/(r_V[1]|r_V[2]);break;case 51:J5D=r_V[2]+r_V[3]+r_V[1]+r_V[0];break;case 54:J5D=r_V[0]/r_V[2]+r_V[1]-r_V[3];break;case 113:J5D=r_V[3]-(r_V[2]-r_V[1])-r_V[0];break;case 114:J5D=r_V[3]/r_V[1]-r_V[0]-r_V[2];break;case 37:J5D=r_V[2]-r_V[0]-r_V[1];break;case 92:J5D=r_V[3]*r_V[2]+r_V[1]-r_V[0];break;case 4:J5D=r_V[2]-r_V[3]/r_V[1]+r_V[0];break;case 60:J5D=(-r_V[2]+r_V[0])*r_V[3]-r_V[1];break;case 123:J5D=(r_V[4]+r_V[1])*r_V[0]*r_V[3]-r_V[2];break;case 59:J5D=r_V[1]/r_V[3]-r_V[0]+r_V[2];break;case 131:J5D=r_V[0]+r_V[3]-r_V[2]+r_V[1];break;case 32:J5D=r_V[0]*r_V[4]/r_V[2]*r_V[1]-r_V[3];break;case 124:J5D=r_V[1]*r_V[3]/r_V[4]-r_V[0]+r_V[2];break;case 5:J5D=r_V[0]+r_V[1]/r_V[2]-r_V[3];break;case 55:J5D=r_V[0]*r_V[2]/r_V[4]/r_V[3]-r_V[1];break;case 16:J5D=r_V[1]+r_V[0]-r_V[2];break;case 129:J5D=(r_V[2]-r_V[4])*r_V[3]+r_V[1]-r_V[0];break;case 0:J5D=r_V[0]+r_V[1];break;case 14:J5D=-r_V[2]/r_V[0]*r_V[3]+r_V[1];break;case 47:J5D=r_V[1]-r_V[0]/r_V[2];break;case 88:J5D=r_V[1]-(r_V[2]-r_V[0]);break;case 138:J5D=(r_V[1]-r_V[4]+r_V[0])*r_V[2]-r_V[3];break;case 70:J5D=(-r_V[4]+r_V[2])*r_V[3]/r_V[1]+r_V[0];break;case 126:J5D=r_V[0]+r_V[1]/(r_V[3]-r_V[2]);break;case 33:J5D=r_V[0]-r_V[2]+r_V[1];break;case 31:J5D=r_V[3]+(r_V[4]+r_V[1]*r_V[2])*r_V[0];break;case 19:J5D=(r_V[2]+r_V[4])*r_V[3]/r_V[0]-r_V[1];break;case 69:J5D=(r_V[2]-r_V[1])*r_V[3]-r_V[0];break;case 89:J5D=(r_V[0]+r_V[1])/r_V[2]+r_V[3];break;case 141:J5D=r_V[1]/r_V[4]/r_V[0]+r_V[3]-r_V[2];break;case 50:J5D=r_V[1]+r_V[0]-r_V[2]-r_V[3];break;case 110:J5D=r_V[0]/r_V[2]+r_V[3]+r_V[4]-r_V[1];break;case 133:J5D=r_V[2]/r_V[4]/r_V[1]+r_V[3]+r_V[0];break;case 43:J5D=r_V[0]+r_V[2]/r_V[1];break;case 62:J5D=r_V[4]/r_V[0]*r_V[1]+r_V[3]-r_V[2];break;case 24:J5D=r_V[3]+r_V[0]+r_V[1]-r_V[2];break;case 56:J5D=r_V[4]/r_V[0]-r_V[3]-r_V[2]+r_V[1];break;case 105:J5D=(-r_V[4]+r_V[0])*r_V[3]-r_V[1]-r_V[2];break;case 80:J5D=+r_V[1]<<r_V[0];break;case 57:J5D=(r_V[1]*r_V[4]+r_V[2])*r_V[3]-r_V[0];break;case 30:J5D=(r_V[0]-r_V[2])*r_V[1];break;case 79:J5D=r_V[0]%r_V[1];break;case 76:J5D=r_V[0]!=r_V[1];break;case 44:J5D=r_V[3]-r_V[0]/r_V[1]-r_V[2];break;case 22:J5D=(r_V[2]-r_V[0])*r_V[3]+r_V[1];break;case 136:J5D=(r_V[4]+r_V[1]-r_V[0])/r_V[2]-r_V[3];break;case 97:J5D=r_V[3]*(+r_V[2]+r_V[0]/r_V[1]);break;case 107:J5D=r_V[4]/r_V[2]+r_V[3]-r_V[0]+r_V[1];break;case 103:J5D=-r_V[1]*r_V[2]+r_V[4]+r_V[0]+r_V[3];break;case 93:J5D=r_V[0]*r_V[3]/(r_V[2]+r_V[1]);break;case 111:J5D=r_V[2]/r_V[1]/r_V[0]+r_V[3];break;case 61:J5D=(r_V[2]-r_V[0])/(r_V[1]-r_V[3]);break;case 99:J5D=-r_V[0]*r_V[2]+r_V[1];break;case 137:J5D=r_V[2]-(r_V[1]>>r_V[0]);break;case 109:J5D=r_V[2]*r_V[1]/r_V[3]+r_V[4]-r_V[0];break;case 115:J5D=(r_V[1]-r_V[3])*r_V[4]+r_V[2]+r_V[0];break;case 63:J5D=r_V[0]*r_V[1]+r_V[2];break;case 73:J5D=r_V[0]>r_V[1];break;case 104:J5D=r_V[3]-r_V[1]+r_V[0]+r_V[2];break;case 144:J5D=(r_V[1]-r_V[0]/r_V[3])*r_V[2];break;case 41:J5D=r_V[3]*r_V[1]+r_V[2]*r_V[0];break;case 120:J5D=r_V[0]/(r_V[2]+r_V[1]);break;case 106:J5D=r_V[3]*r_V[4]-r_V[2]-r_V[1]-r_V[0];break;case 17:J5D=r_V[3]-r_V[4]+r_V[0]+r_V[2]-r_V[1];break;case 108:J5D=r_V[1]*r_V[4]*r_V[0]/r_V[3]-r_V[2];break;case 66:J5D=-r_V[2]/r_V[1]/r_V[3]+r_V[0];break;case 130:J5D=r_V[2]*r_V[1]/r_V[3]+r_V[4]+r_V[0];break;case 13:J5D=r_V[1]-r_V[3]+r_V[2]-r_V[0];break;case 84:J5D=r_V[3]|r_V[0]|r_V[1]|r_V[2];break;case 23:J5D=-r_V[1]+r_V[0];break;case 20:J5D=-r_V[1]-r_V[0]+r_V[2]-r_V[3];break;case 86:J5D=r_V[2]|r_V[0]|r_V[4]|r_V[3]|r_V[1];break;case 46:J5D=r_V[1]+r_V[0]*r_V[2];break;case 67:J5D=r_V[0]-r_V[1]-r_V[3]+r_V[2];break;case 6:J5D=r_V[0]+ +r_V[1];break;case 7:J5D=(r_V[0]+r_V[2])/r_V[1]-r_V[3];break;case 82:J5D=r_V[2]<<r_V[0]-r_V[1];break;case 78:J5D=r_V[1]<=r_V[0];break;case 96:J5D=r_V[0]-r_V[1]-r_V[3]-r_V[2];break;case 125:J5D=r_V[1]-r_V[2]/(r_V[0]^r_V[3]);break;case 101:J5D=r_V[2]/(r_V[0]*r_V[1]);break;case 45:J5D=r_V[2]+(r_V[1]-r_V[3])*r_V[0];break;case 91:J5D=r_V[2]/r_V[0]-r_V[1];break;case 27:J5D=(r_V[3]+r_V[4])*r_V[0]-r_V[1]-r_V[2];break;case 49:J5D=r_V[1]/r_V[0]/r_V[3]-r_V[2];break;case 3:J5D=r_V[1]*r_V[0]+r_V[4]-r_V[2]-r_V[3];break;case 1:J5D=r_V[1]-r_V[0];break;case 100:J5D=r_V[0]*(r_V[2]/r_V[1]);break;case 117:J5D=-r_V[2]+r_V[0]-r_V[1];break;case 83:J5D=r_V[0]*r_V[1];break;case 98:J5D=r_V[1]*r_V[0]/r_V[2];break;case 90:J5D=r_V[2]-r_V[1]*r_V[0];break;case 94:J5D=r_V[3]-r_V[2]-r_V[1]+r_V[0]+r_V[4];break;case 122:J5D=r_V[3]*r_V[4]*r_V[1]+(r_V[6]-r_V[5]*r_V[2])*r_V[0];break;case 58:J5D=r_V[2]*r_V[1]/r_V[3]+r_V[0];break;case 142:J5D=r_V[3]*(r_V[1]/r_V[2]-r_V[4])+r_V[0];break;case 34:J5D=(r_V[1]<<r_V[2])+r_V[0];break;}return J5D;},Z7m4YCh:function Z7m4YCh(o58){B6t=o58;}};}();i6UVR[247674]=function(L7J){function b0J(q4G){var s1p=2;for(;s1p!==15;){switch(s1p){case 9:s1p=!b5i--?8:7;break;case 8:R75=L7J[6];s1p=7;break;case 2:var B3D,r2T,R75,e3W,X1M,l5m,S1q;s1p=1;break;case 3:r2T=30;s1p=9;break;case 7:s1p=!b5i--?6:14;break;case 16:B3D=e3W-q4G>r2T;s1p=19;break;case 11:l5m=(X1M||X1M===0)&&S1q(X1M,r2T);s1p=10;break;case 6:e3W=R75&&S1q(R75,r2T);s1p=14;break;case 19:return B3D;break;case 18:s1p=l5m>=0?17:16;break;case 14:s1p=!b5i--?13:12;break;case 1:s1p=!b5i--?5:4;break;case 5:S1q=Z7Y[L7J[4]];s1p=4;break;case 4:s1p=!b5i--?3:9;break;case 20:B3D=q4G-l5m>r2T&&e3W-q4G>r2T;s1p=19;break;case 10:s1p=l5m>=0&&e3W>=0?20:18;break;case 17:B3D=q4G-l5m>r2T;s1p=19;break;case 12:s1p=!b5i--?11:10;break;case 13:X1M=L7J[7];s1p=12;break;}}}var Y1h=2;for(;Y1h!==10;){switch(Y1h){case 14:L7J=L7J.Z9JcYE(function(e_E){var b5Z=2;for(;b5Z!==13;){switch(b5Z){case 4:var G2f=0;b5Z=3;break;case 5:A_v='';b5Z=4;break;case 6:return;break;case 1:b5Z=!b5i--?5:4;break;case 3:b5Z=G2f<e_E.length?9:7;break;case 9:A_v+=Z7Y[b7j][T9F](e_E[G2f]+100);b5Z=8;break;case 14:return A_v;break;case 7:b5Z=!A_v?6:14;break;case 2:var A_v;b5Z=1;break;case 8:G2f++;b5Z=3;break;}}});Y1h=13;break;case 7:b7j=V7A.q6sDm5(new Z7Y[I$d]("^['-|]"),'S');Y1h=6;break;case 5:Z7Y=i6UVR[50848];Y1h=4;break;case 9:V7A=_typeof(T9F);Y1h=8;break;case 2:var Z7Y,V7A,b7j,b5i;Y1h=1;break;case 1:Y1h=!b5i--?5:4;break;case 11:return{A$uBw0P:function A$uBw0P(j0G){var O60=2;for(;O60!==6;){switch(O60){case 9:O$F=Z2T+60000;O60=8;break;case 3:O60=!b5i--?9:8;break;case 4:x7e=b0J(Z2T);O60=3;break;case 5:O60=!b5i--?4:3;break;case 1:O60=Z2T>O$F?5:8;break;case 2:var Z2T=new Z7Y[L7J[0]]()[L7J[1]]();O60=1;break;case 8:var j7f=function(f2Y,x0x){var W0V=2;for(;W0V!==10;){switch(W0V){case 8:var E6W=Z7Y[x0x[4]](f2Y[x0x[2]](R1p),16)[x0x[3]](2);var g$$=E6W[x0x[2]](E6W[x0x[5]]-1);W0V=6;break;case 4:x0x=L7J;W0V=3;break;case 13:R1p++;W0V=9;break;case 5:W0V=typeof x0x==='undefined'&&typeof L7J!=='undefined'?4:3;break;case 6:W0V=R1p===0?14:12;break;case 3:var d0r,R1p=0;W0V=9;break;case 11:return d0r;break;case 1:f2Y=j0G;W0V=5;break;case 2:W0V=typeof f2Y==='undefined'&&typeof j0G!=='undefined'?1:5;break;case 9:W0V=R1p<f2Y[x0x[5]]?8:11;break;case 12:d0r=d0r^g$$;W0V=13;break;case 14:d0r=g$$;W0V=13;break;}}}(undefined,undefined);return j7f?x7e:!x7e;break;}}}};break;case 13:Y1h=!b5i--?12:11;break;case 3:Y1h=!b5i--?9:8;break;case 8:Y1h=!b5i--?7:6;break;case 4:var T9F='fromCharCode',I$d='RegExp';Y1h=3;break;case 6:Y1h=!b5i--?14:13;break;case 12:var x7e,O$F=0;Y1h=11;break;}}}([[-32,-3,16,1],[3,1,16,-16,5,9,1],[-1,4,-3,14,-35,16],[16,11,-17,16,14,5,10,3],[12,-3,14,15,1,-27,10,16],[8,1,10,3,16,4],[-50,3,15,2,-49,-3,-52,-52,-52],[]]);i6UVR[459327]=function(){var z3n=function z3n(m43,v6G){var J$X=v6G&0xffff;var c3i=v6G-J$X;return(c3i*m43|0)+(J$X*m43|0)|0;},d4D=function d4D(m0U,S6f,r5c){var K5Y=0xcc9e2d51,t0P=0x1b873593;var v45=r5c;var A3b=S6f&~0x3;for(var r9q=0;r9q<A3b;r9q+=4){var f5O=m0U.F6JWB(r9q)&0xff|(m0U.F6JWB(r9q+1)&0xff)<<8|(m0U.F6JWB(r9q+2)&0xff)<<16|(m0U.F6JWB(r9q+3)&0xff)<<24;f5O=z3n(f5O,K5Y);f5O=(f5O&0x1ffff)<<15|f5O>>>17;f5O=z3n(f5O,t0P);v45^=f5O;v45=(v45&0x7ffff)<<13|v45>>>19;v45=v45*5+0xe6546b64|0;}f5O=0;switch(S6f%4){case 3:f5O=(m0U.F6JWB(A3b+2)&0xff)<<16;case 2:f5O|=(m0U.F6JWB(A3b+1)&0xff)<<8;case 1:f5O|=m0U.F6JWB(A3b)&0xff;f5O=z3n(f5O,K5Y);f5O=(f5O&0x1ffff)<<15|f5O>>>17;f5O=z3n(f5O,t0P);v45^=f5O;}v45^=S6f;v45^=v45>>>16;v45=z3n(v45,0x85ebca6b);v45^=v45>>>13;v45=z3n(v45,0xc2b2ae35);v45^=v45>>>16;return v45;};return{w4xZ2A7:d4D};}();i6UVR.s$9=function(){return typeof i6UVR[150036].Z7m4YCh==='function'?i6UVR[150036].Z7m4YCh.apply(i6UVR[150036],arguments):i6UVR[150036].Z7m4YCh;};i6UVR.v$j=function(){return typeof i6UVR[150036].q52sdNp==='function'?i6UVR[150036].q52sdNp.apply(i6UVR[150036],arguments):i6UVR[150036].q52sdNp;};i6UVR[106140]=786;i6UVR.f9L=function(){return typeof i6UVR[356525].n8eaqyR==='function'?i6UVR[356525].n8eaqyR.apply(i6UVR[356525],arguments):i6UVR[356525].n8eaqyR;};i6UVR[50848].N4kk=i6UVR;function i6UVR(){}i6UVR.h8D=function(S2C){i6UVR.W3G();if(i6UVR)return i6UVR.N4H(S2C);};i6UVR.U56=function(T1H){i6UVR.W5N();if(i6UVR)return i6UVR.i8e(T1H);};i6UVR.N_P=function(r3G){i6UVR.W5N();if(i6UVR&&r3G)return i6UVR.N4H(r3G);};i6UVR.z2h=function(T5Z){i6UVR.W5N();if(i6UVR&&T5Z)return i6UVR.i8e(T5Z);};i6UVR.V1Y=function(z8o){i6UVR.W3G();if(i6UVR&&z8o)return i6UVR.N4H(z8o);};i6UVR.N$t=function(t3x){i6UVR.W3G();if(i6UVR)return i6UVR.N4H(t3x);};i6UVR.x$F=function(Z2P){i6UVR.W3G();if(i6UVR&&Z2P)return i6UVR.N4H(Z2P);};i6UVR.O0o=function(E$y){if(i6UVR&&E$y)return i6UVR.i8e(E$y);};i6UVR.x1I=function(s4J){i6UVR.W5N();if(i6UVR)return i6UVR.N4H(s4J);};var f6ulV,N,u,X,S,P,I,Q,V,M,T,R,W,Y,g,K,A,G,G6,k$,w6,q2,K_,D5,S8,V4,U$,v8,I3;f6ulV="u";f6ulV+="n";f6ulV+="de";f6ulV+="fined";N=function N(e4){var T3m=i6UVR;var j0,E6,b$;j0=typeof _CIQ!=="undefined"?_CIQ:e4.CIQ;E6=/*#__PURE__*/function(){function K$(){_classCallCheck(this,K$);}_createClass(K$,[{key:"get",value:function get(Q7,q1){var d9v;d9v="n";d9v+="o storage ";d9v+="defi";d9v+="ned";q1(d9v);}},{key:"set",value:function set(I7,D2){}},{key:"remove",value:function remove(i2){}}]);return K$;}();j0.ChartEngine.create=function(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},G1=_ref.container,O9=_ref.config,o9=_ref.deferLoad;var R8z,C8,s0,z2;R8z=".chartCon";R8z+="ta";R8z+="in";R8z+="er";if(!G1){G1=document.querySelector(R8z)||document.body;}if(!O9){O9={};}C8=Object.assign({container:G1},O9.chartEngineParams);function V$(){s0.loadChart(O9.initialSymbol,{masterData:O9.initialData},l7);s0.draw();}s0=new this(C8);var _O=O9,R7=_O.quoteFeeds,K6=_O.marketFactory,S4=_O.addOns,L4=_O.chartId,w0=_O.onChartReady;if(R7&&s0.attachQuoteFeed){R7.forEach(function(_ref2){var E_=_ref2.quoteFeed,p3=_ref2.behavior,h1=_ref2.filter;s0.attachQuoteFeed(E_,p3,h1);});}T3m.W3G();if(K6){s0.setMarketFactory(K6);}if(S4){Object.entries(S4).filter(function(_ref3){var _ref4=_slicedToArray(_ref3,2),Y9=_ref4[1];return!!Y9;}).forEach(function(_ref5){var _ref6=_slicedToArray(_ref5,2),Z8=_ref6[0],V7=_ref6[1];var t5;if(!O9.enabledAddOns[Z8]){return;}t5=V7.moduleName||j0.capitalize(Z8);if(j0[t5]){var _j0$t=new j0[t5](Object.assign({stx:s0},V7,{config:O9})),b5=_j0$t.cssRequired;if(b5&&j0.UI){j0.UI.activatePluginUI(s0,t5);}}else if(j0.debug){console.log("".concat(t5," not available for addons with params:"),V7);}});}z2=j0.ensureDefaults(O9.callbacks||{},{layout:this.getSaveLayout(O9),symbolChange:this.getSaveLayout(O9),drawing:this.getSaveDrawings(O9),preferences:this.getSavePreferences(O9),newChart:this.getRetoggleEvents(O9)});for(var e5 in z2){if(z2[e5]){s0.addEventListener(e5,z2[e5]);}}b$=O9.nameValueStore||j0.NameValueStore||E6;b$=new b$();function l7(){if(!w0){return;}T3m.W3G();setTimeout(function(){return w0(s0);});}if(!o9){if(O9.restore){this.restorePreferences(s0,L4);this.restoreLayout(s0,function(O5){if(!s0.chart.symbol&&O9.initialSymbol){V$();}else{l7();}},L4);}else{V$();}}return s0;};j0.ChartEngine.getSaveLayout=function(p2){return function v_(_ref7){var X7=_ref7.stx;T3m.W3G();var L5;if(p2.restore&&X7.exportLayout){L5=JSON.stringify(X7.exportLayout(!!1));b$.set("myChartLayout"+(p2.chartId||""),L5);}};};j0.ChartEngine.restoreLayout=function(q9,j9,d6){T3m.W5N();var l8=this.restoreDrawings;if(!d6){d6="";}T3m.O_b(0);b$.get(T3m.v$j("myChartLayout",d6),function(Q$,Q3){if(Q$){return;}try{Q3=JSON.parse(Q3);}catch(u9){}if(q9.importLayout){q9.importLayout(Q3,{managePeriodicity:!!{},cb:Y4});}if(q9.termStructure){q9.setCandleWidth(1);;}});function Y4(){T3m.W3G();l8(q9,q9.chart.symbol,d6);if(j9){j9();}}};j0.ChartEngine.getSaveDrawings=function(u_){T3m.W5N();return function y7(_ref8){var P$=_ref8.stx,v$=_ref8.symbol;var w3,a9;T3m.W5N();if(u_.restore&&P$.exportDrawings){w3=P$.exportDrawings();a9=u_.chartId?u_.chartId+(6920>=3809? false?(undefined):"~":("I",0x1191))+v$:v$;if(w3.length==="0"*1){b$.remove(a9);}else{b$.set(a9,JSON.stringify(w3));}}};};j0.ChartEngine.restoreDrawings=function(R_,A3,r7){var v6;T3m.W5N();if(!j0.Drawing){return;}v6=r7?r7+(895>"349">>64?"~":(!0,3.80e+3))+A3:A3;b$.get(v6,function(X4,V2){if(X4){return;}T3m.W3G();try{V2=JSON.parse(V2);}catch(B7){}if(V2){R_.importDrawings(V2);R_.draw();}});};T3m.W3G();j0.ChartEngine.getSavePreferences=function(B3){T3m.W5N();return function Y3(_ref9){var o4=_ref9.stx;T3m.W5N();var M$1,b1;if(B3.restore&&o4.exportPreferences){M$1="myChartPref";M$1+="eren";M$1+="ces";b1=JSON.stringify(o4.exportPreferences());b$.set(M$1+(B3.chartId||""),b1);}};};j0.ChartEngine.restorePreferences=function(B0,o$){if(!o$){o$="";}T3m.O_b(0);b$.get(T3m.v$j("myChartPreferences",o$),function(Y0,q8){if(Y0){return;}try{q8=JSON.parse(q8);}catch(N7){}if(q8&&B0.importPreferences){B0.importPreferences(q8);}});};j0.ChartEngine.getRetoggleEvents=function(q$){return function P1(_ref10){var C$=_ref10.stx;var E5,A6;E5=document.getElementById(q$.chartId);if(!E5){E5=(j0.getFn("UI.getMyContext")(C$.container)||{}).topNode;}if(!E5){E5=document;}T3m.W3G();A6=E5.querySelectorAll("".concat(q$.selector.markersMenuItem,".ciq-active:not(.span-event)"));A6.forEach(function(e$){e$.dispatchEvent(new Event("stxtap"));});};};};u=function u(C3){var g4p=i6UVR;g4p.W5N();var c0;c0=typeof _CIQ!=="undefined"?_CIQ:C3.CIQ;c0.ChartEngine.prototype.drawHeatmap=function(X3,P2){var A1,U7,M5,g0,a1,h6,J2,V9,D4,m4,R8,O_,J4,q3;if(!P2||!P2.length){return;}A1=X3.panel;if(!A1){A1="chart";}U7=this.panels[A1];if(!U7){return;}M5=X3.yAxis?X3.yAxis:U7.yAxis;g0=this.chart.dataSegment;if(!X3.name){X3.name="Data";}if(!X3.widthFactor){g4p.O_b(1);X3.widthFactor=g4p.V9a(0,"1");}if(!X3.height){X3.height=Math.pow(10,1-(U7.decimalPlaces||U7.chart.decimalPlaces));}a1="stx-float-date";h6=this.chart.context;this.canvasFont(a1,h6);J2=this.getCanvasFontSize(a1);V9=1;if(!X3.highlight&&this.highlightedDraggable){V9=0.3;}D4=0.5;if(U7.chart.tmpWidth<=1){D4=0;}function n9(O0,o7,f3,D7,M2,r0,u0,j3){var X6B,E0k,i6,P4,O8,g6,C4,j8,A9,x9,E0,B8,Q8,U5,I8,h0;X6B="num";X6B+="ber";E0k="ce";E0k+="nt";E0k+="e";E0k+="r";h6.beginPath();h6.fillStyle=o7;h6.strokeStyle=o7;g4p.W5N();h6.textAlign=E0k;i6=O_.layout.candleWidth*M2;P4=Math.floor(O_.pixelFromBar(0,U7.chart)-O_.layout.candleWidth);if(_typeof(f3)==X6B){g4p.O_b(2);h6.globalAlpha=g4p.v$j(V9,f3);}if(_typeof(f3)=="object"){C4={minOpacity:f3.min||0,maxOpacity:f3.max||1};}for(var L1=0;L1<g0.length;L1++){j8=g0[L1];if(j8&&j8.candleWidth){if(L1===0){P4+=O_.layout.candleWidth;}else{g4p.O_b(3);var Y4I=g4p.V9a(10,19,9,185,6);P4+=(j8.candleWidth+i6/M2)/Y4I;}i6=j8.candleWidth*M2;}else{P4+=O_.layout.candleWidth;}g4p.O_b(4);O8=g4p.v$j(u0,2,P4,i6);g4p.O_b(5);g6=g4p.v$j(P4,i6,2,u0);if(g6-O8<2){g4p.s$9(6);g6=g4p.V9a(O8,"1");}if(!j8)continue;A9=j8[O0];if(!A9)continue;if(A9[j3]){A9=A9[j3];}if(typeof A9=="number"){A9=[A9];}for(var S7=+"0";S7<A9.length;S7++){x9=A9[S7];E0=0;if(x9 instanceof Array){if(C4){g4p.s$9(7);var g69=g4p.V9a(0,1,2,0);g4p.O_b(8);var X$C=g4p.v$j(379,19,18,13,15);h6.globalAlpha=V9*(x9[g69]*C4.maxOpacity+(X$C-x9[+"2"])*C4.minOpacity);}E0=x9[1];x9=x9[0];}B8=O_.pixelFromPrice(x9,U7,M5);if(!J4){if(!r0){r0=X3.height;}Q8=O_.pixelFromPrice(x9+r0*(M5.flipped?1:-1),U7,M5);h6.lineWidth=1;g4p.O_b(1);m4=g4p.v$j(B8,Q8);g4p.O_b(9);R8=g4p.V9a(m4,2);J4=h6.lineWidth;}if(D7){g4p.s$9(1);U5=g4p.V9a(R8,B8);g4p.O_b(0);I8=g4p.v$j(B8,R8);g4p.s$9(1);h6.rect(O8,U5,g4p.V9a(O8,g6),g4p.v$j(U5,I8));}else{g4p.s$9(1);h6.fillRect(O8,g4p.V9a(R8,B8),g4p.v$j(O8,g6),m4);if(X3.showSize&&E0&&J2<=m4-2){h0=h6.globalAlpha;h6.fillStyle=O_.defaultColor;g4p.s$9(10);h6.globalAlpha=g4p.V9a(V9,"0.5");g4p.s$9(11);h6.fillText(E0,g4p.V9a(O8,"2",2,g6),B8);h6.fillStyle=o7;g4p.s$9(2);h6.globalAlpha=g4p.V9a(V9,h0);}}if(C4&&x9 instanceof Array){h6.globalAlpha=0;}}}if(D7){h6.stroke();}h6.globalAlpha=V9;h6.closePath();}m4=null;R8=null;O_=this;J4=null;this.startClip(A1);h6.globalAlpha=V9;for(var c1=0;c1<P2.length;c1++){q3=P2[c1];n9(q3.field,q3.color,q3.opacity,null,X3.widthFactor,q3.height,q3.border_color?D4:-D4/4,q3.subField);if(q3.border_color&&this.layout.candleWidth>=2){n9(q3.field,q3.border_color,q3.opacity,!0,X3.widthFactor,q3.height,D4,q3.subField);}}h6.lineWidth=1;h6.globalAlpha=1;g4p.W3G();this.endClip();};c0.ChartEngine.prototype.drawCandles=function(m7,L2,c4){var G9,v5c,G3c,q_Z,N$,K5,s$,F_,l1,x7,J3,O7,m1,D1,j$,t9,D8,A5,V0,g9,f_,k0,V6,J1,G$,S6,P8,v3,o6,Z6,f1,e8,E9,X2,k8,H7,A0,h3;G9=m7.chart;if(!G9){v5c=1732729279;G3c=-1260121;q_Z=2;for(var S27=1;g4p.m6F(S27.toString(),S27.toString().length,3798)!==v5c;S27++){G9=m7;g4p.O_b(12);q_Z+=g4p.v$j(64,"2");}if(g4p.l5h(q_Z.toString(),q_Z.toString().length,11601)!==G3c){G9=m7;}G9=m7;m7=m7.chart;}N$=!1;K5=!"1";s$=null;F_=m7.yAxis;if(c4&&_typeof(c4)=="object"){N$=c4.isOutline;K5=c4.isHistogram;s$=c4.field;F_=c4.yAxis;}else{N$=c4;K5=arguments[3];}l1=G9.dataSegment;x7=G9.context;J3=F_.top;O7=F_.bottom;t9=new Array(l1.length);D8="transparent";A5="transparent";V0=0;g4p.s$9(13);var P08=g4p.V9a(5,0,18,12);g9=G9.dataSet.length-G9.scroll-P08;f_={};g4p.O_b(14);var j6V=g4p.v$j(4,16,4,14);k0=G9.tmpWidth/j6V;V6=this.layout.candleWidth;g4p.s$9(0);var h5T=g4p.V9a(0,1);J1=m7.left-0.5*V6+this.micropixels-h5T;for(var K8=0;K8<=l1.length;K8++){G$=k0;g4p.s$9(9);J1+=g4p.v$j(V6,2);V6=this.layout.candleWidth;g4p.O_b(9);J1+=g4p.V9a(V6,2);S6=l1[K8];if(!S6)continue;if(S6.projection)continue;if(S6.candleWidth){g4p.s$9(15);var I_p=g4p.V9a(12,2,3,0,1);J1+=(S6.candleWidth-V6)/I_p;V6=S6.candleWidth;if(c4.isVolume||V6<G9.tmpWidth){g4p.s$9(9);G$=g4p.V9a(V6,2);}}if(G9.transformFunc&&F_==G9.panel.yAxis&&S6.transform){S6=S6.transform;}if(S6&&s$){S6=S6[s$];}if(!S6&&S6!==0)continue;P8=S6.Close;v3=S6.Open===undefined?P8:S6.Open;if(K5&&G9.defaultPlotField){P8=S6[G9.defaultPlotField];}if(!P8&&P8!==+"0")continue;if(!K5&&(v3==P8||v3===null))continue;o6=L2(this,S6,N$?"outline":"solid");if(!o6)continue;if(N$){D8=o6;}else{A5=o6;}g4p.O_b(2);f_[A5]=g4p.V9a(1,"1");Z6=D8&&!c0.isTransparent(D8);if(Z6&&!c4.highlight){V0=0.5;}x7.beginPath();x7.fillStyle=A5;if(!S6.cache){S6.cache={};}f1=S6.cache;g4p.O_b(0);e8=g4p.v$j(g9,K8);if(e8<m7.cacheLeft||e8>m7.cacheRight||!f1.open){E9=F_.semiLog?F_.height*(1-(Math.log(Math.max(v3,0))/Math.LN10-F_.logLow)/F_.logShadow):(F_.high-v3)*F_.multiplier;X2=F_.semiLog?F_.height*(1-(Math.log(Math.max(P8,0))/Math.LN10-F_.logLow)/F_.logShadow):(F_.high-P8)*F_.multiplier;if(F_.flipped){g4p.O_b(1);E9=g4p.V9a(E9,O7);g4p.O_b(1);X2=g4p.v$j(X2,O7);}else{E9+=J3;X2+=J3;}t9[K8]=X2;m1=Math.floor(K5?X2:Math.min(E9,X2))+V0;D1=K5?F_.bottom:Math.max(E9,X2);g4p.O_b(1);j$=Math.floor(g4p.v$j(m1,D1));if(m1<J3){if(m1+j$<J3){f1.open=m1;f1.close=m1;continue;}g4p.s$9(1);j$-=g4p.V9a(m1,J3);m1=J3;}if(m1+j$>O7){g4p.O_b(16);j$-=g4p.v$j(j$,m1,O7);}j$=Math.max(j$,2);f1.open=m1;f1.close=f1.open+j$;}if(f1.open>=O7)continue;if(f1.close<=J3)continue;k8=Math.floor(J1)+(!c4.highlight&&+"0.5");H7=Math.floor(k8-G$)+V0;A0=Math.round(k8+G$)-V0;if(f1.open!=f1.close){x7.rect(H7,f1.open,Math.max(1,A0-H7),Math.max(+"1",f1.close-f1.open));}if(!c4.highlight&&this.highlightedDraggable){x7.globalAlpha*=0.3;}if(A5!="transparent"){x7.fill();}if(Z6){x7.lineWidth=1;if(c4.highlight){g4p.s$9(1);x7.lineWidth*=g4p.V9a(0,"2");}x7.strokeStyle=D8;x7.stroke();}}h3={colors:[],cache:t9};for(var u5 in f_){if(!c4.hollow||!c0.equals(u5,this.containerColor)){h3.colors.push(u5);}}return h3;};c0.ChartEngine.prototype.drawShadows=function(c$,R9,j7){var c7,X8,U0,D9,z9,s_,U4,u1,V1,v9,v4,C9,J7,P0,X_,U9,x5,O4,R3,g_,A4,d3,S1,q7,l3,x$;c7=c$.chart;if(!c7){c7=c$;c$=c$.chart;}X8=c7.dataSegment;U0=this.chart.context;U0.lineWidth=1;if(j7.highlight){U0.lineWidth*=+"2";}if(!j7.highlight&&this.highlightedDraggable){U0.globalAlpha*=0.3;}D9=j7.field;z9=j7.yAxis||c$.yAxis;s_=z9.top;U4=z9.bottom;g4p.O_b(17);var G83=g4p.V9a(14,36,18,18,13);u1=c7.dataSet.length-c7.scroll-G83;V1=this.layout.candleWidth;g4p.O_b(1);var L_T=g4p.V9a(19,20);v9=c$.left-0.5*V1+this.micropixels-L_T;for(var c5=0;c5<=X8.length;c5++){g4p.s$9(9);v9+=g4p.v$j(V1,2);V1=this.layout.candleWidth;g4p.O_b(9);v9+=g4p.v$j(V1,2);v4=X8[c5];if(!v4)continue;if(v4.projection)continue;if(v4.candleWidth){g4p.s$9(18);var H6v=g4p.v$j(22,16,4);v9+=(v4.candleWidth-V1)/H6v;V1=v4.candleWidth;}C9=R9(this,v4,"shadow");if(!C9)continue;if(c7.transformFunc&&z9==c7.panel.yAxis&&v4.transform){v4=v4.transform;}if(v4&&D9){v4=v4[D9];}if(!v4&&v4!==+"0")continue;J7=v4.Close;P0=v4.Open===undefined?J7:v4.Open;X_=v4.High===undefined?Math.max(J7,P0):v4.High;U9=v4.Low===undefined?Math.min(J7,P0):v4.Low;if(!J7&&J7!==0)continue;if(!v4.cache){v4.cache={};}x5=v4.cache;g4p.s$9(0);O4=g4p.v$j(u1,c5);if(O4<c$.cacheLeft||O4>c$.cacheRight||!x5.top){R3=z9.semiLog?z9.height*(("1"|0)-(Math.log(Math.max(X_,+"0"))/Math.LN10-z9.logLow)/z9.logShadow):(z9.high-X_)*z9.multiplier;g_=z9.semiLog?z9.height*(1-(Math.log(Math.max(U9,"0"^0))/Math.LN10-z9.logLow)/z9.logShadow):(z9.high-U9)*z9.multiplier;if(z9.flipped){g4p.s$9(1);R3=g4p.v$j(R3,U4);g4p.O_b(1);g_=g4p.V9a(g_,U4);}else{R3+=s_;g_+=s_;}g4p.s$9(1);A4=g4p.v$j(R3,g_);if(R3<s_){if(R3+A4<s_){x5.top=R3;x5.bottom=R3;continue;}g4p.O_b(1);A4-=g4p.V9a(R3,s_);R3=s_;}if(R3+A4>U4){g4p.s$9(16);A4-=g4p.v$j(A4,R3,U4);}x5.top=R3;x5.bottom=x5.top+A4;}if(x5.top>=U4)continue;if(x5.bottom<=s_)continue;d3=Math.floor(v9)+(!j7.highlight&&0.5);U0.beginPath();if(J7==P0){S1=this.offset;if(j7.isVolume){g4p.s$9(9);S1=g4p.V9a(V1,2);}g4p.s$9(1);q7=g4p.v$j(S1,d3);g4p.O_b(0);l3=g4p.v$j(d3,S1);x$=z9.semiLog?z9.height*(1-(Math.log(Math.max(J7,+"0"))/Math.LN10-z9.logLow)/z9.logShadow):(z9.high-J7)*z9.multiplier;if(z9.flipped){g4p.s$9(1);x$=g4p.v$j(x$,U4);}else{x$+=s_;}if(x$<=U4&&x$>=s_){U0.moveTo(q7,x$);U0.lineTo(l3,x$);}}if(X_!=U9){U0.moveTo(d3,x5.top);U0.lineTo(d3,x5.bottom);}U0.strokeStyle=C9;U0.stroke();}};c0.ChartEngine.prototype.drawBarChart=function(y_,h9,V8,L0){var v2,o1,x8,T7,I0,m0,s4,s2,T$,d4,B_,S2,J9,r8,w_,W5,i7,c6,E4,n5,C0,N9,u8,a$,a2,X5,Y5,H$;v2=y_.chart;if(!v2){v2=y_;y_=y_.chart;}o1=v2.dataSegment;x8=new Array(o1.length);T7=v2.context;I0=this.canvasStyle(h9);if(I0.width&&parseInt(I0.width,10)<="25"*1){T7.lineWidth=Math.max(1,c0.stripPX(I0.width));}else{T7.lineWidth=1;}if(L0.highlight){T7.lineWidth*=2;}if(!L0.highlight&&this.highlightedDraggable){T7.globalAlpha*=0.3;}m0=L0.field;s4=L0.yAxis||y_.yAxis;s2=s4.top;T$=s4.bottom;g4p.O_b(19);var o$_=g4p.V9a(76,6,12,19,16);B_=v2.dataSet.length-v2.scroll-o$_;S2={};g4p.O_b(20);var C3S=g4p.V9a(10,6,20,2);J9=v2.tmpWidth/C3S;g4p.O_b(21);var G$x=g4p.V9a(16,40,638);r8=T7.lineWidth/G$x;w_=this.layout.candleWidth;g4p.s$9(22);var L4x=g4p.v$j(8,81,0,10);W5=y_.left-0.5*w_+this.micropixels-L4x;for(var e6=0;e6<=o1.length;e6++){g4p.s$9(9);W5+=g4p.V9a(w_,2);w_=this.layout.candleWidth;g4p.O_b(9);W5+=g4p.v$j(w_,2);i7=o1[e6];if(!i7)continue;if(i7.projection)break;if(i7.candleWidth){g4p.O_b(23);var B4k=g4p.v$j(10,8);W5+=(i7.candleWidth-w_)/B4k;w_=i7.candleWidth;}c6=V8(this,i7);if(!c6)continue;S2[c6]=1;T7.strokeStyle=c6;T7.beginPath();if(v2.transformFunc&&s4==v2.panel.yAxis&&i7.transform){i7=i7.transform;}if(i7&&m0){i7=i7[m0];}if(!i7&&i7!==0)continue;E4=i7.Close;n5=i7.Open===undefined?E4:i7.Open;C0=i7.High===undefined?Math.max(E4,n5):i7.High;N9=i7.Low===undefined?Math.min(E4,n5):i7.Low;if(!E4&&E4!==0)continue;if(!i7.cache){i7.cache={};}u8=i7.cache;g4p.O_b(0);a$=g4p.V9a(B_,e6);if(a$<y_.cacheLeft||a$>y_.cacheRight||!u8.top){a2=this.pixelFromTransformedValue(C0,y_,s4);X5=this.pixelFromTransformedValue(N9,y_,s4);u8.open=s4.semiLog?s4.height*(1-(Math.log(Math.max(n5,0))/Math.LN10-s4.logLow)/s4.logShadow):(s4.high-n5)*s4.multiplier;u8.close=s4.semiLog?s4.height*(1-(Math.log(Math.max(E4,"0">>32))/Math.LN10-s4.logLow)/s4.logShadow):(s4.high-E4)*s4.multiplier;if(s4.flipped){u8.open=s4.bottom-u8.open;u8.close=s4.bottom-u8.close;}else{u8.open+=s4.top;u8.close+=s4.top;}x8[e6]=u8.close;g4p.O_b(1);d4=g4p.v$j(a2,X5);if(a2<s2){if(a2+d4<s2){u8.top=a2;u8.bottom=a2;continue;}g4p.s$9(1);d4-=g4p.v$j(a2,s2);a2=s2;}if(a2+d4>T$){g4p.O_b(16);d4-=g4p.V9a(d4,a2,T$);}u8.top=a2;g4p.s$9(0);u8.bottom=g4p.v$j(a2,d4);}Y5=Math.floor(W5)+(!L0.highlight&&0.5);if(u8.top<T$&&u8.bottom>s2&&i7.High!=i7.Low){T7.moveTo(Y5,u8.top-r8);T7.lineTo(Y5,u8.bottom+r8);}if(L0.type!="hlc"&&u8.open>s2&&u8.open<T$){T7.moveTo(Y5,u8.open);g4p.s$9(1);T7.lineTo(g4p.v$j(J9,Y5),u8.open);}if(u8.close>s2&&u8.close<T$){T7.moveTo(Y5,u8.close);g4p.O_b(0);T7.lineTo(g4p.v$j(Y5,J9),u8.close);}T7.stroke();}T7.lineWidth=1;H$={colors:[],cache:x8};for(var I6 in S2){if(!c0.equals(I6,this.containerColor)){H$.colors.push(I6);}}return H$;};c0.ChartEngine.prototype.drawWaveChart=function(g$,e0){var i45,O3,r6,A7,U_,e7,l_,l$,Q4,h$,Y$,M_,Q9,r3,H_,d$,R2,j5,b_,B2,j4,w5,f$,P5;i45="stx_l";i45+="i";i45+="n";i45+="e_chart";O3=g$.chart;r6=O3.dataSegment;A7=new Array(r6.length);U_=O3.context;if(!e0){e0={};}e7=e0.yAxis||g$.yAxis;this.startClip(g$.name);U_.beginPath();l_=![];l$=!"1";Q4=g$.yAxis.top;g4p.W5N();h$=g$.yAxis.bottom;Y$=g$.left+Math.floor(-0.5*this.layout.candleWidth+this.micropixels);M_=this;for(var e_=0;e_<=r6.length;e_++){Y$+=this.layout.candleWidth;Q9=r6[e_];if(!Q9)continue;if(Q9.projection)break;if(O3.transformFunc&&e7==O3.panel.yAxis&&Q9.transform){Q9=Q9.transform;}if(Q9&&e0.field){Q9=Q9[e0.field];}if(!Q9&&Q9!==0)continue;r3=Q9.Close;H_=Q9.Open===undefined?r3:Q9.Open;d$=Q9.High===undefined?Math.max(r3,H_):Q9.High;R2=Q9.Low===undefined?Math.min(r3,H_):Q9.Low;if(!r3&&r3!==0)continue;g4p.s$9(24);var O07=g4p.V9a(19,12,64,36);g4p.s$9(25);var k4Y=g4p.v$j(2,16,1,232,16);j5=Y$-O07*this.layout.candleWidth/k4Y;b_=W6(H_);if(b_<Q4){b_=Q4;if(l$){U_.moveTo(j5,b_);continue;}l$=!!"1";}else if(b_>h$){b_=h$;if(l$){U_.moveTo(j5,b_);continue;}l$=!!"1";}else{l$=!"1";}if(!l_){l_=!!1;g4p.s$9(26);var j45=g4p.v$j(0,19,2,19);B2=O3.dataSet.length-O3.scroll-j45;if(B2<"0"<<64){U_.moveTo(j5,b_);}else if(B2>=+"0"){j4=O3.dataSet[B2];if(j4.transform){j4=j4.transform;}w5=j4.Close;w5=W6(w5);w5=Math.min(Math.max(w5,Q4),h$);U_.moveTo(g$.left+(e_-1)*this.layout.candleWidth+this.micropixels,w5);U_.lineTo(j5,b_);}U_.moveTo(j5,b_);}else{U_.lineTo(j5,b_);}g4p.s$9(16);var e6t=g4p.v$j(16,20,32);j5+=this.layout.candleWidth/e6t;if(H_<r3){b_=W6(R2);if(b_<Q4){b_=Q4;}if(b_>h$){b_=h$;}U_.lineTo(j5,b_);g4p.O_b(21);var t3_=g4p.v$j(9,19,167);j5+=this.layout.candleWidth/t3_;b_=W6(d$);if(b_<Q4){b_=Q4;}if(b_>h$){b_=h$;}U_.lineTo(j5,b_);}else{b_=W6(d$);if(b_<Q4){b_=Q4;}if(b_>h$){b_=h$;}U_.lineTo(j5,b_);g4p.O_b(27);var D51=g4p.v$j(8,16,52,0,9);j5+=this.layout.candleWidth/D51;b_=W6(R2);if(b_<Q4){b_=Q4;}if(b_>h$){b_=h$;}U_.lineTo(j5,b_);}g4p.O_b(28);var C7W=g4p.v$j(80,7,1040,12);j5+=this.layout.candleWidth/C7W;b_=W6(r3);A7[e_]=b_;if(b_<Q4){b_=Q4;}if(b_>h$){b_=h$;}U_.lineTo(j5,b_);}f$=this.canvasStyle(i45);if(f$.width&&parseInt(f$.width,10)<=25){U_.lineWidth=Math.max(1,c0.stripPX(f$.width));}else{U_.lineWidth=1;}if(e0.highlight){g4p.s$9(2);U_.lineWidth*=g4p.v$j(1,"2");}this.canvasColor("stx_line_chart");if(e0.color){U_.strokeStyle=e0.color;}if(!e0.highlight&&this.highlightedDraggable){U_.globalAlpha*=0.3;}U_.stroke();function W6(l2){g4p.W3G();return M_.pixelFromTransformedValue(l2,g$,e7);}U_.closePath();P5={colors:[U_.strokeStyle],cache:A7};this.endClip();U_.lineWidth=1;return P5;};c0.ChartEngine.prototype.drawHistogram=function(H3,M4){var I4C,f2,w7,c9,g1,N8,F7,Z_,G0,D0,T_,F$,b7,T8,Y6,q6,K1,Q6,o3,g8,q5,b3,m3,N_,F6,L$,h4,l5,O1,d5,p6,W8,D9z;I4C="Da";I4C+="ta";if(!M4||!M4.length){return;}f2=H3.panel;if(!f2){f2="chart";}w7=this.panels[f2];if(!w7){return;}c9=H3.yAxis?H3.yAxis:w7.yAxis;g1=H3.type;N8=this.chart.dataSegment;F7=!"1";g4p.O_b(29);Z_=g4p.v$j("1",32);G0=1;for(T_=0;T_<M4.length;T_++){F7|=M4[T_].border_color_up&&!c0.isTransparent(M4[T_].border_color_up);F7|=M4[T_].border_color_down&&!c0.isTransparent(M4[T_].border_color_down);Z_=M4[T_].opacity_up;G0=M4[T_].opacity_down;if(!H3.highlight&&this.highlightedDraggable){Z_*=0.3;G0*=0.3;}}if(H3.borders===!"1"){F7=!"1";}if(!H3.name){H3.name=I4C;}F$=c9.multiplier;g4p.W5N();if(!H3.heightPercentage){H3.heightPercentage=0.7;}if(!H3.widthFactor){H3.widthFactor=0.8;}b7=0;T8=+"0";for(var n_=+"0";n_<this.chart.maxTicks;n_++){Y6=N8[n_];if(!Y6)continue;q6=0;for(T_=0;T_<M4.length;T_++){K1=Y6[M4[T_].field];if(K1||K1===0){D0=M4[T_].subField||this.chart.defaultPlotField||"Close";if(_typeof(K1)=="object"&&K1[D0]){K1=K1[D0];}if(g1=="stacked"){q6+=K1;}else{q6=K1;}if(q6>b7){b7=q6;}if(q6<T8){T8=q6;}}}}if(b7===0&&T8===0){this.displayErrorAsWatermark(f2,this.translateIf(H3.name+" Not Available"));return;}o3=!{};if(!H3.bindToYAxis){if(c9.flipped){Q6=Math.floor(c9.top)-0.5;g8=Math.floor(c9.bottom)-0.5;}else{Q6=Math.floor(c9.bottom)+0.5;g8=Math.floor(c9.top)+0.5;}F$=Math.abs(Q6-g8)*H3.heightPercentage/(b7-T8);}else{if(c9.baseline){T8=c9.baseline.value;o3=!!1;}Q6=Math.floor(this.pixelFromPrice(T8,w7,c9))+(c9.flipped?-0.5:0.5);}this.startClip(f2);q5=this.layout.candleWidth<=1||!F7?"0"^0:0.5;b3=this.chart.context;if(c9.flipped){b3.translate(0,2*c9.top);b3.scale(1,-1);}m3=Math.max(+"0",(1-H3.widthFactor)*this.layout.candleWidth/2);N_=new Array(N8.length);F6=[];L$=this;h4=1;for(T_="0"|0;T_<M4.length;T_++){l5=M4[T_];h4=this.layout.candleWidth*H3.widthFactor;if(m3){if(this.layout.candleWidth-h4<=2){F7=!{};}}O1=0;if(g1=="clustered"){O1=T_;h4/=M4.length;}D0=l5.subField||this.chart.defaultPlotField||"Close";if(typeof l5.color_function=="function"){p6={};for(var n8=0;n8<N8.length;n8++){if(N8[n8]){D9z="border";D9z+="_opacity";d5=l5.color_function(N8[n8]);if(typeof d5=="string"){d5={fill_color:d5,border_color:d5};}if(!d5.hasOwnProperty(D9z)){d5.border_opacity=d5.opacity;}W8=d5.fill_color+","+d5.border_color;if(W8 in p6){p6[W8].positions.push(n8);}else{d5.positions=[n8];p6[W8]=d5;}}}for(W8 in p6){d5=p6[W8];u3(l5.field,D0,d5.fill_color,d5.opacity,null,null,O1,h4,d5.positions);u3(l5.field,D0,d5.border_color,d5.border_opacity,!0,null,O1,h4,d5.positions);}}else{u3(l5.field,D0,l5.fill_color_up,Z_,null,!"",O1,h4);u3(l5.field,D0,l5.fill_color_down,G0,null,null,O1,h4);if(this.layout.candleWidth>=2&&F7){u3(l5.field,D0,l5.border_color_up,Z_,!!{},!!"1",O1,h4);u3(l5.field,D0,l5.border_color_down,G0,!"",null,O1,h4);}}if(g1=="stacked"){F6=c0.shallowClone(N_);}}b3.globalAlpha=1;this.endClip();function u3(C7,R$,p4,C1,t$,i8,t3,M1,V_){var P_,e9,P3,H0b,m_,o2,U2,N3,r_,D3,n3,O$,N6,j_,a7,Q8b,g$a;if(!C1){C1=1;}b3.globalAlpha=C1;b3.beginPath();g4p.s$9(0);P_=g4p.V9a(Q6,0.5);e9=Math.floor(L$.pixelFromBar("0"-0,w7.chart)-L$.layout.candleWidth/2);P3=e9;for(var v7=0;v7<N8.length;v7++){H0b="clust";H0b+="er";H0b+="e";H0b+="d";m_=F6[v7]||Q6;if(v7===0){P_=m_;}if(!N8[v7]||!N8[v7][C7]){P_=m_;P3+=L$.layout.candleWidth;continue;}o2=N8[v7];U2=o2[C7];if(_typeof(U2)=="object"&&U2[R$]){U2=U2[R$];}g4p.s$9(30);N3=g4p.v$j(U2,F$,T8);if(isNaN(N3))continue;r_=L$.layout.candleWidth;if(o2.candleWidth){r_=o2.candleWidth;if(v7===0){e9=P3=Math.floor(L$.pixelFromBar(0,w7.chart)-o2.candleWidth/2);}}D3=Math.floor(m_-N3)+0.5;if(D3>m_&&!o3){D3=m_;}if(V_&&V_.indexOf(v7)==-1||!V_&&(i8&&o2.Close<o2.iqPrevClose||!i8&&o2.Close>=o2.iqPrevClose)){P_=D3;P3+=r_;continue;}n3=r_/L$.layout.candleWidth;if(m3){g4p.O_b(31);O$=Math.round(g4p.v$j(n3,t3,M1,P3,m3));g4p.O_b(0);N6=g4p.v$j(O$,t$?0:q5);j_=O$+Math.round(M1*n3)-(t$?0:q5);}else{g4p.O_b(31);O$=g4p.V9a(n3,t3,M1,P3,m3);N6=Math.round(O$)+(t$?0:q5);j_=Math.round(O$+M1*n3)-(t$?0:q5);}if(j_-N6<("2"^0)){g4p.O_b(0);j_=g4p.V9a(N6,1);}a7=t$?+"0":0.5;if(N6%1==a7){N6+=+"0.5";}if(j_%1==a7){g4p.O_b(2);j_+=g4p.V9a(1,"0.5");}b3.moveTo(j_,m_);if(Q6!=m_&&t$&&!m3&&F6[v7+1]){b3.moveTo(j_,Math.max(D3,Math.min(m_,F6[v7+1])));}b3.lineTo(j_,D3);b3.lineTo(N6,D3);if(t$&&t3){if(N_[v7]>D3||v7===0){b3.lineTo(N6,Math.min(m_,N_[v7]));}}else if(t$&&!m3&&g1==H0b){if(v7>0&&N_[v7-1]&&N_[v7-+"1"]>D3){b3.lineTo(N6,Math.min(m_,N_[v7-("1"^0)]));}}else if(t$&&!m3){if(P_>D3||v7===0){b3.lineTo(N6,Math.min(m_,P_));}}else{b3.lineTo(N6,m_);}P_=D3;P3+=r_;if(g1!="clustered"||t$){N_[v7]=D3;}}if(t$){Q8b="au";Q8b+="t";Q8b+="o";b3.strokeStyle=!p4||p4==Q8b?L$.defaultColor:p4;b3.stroke();}else{g$a="a";g$a+="u";g$a+="to";b3.fillStyle=!p4||p4==g$a?L$.defaultColor:p4;b3.fill();}b3.closePath();}};c0.ChartEngine.prototype.scatter=function(W7,y6){var F0Y,N8n,z1,T9,X6,m9,S5,d9,P7,n6,g2,h7,Z7,B9,z5,R4,Z3,f9,x3,n4;F0Y="Cl";F0Y+="ose";N8n="stx_s";N8n+="catter_chart";z1=W7.chart;T9=z1.dataSegment;X6=new Array(T9.length);m9=this.chart.context;this.canvasColor(N8n);if(!y6){y6={};}S5=y6.field||z1.defaultPlotField;d9=y6.yAxis||W7.yAxis;P7=y6.subField||z1.defaultPlotField||F0Y;this.startClip(W7.name);m9.beginPath();m9.lineWidth=y6.lineWidth||4;if(y6.highlight){m9.lineWidth*=2;}if(!y6.highlight&&this.highlightedDraggable){m9.globalAlpha*=0.3;}if(y6.color){m9.strokeStyle=y6.color;}n6=d9.top;g2=d9.bottom;h7=this.layout.candleWidth;g4p.O_b(1);var W_b=g4p.V9a(4,5);Z7=W7.left-0.5*h7+this.micropixels-W_b;for(var T4=0;T4<=T9.length;T4++){g4p.O_b(9);Z7+=g4p.V9a(h7,2);h7=this.layout.candleWidth;g4p.s$9(9);Z7+=g4p.v$j(h7,2);B9=T9[T4];if(!B9)continue;if(B9.candleWidth){Z7+=(B9.candleWidth-h7)/+"2";h7=B9.candleWidth;}if(!B9.projection){if(z1.transformFunc&&d9==z1.panel.yAxis&&B9.transform){B9=B9.transform;}z5=B9[S5];if(z5&&z5[P7]!==undefined){z5=z5[P7];}if(!(z5 instanceof Array)){z5=[z5];}if("Scatter"in B9){z5=B9.Scatter;}for(var i3=0;i3<z5.length;i3++){if(!z5[i3]&&z5[i3]!==0)continue;R4=z5[i3];Z3=0;if(z5[i3]instanceof Array){R4=z5[i3][0];Z3=z5[i3][2];}f9=d9.semiLog?d9.height*(1-(Math.log(Math.max(R4,0))/Math.LN10-d9.logLow)/d9.logShadow):(d9.high-R4)*d9.multiplier;if(d9.flipped){g4p.s$9(1);f9=g4p.v$j(f9,g2);}else{f9+=n6;}if(f9<n6)continue;if(f9>g2)continue;x3=2;if(Z3){g4p.O_b(2);x3=g4p.v$j(Z3,h7);}g4p.s$9(1);m9.moveTo(g4p.V9a(x3,Z7),f9);g4p.s$9(0);m9.lineTo(g4p.V9a(Z7,x3),f9);X6[T4]=f9;}}}m9.stroke();m9.closePath();n4={colors:[m9.strokeStyle],cache:X6};this.endClip();m9.lineWidth=+"1";return n4;};};X=function X(L9){var E9u=i6UVR;var j2t,p10,x4b,c6X,Y2s,K1J,d0u,n0x,R$w,A4x,N6T,S9,W2,I9e,y3V,v79;j2t="p";j2t+="atter";j2t+="n";p10="lineW";p10+="i";p10+="dt";p10+="h";x4b="fillCo";x4b+="lo";x4b+="r";c6X="so";c6X+="l";c6X+="id";Y2s="a";Y2s+="u";Y2s+="t";Y2s+="o";K1J="a";K1J+="u";K1J+="t";K1J+="o";d0u="soli";d0u+="d";n0x="au";n0x+="t";n0x+="o";R$w="s";R$w+="o";R$w+="lid";A4x="sol";A4x+="i";A4x+="d";N6T="au";N6T+="t";N6T+="o";S9=typeof _CIQ!=="undefined"?_CIQ:L9.CIQ;W2=typeof _timezoneJS!=="undefined"?_timezoneJS:L9.timezoneJS;S9.ChartEngine.drawingTools={};S9.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!![],fibonacci:{trend:{color:N6T,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},fibs:[{level:-("0.786"-0),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-("0.618"*1),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"},display:!!{}},{level:-0.5,color:"auto",parameters:{pattern:A4x,opacity:0.25,lineWidth:1}},{level:-("0.382"*1),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!""},{level:-0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:R$w,lineWidth:1},display:!""},{level:0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:"0.382"-0,color:n0x,parameters:{pattern:"solid",opacity:"0.25"-0,lineWidth:1},display:!0},{level:0.5,color:"auto",parameters:{pattern:"solid",opacity:"0.25"-0,lineWidth:1},display:!!"1"},{level:0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!{}},{level:0.786,color:"auto",parameters:{pattern:d0u,opacity:0.25,lineWidth:"1"*1}},{level:1,color:K1J,parameters:{pattern:"solid",lineWidth:1},display:!""},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1.382,color:Y2s,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!0},{level:"1.618"-0,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!![]},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:+"4.236",color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}],extendLeft:!!0,printLevels:!![],printValues:!"1",timezone:{color:"auto",parameters:{pattern:c6X,opacity:0.25,lineWidth:+"1"}}},annotation:{font:{style:null,size:null,weight:null,family:null}}};S9.ChartEngine.registerDrawingTool=function(g5,q4){S9.ChartEngine.drawingTools[g5]=q4;};S9.ChartEngine.prototype.setDrawingContainer=function(c2){E9u.W3G();this.drawingContainer=c2;};S9.ChartEngine.prototype.exportDrawings=function(){var W9;W9=[];E9u.W3G();for(var F9=0;F9<this.drawingObjects.length;F9++){W9.push(this.drawingObjects[F9].serialize());}return W9;};S9.ChartEngine.prototype.abortDrawings=function(q_){var Y5M,X0o,k1O,R6;Y5M=-1260672070;X0o=-1243885496;E9u.O_b(29);k1O=E9u.v$j("2",64);for(var D2k=1;E9u.m6F(D2k.toString(),D2k.toString().length,80440)!==Y5M;D2k++){if(q_==!0){q_=![];}k1O+=2;}if(E9u.m6F(k1O.toString(),k1O.toString().length,63266)!==X0o){if(q_!==!{}){q_=!!{};}}for(var D_=this.drawingObjects.length-1;D_>=("0"^0);D_--){R6=this.drawingObjects[D_];R6.abort(!![]);if(q_||!R6.permanent){this.drawingObjects.splice(D_,1);}}};S9.ChartEngine.prototype.importDrawings=function(a4){var k2,I_,K2;if(!S9.Drawing){return;}E9u.W3G();for(var Z1=+"0";Z1<a4.length;Z1++){k2=a4[Z1];if(k2.name=="fibonacci"){k2.name="retracement";}I_=S9.ChartEngine.drawingTools[k2.name];if(!I_){if(S9.Drawing[k2.name]){I_=S9.Drawing[k2.name];S9.ChartEngine.registerDrawingTool(k2.name,I_);}}if(I_){K2=new I_();K2.reconstruct(this,k2);this.drawingObjects.push(K2);}}};S9.ChartEngine.prototype.clearDrawings=function(f0,f4){var F8,K7;if(f4!==!!0){f4=!!"1";}F8=this.exportDrawings();this.abortDrawings(f4);if(f0){this.undoStamps=[];}else{this.undoStamp(F8,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!!"1";S9.clearCanvas(this.chart.tempCanvas,this);this.draw();E9u.W3G();K7=this.controls.mSticky;if(K7){K7.style.display="none";K7.children["0"<<64].innerHTML="";}};S9.ChartEngine.prototype.createDrawing=function(w9,d8){var m5,B6;if(!S9.Drawing){return;}m5=new S9.Drawing[w9]();m5.reconstruct(this,d8);B6=new S9.Drawing[w9]();B6.stx=this;B6.copyConfig();for(var r1 in B6){m5[r1]=m5[r1]||B6[r1];}this.drawingObjects.push(m5);this.draw();return m5;};S9.ChartEngine.prototype.removeDrawing=function(G2){var O3c;for(var f5=0;f5<this.drawingObjects.length;f5++){if(this.drawingObjects[f5]==G2){O3c="v";O3c+="ector";E9u.s$9(2);this.drawingObjects.splice(f5,E9u.V9a(1,"1"));this.changeOccurred(O3c);this.draw();return;}};};S9.ChartEngine.prototype.undo=function(){if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){this.activeDrawing.abort();this.activeDrawing.hidden=!1;this.drawingSnapshot=null;this.activateDrawing(null);S9.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");S9.ChartEngine.drawingLine=!1;}this.runAppend("undo",arguments);};S9.ChartEngine.prototype.undoStamp=function(n0,s9){this.undoStamps.push(n0);this.dispatch("undoStamp",{before:n0,after:s9,stx:this});};S9.ChartEngine.prototype.undoLast=function(){E9u.W5N();if(this.activeDrawing){this.undo();}else{if(this.undoStamps.length){this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred("vector");this.draw();}}};S9.ChartEngine.prototype.addDrawing=function(l0){var Q_;Q_=this.exportDrawings();this.drawingObjects.push(l0);this.undoStamp(Q_,this.exportDrawings());};S9.ChartEngine.prototype.repositionDrawing=function(X9,F3){var V3,A2,H0;V3=this.panels[X9.panelName];E9u.W3G();A2=this.adjustIfNecessary(V3,this.crosshairTick,this.valueFromPixel(this.backOutY(S9.ChartEngine.crosshairY),V3));H0=this.chart.tempCanvas;S9.clearCanvas(H0,this);if(F3){this.drawingSnapshot=this.exportDrawings();X9.render(H0.context);}else{X9.reposition(H0.context,X9.repositioner,this.crosshairTick,A2);if(this.drawingSnapshot){this.undoStamp(S9.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(X9.measure){X9.measure();}};S9.ChartEngine.prototype.activateRepositioning=function(G7){var z$9,H1;z$9="b";z$9+="lock";E9u.W3G();H1=this.repositioningDrawing=G7;if(G7){this.draw();this.repositionDrawing(G7,!!1);}this.chart.tempCanvas.style.display=G7?z$9:"none";};S9.ChartEngine.prototype.activateDrawing=function(y4,W4){var A1H,J_A,M5m,Q3H,B1;if(!W4){W4=this.currentPanel;}if(!y4){A1H="no";A1H+="n";A1H+="e";this.activeDrawing=null;this.chart.tempCanvas.style.display=A1H;s5(this);return![];}function s5(z3){var G4;if(!z3.layout.studies){return;}E9u.W3G();G4=z3.layout.studies[W4.name];if(G4&&!G4.overlay){delete z3.overlays[G4.name];}}J_A=-+"823830164";M5m=-113927890;Q3H=2;E9u.W3G();for(var c5q=1;E9u.m6F(c5q.toString(),c5q.toString().length,98162)!==J_A;c5q++){B1=S9.ChartEngine.drawingTools[y4];Q3H+=2;}if(E9u.l5h(Q3H.toString(),Q3H.toString().length,43136)!==M5m){B1=S9.ChartEngine.drawingTools[y4];}if(!B1){if(S9.Drawing[y4]){B1=S9.Drawing[y4];S9.ChartEngine.registerDrawingTool(y4,B1);}}if(B1){this.activeDrawing=new B1();this.activeDrawing.construct(this,W4);if(!this.charts[W4.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;s5(this);return![];}}}this.chart.tempCanvas.style.display="block";if(this.controls.drawOk){this.controls.drawOk.style.display="none";}s5(this);return!![];};S9.ChartEngine.prototype.drawingClick=function(B5,t4,C5){var X0,Z$,Y1,Z8c,M_q,b0g,O4C,L81;if(!S9.Drawing){return;}if(!B5){return;}if(this.openDialog!==""){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,B5)){return;}}if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw){if(!S9.ChartEngine.drawingLine){this.activateDrawing(null);}return;}X0=this.tickFromPixel(t4,B5.chart);Z$=this.panels[this.activeDrawing.panelName];Y1=this.adjustIfNecessary(Z$,X0,this.valueFromPixel(C5,Z$));if(this.magnetizedPrice){Y1=this.adjustIfNecessary(Z$,X0,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,X0,Y1)){if(this.activeDrawing){Z8c="s";Z8c+="tx_crosshair";M_q="st";M_q+="x_crosshair_drawing";b0g="ve";b0g+="ct";b0g+="o";b0g+="r";S9.ChartEngine.drawingLine=!{};S9.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred(b0g);this.controls.crossX.classList.replace(M_q,"stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing",Z8c);}}else{O4C="stx_cross";O4C+="ha";O4C+="ir_draw";O4C+="ing";L81="stx_";L81+="crosshair";this.changeOccurred("drawing");S9.ChartEngine.drawingLine=!0;this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing");this.controls.crossY.classList.replace(L81,O4C);}return!0;}return![];};S9.ChartEngine.prototype.rightClickDrawing=function(a_,p_){var Q5m,r9,m$;Q5m="rightCli";Q5m+="ck";Q5m+="Drawing";if(this.runPrepend(Q5m,arguments)){return;}if(a_.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:a_,forceEdit:p_});}else{r9=a_.abort();if(!r9){m$=this.exportDrawings();this.removeDrawing(a_);this.undoStamp(m$,this.exportDrawings());}this.changeOccurred("vector");}this.runAppend("rightClickDrawing",arguments);};S9.ChartEngine.prototype.magnetize=function(){var P4m,u0T,I77,P6s,j_s,s86,x6,s1,k5,D$,K0,A$,Z5,t8,R0,x39,z$,s6,Z2,M$,H8,z4,W3,k4,e1,c8;P4m="stx-dragg";P4m+="a";P4m+="b";P4m+="le";u0T="#";u0T+="398dff";I77="C";I77+="l";I77+="o";I77+="se";P6s="L";P6s+="o";P6s+="w";j_s="ca";j_s+="ll";j_s+="ou";j_s+="t";s86="f";s86+="ree";s86+="f";s86+="orm";this.magnetizedPrice=null;if(!this.preferences.magnet){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing){return;}x6=this.currentVectorParameters.vectorType;if(!x6||x6=="projection"||x6==s86){return;}if((x6=="annotation"||x6==j_s)&&S9.ChartEngine.drawingLine){return;}s1=this.currentPanel;k5=s1.chart;D$=this.crosshairTick;if(D$>k5.dataSet.length){return;}K0=k5.dataSet[D$];if(!K0){return;}A$=k5.transformFunc&&s1.yAxis===k5.yAxis;if(A$&&K0.transform){K0=K0.transform;}t8=this.getRenderedItems();R0=["Open","High",P6s,I77];if(this.magneticHold&&this.activeDrawing&&this.activeDrawing.penDown){x39="Hi";x39+="gh";if(R0.indexOf(this.magneticHold)!=-1&&t8.indexOf(x39)!=-1){t8=R0;}else{t8=[this.magneticHold];}}else{this.magneticHold=null;}z$=1000000000;s6=parseFloat(this.preferences.magnet);for(var U3="0">>0;U3<t8.length;U3++){Z2=K0[t8[U3]];M$=this.getYAxisByField(s1,t8[U3]);H8=S9.existsInObjectChain(K0,t8[U3]);if(H8){Z2=H8.obj[H8.member];}if(Z2||Z2==="0"-0){z4=this.pixelFromTransformedValue(Z2,s1,M$);if(Math.abs(this.cy-z4)<z$){z$=Math.abs(this.cy-z4);if(s6&&s6<=z$)continue;this.magnetizedPrice=A$?this.valueFromPixel(z4,s1):Z2;Z5=z4;this.magneticHold=t8[U3];}}}W3=this.pixelFromTick(D$,k5);k4=Z5;S9.clearCanvas(k5.tempCanvas,this);e1=k5.tempCanvas.context;e1.beginPath();e1.lineWidth=1;E9u.s$9(32);var k2c=E9u.V9a(30,17,40,90,8);E9u.O_b(33);var n86=E9u.v$j(13,1,11);c8=Math.max(this.layout.candleWidth,k2c)/n86;e1.arc(W3,k4,Math.min(c8,8),0,+"2"*Math.PI,!{});e1.fillStyle="#398dff";e1.strokeStyle=u0T;e1.fill();e1.stroke();e1.closePath();k5.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove(P4m);}if(this.activeDrawing){this.activeDrawing.move(e1,this.crosshairTick,this.magnetizedPrice);}this.runAppend("magnetize",arguments);};S9.ChartEngine.prototype.changeVectorType=function(E$){this.currentVectorParameters.vectorType=E$;if(S9.Drawing){S9.Drawing.initializeSettings(this,E$);}if(S9.ChartEngine.drawingLine){this.undo();}if(this.insideChart){this.doDisplayCrosshairs();}};S9.ChartEngine.prototype.changeVectorParameter=function(I2,L6){var T0r,g2a,s99,J6,q0o,D0V;T0r="fon";T0r+="tSize";g2a="t";g2a+="r";g2a+="u";g2a+="e";s99="ax";s99+="isLa";s99+="bel";if(I2==s99){L6=L6.toString()===g2a||Number(L6);}else if(I2=="lineWidth"){L6=Number(L6);}else if(I2==T0r){E9u.s$9(23);var r0x=E9u.v$j(11,1);L6=parseInt(L6,r0x)+"px";}J6=this.currentVectorParameters;if(typeof J6[I2]!=="undefined"){J6[I2]=L6;return!!{};}else if(I2.substr(0,4)=="font"){q0o="defau";q0o+="lt";D0V="fa";D0V+="mily";I2=I2.substr(4).toLowerCase();if(I2==D0V&&L6.toLowerCase()==q0o){L6=null;}J6=J6.annotation.font;if(typeof J6[I2]!=="undefined"){J6[I2]=L6;return!!1;}}return!{};};S9.ChartEngine.prototype.drawVectors=function(){var h5,m6,j2,N0,l9;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!![];if(!this.chart.hideDrawings&&!this.highlightedDraggable){h5={};for(j2=0;j2<this.drawingObjects.length;j2++){N0=this.drawingObjects[j2];if(N0.hidden)continue;if(this.repositioningDrawing===N0)continue;m6=N0.panelName;if(!this.panels[N0.panelName]||this.panels[N0.panelName].hidden)continue;if(!h5[m6]){h5[m6]=[];}h5[m6].push(N0);}for(m6 in h5){this.startClip(m6);l9=h5[m6];for(j2=0;j2<l9.length;j2++){l9[j2].render(this.chart.context);}this.endClip();}}E9u.W3G();this.runAppend("drawVectors",arguments);};S9.ChartEngine.prototype.adjustDrawings=function(){var Q2;for(var w1=+"0";w1<this.drawingObjects.length;w1++){Q2=this.drawingObjects[w1];if(this.panels[Q2.panelName]){Q2.adjust();}}};S9.Drawing=S9.Drawing||function(){this.chartsOnly=!!0;this.penDown=!!"";E9u.W5N();;};S9.Drawing.getDrawingParameters=function(J$,h_){var i4,s3,u6,a6;E9u.W5N();try{i4=new S9.Drawing[h_]();}catch(k7){}if(!i4){return null;}i4.stx=J$;i4.copyConfig(!0);s3={};u6=i4.configs;for(var n7=0;n7<u6.length;n7++){s3[u6[n7]]=i4[u6[n7]];}a6=J$.canvasStyle("stx_annotation");if(a6&&s3.font){s3.font.size=a6.fontSize;s3.font.family=a6.fontFamily;s3.font.style=a6.fontStyle;s3.font.weight=a6.fontWeight;}return s3;};S9.Drawing.saveConfig=function(w2,Y8){var D6,W_;if(!Y8){return;}D6=w2.preferences;if(!D6.drawings){D6.drawings={};}D6.drawings[Y8]={};W_=new S9.Drawing[Y8]();W_.stx=w2;S9.Drawing.copyConfig(W_);W_.configs.forEach(function(d2){E9u.W3G();D6.drawings[Y8][d2]=W_[d2];});w2.changeOccurred("preferences");};S9.Drawing.restoreDefaultConfig=function(z8,u4,f8){var Z4c,u$g,M$m;if(f8){z8.preferences.drawings=null;}else{z8.preferences.drawings[u4]=null;}z8.changeOccurred("preferences");E9u.W5N();Z4c=-935116489;u$g=-137411935;M$m=2;for(var v5h=1;E9u.m6F(v5h.toString(),v5h.toString().length,27367)!==Z4c;v5h++){z8.currentVectorParameters=S9.clone(S9.ChartEngine.currentVectorParameters);z8.currentVectorParameters.vectorType=u4;M$m+=2;}if(E9u.m6F(M$m.toString(),M$m.toString().length,73385)!==u$g){z8.currentVectorParameters=S9.clone(S9.ChartEngine.currentVectorParameters);z8.currentVectorParameters.vectorType=u4;}};S9.Drawing.initializeSettings=function(Q1,U1){var i1,C6;i1=S9.Drawing[U1];if(i1){C6=new i1();if(C6.initializeSettings){C6.initializeSettings(Q1);}}};S9.Drawing.updateSource=function(B4,T5,z6,r5){var i_,j1;if(!T5){return;}i_=!"1";for(var i5 in B4.drawingObjects){j1=B4.drawingObjects[i5];if(!j1.field)continue;if(z6){if(j1.field==T5){j1.field=z6;i_=!"";}else if(j1.field.indexOf(T5)>-1&&j1.field.indexOf(T5+((594.84,+"864.07")>(3954,7230)?(0x1358,"0xebf"-0):"1448"-0>=("4053"^0)?4850==(4460,5880)?(0x1242,"G"):(3.88e+3,800.65):"-"))==-("1"^0)){j1.field=j1.field.replace(T5,z6);i_=!![];}}else{if(j1.field.split("-->")[0]==T5||j1.panelName==T5){j1.panelName=r5;i_=!!{};}}}if(i_){B4.changeOccurred("vector");}};S9.Drawing.prototype.copyConfig=function(Y_){E9u.W5N();S9.Drawing.copyConfig(this,Y_);};S9.Drawing.copyConfig=function(N1,E2){var h8,b4,K4,I9,g8u,o5,s9M,c51;h8=N1.stx.currentVectorParameters;b4=N1.configs;for(K4=0;K4<b4.length;K4++){g8u="f";g8u+="o";g8u+="n";g8u+="t";I9=b4[K4];if(I9=="color"){N1.color=h8.currentColor;}else if(I9=="parameters"){N1.parameters=S9.clone(h8.fibonacci);}else if(I9==g8u){N1.font=S9.clone(h8.annotation.font);}else{N1[I9]=h8[I9];}}if(!E2){return;}o5=N1.stx.preferences;if(o5&&o5.drawings){S9.extend(N1,o5.drawings[h8.vectorType]);for(K4=+"0";K4<b4.length;K4++){s9M="f";s9M+="o";s9M+="n";s9M+="t";c51="p";c51+="arameters";I9=b4[K4];if(I9=="color"){h8.currentColor=N1.color;}else if(I9==c51){h8.fibonacci=S9.clone(N1.parameters);}else if(I9==s9M){h8.annotation.font=S9.clone(N1.font);}else{h8[I9]=N1[I9];}}}};S9.Drawing.prototype.dragToDraw=![];S9.Drawing.prototype.permanent=!{};S9.Drawing.prototype.chartsOnly=![];S9.Drawing.prototype.abort=function(N2){};S9.Drawing.prototype.measure=function(){};S9.Drawing.prototype.construct=function(X1,r$){this.stx=X1;this.panelName=r$.name;};S9.Drawing.prototype.render=function(T6){console.warn("must implement render function!");};S9.Drawing.prototype.click=function(M3,F4,o_){console.warn("must implement click function!");};S9.Drawing.prototype.move=function(u2,T3,L7){console.warn("must implement move function!");};S9.Drawing.prototype.reposition=function(k6,a5,H5,e3){};S9.Drawing.prototype.intersected=function(w4,P9,U6){var X67;X67="must implement intersected functi";X67+="on!";console.warn(X67);};S9.Drawing.prototype.reconstruct=function(M9,P6){console.warn("must implement reconstruct function!");};S9.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!");};S9.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!");};S9.Drawing.prototype.highlight=function(x4){if(x4&&!this.highlighted){this.highlighted=x4;}else if(!x4&&this.highlighted){this.highlighted=x4;}return this.highlighted;};S9.Drawing.prototype.littleCircleRadius=function(){var s8;s8=6;return s8;};S9.Drawing.prototype.littleCircle=function(z7,f6,k_,c3){var y3,p9;if(this.permanent){return;}y3=this.stx.defaultColor;p9=S9.chooseForegroundColor(y3);z7.beginPath();E9u.s$9(1);z7.lineWidth=E9u.v$j(0,"1");z7.arc(f6,k_,this.littleCircleRadius(),0,2*Math.PI,!"1");if(c3){z7.fillStyle=y3;}else{z7.fillStyle=p9;}z7.strokeStyle=y3;z7.setLineDash([]);z7.fill();z7.stroke();z7.closePath();};S9.Drawing.prototype.rotator=function(S3,w8,p7,o0){var O2,S_,p8;if(this.permanent){return;}O2=this.littleCircleRadius();S_=this.stx.defaultColor;S3.beginPath();S3.lineWidth=2;if(!o0){S3.globalAlpha=0.5;}E9u.s$9(34);p8=E9u.v$j(O2,"4",64);S3.arc(w8,p7,p8,0,+"3"*Math.PI/2,!{});E9u.s$9(35);S3.moveTo(E9u.V9a(2,p8,w8),E9u.v$j(p7,2,E9u.s$9(0)));E9u.s$9(0);S3.lineTo(E9u.V9a(w8,p8),p7);E9u.O_b(33);S3.lineTo(E9u.V9a(w8,p8,2),E9u.V9a(p7,2,E9u.O_b(0)));E9u.O_b(36);S3.moveTo(E9u.v$j("2",w8),E9u.v$j(2,p7,p8,E9u.O_b(16)));E9u.O_b(1);S3.lineTo(w8,E9u.V9a(p8,p7));E9u.s$9(1);E9u.W3G();S3.lineTo(E9u.v$j(2,w8),E9u.v$j(2,p8,p7,E9u.s$9(37)));S3.strokeStyle=S_;S3.stroke();S3.closePath();E9u.O_b(29);S3.globalAlpha=E9u.v$j("1",32);};S9.Drawing.prototype.mover=function(R5,I5,K9,Z4){var y8,G8,L8,I$;if(this.permanent){return;}y8=this.littleCircleRadius();G8=this.stx.defaultColor;L8=5;E9u.s$9(0);I$=E9u.v$j(y8,1);R5.save();E9u.O_b(29);R5.lineWidth=E9u.V9a("2",32);R5.strokeStyle=G8;R5.translate(I5,K9);if(!Z4){R5.globalAlpha=0.5;}for(var S$=0;S$<4;S$++){R5.rotate(Math.PI/2);R5.beginPath();R5.moveTo(0,I$);E9u.O_b(0);R5.lineTo(0,E9u.V9a(I$,L8));E9u.s$9(16);R5.moveTo(-2,E9u.V9a(L8,I$,2));E9u.O_b(0);R5.lineTo(0,E9u.v$j(I$,L8));E9u.s$9(16);R5.lineTo(2,E9u.V9a(L8,I$,2));R5.closePath();R5.stroke();}E9u.s$9(29);R5.globalAlpha=E9u.v$j("1",32);R5.restore();};S9.Drawing.prototype.resizer=function(u7,I4,a3,y9){var B$,d_,t6,k9;if(this.permanent){return;}E9u.W5N();B$=this.littleCircleRadius();d_=this.stx.defaultColor;E9u.s$9(38);var x6z=E9u.V9a(20,7,18,18,10);t6=+"5"*Math.sqrt(x6z);E9u.s$9(6);k9=E9u.v$j(B$,"1");u7.save();u7.lineWidth=2;u7.strokeStyle=d_;u7.translate(I4,a3);u7.rotate(-(I4*a3)/Math.abs(I4*a3)*Math.PI/4);if(!y9){u7.globalAlpha=0.5;}for(var E8=0;E8<2;E8++){u7.rotate(Math.PI);u7.beginPath();u7.moveTo(0,k9);E9u.O_b(0);u7.lineTo(0,E9u.v$j(k9,t6));E9u.O_b(16);u7.moveTo(-2,E9u.V9a(t6,k9,2));E9u.s$9(39);u7.lineTo(E9u.V9a("0",0),E9u.v$j(k9,t6,E9u.s$9(0)));E9u.s$9(40);u7.lineTo(2,E9u.V9a(t6,k9,"2",0));u7.closePath();u7.stroke();}u7.globalAlpha=+"1";u7.restore();};S9.Drawing.prototype.pointIntersection=function(G5,l4,F5,i9){var i$;i$=this.stx.panels[this.panelName];if(!i$){return!{};}if(i9){if(G5>=F5.cx0&&G5<=F5.cx1&&l4>=F5.cy0&&l4<=F5.cy1){return!"";}}else{if(G5>=F5.x0&&G5<=F5.x1&&l4>=Math.min(F5.y0,F5.y1)&&l4<=Math.max(F5.y0,F5.y1)){return!0;}}return!{};};S9.Drawing.prototype.setPoint=function(l6,F2,c_,n$){var u4x,t_,y5,i0,o85,X$,g3;u4x="num";u4x+="ber";t_=null;y5=null;E9u.W5N();if(_typeof(F2)==u4x){t_=F2;}else if(F2.length>=8){y5=F2;}else{t_=Number(F2);}if(c_||c_===0){E9u.O_b(0);this[E9u.V9a("v",l6)]=c_;}if(t_!==null){o85="t";o85+="zo";i0=this.stx.dateFromTick(t_,n$,!![]);E9u.O_b(0);this[E9u.V9a(o85,l6)]=i0.getTimezoneOffset();E9u.O_b(0);this[E9u.V9a(552.6<=132.77?!{}:(121.89,1257)>=8120?(0xe6b,"k"):"d",l6)]=S9.yyyymmddhhmmssmmm(i0);E9u.O_b(0);this[E9u.V9a(492.95>=(764.01,+"8600")?!0:(747,475)===+"5378"?+"4.34e+3":+"865.5"=="4205"<<0?(!!"1",!!1):"p",l6)]=[t_,c_];}else if(y5!==null){i0=S9.strToDateTime(y5);if(!this["tzo"+l6]&&this["tzo"+l6]!==0){E9u.O_b(0);this[E9u.V9a("tzo",l6)]=i0.getTimezoneOffset();}E9u.s$9(0);this[E9u.V9a(("7151"-0,7725)==(5871,9983)?6.14e+3:(4520,40.49)<=(1060,5291)?"d":(3357,"2416"<<32)==(742,6171)?"9.65e+3"<<0:!![],l6)]=y5;X$=this["tzo"+l6]-i0.getTimezoneOffset();i0.setMinutes(i0.getMinutes()+X$);g3=![];if(this.name!="freeform"&&!S9.ChartEngine.isDailyInterval(this.stx.layout.interval)&&!i0.getHours()&&!i0.getMinutes()&&!i0.getSeconds()&&!i0.getMilliseconds()){g3=!!{};}E9u.O_b(0);this[E9u.V9a(19!=(8146,1010)?"p":0xa7,l6)]=[this.stx.tickFromDate(S9.yyyymmddhhmmssmmm(i0),n$,null,g3),c_];}};S9.Drawing.prototype.getLineColor=function(R1){var L6d,F29,M6,e2,W$,K3,w$,b6,t7,Q5F,A8,L_;E9u.W3G();L6d="a";L6d+="u";L6d+="t";L6d+="o";F29="a";F29+="u";F29+="t";F29+="o";if(!R1){R1=this.color;}M6=this.stx;e2=R1;if(this.highlighted){e2=M6.getCanvasColor("stx_highlight_vector");}else if(S9.isTransparent(e2)){e2=M6.defaultColor;}else if(e2==F29){e2=M6.defaultColor;if(this.field){for(W$ in M6.layout.studies){K3=M6.layout.studies[W$];w$=K3.outputs[K3.outputMap[this.field]];if(w$){e2=w$.color||w$;break;}}for(W$ in M6.chart.seriesRenderers){t7=M6.chart.seriesRenderers[W$];for(var Q0=0;Q0<t7.seriesParams.length;Q0++){Q5F="-";Q5F+="-";Q5F+=">";A8=t7.seriesParams[Q0];L_=A8.field;if(!L_&&!t7.highLowBars){L_=this.defaultPlotField||"Close";}if(A8.symbol&&A8.subField){L_+=Q5F+A8.subField;}if(this.field==L_){e2=A8.color;break;}if(A8.field&&A8.field==this.field.split("-->")[0]){b6=A8.color;}}}if(b6){e2=b6;}}}if(e2==L6d){e2=M6.defaultColor;}return e2;};S9.Drawing.BaseTwoPoint=function(){E9u.W5N();this.p0=null;this.p1=null;this.color="";};S9.inheritsFrom(S9.Drawing.BaseTwoPoint,S9.Drawing);S9.Drawing.BaseTwoPoint.prototype.configs=[];S9.Drawing.BaseTwoPoint.prototype.lineIntersection=function(s7,k1,Y2,E7,G_,M8,N4){E9u.W3G();var N5,F1,b8;if(!G_){G_=this.p0;}if(!M8){M8=this.p1;}N5=this.stx;if(!(G_&&M8)){return![];}F1=S9.convertBoxToPixels(N5,this.panelName,Y2);if(F1.x0===undefined){return![];}b8={x0:G_[0],x1:M8["0"<<0],y0:G_[1],y1:M8[1]};if(!N4){b8=S9.convertBoxToPixels(N5,this.panelName,b8);}return S9.boxIntersects(F1.x0,F1.y0,F1.x1,F1.y1,b8.x0,b8.y0,b8.x1,b8.y1,E7);};S9.Drawing.BaseTwoPoint.prototype.boxIntersection=function(b0,x_,G3){E9u.W3G();if(!this.p0||!this.p1){return!{};}if(G3.x0>Math.max(this.p0[0],this.p1[0])||G3.x1<Math.min(this.p0[0],this.p1[+"0"])){return!!"";}if(G3.y1>Math.max(this.p0[1],this.p1[1])||G3.y0<Math.min(this.p0["1">>32],this.p1[1])){return!"1";}return!0;};S9.Drawing.BaseTwoPoint.prototype.accidentalClick=function(H2,O6){var H6,Q5,J0,T2,Y7,M0,k3,a0;H6=this.stx.panels[this.panelName];Q5=this.stx.pixelFromTick(this.p0[0],H6.chart);J0=this.stx.pixelFromTick(H2,H6.chart);T2=this.stx.pixelFromValueAdjusted(H6,this.p0[0],this.p0[1]);Y7=this.stx.pixelFromValueAdjusted(H6,H2,O6);E9u.s$9(1);M0=Math.abs(E9u.v$j(Q5,J0));E9u.s$9(1);k3=Math.abs(E9u.V9a(T2,Y7));E9u.O_b(41);a0=Math.sqrt(E9u.v$j(k3,M0,k3,M0));if(a0<10){this.penDown=!{};if(this.dragToDraw){this.stx.undo();}return!"";}};S9.Drawing.BaseTwoPoint.prototype.click=function(H4,b9,z0){var W0,c8G,H37,M9i;this.copyConfig();W0=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,b9,z0,W0.chart);this.penDown=!!"1";return!"1";}E9u.W5N();if(this.accidentalClick(b9,z0)){return this.dragToDraw;}this.setPoint(1,b9,z0,W0.chart);this.penDown=!1;c8G=-1085514531;E9u.s$9(42);H37=-E9u.V9a("57670071",35);M9i=2;for(var B9D="1"<<0;E9u.m6F(B9D.toString(),B9D.toString().length,93560)!==c8G;B9D++){return!![];;M9i+=2;}if(E9u.m6F(M9i.toString(),M9i.toString().length,14266)!==H37){return!{};;}};S9.Drawing.BaseTwoPoint.prototype.adjust=function(){var g7;g7=this.stx.panels[this.panelName];if(!g7){return;}this.setPoint(0,this.d0,this.v0,g7.chart);this.setPoint(1,this.d1,this.v1,g7.chart);};S9.Drawing.BaseTwoPoint.prototype.move=function(I1,y$,T0){var C$c,C8B,f2$;if(!this.penDown){return;}C$c=1115619788;C8B=-1774743925;f2$=+"2";for(var O1w="1"*1;E9u.l5h(O1w.toString(),O1w.toString().length,14235)!==C$c;O1w++){this.copyConfig();f2$+=2;}if(E9u.l5h(f2$.toString(),f2$.toString().length,5357)!==C8B){this.copyConfig();}this.p1=[y$,T0];this.render(I1);};S9.Drawing.BaseTwoPoint.prototype.measure=function(){var g4,E3,G_O,H9;if(this.p0&&this.p1){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!![],this.name);g4=this.stx.controls.mSticky;E3=g4&&g4.querySelector(".mStickyInterior");if(E3){G_O="<";G_O+="br>";H9=[];H9.push(S9.capitalize(this.name));if(this.getYValue){H9.push(this.field||this.stx.defaultPlotField||"Close");}H9.push(E3.innerHTML);E3.innerHTML=H9.join(G_O);}}};S9.Drawing.BaseTwoPoint.prototype.reposition=function(o8,T1,V5,b2){var G5s,X8l,L3,S0,W1;G5s="d";G5s+="r";G5s+="a";G5s+="g";X8l="m";X8l+="ov";X8l+="e";if(!T1){return;}L3=this.stx.panels[this.panelName];S0=T1.tick-V5;W1=T1.value-b2;if(T1.action==X8l){this.setPoint(+"0",T1.p0[0]-S0,T1.p0[1]-W1,L3.chart);E9u.s$9(2);this.setPoint(E9u.V9a(1,"1"),T1.p1[0]-S0,T1.p1[1]-W1,L3.chart);this.render(o8);}else if(T1.action==G5s){this[T1.point]=[V5,b2];this.setPoint(0,this.p0[0],this.p0[1],L3.chart);this.setPoint(1,this.p1[0],this.p1[1],L3.chart);this.render(o8);}};S9.Drawing.BaseTwoPoint.prototype.drawDropZone=function(J8,f7,u$,a8,C_){var A_,r4,J5,E1,p$;A_=this.stx.panels[this.panelName];if(!A_){return;}r4=A_.left;J5=A_.width;if(a8||a8===0){r4=this.stx.pixelFromTick(a8,A_.chart);}if(C_||C_==="0"<<0){J5=this.stx.pixelFromTick(C_,A_.chart);}E1=this.stx.pixelFromPrice(f7,A_);p$=this.stx.pixelFromPrice(u$,A_);J8.fillStyle="#008000";J8.globalAlpha=0.2;E9u.O_b(1);J8.fillRect(r4,E1,E9u.v$j(r4,J5),E9u.V9a(E1,p$));J8.globalAlpha=1;};S9.Drawing.annotation=function(){this.name="annotation";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=+"0";this.font={};};S9.inheritsFrom(S9.Drawing.annotation,S9.Drawing.BaseTwoPoint);S9.Drawing.annotation.prototype.getFontString=function(){var S$V,J_,j6;E9u.W3G();S$V="12";S$V+="p";S$V+="x";this.fontDef={style:null,weight:null,size:S$V,family:null};J_=this.stx.canvasStyle("stx_annotation");if(J_){if(J_.fontStyle){this.fontDef.style=J_.fontStyle;}if(J_.fontWeight){this.fontDef.weight=J_.fontWeight;}if(J_.fontSize){this.fontDef.size=J_.fontSize;}if(J_.fontFamily){this.fontDef.family=J_.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";j6=!!{};for(var p5 in this.fontDef){if(this.fontDef[p5]){if(!j6){this.fontString+=" ";}else{j6=!!"";}this.fontString+=this.fontDef[p5];}}};S9.Drawing.annotation.prototype.configs=["color","font"];S9.Drawing.annotation.prototype.measure=function(){};S9.Drawing.annotation.prototype.render=function(m8){var a0K,o$x,i7k,F0,z_,O3j,M7,s6I,h5q,b_6,f05,s26,C2,v6i;if(this.ta){return;}a0K=this.stx.panels[this.panelName];if(!a0K){return;}o$x=this.stx.pixelFromTick(this.p0[0],a0K.chart);i7k=this.stx.pixelFromValueAdjusted(a0K,this.p0[0],this.p0[1]);m8.font=this.fontString;m8.textBaseline="middle";F0=o$x;z_=i7k;O3j=this.w;M7=this.h;s6I=this.getLineColor();if(this.stem){if(this.stem.d){h5q=this.stx.pixelFromTick(this.stem.t);f05=this.stx.pixelFromValueAdjusted(a0K,this.stem.t,this.stem.v);E9u.O_b(43);b_6=E9u.v$j(F0,2,O3j);E9u.s$9(43);s26=E9u.v$j(z_,2,M7);}else if(this.stem.x){h5q=F0;f05=z_;F0+=this.stem.x;z_+=this.stem.y;E9u.s$9(43);b_6=E9u.V9a(F0,2,O3j);E9u.O_b(43);s26=E9u.V9a(z_,2,M7);}m8.beginPath();if(this.borderColor){m8.strokeStyle=this.borderColor;}else{m8.strokeStyle=s6I;}m8.moveTo(h5q,f05);m8.lineTo(b_6,s26);m8.stroke();}C2=m8.lineWidth;if(this.highlighted){v6i="stx_a";v6i+="nnotation_highlight_bg";this.stx.canvasColor(v6i,m8);E9u.O_b(1);m8.fillRect(E9u.v$j(C2,F0),E9u.V9a(M7,2,C2,z_,E9u.O_b(44)),E9u.v$j(C2,"2",O3j,0,E9u.s$9(45)),E9u.V9a(2,M7,C2,E9u.O_b(46)));}else{if(this.fillColor){m8.fillStyle=this.fillColor;E9u.s$9(47);m8.fillRect(F0,E9u.v$j(M7,z_,2),O3j,M7);}else if(this.stem){m8.fillStyle=this.stx.containerColor;E9u.s$9(47);m8.fillRect(F0,E9u.V9a(M7,z_,2),O3j,M7);}}if(this.borderColor){m8.beginPath();m8.strokeStyle=this.highlighted?this.stx.getCanvasColor("stx_highlight_vector"):this.borderColor;E9u.s$9(1);m8.rect(E9u.v$j(C2,F0),E9u.V9a(M7,2,C2,z_,E9u.s$9(44)),E9u.v$j(2,O3j,C2,E9u.s$9(46)),E9u.v$j(2,M7,C2,E9u.s$9(46)));m8.stroke();}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",m8);}else{m8.fillStyle=s6I;}E9u.s$9(0);var J_R=E9u.V9a(1,1);z_+=this.padding/J_R;if(!this.ta){for(var Q9N=0;Q9N<this.arr.length;Q9N++){m8.fillText(this.arr[Q9N],F0+this.padding,z_-M7/2+this.fontSize/2);E9u.O_b(48);var P1s=E9u.V9a(13,28,10,3,14);z_+=this.fontSize+P1s;;}}m8.textBaseline="alphabetic";};S9.Drawing.annotation.prototype.onChange=function(P7f){;};S9.Drawing.annotation.prototype.edit=function(h69,Q9n){var J$F,r5y,c9t,y9C,m6p,v_f,p4Q,m6D,F03,E3D,c_I,m8T,T_z,g2N,J$u,E9x,Y9B;function k_U(b32){return function(I2o){if(b32.manageTouchAndMouse&&S9.ChartEngine.drawingLine){b32.mouseup(I2o);}};}J$F="p";J$F+="x";r5y="p";r5y+="x";c9t="ann";c9t+="otat";c9t+="i";c9t+="on";y9C=this.stx.panels[this.panelName];if(!y9C){return;}m6p=this.stx.controls.annotationSave;v_f=this.stx.controls.annotationCancel;if(!m6p||!v_f){return;}p4Q=this.stx;m6D=this.ta;p4Q.editingAnnotation=!![];function l$q(r5j){return function(k9X){var o2F,W21,x3O,G6P,H5f,o$g,H_L,l1X,C9H,B$i,m3x,h3t,H1l;o2F="p";o2F+="x";if(k9X){W21=k9X.keyCode;switch(W21){case 27:r5j.stx.undo();return;}}x3O=r5j.stx;G6P=r5j.ta;H5f=G6P.value.split("\n");o$g=+"0";x3O.chart.context.font=r5j.fontString;for(var J76=0;J76<H5f.length;J76++){H_L=x3O.chart.context.measureText(H5f[J76]).width;if(H_L>o$g){o$g=H_L;}}E9u.O_b(49);E9u.W3G();var N6D=E9u.V9a(3,15,0,5);E9u.s$9(50);var B3i=E9u.v$j(20,0,16,1);l1X=(H5f.length+N6D)*(r5j.fontSize+B3i);if(o$g<50){o$g=50;}E9u.s$9(35);G6P.style.width=E9u.v$j(30,o2F,o$g);E9u.O_b(0);G6P.style.height=E9u.V9a(l1X,"px");C9H=parseInt(S9.stripPX(G6P.style.top),10);B$i=S9.stripPX(G6P.style.left);o$g=G6P.clientWidth;l1X=G6P.clientHeight;if(B$i+o$g+("100"|36)<r5j.stx.chart.canvasWidth){m3x="p";m3x+="x";E9u.s$9(0);m6p.style.top=E9u.V9a(C9H,"px");E9u.s$9(0);v_f.style.top=E9u.v$j(C9H,"px");E9u.O_b(51);m6p.style.left=E9u.v$j(m3x,10,B$i,o$g);E9u.s$9(52);v_f.style.left=E9u.v$j("px","60",o$g,B$i);}else if(C9H+l1X+ +"30"<r5j.stx.chart.canvasHeight){h3t="p";h3t+="x";E9u.s$9(51);m6p.style.top=E9u.v$j("px",10,C9H,l1X);E9u.O_b(51);v_f.style.top=E9u.v$j("px",10,C9H,l1X);E9u.O_b(0);m6p.style.left=E9u.V9a(B$i,"px");E9u.s$9(35);v_f.style.left=E9u.V9a(50,h3t,B$i);}else{H1l="p";H1l+="x";E9u.O_b(33);m6p.style.top=E9u.v$j(C9H,H1l,35);E9u.O_b(33);v_f.style.top=E9u.v$j(C9H,"px",35);E9u.s$9(0);m6p.style.left=E9u.V9a(B$i,"px");E9u.O_b(35);v_f.style.left=E9u.v$j(50,"px",B$i);}};}function K0l(Y2c){return function(B6p){var w1X;w1X=Y2c.stx;w1X.editingAnnotation=!{};w1X.undo();w1X.cancelTouchSingleClick=!!1;};}p4Q.undisplayCrosshairs();p4Q.openDialog=c9t;if(!m6D){F03="plac";F03+="ehol";F03+="der";m6D=this.ta=document.createElement("TEXTAREA");m6D.className="stx_annotation";m6D.onkeyup=l$q(this);m6D.onmouseup=k_U(p4Q);m6D.setAttribute("wrap","hard");if(S9.isIOS7or8){m6D.setAttribute(F03,"Enter Text");}p4Q.chart.container.appendChild(m6D);m6D.style.position="absolute";m6D.style.width="100px";m6D.style.height="20px";m6D.value=this.text;if(S9.touchDevice){m6D.ontouchstart=function(P$5){P$5.stopPropagation();};;}}E3D=this;function R92(k79){E9u.W5N();return function(u3O){var T8o,d1M;T8o="ve";T8o+="ct";T8o+="o";T8o+="r";if(k79.ta.value===""){return;}k79.text=k79.ta.value;d1M=k79.stx;d1M.editingAnnotation=![];k79.adjust();if(d1M.drawingSnapshot){d1M.undoStamp(S9.shallowClone(d1M.drawingSnapshot),d1M.exportDrawings());}else{d1M.addDrawing(k79);}d1M.undo();d1M.cancelTouchSingleClick=!![];d1M.changeOccurred(T8o);};}m6D.oninput=function(n1f){if(n1f.inputType!="historyUndo"&&n1f.inputType!="historyRedo"){E3D.onChange(n1f);}};m6D.style.font=this.fontString;if(this.color){if(this.color=="transparent"||this.color=="auto"){c_I=getComputedStyle(m6D);if(c_I&&S9.isTransparent(c_I.backgroundColor)){m6D.style.color=p4Q.defaultColor;}else{m6D.style.color="#000";;}}else{m6D.style.color=this.color;}}m8T=p4Q.pixelFromTick(this.p0[+"0"],y9C.chart);T_z=p4Q.pixelFromValueAdjusted(y9C,this.p0["0"^0],this.p0[1]);m6D.style.left=m8T+140<p4Q.chart.canvasRight?m8T+"px":p4Q.chart.canvasRight-200+r5y;m6D.style.top=T_z+60<p4Q.chart.canvasHeight?T_z-(!isNaN(this.h)?this.h/2:this.defaultHeight)+"px":T_z-60+J$F;if(this.name=="callout"){E9u.s$9(53);var I1Q=E9u.V9a(10,10,7,10);m6D.style.left=S9.stripPX(m6D.style.left)-(!isNaN(this.w)?this.w/I1Q:this.defaultWidth)+"px";}S9.safeClickTouch(m6p,R92(this));S9.safeClickTouch(v_f,K0l(this));l$q(this)();m6p.style.display="inline-block";v_f.style.display="inline-block";if(Q9n){p4Q.drawingSnapshot=p4Q.exportDrawings();this.hidden=!"";p4Q.draw();p4Q.activeDrawing=this;S9.ChartEngine.drawingLine=!!{};h69=p4Q.chart.tempCanvas.context;p4Q.chart.tempCanvas.style.display="block";this.w=m6D.clientWidth;this.h=m6D.clientHeight;S9.clearCanvas(h69.canvas,p4Q);this.render(h69);this.edit(h69);}m6D.focus();if(S9.isAndroid&&!S9.is_chrome&&!S9.isFF){this.priorBottom=p4Q.chart.container.style.bottom;g2N=400;E9u.s$9(28);var Y1D=E9u.v$j(1500,12,24092,16);J$u=p4Q.resolveY(T_z)+Y1D;if(J$u>S9.pageHeight()-g2N){E9x=S9.pageHeight()-J$u;E9u.O_b(1);Y9B=E9u.V9a(E9x,g2N);E9u.O_b(0);p4Q.chart.container.style.bottom=E9u.v$j(Y9B,"px");}}};S9.Drawing.annotation.prototype.click=function(W3j,e3O,U$u){var j6T;if(this.stx.overXAxis||this.stx.overYAxis){return;}j6T=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,e3O,U$u,j6T.chart);this.adjust();this.edit(W3j);return!!"";};S9.Drawing.annotation.prototype.reposition=function(Y7w,z9q,t7a,l5M){var R4F,f1w,v9r;if(!z9q){return;}R4F=this.stx.panels[this.panelName];f1w=z9q.tick-t7a;v9r=z9q.value-l5M;this.setPoint(0,z9q.p0[0]-f1w,z9q.p0[1]-v9r,R4F.chart);this.render(Y7w);};S9.Drawing.annotation.prototype.intersected=function(R6r,T9b,D5Z){var Z$I,I$s,s$u,R95,a0a,h2c,o0H;Z$I=this.stx.panels[this.panelName];if(!this.p0){return null;}I$s=this.stx.pixelFromTick(this.p0[0],Z$I.chart);E9u.s$9(54);var L2e=E9u.V9a(9,6,1,14);s$u=this.stx.pixelFromValueAdjusted(Z$I,this.p0[0],this.p0[+"1"])-this.h/("2"*L2e);R95=I$s+this.w;a0a=s$u+this.h;E9u.W3G();if(this.stem&&this.stem.x){I$s+=this.stem.x;R95+=this.stem.x;s$u+=this.stem.y;a0a+=this.stem.y;}h2c=this.stx.pixelFromTick(R6r,Z$I.chart);o0H=this.stx.pixelFromValueAdjusted(Z$I,R6r,T9b);if(h2c+D5Z.r>=I$s&&h2c-D5Z.r<=R95&&o0H+D5Z.r>=s$u&&o0H-D5Z.r<=a0a){this.highlighted=!![];return{p0:S9.clone(this.p0),tick:R6r,value:T9b};}return!{};};S9.Drawing.annotation.prototype.abort=function(){var h3R,Y$D;h3R=this.stx.controls.annotationSave;Y$D=this.stx.controls.annotationCancel;if(h3R){h3R.style.display="none";}E9u.W3G();if(Y$D){Y$D.style.display="none";}if(this.ta){this.stx.chart.container.removeChild(this.ta);}this.ta=null;this.stx.openDialog="";this.stx.showCrosshairs();this.stx.editingAnnotation=!{};S9.clearCanvas(this.stx.chart.tempCanvas,this.stx);if(S9.isAndroid&&!S9.is_chrome&&!S9.isFF){this.stx.chart.container.style.bottom=this.priorBottom;}S9.fixScreen();};S9.Drawing.annotation.prototype.reconstruct=function(W4L,f7C){var P_u;P_u="f";P_u+="amil";P_u+="y";this.stx=W4L;this.color=f7C.col;this.panelName=f7C.pnl;this.d0=f7C.d0;this.tzo0=f7C.tzo0;this.v0=f7C.v0;this.text=W4L.escapeOnSerialize?decodeURIComponent(f7C.text):f7C.text;this.stem=f7C.stem;this.borderColor=f7C.bc;this.fillColor=f7C.bg;E9u.W3G();this.lineWidth=f7C.lw;this.pattern=f7C.ptrn;this.font=S9.replaceFields(f7C.fnt,{st:"style",sz:"size",wt:"weight",fl:P_u});if(!this.font){this.font={};}this.adjust();};S9.Drawing.annotation.prototype.serialize=function(){var r1c,F$z,D_g;r1c={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};if(this.font){F$z="s";F$z+="z";D_g=S9.removeNullValues(S9.replaceFields(this.font,{style:"st",size:F$z,weight:"wt",family:"fl"}));if(!S9.isEmpty(D_g)){r1c.fnt=D_g;}}if(this.stem){r1c.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){r1c.bc=this.borderColor;}if(this.fillColor){r1c.bg=this.fillColor;}if(this.lineWidth){r1c.lw=this.lineWidth;}if(this.pattern){r1c.ptrn=this.pattern;}return r1c;};S9.Drawing.annotation.prototype.renderText=function(){var J3O,H$P,Z3K,M0Q,R_T,q8$;this.getFontString();J3O=this.stx.panels[this.panelName];if(!J3O){return;}this.arr=this.text.split("\n");H$P=0;this.stx.chart.context.font=this.fontString;for(var Z79=0;Z79<this.arr.length;Z79++){Z3K=this.stx.chart.context.measureText(this.arr[Z79]).width;if(Z3K>H$P){H$P=Z3K;}}if(H$P===("0"|0)){E9u.s$9(17);var d1N=E9u.v$j(2,3,13,1,11);H$P=d1N*this.defaultWidth;}this.fontSize=S9.stripPX(this.fontDef.size);M0Q=this.arr.length*(this.fontSize+ +"2");if(S9.touchDevice){M0Q+=5;}E9u.O_b(23);var l$g=E9u.v$j(11,9);this.w=H$P+this.padding*l$g;E9u.s$9(0);var R6z=E9u.V9a(0,2);this.h=M0Q+this.padding*R6z;R_T=this.stx.pixelFromTick(this.p0[0],J3O.chart)+H$P;E9u.O_b(55);var w9A=E9u.V9a(19,0,5,1,95);q8$=this.stx.pixelFromValueAdjusted(J3O,this.p0[0],this.p0[w9A])+M0Q;this.p1=[this.stx.tickFromPixel(R_T,J3O.chart),this.stx.valueFromPixel(q8$,J3O)];if(this.stem&&this.stem.d){this.stem.t=this.stx.tickFromDate(this.stem.d,J3O.chart);}};S9.Drawing.annotation.prototype.adjust=function(){var j2P;j2P=this.stx.panels[this.panelName];if(!j2P){return;}this.setPoint(0,this.d0,this.v0,j2P.chart);E9u.W5N();this.renderText();};S9.Drawing.segment=function(){E9u.W3G();this.name="segment";};S9.inheritsFrom(S9.Drawing.segment,S9.Drawing.BaseTwoPoint);S9.Drawing.segment.prototype.render=function(w62){var V3G,d10,k_u,J9g,L8h,K$O,P0b,L03,P2v,w3Q,B8u,z16,f6p,U24,Q3f,Q93,D1j,P9j,p$U;V3G="n";V3G+="o";V3G+="ne";d10=this.stx.panels[this.panelName];if(!d10){return;}k_u=this.stx.pixelFromTick(this.p0[0],d10.chart);J9g=this.stx.pixelFromTick(this.p1["0">>32],d10.chart);L8h=this.stx.pixelFromValueAdjusted(d10,this.p0[0],this.p0[1]);E9u.W5N();K$O=this.stx.pixelFromValueAdjusted(d10,this.p1[0],this.p1[1]);P0b=this.lineWidth;L03=this.getLineColor();P2v={pattern:this.pattern,lineWidth:P0b};if(P2v.pattern==V3G){P2v.pattern="solid";}this.stx.plotLine(k_u,J9g,L8h,K$O,L03,this.name,w62,d10,P2v);if(this.axisLabel&&!this.repositioner){w3Q="v";w3Q+="e";w3Q+="rt";w3Q+="ical";B8u="hor";B8u+="izo";B8u+="n";B8u+="tal";if(this.name==B8u){this.stx.endClip();z16=this.p0[1];if(d10.chart.transformFunc){z16=d10.chart.transformFunc(this.stx,d10.chart,z16);}if(d10.yAxis.priceFormatter){z16=d10.yAxis.priceFormatter(this.stx,d10,z16);}else{z16=this.stx.formatYAxisPrice(z16,d10);}this.stx.createYAxisLabel(d10,z16,L8h,L03);this.stx.startClip(d10.name);}else if(this.name==w3Q&&this.p0["0"-0]>=0&&!this.stx.chart.xAxis.noDraw){f6p=this.stx.dateFromTick(this.p0[0],d10.chart,!![]);if(!S9.ChartEngine.isDailyInterval(this.stx.layout.interval)){E9u.O_b(56);var g5o=E9u.v$j(995,1022,15,8,995);Q3f=f6p.getSeconds()*g5o+f6p.getMilliseconds();if(W2.Date&&this.stx.displayZone){U24=new W2.Date(f6p.getTime(),this.stx.displayZone);f6p=new Date(U24.getFullYear(),U24.getMonth(),U24.getDate(),U24.getHours(),U24.getMinutes());f6p=new Date(f6p.getTime()+Q3f);}}else{E9u.s$9(1);f6p.setHours(0,0,E9u.v$j(0,"0"),E9u.V9a("0",0,E9u.s$9(39)));}Q93=S9.mmddhhmm(S9.yyyymmddhhmm(f6p));if(d10.chart.xAxis.formatter){Q93=d10.chart.xAxis.formatter(f6p,this.name,null,null,Q93);}else if(this.stx.internationalizer){if(f6p.getHours()!==0||f6p.getMinutes()!==0){D1j=this.stx.internationalizer.monthDay.format(f6p);E9u.O_b(0);var B1k=E9u.v$j(6042,18);E9u.s$9(57);var e6d=E9u.V9a(752574,6872,9,10,11);E9u.O_b(16);var L1v=E9u.V9a(20,6653,31);E9u.s$9(58);var e5c=E9u.V9a(225,15,111,1);E9u.O_b(1);var d9Z=E9u.v$j(20,5390);E9u.s$9(1);var e$Z=E9u.V9a(117344,124678);E9u.O_b(0);var L7e=E9u.v$j(4733,13);E9u.O_b(21);var G31=E9u.V9a(19,441,3969);E9u.O_b(0);var J3c=E9u.V9a(1450,7252);D1j+=(B1k!==(e6d,L1v)?" ":(e5c,+"979.47")<=(d9Z,e$Z)?(205.17,L7e)!==(G31,447.84)?(87.31,"0x2180"|0):393.32:(874.80,J3c))+this.stx.internationalizer.hourMinute.format(f6p);}else{D1j=this.stx.internationalizer.yearMonthDay.format(f6p);}Q93=D1j;}this.stx.endClip();this.stx.createXAxisLabel({panel:d10,txt:Q93,x:k_u,backgroundColor:L03,color:null,pointed:!!1,padding:2});this.stx.startClip(d10.name);}}if(this.highlighted&&this.name!="horizontal"&&this.name!="vertical"){P9j=this.highlighted=="p0"?!![]:![];p$U=this.highlighted=="p1"?!!{}:!!"";this.littleCircle(w62,k_u,L8h,P9j);this.littleCircle(w62,J9g,K$O,p$U);}};S9.Drawing.segment.prototype.abort=function(){E9u.W5N();this.stx.setMeasure(null,null,null,null,!!"");};S9.Drawing.segment.prototype.intersected=function(E3m,z9n,I6a){var r0O,M1Q,t_C,l0b,k1y;r0O="vert";r0O+="ical";M1Q="h";M1Q+="orizo";M1Q+="ntal";if(!this.p0||!this.p1){return null;}t_C=this.name;if(t_C!="horizontal"&&t_C!="vertical"&&t_C!="gartley"){l0b={0:this.p0,1:this.p1};for(var V2x in l0b){if(this.pointIntersection(l0b[V2x][0],l0b[V2x][1],I6a)){E9u.s$9(0);this.highlighted=E9u.v$j((+"6700",2090)!=(491.24,+"5093")?"p":("898.18"*1,9225)==604.54?(!!1,8.44e+3):("l",5.20e+3),V2x);return{action:"drag",point:"p"+V2x};}}}if(t_C==M1Q||t_C==r0O){t_C="line";}E9u.W5N();k1y=this.lineIntersection(E3m,z9n,I6a,t_C);if(k1y){this.highlighted=!![];return{action:"move",p0:S9.clone(this.p0),p1:S9.clone(this.p1),tick:E3m,value:z9n};}return null;};S9.Drawing.segment.prototype.configs=["color","lineWidth","pattern"];S9.Drawing.segment.prototype.copyConfig=function(B0T){var t8F;t8F="s";t8F+="ol";E9u.W3G();t8F+="id";S9.Drawing.copyConfig(this,B0T);if(this.pattern=="none"&&this.configs.indexOf("fillColor")==-("1"|1)){this.pattern=t8F;}};S9.Drawing.segment.prototype.reconstruct=function(H9g,O8Q){this.stx=H9g;this.color=O8Q.col;this.panelName=O8Q.pnl;this.pattern=O8Q.ptrn;this.lineWidth=O8Q.lw;this.d0=O8Q.d0;this.d1=O8Q.d1;this.tzo0=O8Q.tzo0;this.tzo1=O8Q.tzo1;this.v0=O8Q.v0;E9u.W5N();this.v1=O8Q.v1;this.adjust();};S9.Drawing.segment.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};S9.Drawing.line=function(){this.name="line";};S9.inheritsFrom(S9.Drawing.line,S9.Drawing.segment);S9.Drawing.line.prototype.dragToDraw=![];E9u.W5N();S9.Drawing.line.prototype.calculateOuterSet=function(K7C){var U1E,B8T,y1k;if(this.p0[0]==this.p1[0]||this.p0[1]==this.p1[+"1"]||S9.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}U1E={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};if(U1E.x0>U1E.x1){U1E={x0:this.p1[0],y0:this.p1[+"1"],x1:this.p0[+"0"],y1:this.p0[1]};}E9u.O_b(59);var o5B=E9u.v$j(15,981,688,3);B8T=U1E.x0-o5B;E9u.s$9(21);var Y5t=E9u.V9a(13,5000,64000);y1k=U1E.x1+Y5t;this.v0B=S9.yIntersection(U1E,B8T);this.v1B=S9.yIntersection(U1E,y1k);this.d0B=this.stx.dateFromTick(B8T,K7C.chart);this.d1B=this.stx.dateFromTick(y1k,K7C.chart);};S9.Drawing.line.prototype.click=function(r7R,b5I,t3H){var L1t;L1t=this.stx.panels[this.panelName];if(!L1t){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,b5I,t3H,L1t.chart);this.penDown=!![];return!"1";}if(this.accidentalClick(b5I,t3H)){return this.dragToDraw;}E9u.W5N();this.setPoint(1,b5I,t3H,L1t.chart);this.calculateOuterSet(L1t);this.penDown=!{};return!"";;};S9.Drawing.line.prototype.reconstruct=function(R_z,H56){this.stx=R_z;this.color=H56.col;this.panelName=H56.pnl;this.pattern=H56.ptrn;this.lineWidth=H56.lw;this.v0=H56.v0;this.v1=H56.v1;this.d0=H56.d0;this.d1=H56.d1;this.tzo0=H56.tzo0;this.tzo1=H56.tzo1;if(H56.d0B){this.d0B=H56.d0B;this.d1B=H56.d1B;this.v0B=H56.v0B;this.v1B=H56.v1B;}this.adjust();};S9.Drawing.line.prototype.serialize=function(){var C_n;C_n={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};if(this.d0B){C_n.d0B=this.d0B;C_n.d1B=this.d1B;C_n.v0B=this.v0B;C_n.v1B=this.v1B;}E9u.W5N();return C_n;};S9.Drawing.line.prototype.adjust=function(){var i3g;i3g=this.stx.panels[this.panelName];if(!i3g){return;}this.setPoint(0,this.d0,this.v0,i3g.chart);this.setPoint(1,this.d1,this.v1,i3g.chart);if(S9.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B){this.setPoint(0,this.d0B,this.v0B,i3g.chart);this.setPoint(1,this.d1B,this.v1B,i3g.chart);}};S9.Drawing.horizontal=function(){this.name="horizontal";};S9.inheritsFrom(S9.Drawing.horizontal,S9.Drawing.segment);S9.Drawing.horizontal.prototype.dragToDraw=![];S9.Drawing.horizontal.prototype.measure=function(){};S9.Drawing.horizontal.prototype.click=function(r_Q,M1s,M_z){var s6A;s6A=this.stx.panels[this.panelName];if(!s6A){return;}this.copyConfig();this.setPoint(0,M1s,M_z,s6A.chart);return!![];;};S9.Drawing.horizontal.prototype.intersected=function(s5L,Y76,r0l){var z0K,s4r,i8u,J1P;if(this.lineIntersection(s5L,Y76,r0l,"line")){z0K="m";z0K+="o";z0K+="v";z0K+="e";s4r=this.stx;i8u=s4r.chart.dataSet.length;J1P=this.p0[+"1"];this.highlighted=!!{};return{action:z0K,p0:[i8u-2,J1P],p1:[i8u-1,J1P],tick:s5L,value:Y76};}return null;};S9.Drawing.horizontal.prototype.reconstruct=function(y_e,h4b){this.stx=y_e;this.color=h4b.col;this.panelName=h4b.pnl;this.pattern=h4b.ptrn;this.lineWidth=h4b.lw;this.v0=h4b.v0;this.d0=h4b.d0;this.tzo0=h4b.tzo0;this.axisLabel=h4b.al;this.adjust();};S9.Drawing.horizontal.prototype.serialize=function(){var y_f;E9u.W5N();y_f={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel};return y_f;};S9.Drawing.horizontal.prototype.adjust=function(){var w_x;w_x=this.stx.panels[this.panelName];if(!w_x){return;}this.setPoint(0,this.d0,this.v0,w_x.chart);E9u.s$9(37);var x0c=E9u.v$j(4,896,1000);this.p1=[this.p0[0]+x0c,this.p0[1]];};S9.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"];S9.Drawing.vertical=function(){var I2U;I2U="ve";I2U+="rt";I2U+="ical";this.name=I2U;};S9.inheritsFrom(S9.Drawing.vertical,S9.Drawing.horizontal);S9.Drawing.vertical.prototype.measure=function(){};I9e=-221171804;y3V=-282884049;v79=+"2";for(var z_i="1">>32;E9u.l5h(z_i.toString(),z_i.toString().length,4939)!==I9e;z_i++){S9.Drawing.vertical.prototype.intersected=S9.Drawing.segment.prototype.intersected;v79+=2;}if(E9u.l5h(v79.toString(),v79.toString().length,83949)!==y3V){S9.Drawing.vertical.prototype.intersected=S9.Drawing.segment.prototype.intersected;}S9.Drawing.vertical.prototype.adjust=function(){var w_1;w_1=this.stx.panels[this.panelName];if(!w_1){return;}this.setPoint(0,this.d0,this.v0,w_1.chart);E9u.O_b(16);var D27=E9u.v$j(17,6,22);E9u.O_b(60);var I_G=E9u.V9a(18,99,8,10);this.p1=[this.p0[0],this.p0[D27]+I_G];};S9.Drawing.measure=function(){this.name="measure";};S9.inheritsFrom(S9.Drawing.measure,S9.Drawing.segment);S9.Drawing.measure.prototype.click=function(d0E,r0r,K77){this.copyConfig();if(!this.penDown){this.p0=[r0r,K77];this.penDown=!"";return!!0;}this.stx.undo();this.penDown=!!0;return!![];};S9.Drawing.rectangle=function(){var P0s;P0s="rec";E9u.W5N();P0s+="t";P0s+="angl";P0s+="e";this.name=P0s;};S9.inheritsFrom(S9.Drawing.rectangle,S9.Drawing.BaseTwoPoint);S9.Drawing.rectangle.prototype.render=function(z54){var J$z,r2l,k2_,w8N,F4u,a6q,U93,H5e,J_J,K9c,Q7P,J0w,X7P,V_i,B5z,G4M,M23,a8n,g2G,F9Y;J$z="s";J$z+="e";J$z+="gm";J$z+="ent";r2l="a";r2l+="u";r2l+="t";r2l+="o";k2_=this.stx.panels[this.panelName];if(!k2_){return;}w8N=this.stx.pixelFromTick(this.p0[0],k2_.chart);F4u=this.stx.pixelFromTick(this.p1[0],k2_.chart);a6q=this.stx.pixelFromValueAdjusted(k2_,this.p0[0],this.p0[1]);U93=this.stx.pixelFromValueAdjusted(k2_,this.p1[+"0"],this.p1[+"1"]);H5e=Math.round(Math.min(w8N,F4u))+0.5;J_J=Math.min(a6q,U93);K9c=Math.max(w8N,F4u)-H5e;Q7P=Math.max(a6q,U93)-J_J;J0w=this.color;if(this.highlighted){J0w=this.stx.getCanvasColor("stx_highlight_vector");}X7P=-48847820;E9u.O_b(29);V_i=E9u.V9a("532562126",64);B5z=+"2";for(var a61=1;E9u.m6F(a61.toString(),a61.toString().length,"65541"-0)!==X7P;a61++){G4M=this.fillColor;B5z+=2;}if(E9u.l5h(B5z.toString(),B5z.toString().length,+"85890")!==V_i){G4M=this.fillColor;}if(G4M&&!S9.isTransparent(G4M)&&G4M!=r2l){z54.beginPath();z54.rect(H5e,J_J,K9c,Q7P);z54.fillStyle=G4M;z54.globalAlpha=0.2;z54.fill();z54.closePath();z54.globalAlpha=1;}M23={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted&&M23.pattern=="none"){a8n="so";a8n+="li";a8n+="d";M23.pattern=a8n;if(M23.lineWidth=="0.1"*1){M23.lineWidth=1;}}this.stx.plotLine(w8N,F4u,a6q,a6q,J0w,"segment",z54,k2_,M23);E9u.O_b(36);this.stx.plotLine(F4u,F4u,E9u.V9a("0.5",a6q),E9u.V9a(U93,0.5,E9u.s$9(0)),J0w,J$z,z54,k2_,M23);this.stx.plotLine(F4u,w8N,U93,U93,J0w,"segment",z54,k2_,M23);E9u.O_b(0);this.stx.plotLine(w8N,w8N,E9u.v$j(U93,0.5),E9u.v$j("0.5",a6q,E9u.s$9(36)),J0w,"segment",z54,k2_,M23);if(this.highlighted){g2G=this.highlighted=="p0"?!"":!{};F9Y=this.highlighted=="p1"?!!{}:!1;this.littleCircle(z54,w8N,a6q,g2G);this.littleCircle(z54,F4u,U93,F9Y);}};S9.Drawing.rectangle.prototype.intersected=function(C8N,n4l,Z_o){var q0B;if(!this.p0||!this.p1){return null;}q0B={0:this.p0,1:this.p1};for(var B8w in q0B){if(this.pointIntersection(q0B[B8w][0],q0B[B8w][1],Z_o)){E9u.s$9(0);this.highlighted=E9u.V9a(8670>=("552.67"*1,"790.91"-0)?"5146">>32<(8098,"1840"-0)?(!!{},818.63):"p":"J",B8w);return{action:"drag",point:"p"+B8w};}}if(this.boxIntersection(C8N,n4l,Z_o)){this.highlighted=!!{};return{action:"move",p0:S9.clone(this.p0),p1:S9.clone(this.p1),tick:C8N,value:n4l};}return null;};S9.Drawing.rectangle.prototype.configs=["color",x4b,"lineWidth","pattern"];S9.Drawing.rectangle.prototype.reconstruct=function(w2p,f$5){this.stx=w2p;this.color=f$5.col;this.fillColor=f$5.fc;this.panelName=f$5.pnl;this.pattern=f$5.ptrn;this.lineWidth=f$5.lw;this.d0=f$5.d0;this.d1=f$5.d1;this.tzo0=f$5.tzo0;this.tzo1=f$5.tzo1;this.v0=f$5.v0;this.v1=f$5.v1;this.adjust();};S9.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};S9.Drawing.shape=function(){this.name="shape";E9u.W5N();this.radians=0;this.a=0;this.rotating=!"1";this.textMeasure=!!0;this.configurator="shape";this.dimension=[0,0];this.points=[];};S9.inheritsFrom(S9.Drawing.shape,S9.Drawing.BaseTwoPoint);S9.Drawing.shape.prototype.setRotationOnInitialDraw=!1;S9.Drawing.shape.prototype.measure=function(){};S9.Drawing.shape.prototype.render=function(w5R){var C9b,j_X,j0k,F$f,E4J,m6d,u3x,Z3X,h0Q,Z28,Z_J,T0V,o9B,c2A,i7m,K4P,w84,Z0q,J$2,d8S,t_T,e3r,D0$,m0D;if(!this.points.length){return;}C9b=this.stx.panels[this.panelName];if(!C9b){return;}j_X=this.stx.pixelFromTick(this.p0[0],C9b.chart);j0k=this.stx.pixelFromValueAdjusted(C9b,this.p0[+"0"],this.p0[1]);if(this.p1){F$f="#0";F$f+="000";F$f+="00";E4J=this.stx.pixelFromTick(this.p1[0],C9b.chart);m6d=this.stx.pixelFromValueAdjusted(C9b,this.p1[0],this.p1[+"1"]);w5R.globalAlpha=0.5;w5R.fillStyle=F$f;if(this.rotating){E9u.s$9(61);this.radians=Math.atan(E9u.v$j(j0k,E4J,m6d,j_X));if(E4J<j_X){this.radians+=Math.PI;}else if(m6d<j0k){E9u.s$9(16);var H89=E9u.v$j(18,19,35);this.radians+=H89*Math.PI;}E9u.O_b(1);var z5v=E9u.v$j(6,16);E9u.O_b(0);var M3u=E9u.v$j(1,4);this.a=parseInt((this.radians*36/Math.PI).toFixed(0),z5v)*M3u;E9u.s$9(12);this.a%=E9u.V9a(32,"360");E9u.O_b(1);var U1J=E9u.V9a(1800,1980);this.radians=this.a*Math.PI/U1J;if(this.textMeasure){w5R.fillText(this.a+(("7106"|66,+"4240")!=6206?"\xB0":9960<+"630.94"?(!"1","A"):729.73==(197.75,6520)?!{}:562.39),E4J+10,m6d+10);}}else if(this.penDown){u3x="x";u3x+=",";this.sx=Math.max(1,parseFloat(Math.abs(2*(E4J-j_X)/this.dimension[0]).toFixed(1)));if(E4J<j_X){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(2*(m6d-j0k)/this.dimension["1"|0]).toFixed(1)));if(m6d<j0k){E9u.s$9(2);this.sy*=-E9u.V9a(1,"1");}if(this.textMeasure){w5R.fillText(this.sx+u3x+this.sy+(7874===(3780,1680)?(729.20,2.10e+3):(2610,967.15)!=(+"2913",509.56)?712.62<=(139.67,4570)?"x":(7.27e+3,!0):"g"),E4J+this.sx+5,m6d+this.sy+("5"<<0));}}w5R.globalAlpha=+"1";}if(typeof this.sx==="undefined"){this.sx=this.sy=1;}Z3X=this.lineWidth;if(!Z3X){Z3X=1.1;}h0Q={pattern:this.pattern,lineWidth:Z3X};if(this.highlighted&&h0Q.pattern=="none"){h0Q.pattern="solid";if(h0Q.lineWidth=="0.1"*1){h0Q.lineWidth=1;}}Z28=this.color;if(Z28=="auto"||S9.isTransparent(Z28)){Z28=this.stx.defaultColor;}if(this.highlighted){Z28=this.stx.getCanvasColor("stx_highlight_vector");if(Z3X==0.1){Z3X=1.1;}}Z_J=this.fillColor;E9u.s$9(62);var m2q=E9u.v$j(9,2,4,4,9);Z3X/=Math.abs(this.sx*this.sy)*m2q/(Math.abs(this.sx)+Math.abs(this.sy));w5R.save();w5R.translate(j_X,j0k);w5R.rotate(this.radians);w5R.scale(this.sx,C9b.yAxis.flipped?-this.sy:this.sy);c2A={x:(this.dimension[0]-+"1")/2,y:(this.dimension[1]-1)/+"2"};for(T0V=+"0";T0V<this.points.length;T0V++){w5R.beginPath();for(o9B=0;o9B<this.points[T0V].length;o9B++){if(this.points[T0V][o9B]==(335.91==(6108,338.45)?(0x2126,!!{}): true?(+"7413",9662)<=486.73?(+"735.20",0x11):"M":(undefined))){i7m=this.points[T0V][++o9B]-c2A.x;K4P=this.points[T0V][++o9B]-c2A.y;w5R.moveTo(i7m,K4P);}else if(this.points[T0V][o9B]=="L"){i7m=this.points[T0V][++o9B]-c2A.x;K4P=this.points[T0V][++o9B]-c2A.y;w5R.lineTo(i7m,K4P);}else if(this.points[T0V][o9B]=="Q"){w84=this.points[T0V][++o9B]-c2A.x;J$2=this.points[T0V][++o9B]-c2A.y;i7m=this.points[T0V][++o9B]-c2A.x;K4P=this.points[T0V][++o9B]-c2A.y;w5R.quadraticCurveTo(w84,J$2,i7m,K4P);}else if(this.points[T0V][o9B]==((3240,"118.23"-0)!==(2596,894.42)?"B":(+"769.03",774.94)>+"4508"?439.87:"d")){w84=this.points[T0V][++o9B]-c2A.x;J$2=this.points[T0V][++o9B]-c2A.y;Z0q=this.points[T0V][++o9B]-c2A.x;d8S=this.points[T0V][++o9B]-c2A.y;i7m=this.points[T0V][++o9B]-c2A.x;K4P=this.points[T0V][++o9B]-c2A.y;w5R.bezierCurveTo(w84,J$2,Z0q,d8S,i7m,K4P);}}w5R.closePath();if(Z_J&&!S9.isTransparent(Z_J)&&Z_J!="auto"){w5R.fillStyle=Z_J;w5R.fill();;}if(Z28&&this.pattern!="none"){w5R.strokeStyle=Z28;w5R.lineWidth=Z3X;if(w5R.setLineDash){w5R.setLineDash(S9.borderPatternToArray(Z3X,this.pattern));w5R.lineDashOffset=0;;}w5R.stroke();}}w5R.restore();w5R.save();w5R.translate(j_X,j0k);w5R.rotate(this.radians);if(this.highlighted){t_T="#0";t_T+="0";t_T+="000";t_T+="0";e3r=this.highlighted=="p0"?!"":![];D0$=this.highlighted=="p1"?!!{}:!!"";m0D=this.highlighted=="p2"?!!"1":![];this.littleCircle(w5R,0,0,e3r);this.mover(w5R,0,0,e3r);this.littleCircle(w5R,this.sx*this.dimension[+"0"]/("2"-0),this.sy*this.dimension[1]/2,D0$);this.resizer(w5R,this.sx*this.dimension[0]/+"2",this.sy*this.dimension[1]/2,D0$);this.littleCircle(w5R,this.sx*this.dimension["0"^0]/2,0,m0D);this.rotator(w5R,this.sx*this.dimension["0"^0]/2,0,m0D);w5R.globalAlpha=0.5;w5R.fillStyle=t_T;if(this.textMeasure){w5R.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5);w5R.fillText(this.a+"\xB0",this.sx*this.dimension[0]/2+12,5);}w5R.globalAlpha=+"1";}else if(this.penDown){if(this.rotating){this.rotator(w5R,this.sx*this.dimension[0]/2,0,!!1);}else{this.resizer(w5R,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/("2"*1),!!"1");}}w5R.restore();};S9.Drawing.shape.prototype.reposition=function(s7I,F57,t1n,K_P){var c4S,F$Y,e2b,c2w,k2q,s8$,E$Z,k9I;if(!F57){return;}c4S=this.stx.panels[this.panelName];if(F57.action=="move"){F$Y=F57.tick-t1n;e2b=F57.value-K_P;this.setPoint(0,F57.p0[0]-F$Y,F57.p0[1]-e2b,c4S.chart);this.render(s7I);}else{c2w="ro";c2w+="t";c2w+="ate";k2q=this.stx.pixelFromTick(this.p0[0],c4S.chart);s8$=this.stx.pixelFromValueAdjusted(c4S,this.p0["0"*1],this.p0[1]);E$Z=this.stx.pixelFromTick(t1n,c4S.chart);k9I=this.stx.pixelFromValueAdjusted(c4S,t1n,K_P);if(F57.action=="scale"){this[F57.point]=[t1n,K_P];this.sx=parseFloat((((E$Z-k2q)*Math.cos(this.radians)+(k9I-s8$)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1));if(Math.abs(this.sx)<"1"*1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((k9I-s8$)*Math.cos(this.radians)-(E$Z-k2q)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1));if(Math.abs(this.sy)<1){this.sy/=Math.abs(this.sy);}this.render(s7I);}else if(F57.action==c2w){this[F57.point]=[t1n,K_P];E9u.O_b(61);this.radians=Math.atan(E9u.V9a(s8$,E$Z,k9I,k2q));if(E$Z<k2q){this.radians+=Math.PI;}else if(k9I<s8$){E9u.O_b(0);var h9F=E9u.V9a(0,2);this.radians+=h9F*Math.PI;}E9u.O_b(63);var L$v=E9u.v$j(1,5,5);E9u.s$9(0);var J3m=E9u.V9a(2,3);this.a=parseInt((this.radians*36/Math.PI).toFixed(0),L$v)*J3m;if(this.sx<0){E9u.O_b(21);var N85=E9u.v$j(8,192,1356);this.a=this.a+N85;}this.a%=360;E9u.O_b(58);var Q0t=E9u.v$j(171,4,1980,880);this.radians=this.a*Math.PI/Q0t;this.render(s7I);}}};S9.Drawing.shape.prototype.intersected=function(s9o,d3v,U6O){var T1c,K0Z,K_Y,P_J,J3_,q7e,t27,C1A,R1u,M1R,J9j,g0J,n6w,h3L,N$Q,X9W;if(!this.p0){return null;}if(this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner){return this.stx.repositioningDrawing.repositioner;}T1c=this.stx.panels[this.panelName];K0Z=this.stx.pixelFromTick(this.p0[0],T1c.chart);K_Y=this.stx.pixelFromValueAdjusted(T1c,this.p0[0],this.p0["1"|0]);P_J=this.stx.pixelFromTick(s9o,T1c.chart);J3_=this.stx.pixelFromValueAdjusted(T1c,s9o,d3v);P_J-=K0Z;J3_-=K_Y;q7e=J3_;t27=P_J;P_J=Math.cos(this.radians)*t27+Math.sin(this.radians)*q7e;J3_=Math.cos(this.radians)*q7e-Math.sin(this.radians)*t27;P_J/=this.sx;J3_/=this.sy;this.padding=S9.ensureDefaults(this.padding||{},{left:0,right:+"0",top:0,bottom:0});C1A=this.padding.right+this.padding.left;R1u=this.padding.bottom+this.padding.top;M1R=Math.pow(S9.touchDevice?25:5+this.littleCircleRadius(),2);J9j=Math.abs(M1R/(this.sx*this.sy));g0J=3;E9u.s$9(16);var F8i=E9u.V9a(13,0,12);E9u.O_b(64);var V73=E9u.V9a(11,16,3,18,23);E9u.O_b(65);E9u.W5N();var t_l=E9u.v$j(3,10,21,19,128);E9u.O_b(21);var r80=E9u.v$j(12,5,59);E9u.s$9(1);var e3A=E9u.v$j(15,17);E9u.s$9(66);var L07=E9u.V9a(4,1,2,1);E9u.O_b(53);var F5g=E9u.v$j(12,3,9,3);E9u.O_b(0);var d49=E9u.v$j(0,2);n6w=Math.pow((this.dimension["0"*F8i]-C1A+g0J)/V73,t_l)+Math.pow((this.dimension[r80]-R1u+g0J)/("2"|0),e3A)>Math.pow(P_J-C1A/L07,F5g)+Math.pow(J3_-R1u/+"2",d49);E9u.s$9(33);var c6u=E9u.V9a(7,11,16);E9u.s$9(67);var S2Y=E9u.V9a(17,5,3,14);h3L=(M1R-(Math.pow(P_J*this.sx,c6u)+Math.pow(J3_*this.sy,"2"*S2Y)))/Math.abs(this.sx*this.sy);E9u.s$9(68);var F5N=E9u.v$j(4,19,6,6,33);E9u.O_b(18);var U5S=E9u.V9a(15,12,1);E9u.s$9(69);var Q63=E9u.v$j(53,6,9,18);E9u.O_b(1);var j7J=E9u.V9a(6,8);E9u.s$9(70);var B_c=E9u.V9a(5,16,6,6,14);N$Q=J9j-Math.pow(P_J-this.dimension[0]/F5N,U5S)-Math.pow(J3_-this.dimension[Q63]/j7J,B_c);E9u.s$9(21);var c_b=E9u.V9a(3,40,118);E9u.O_b(23);var q8J=E9u.V9a(12,10);E9u.O_b(26);var N1B=E9u.v$j(0,14,4,7);X9W=J9j-Math.pow(P_J-this.dimension[0]/c_b,q8J)-Math.pow(J3_,N1B);if(n6w){if(N$Q>=X9W&&N$Q>=h3L&&N$Q>-1){this.highlighted="p1";return{action:"scale"};}if(X9W>=N$Q&&X9W>=h3L&&X9W>-1){this.highlighted="p2";return{action:"rotate"};}this.highlighted=h3L>-1?"p0":!"";return{action:"move",p0:S9.clone(this.p0),tick:s9o,value:d3v};}return null;};S9.Drawing.shape.prototype.configs=["color","fillColor",p10,j2t];S9.Drawing.shape.prototype.littleCircleRadius=function(){return+"3";};S9.Drawing.shape.prototype.click=function(T5X,t63,I6r){var I9w;if(!this.points.length){return![];}this.copyConfig();I9w=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,t63,I6r,I9w.chart);this.penDown=!![];return![];}this.setPoint(1,t63,I6r,I9w.chart);if(this.rotating||!this.setRotationOnInitialDraw){this.penDown=![];this.rotating=![];return!![];;}this.rotating=!!"1";return![];};S9.Drawing.shape.prototype.adjust=function(){var O$L,B4p,x2h,g2Z;O$L="_";O$L+="v";B4p=this.stx.panels[this.panelName];if(!B4p){return;}x2h=this.name+O$L+(this.version||0);if(S9.Drawing[x2h]){g2Z=new S9.Drawing[x2h]();this.name=g2Z.name;this.dimension=g2Z.dimension;this.padding=g2Z.padding;this.points=g2Z.points;this.version=g2Z.version;}this.setPoint(0,this.d0,this.v0,B4p.chart);E9u.s$9(3);var J82=E9u.V9a(11,95,16,1044,20);E9u.O_b(71);var i_e=E9u.v$j(216,2,378,10,4);this.radians=Math.round(this.a/J82)*Math.PI/i_e;};S9.Drawing.shape.prototype.reconstruct=function(a2x,g9z){this.stx=a2x;this.color=g9z.col;this.fillColor=g9z.fc;this.panelName=g9z.pnl;E9u.W5N();this.pattern=g9z.ptrn;this.lineWidth=g9z.lw;this.d0=g9z.d0;this.v0=g9z.v0;this.tzo0=g9z.tzo0;this.a=g9z.a;this.sx=g9z.sx;this.sy=g9z.sy;this.version=g9z.ver;this.adjust();};S9.Drawing.shape.prototype.serialize=function(){E9u.W5N();return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version};};S9.Drawing.arrow=function(){this.name="arrow";E9u.W5N();this.version=1;E9u.O_b(29);this.dimension=[E9u.v$j("11",32),22];this.padding={left:+"0",right:0,top:11,bottom:"0"^0};E9u.O_b(29);this.points=[[(7787,"3226"-0)>=7040?2950>=(604.81,821.88)?(740,"457.44"*1)==(873.16,3780)?"b":"l":"Q":"M",3,E9u.v$j("21",64),"L",7,21,(+"4170",433)!="3810"-0?3080!=(8080,7460)?"L":("l",55.81):797.07,7,16,"L",10,16,9730>1130?"L":("M",!"1"),5,11,2980>=(1300,5130)?3390==(128,3520)?9.29e+3:(5220,7845)!==7950?("M",!![]):!!"1":"L",0,16,1781>(956.35,24.85)?"L":937.72,3,16,(5460,"6930">>32)==2470?3540>(907.05,5710)?"3.85e+3"<<64:5.80e+3:"L",3,21]];;};S9.inheritsFrom(S9.Drawing.arrow,S9.Drawing.shape);S9.Drawing.getDrawingToolList=function(I4d){var x0t,O6Y;x0t={};O6Y={arrow_v0:!"",BaseTwoPoint:!!"1",fibonacci:!!{},shape:!![]};S9.extend(O6Y,I4d);for(var e2Q in S9.Drawing){if(!O6Y[e2Q]&&S9.Drawing[e2Q].prototype.render){x0t[new S9.Drawing[e2Q]().name]=e2Q;}}return x0t;};};S=function S(D7R){var Y5$,m_b;Y5$="un";Y5$+="defined";m_b=(typeof _CIQ==="undefined"?"undefined":_typeof(_CIQ))!==Y5$?_CIQ:D7R.CIQ;m_b.EaseMachine=function(G_U,s39,G0n,d0b){this.fc=G_U;this.ms=s39;if(G0n||G0n===0){this.reset(G0n,d0b);}};m_b.EaseMachine.prototype.reset=function(i_F,p3g){var X8A;X8A="o";X8A+="bje";i6UVR.W3G();X8A+="ct";if(!i_F&&i_F!==0){i_F=this.currentValues;}this.hasCompleted=!{};this.running=!{};this.okayToRun=!!"1";i6UVR.s$9(72);this.useNameValuePairs=i6UVR.V9a(_typeof(p3g),X8A);this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=i_F;this.endValues=p3g;}else{this.startValues={"default":i_F};this.endValues={"default":p3g};}this.changeValues={};this.currentValues={};for(var s9x in this.startValues){this.changeValues[s9x]=this.endValues[s9x]-this.startValues[s9x];}};m_b.EaseMachine.prototype.next=function(){var Z2L;Z2L=Date.now();if(Z2L>=this.startTime+this.ms){Z2L=this.startTime+this.ms;this.hasCompleted=!"";this.running=!!0;}this.currentValues={};for(var z0A in this.changeValues){this.currentValues[z0A]=this.fc(Z2L-this.startTime,this.startValues[z0A],this.changeValues[z0A],this.ms);}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};m_b.EaseMachine.prototype.hasCompleted=!"";m_b.EaseMachine.prototype.run=function(h0D,g7H,e6J,c7L){i6UVR.W5N();var p_Z;function F5f(){var n2J;p_Z.afid=null;if(!p_Z.okayToRun){return;}n2J=p_Z.next();h0D(n2J);i6UVR.W5N();if(p_Z.hasCompleted){return;}p_Z.afid=requestAnimationFrame(F5f);}if(this.afid){cancelAnimationFrame(this.afid);}if(g7H||g7H===0){this.reset(g7H,e6J);}else if(e6J||e6J==="0"*1){this.reset(this.currentValues,e6J);}p_Z=this;this.running=!![];if(c7L){this.afid=requestAnimationFrame(F5f);}else{F5f();}};m_b.EaseMachine.prototype.stop=function(){if(this.afid){cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=!"1";i6UVR.W3G();this.hasCompleted=!!1;this.running=!{};if(typeof this.useNameValuePairs=="undefined"){return{};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};if(m_b.ChartEngine.prototype.animations.zoom.isStub){m_b.ChartEngine.prototype.animations.zoom=new m_b.EaseMachine(Math.easeOutCubic,400);}};i6UVR.W3G();P=function P(q3Y){var g6e,o5i;g6e=typeof _CIQ!=="undefined"?_CIQ:q3Y.CIQ;o5i=function o5i(){var C1y=i6UVR;var i7a,k4l,H7l,b7P,z$i,z6D,m53,F3N,Z_Z,S85,M4H,n_a,g6G,q_N,m22,F6t,m$R,v0_;function t13(Q7l){C1y.W5N();return Math.cosh?Math.cosh(Q7l):(Math.exp(Q7l)+Math.exp(-Q7l))/2;}i7a="\\";i7a+="n";k4l=0;function m_t(){this.success=!"1";this.errormsg="";C1y.W5N();this.expression="";this.pos=0;this.tokennumber=+"0";this.tokenprio=0;this.tokenindex=0;this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Y3H,cosh:t13,tanh:Y$V,asinh:h$6,acosh:V7a,atanh:c3D,sqrt:Math.sqrt,log:Math.log,lg:F6A,log10:F6A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:B33,"-":A3u,exp:Math.exp};this.ops2={"+":P_M,"-":Z5d,"*":s6y,"/":L$K,"%":M0O,"^":Math.pow,",":J4x,"||":u5F,"==":O3Y,"!=":T3M,">":c1M,"<":I4V,">=":s0K,"<=":r5p,and:c9x,or:t4c};this.functions={random:f7i,fac:K38,min:Math.min,max:Math.max,hypot:w0e,pyt:w0e,pow:Math.pow,atan2:Math.atan2,"if":f_c};this.consts={E:Math.E,PI:Math.PI};}function h$6(T$0){if(Math.asinh){return Math.asinh(T$0);}if(T$0===-Infinity){return T$0;}C1y.W3G();return Math.log(T$0+Math.sqrt(T$0*T$0+ +"1"));}H7l=1;function c1M(P4d,e7f){C1y.O_b(73);C1y.W3G();return C1y.V9a(P4d,e7f);}b7P=2;function u5F(R1f,t_J){C1y.W5N();C1y.O_b(35);return C1y.V9a(R1f,t_J,"");}z$i=3;function J4x(G3L,b_W){if(Object.prototype.toString.call(G3L)!="[object Array]"){return[G3L,b_W];}G3L=G3L.slice();G3L.push(b_W);return G3L;}function A3u(E0E){return-E0E;}function O3Y(I0f,p$k){C1y.s$9(72);C1y.W5N();return C1y.v$j(I0f,p$k);}function s0K(V6r,C5V){C1y.s$9(74);return C1y.V9a(C5V,V6r);}C1y.O_b(29);z6D=C1y.v$j("4",64);function w0e(){var Y1w,E6Y;if(Math.hypot){return Math.hypot.apply(this,arguments);}Y1w=0;C1y.W3G();E6Y=arguments.length;for(var r7w=0;r7w<E6Y;r7w++){if(arguments[r7w]===Infinity||arguments[r7w]===-Infinity){return Infinity;}Y1w+=arguments[r7w]*arguments[r7w];}return Math.sqrt(Y1w);}m53=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;F3N=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;Z_Z={"\b":"\\b","\t":"\\t","\n":i7a,"\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};g6e.extend(n8a.prototype,{simplify:function simplify(F1W){var r69,o9Z,p3n,g6K,q0e,y6U,N_k,X84,Z2a;F1W=F1W||{};r69=[];o9Z=[];y6U=this.tokens.length;X84=0;for(X84=0;X84<y6U;X84++){N_k=this.tokens[X84];Z2a=N_k.type_;if(Z2a===k4l){r69.push(N_k);}else if(Z2a===z$i&&N_k.index_ in F1W){N_k=new J_K(k4l,0,0,F1W[N_k.index_]);r69.push(N_k);}else if(Z2a===b7P&&r69.length>1){g6K=r69.pop();p3n=r69.pop();q0e=this.ops2[N_k.index_];N_k=new J_K(k4l,0,0,q0e(p3n.number_,g6K.number_));r69.push(N_k);}else if(Z2a===H7l&&r69.length>0){p3n=r69.pop();q0e=this.ops1[N_k.index_];C1y.O_b(39);N_k=new J_K(k4l,0,C1y.v$j("0",0),q0e(p3n.number_));r69.push(N_k);}else{while(r69.length>+"0"){o9Z.push(r69.shift());}o9Z.push(N_k);}}while(r69.length>0){o9Z.push(r69.shift());}return new n8a(o9Z,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));},substitute:function substitute(f8z,S$_){C1y.W3G();var j40,h3u,J7j,A7p,l_H,l$3,e3H,k9m;if(!(S$_ instanceof n8a)){S$_=new m_t().parse(String(S$_));}j40=[];h3u=this.tokens.length;A7p=0;for(A7p=0;A7p<h3u;A7p++){J7j=this.tokens[A7p];l_H=J7j.type_;if(l_H===z$i&&J7j.index_===f8z){for(var s6u=0;s6u<S$_.tokens.length;s6u++){l$3=S$_.tokens[s6u];e3H=new J_K(l$3.type_,l$3.index_,l$3.prio_,l$3.number_);j40.push(e3H);}}else{j40.push(J7j);}}k9m=new n8a(j40,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));return k9m;},evaluate:function evaluate(O_G){var p9z,j8i,p$O,N2H,o9w,a2T,S8V,R0N,H4s,C_O;O_G=O_G||{};p9z=[];o9w=this.tokens.length;S8V=+"0";for(S8V=0;S8V<o9w;S8V++){a2T=this.tokens[S8V];R0N=a2T.type_;if(R0N===k4l){p9z.push(a2T.number_);}else if(R0N===b7P){p$O=p9z.pop();j8i=p9z.pop();N2H=this.ops2[a2T.index_];p9z.push(N2H(j8i,p$O));}else if(R0N===z$i){if(a2T.index_ in O_G){p9z.push(O_G[a2T.index_]);}else if(a2T.index_ in this.functions){p9z.push(this.functions[a2T.index_]);}else{H4s="undefined var";H4s+="iabl";H4s+="e: ";throw new Error(H4s+a2T.index_);}}else if(R0N===H7l){j8i=p9z.pop();N2H=this.ops1[a2T.index_];p9z.push(N2H(j8i));}else if(R0N===z6D){j8i=p9z.pop();N2H=p9z.pop();if(N2H.apply&&N2H.call){if(Object.prototype.toString.call(j8i)=="[object Array]"){p9z.push(N2H.apply(undefined,j8i));}else{p9z.push(N2H.call(undefined,j8i));}}else{C1y.s$9(0);throw new Error(C1y.V9a(N2H," is not a function"));}}else{throw new Error("invalid Expression");}}C1y.W3G();if(p9z.length>1){C_O="invalid Exp";C_O+="ression (p";C_O+="arity)";throw new Error(C_O);}return p9z[0];},toString:function toString(e3p){var c1Y,S0p,G7g,O9i,b5y,n8d,r4J,Z$_,l6o,v5I;c1Y=[];b5y=this.tokens.length;r4J=0;for(r4J=0;r4J<b5y;r4J++){n8d=this.tokens[r4J];Z$_=n8d.type_;if(Z$_===k4l){c1Y.push(M6c(n8d.number_));}else if(Z$_===b7P){G7g=c1Y.pop();S0p=c1Y.pop();O9i=n8d.index_;if(e3p&&O9i==(6630!=(2532,"496"<<32)?"^":840.82)){l6o="Math.p";l6o+="ow(";C1y.O_b(75);c1Y.push(C1y.v$j(G7g,S0p,l6o,")",42.25==("8466">>0,4269)?8636==("4859"*1,4526)?(666,+"88.29"):9.91e+3:","));}else{C1y.s$9(75);c1Y.push(C1y.v$j(G7g,S0p,(2140,10000)<=11.16?(0x18cb,!!1):8960!=(2230,28.46)?("8534"<<64,9383)==2000?("F","E"):"(":(641.79,763.74),(713.12,"111.97"*1)>5756?"P":")",O9i));}}else if(Z$_===z$i){c1Y.push(n8d.index_);}else if(Z$_===H7l){S0p=c1Y.pop();O9i=n8d.index_;if(O9i==="-"){C1y.s$9(51);c1Y.push(C1y.v$j((+"9700",368.76)!==1838?")": false?undefined: false?undefined:9.02e+3,S0p,1110!==("132.65"-0,+"637.64")?"(":2670<1110?(!!{},+"4.21e+3"):(2980,7390)>=5290?9.59e+3:(!!1,"r"),O9i));}else{C1y.O_b(51);c1Y.push(C1y.v$j(1230<2896?")":(!{},"4.03e+3"|52),S0p,O9i,1211<=(1070,5956)?114.58==(325.55,221)?(575.84,8485)>2422?(!!{},"957.61"*1):(0x1df2,0x73f):"(":(!!"",+"7.35e+3")));}}else if(Z$_===z6D){S0p=c1Y.pop();O9i=c1Y.pop();C1y.O_b(51);c1Y.push(C1y.v$j(")",S0p,O9i,9790!=(+"8635",167)?"(":("8280"|0,+"8170")<="888.29"*1?(+"479",0x2387):("5546">>0,2152)<=(8595,518.24)?824.15:7.79e+3));}else{throw new Error("invalid Expression");}}if(c1Y.length>1){v5I="invali";v5I+="d Expr";v5I+="e";v5I+="ssion (parity)";throw new Error(v5I);}C1y.W3G();C1y.s$9(29);return c1Y[C1y.V9a("0",64)];},variables:function variables(){var L4e,A9f,P6d;L4e=this.tokens.length;A9f=[];for(var V_Q="0"^0;V_Q<L4e;V_Q++){P6d=this.tokens[V_Q];if(P6d.type_===z$i&&A9f.indexOf(P6d.index_)==-1){A9f.push(P6d.index_);}}return A9f;}},!"");m_t.parse=function(f_8){C1y.W5N();return new m_t().parse(f_8);};function T3M(l7K,W9i){C1y.s$9(76);C1y.W5N();return C1y.V9a(l7K,W9i);}m_t.evaluate=function(L_B,y0h){return m_t.parse(L_B).evaluate(y0h);};function Z5d(q6q,n4m){C1y.O_b(1);C1y.W5N();return C1y.V9a(n4m,q6q);}function F6A(G3v){C1y.W3G();return Math.log(G3v)*Math.LOG10E;}function f7i(W8y){C1y.O_b(77);var F11=C1y.V9a(19,6,4,10,1);return Math.random()*(W8y||"1"*F11);}function t4c(n17,W3B){return Boolean(n17||W3B);}m_t.Expression=n8a;m_t.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Y3H,cosh:t13,tanh:Y$V,asinh:h$6,acosh:V7a,atanh:c3D,sqrt:Math.sqrt,log:Math.log,lg:F6A,log10:F6A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:B33,random:f7i,fac:K38,exp:Math.exp,min:Math.min,max:Math.max,hypot:w0e,pyt:w0e,pow:Math.pow,atan2:Math.atan2,"if":f_c,E:Math.E,PI:Math.PI};function M6c(k7G){C1y.W5N();if(typeof k7G==="string"){F3N.lastIndex=0;return F3N.test(k7G)?"'"+k7G.replace(F3N,function(l1d){var Y7R;Y7R=Z_Z[l1d];return typeof Y7R==="string"?Y7R:"\\u"+("0000"+l1d.charCodeAt(0).toString(16)).slice(-4);})+(2469<8290?+"38.54"<=476.22?"'":(835.39,2931)>("8540"|28,727.05)?("204"*1,+"4.90e+3"):!!"":(74.33,!{})):"'"+k7G+(+"965.06"==(7703,271)?("971.25"*1,2070)<=323.32?(+"559","D"):5.36e+3:"'");}return k7G;}function J_K(f$U,o_S,b8F,W5K){var J8p,G41,A4W;this.type_=f$U;C1y.s$9(1);J8p=C1y.v$j(0,"1661587523");G41=986628675;A4W=2;for(var e$a=1;C1y.l5h(e$a.toString(),e$a.toString().length,3797)!==J8p;e$a++){this.index_=o_S&&2;A4W+=2;}C1y.W3G();if(C1y.m6F(A4W.toString(),A4W.toString().length,25147)!==G41){this.index_=o_S||0;}this.prio_=b8F||0;this.number_=W5K!==undefined&&W5K!==null?W5K:0;this.toString=function(){C1y.W3G();switch(this.type_){case k4l:return this.number_;case H7l:case b7P:case z$i:return this.index_;case z6D:return"CALL";default:return"Invalid Token";}};}function P_M(o3f,B6z){return Number(o3f)+Number(B6z);}function P$0(W4g){A5L.prototype=W4g;C1y.W3G();function A5L(){}return new A5L();}C1y.O_b(29);S85=C1y.V9a(1,0);C1y.O_b(29);M4H=C1y.V9a(1,1);function r5p(q2R,I0T){C1y.O_b(78);C1y.W5N();return C1y.v$j(I0T,q2R);}C1y.O_b(29);n_a=C1y.v$j(1,2);C1y.s$9(29);g6G=C1y.v$j(1,3);function s6y(x0g,E_q){C1y.O_b(2);C1y.W3G();return C1y.v$j(E_q,x0g);}function M0O(i51,p2z){C1y.O_b(79);return C1y.v$j(i51,p2z);}function Y$V(p0L){C1y.W3G();if(Math.tanh){return Math.tanh(p0L);}if(p0L===Infinity){C1y.O_b(42);return C1y.v$j("1",1);}if(p0L===-Infinity){return-1;}return(Math.exp(p0L)-Math.exp(-p0L))/(Math.exp(p0L)+Math.exp(-p0L));}function V7a(i4u){C1y.W3G();return Math.acosh?Math.acosh(i4u):Math.log(i4u+Math.sqrt(i4u*i4u-1));}C1y.s$9(29);q_N=C1y.V9a(1,4);function f_c(l_u,o2m,B4R){return l_u?o2m:B4R;}C1y.s$9(29);m22=C1y.v$j(1,5);function n8a(d_0,B4t,V7O,X9Q){this.tokens=d_0;this.ops1=B4t;C1y.W3G();this.ops2=V7O;this.functions=X9Q;}function L$K(O3l,p3j){C1y.W3G();C1y.O_b(9);return C1y.V9a(O3l,p3j);}C1y.s$9(80);F6t=C1y.V9a(6,"1");function c9x(p65,X3b){C1y.W3G();return Boolean(p65&&X3b);}function c3D(u5c){return Math.atanh?Math.atanh(u5c):Math.log((1+u5c)/("1"-0-u5c))/2;}function B33(p$Z){C1y.W3G();if(Math.trunc){return Math.trunc(p$Z);}return p$Z<0?Math.ceil(p$Z):Math.floor(p$Z);}function Y3H(R1I){C1y.W5N();return Math.sinh?Math.sinh(R1I):(Math.exp(R1I)-Math.exp(-R1I))/2;}function I4V(q2t,o33){C1y.s$9(81);return C1y.v$j(q2t,o33);}C1y.O_b(82);m$R=C1y.v$j("7",0,1);C1y.s$9(29);v0_=C1y.V9a(1,8);function K38(T8S){C1y.W5N();var E0x;T8S=Math.floor(T8S);E0x=T8S;while(T8S>1){C1y.s$9(83);E0x=C1y.V9a(E0x,--T8S);}return E0x;}g6e.extend(m_t.prototype,{parse:function parse(N$M){var G47,w$k,K_N,A7J,q4z,T1T,n0w,E8Y,m6h,W1E,A7C,E$_,Q_t,D__;this.errormsg="";this.success=!![];G47=[];w$k=[];this.tmpprio=0;C1y.s$9(84);K_N=C1y.V9a(g6G,n_a,F6t,S85);A7J=0;this.expression=N$M;this.pos=0;while(this.pos<this.expression.length){if(this.isOperator()){if(this.isSign()&&K_N&F6t){if(this.isNegativeSign()){this.tokenprio=2;this.tokenindex=3747<=("3240"^0,777)?+"2.87e+3":"-";A7J++;this.addfunc(w$k,G47,H7l);}C1y.s$9(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}else if(this.isComment()){}else{if((K_N&M4H)===0){this.error_parsing(this.pos,"unexpected operator");}C1y.s$9(39);A7J+=C1y.V9a("2",0);this.addfunc(w$k,G47,b7P);C1y.s$9(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}}else if(this.isNumber()){if((K_N&S85)===0){T1T="unexpected";T1T+=" number";this.error_parsing(this.pos,T1T);}q4z=new J_K(k4l,0,0,this.tokennumber);w$k.push(q4z);C1y.O_b(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isString()){if((K_N&S85)===0){this.error_parsing(this.pos,"unexpected string");}C1y.s$9(12);q4z=new J_K(k4l,0,C1y.v$j(0,"0"),this.tokennumber);w$k.push(q4z);C1y.s$9(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isLeftParenth()){if((K_N&g6G)===0){n0w="unexpecte";n0w+="d";n0w+=" \"(\"";this.error_parsing(this.pos,n0w);}if(K_N&m$R){A7J+=2;this.tokenprio=-2;this.tokenindex=-1;this.addfunc(w$k,G47,z6D);}C1y.O_b(86);K_N=C1y.V9a(g6G,v0_,S85,F6t,n_a);}else if(this.isRightParenth()){if(K_N&v0_){q4z=new J_K(k4l,+"0",0,[]);w$k.push(q4z);}else if((K_N&q_N)===0){this.error_parsing(this.pos,'unexpected ")"');}C1y.O_b(86);K_N=C1y.V9a(q_N,m$R,M4H,g6G,m22);}else if(this.isComma()){if((K_N&m22)===0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(w$k,G47,b7P);A7J+=2;C1y.O_b(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}else if(this.isConst()){if((K_N&S85)===0){E8Y="un";E8Y+="expected constant";this.error_parsing(this.pos,E8Y);}m6h=new J_K(k4l,0,0,this.tokennumber);w$k.push(m6h);C1y.O_b(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isOp2()){if((K_N&n_a)===0){W1E="une";W1E+="xpected f";W1E+="unction";this.error_parsing(this.pos,W1E);}this.addfunc(w$k,G47,b7P);A7J+=2;K_N=g6G;}else if(this.isOp1()){if((K_N&n_a)===0){A7C="une";A7C+="xpected function";this.error_parsing(this.pos,A7C);}this.addfunc(w$k,G47,H7l);A7J++;K_N=g6G;}else if(this.isVar()){if((K_N&S85)===0){this.error_parsing(this.pos,"unexpected variable");}E$_=new J_K(z$i,this.tokenindex,0,0);w$k.push(E$_);C1y.s$9(86);K_N=C1y.v$j(q_N,m$R,M4H,g6G,m22);}else if(this.isWhite()){}else{if(this.errormsg===""){this.error_parsing(this.pos,"unknown character");}else{this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio<0||this.tmpprio>=10){this.error_parsing(this.pos,'unmatched "()"');}while(G47.length>0){Q_t=G47.pop();w$k.push(Q_t);}if(A7J+1!==w$k.length){D__="parit";D__+="y";this.error_parsing(this.pos,D__);}return new n8a(w$k,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));},evaluate:function evaluate(M_y,b4j){C1y.W3G();return this.parse(M_y).evaluate(b4j);},error_parsing:function error_parsing(i3F,Z4s){this.success=!1;C1y.s$9(51);this.errormsg=C1y.v$j(Z4s,"]: ","parse error [column ",i3F);this.column=i3F;throw new Error(this.errormsg);},addfunc:function addfunc(d1A,h$2,O7K){var E8m;E8m=new J_K(O7K,this.tokenindex,this.tokenprio+this.tmpprio,0);while(h$2.length>0){if(E8m.prio_<=h$2[h$2.length-1].prio_){d1A.push(h$2.pop());}else{break;}}C1y.W3G();h$2.push(E8m);},isNumber:function isNumber(){var m1W,Y4O,G9s;m1W=!1;C1y.W3G();Y4O="";while(this.pos<this.expression.length){G9s=this.expression.charCodeAt(this.pos);if(G9s>=48&&G9s<=+"57"||G9s===46){Y4O+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(Y4O);m1W=!"";}else{break;}}return m1W;},unescape:function unescape(N_J,J$T){var l4c,Q_C,a7y,r4o,J_E;C1y.W5N();l4c=[];Q_C=!!"";for(var L01=0;L01<N_J.length;L01++){a7y=N_J.charAt(L01);if(Q_C){switch(a7y){case"'":l4c.push("'");break;case 9041==="410.64"-0?(0x261a,17.46):"\\":l4c.push((7580,826)==(538.61,2700)?(!!1,!![]):(2810,4680)==1928? true?("k",772.75):(undefined):"\\");break;case(4168,3730)<=(+"593.61",6154)?(2220,+"3671")==("8480">>64,2600)?(+"5961",9470)>=827.69?(0x64,+"145.73"):(2.41e+3,!"1"):"/":("E",631):l4c.push((8294,+"189")!=(1180,1900)?"/":(+"9000",8217)==(+"1967",9890)?(0xa,0x131):(8.86e+3,7.82e+3));break;case(1340,"656.3"-0)>(6810,+"2710")?0x1d7b:(340.62,640.22)>"644.95"-0?(+"908.08",4050)>(538,"807.28"*1)?"325.87"*1:478.76:"b":l4c.push(3110<(4880,7541)?(207,+"8920")>(5020,+"5990")?"\b":!![]:!!"");break;case"f":l4c.push("\f");break;case 5510!=(361,5580)?"n":(2.34e+3,!![]):l4c.push("\n");break;case  false?undefined:"r":l4c.push(9720>=(4600,41.3)?(157,792.62)>(833,"7540"-0)?2.85e+3: true?"\r":undefined:"562"^0);break;case"t":l4c.push(1110<=(+"7363",7788)?"\t":(9230,+"211.67")<613.36?(8.53e+3,0x1b5):(5.09e+2,0x19));break;case 7979!=(1320,4100)?"u":"M":r4o=parseInt(N_J.substring(L01+("1"-0),L01+5),16);l4c.push(String.fromCharCode(r4o));L01+=4;break;default:J_E="Illega";J_E+="l escape";J_E+=" sequence:";J_E+=" '\\";C1y.O_b(0);throw this.error_parsing(C1y.v$j(J$T,L01),C1y.v$j(a7y, false?(undefined):3783>=(410.62,2120)?"'":(562.97,250.05)!=898?(0xe1d,!1):6.98e+2,J_E,C1y.O_b(35)));}Q_C=!{};}else{if(a7y=="\\"){Q_C=!![];}else{l4c.push(a7y);}}}return l4c.join("");},isString:function isString(){var F$D,P1z,p33,N8B;F$D=!"1";P1z="";p33=this.pos;if(this.pos<this.expression.length&&this.expression.charAt(this.pos)==((+"865.22",5982)<(6060,509.62)?(486.67,!!0):"'")){this.pos++;while(this.pos<this.expression.length){N8B=this.expression.charAt(this.pos);if(N8B!=((4000,698.42)<=+"2710"?"'":(4317,+"4151")<=(763.92,299)?![]:4729<=648.31?0x2fc:588.48)||P1z.slice(-1)==(+"1960"===4473?493!=(6350,690.58)?103.15:5.07e+3:"\\")){P1z+=this.expression.charAt(this.pos);this.pos++;}else{this.pos++;this.tokennumber=this.unescape(P1z,p33);F$D=!0;break;}}}return F$D;},isConst:function isConst(){var w0g,r4y;for(var W60 in this.consts){if(!![]){r4y=W60.length;w0g=this.expression.substr(this.pos,r4y);if(W60===w0g){this.tokennumber=this.consts[W60];this.pos+=r4y;return!0;}}}C1y.W3G();return!!0;},isOperator:function isOperator(){C1y.W5N();var M4D,m7i,V6A,I0s;M4D=this.expression.charCodeAt(this.pos);if(M4D===43){this.tokenprio=2;this.tokenindex="+";}else if(M4D===45){this.tokenprio=2;this.tokenindex=(1010,"3240"<<0)!=5157?5370<(709.38,7570)?"-":!![]:("D",0xc6f);}else if(M4D===62){if(this.expression.charCodeAt(this.pos+1)===61){m7i=">";m7i+="=";this.pos++;this.tokenprio=1;this.tokenindex=m7i;}else{this.tokenprio=1;this.tokenindex=("494.7"-0,183.23)<=(9255,843.18)? false?(undefined):">":!"";}}else if(M4D===60){if(this.expression.charCodeAt(this.pos+1)===("61"|56)){this.pos++;this.tokenprio=1;this.tokenindex="<=";}else{this.tokenprio=1;this.tokenindex=(817.55,5125)!==88.89?+"5730"!==(1350,814)?4890!=(3134,9581)?"<":"f":(+"258.90",3.49e+2):("e","d");}}else if(M4D===124){if(this.expression.charCodeAt(this.pos+ +"1")===124){this.pos++;C1y.O_b(29);this.tokenprio=C1y.V9a("1",64);this.tokenindex="||";}else{return!{};}}else if(M4D===61){if(this.expression.charCodeAt(this.pos+1)===+"61"){V6A="=";V6A+="=";this.pos++;this.tokenprio=1;this.tokenindex=V6A;}else{return![];}}else if(M4D===33){if(this.expression.charCodeAt(this.pos+1)===61){this.pos++;this.tokenprio=1;this.tokenindex="!=";}else{return![];}}else if(M4D===97){if(this.expression.charCodeAt(this.pos+1)===110&&this.expression.charCodeAt(this.pos+2)===100){I0s="a";I0s+="n";I0s+="d";this.pos++;this.pos++;C1y.O_b(39);this.tokenprio=C1y.v$j("0",0);this.tokenindex=I0s;}else{return!{};}}else if(M4D===111){if(this.expression.charCodeAt(this.pos+1)===114){this.pos++;C1y.O_b(1);this.tokenprio=C1y.v$j(0,"0");this.tokenindex="or";}else{return!"1";}}else if(M4D===42||M4D===+"8729"||M4D===8226){this.tokenprio=3;this.tokenindex="*";}else if(M4D===+"47"){this.tokenprio=4;this.tokenindex=5001>=("1100">>64,6621)?(0x19c4,0x1228):"/";}else if(M4D===37){this.tokenprio=4;this.tokenindex= true?"%":(undefined);}else if(M4D===94){this.tokenprio=5;this.tokenindex=2760>+"6520"?3.15e+3:(107,6819)==827.3?(0x20f2,0xde1):"^";}else{return!!"";}this.pos++;return!!"1";},isSign:function isSign(){var Y5o;Y5o=this.expression.charCodeAt(this.pos-1);if(Y5o===+"45"||Y5o===43){return!!{};}C1y.W3G();return!1;},isPositiveSign:function isPositiveSign(){var z32;z32=this.expression.charCodeAt(this.pos-1);if(z32===43){return!![];}return!{};},isNegativeSign:function isNegativeSign(){var J1f;J1f=this.expression.charCodeAt(this.pos-1);if(J1f===45){return!!{};}return![];},isLeftParenth:function isLeftParenth(){var V95;V95=this.expression.charCodeAt(this.pos);if(V95==="40"-0){this.pos++;C1y.O_b(29);this.tmpprio+=C1y.v$j("10",0);return!!"1";}return!{};},isRightParenth:function isRightParenth(){var n_8;n_8=this.expression.charCodeAt(this.pos);if(n_8===41){this.pos++;this.tmpprio-=10;return!!1;}return!!"";},isComma:function isComma(){var y4M;y4M=this.expression.charCodeAt(this.pos);if(y4M===44){this.pos++;this.tokenprio=-1;this.tokenindex=(8144,+"8944")>=4720?",":411.92;return!!"1";}return!!0;},isWhite:function isWhite(){var O6Q;O6Q=this.expression.charCodeAt(this.pos);if(O6Q===+"32"||O6Q===9||O6Q===10||O6Q===13){this.pos++;return!0;}return![];},isOp1:function isOp1(){var V4A,q15;V4A="";for(var m7b=this.pos;m7b<this.expression.length;m7b++){q15=this.expression.charAt(m7b);if(q15.toUpperCase()===q15.toLowerCase()){if(m7b===this.pos||q15!=((8360,95.4)===9092?4.86e+3:"_")&&(q15<(+"1712"==571?!0:"0")||q15>((9090,145)>=3120?+"919.64"===(3950,3080)?"5.49e+3"*1:"B":"9"))){break;}}V4A+=q15;}if(V4A.length>0&&V4A in this.ops1){this.tokenindex=V4A;this.tokenprio=5;this.pos+=V4A.length;return!!1;}return!!"";},isOp2:function isOp2(){var n89,h5M;n89="";for(var x__=this.pos;x__<this.expression.length;x__++){h5M=this.expression.charAt(x__);if(h5M.toUpperCase()===h5M.toLowerCase()){if(x__===this.pos||h5M!=(914.01<=(9050,549.23)?("B",0xce1):"_")&&(h5M<"0"||h5M>"9")){break;}}n89+=h5M;}if(n89.length>0&&n89 in this.ops2){this.tokenindex=n89;this.tokenprio=5;this.pos+=n89.length;return!0;}return!{};},isVar:function isVar(){var S2T,Q5f;C1y.W3G();S2T="";for(var Q0Z=this.pos;Q0Z<this.expression.length;Q0Z++){Q5f=this.expression.charAt(Q0Z);if(Q5f.toUpperCase()===Q5f.toLowerCase()){if(Q0Z===this.pos||Q5f!=(728.79<(600,5915)?"_":(839.96,1730)<=1210?(1.38e+3,0x1f82):(!"","c"))&&(Q5f<( false?(undefined):"0")||Q5f>(1560<=705.69?7909>=+"7752"?(![],237.49):383.46:"9"))){break;}}S2T+=Q5f;}if(S2T.length>0){this.tokenindex=S2T;C1y.s$9(1);this.tokenprio=C1y.v$j(0,"4");this.pos+=S2T.length;return!!{};}return![];},isComment:function isComment(){var m9g;m9g=this.expression.charCodeAt(this.pos-1);if(m9g===47&&this.expression.charCodeAt(this.pos)===42){C1y.s$9(37);var X3B=C1y.V9a(3,19,24);this.pos=this.expression.indexOf("*/",this.pos)+X3B;if(this.pos==="1"<<0){this.pos=this.expression.length;}return!!{};}return!!"";}},!!{});return m_t;};g6e.computeEquationChart=function(W8g,p$m){var L0O=i6UVR;var r6l,R2d,b6m,x8w,U8m,j82,t47,d3m,b7$,a6Y,h0V,V0U,C_f,U6Y,d78,I2M,V6u,o9E,Z3i,V1$,M8x,t6R,M73;W8g=W8g.replace(/[:]/,7130<=(408.06,323.19)?9980<=6070?(!1,![]):2.45e+3:"/");r6l=+"0";for(var c48 in p$m){R2d="\\";R2d+="]";b6m="\\";b6m+="[";x8w="\\";x8w+="[";U8m=new RegExp(x8w+c48.replace(/\[/g,b6m).replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+R2d,"g");L0O.s$9(0);W8g=W8g.replace(U8m,L0O.V9a("symbol",r6l));r6l++;}j82=o5i().parse(W8g);t47=[];d3m={};b7$=0;function F4H(p71){L0O.W3G();p71.i++;if(p$m[p71.s]){if(p71.i>=p$m[p71.s].length){return 0;}a6Y=p$m[p71.s][p71.i];}if(!a6Y.DT){a6Y.DT=g6e.strToDateTime(a6Y.Date);}p71.d=a6Y.DT;return+"1";}h0V=null;function P2R(){var U7J,t5Y;U7J=null;L0O.W5N();t5Y=null;for(var R$V in d3m){if(!t5Y){t5Y=d3m[R$V];}else if(d3m[R$V].d.getTime()<t5Y.d.getTime()){U7J=t5Y=d3m[R$V];}else if(d3m[R$V].d.getTime()>t5Y.d.getTime()){U7J=t5Y;}}if(U7J){if(!F4H(U7J)){return 0;}return-+"1";}return 1;}V0U=![];C_f=[];for(c48 in p$m){U6Y={sym:c48,map:p$m[c48]};if(p$m[c48]){C_f.unshift(U6Y);}else{C_f.push(U6Y);}}for(var s5S=0;s5S<C_f.length;s5S++){d78=C_f[s5S];d3m[d78.sym]={i:0,s:d78.sym};if(d78.map){b7$++;a6Y=d78.map[0];}else if(b7$==1){V0U=d78.sym;}if(!a6Y.DT){a6Y.DT=g6e.strToDateTime(a6Y.Date);}d3m[d78.sym].d=a6Y.DT;if(!h0V){h0V=d3m[d78.sym];}}L0O.O_b(87);L0O.W3G();I2M=L0O.v$j(0,b7$);V6u=b7$=="1"*1&&W8g.indexOf((2319,8790)>=639.51?(3489,4187)<192.01?("9.16e+3"|8,118.10):("360.9"*1,"4756">>0)!==+"4630"?"%":+"148.04":(174.86,"F"))==-+"1";a:while(!0){o9E=P2R();if(!o9E)break;if(o9E==1){if(V0U){V1$=p$m[h0V.s][h0V.i][V0U];if(V1$&&(V1$.Close||V1$.Close===0)){V1$=V1$.Close;}M8x=j82.evaluate({symbol0:p$m[h0V.s][h0V.i].Close,symbol1:V1$});M8x=Number(M8x.toFixed(+"8"));Z3i={DT:h0V.d,Close:M8x,Adj_Close:M8x};Z3i[h0V.s]=p$m[h0V.s][h0V.i].Close;if(!isNaN(M8x)&&M8x!=Infinity){t47.push(Z3i);}}else if(I2M){t6R=j82.evaluate({});L0O.s$9(35);g6e.alert(L0O.V9a((2200,3290)<=(9500,1570)?"b":(165.46,"8290"|98)==3380?(9070,994.77)===204?60.08:0xca1:"=",t6R,W8g));throw{name:"NoException",message:""};}else{r6l=0;M73={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(c48 in p$m){for(var B8e in M73){L0O.O_b(0);M73[B8e][L0O.v$j("symbol",r6l)]=p$m[c48][d3m[c48].i][B8e];}r6l++;}Z3i={DT:h0V.d};Z3i.Adj_Close=j82.evaluate(M73.Adj_Close);Z3i.Close=j82.evaluate(M73.Close);Z3i.Open=j82.evaluate(M73.Open);Z3i.Volume=j82.evaluate(M73.Volume);if(isNaN(Z3i.Volume)){Z3i.Volume=+"0";}if(V6u){Z3i.High=j82.evaluate(M73.High);Z3i.Low=j82.evaluate(M73.Low);}else{Z3i.High=Math.max(Z3i.Open,Z3i.Close);Z3i.Low=Math.min(Z3i.Open,Z3i.Close);}if(!isNaN(Z3i.Close)&&Z3i.Close!=Infinity){t47.push(Z3i);}if(!isNaN(Z3i.High)){Z3i.High=Number(Z3i.High.toFixed(8));}if(!isNaN(Z3i.Low)){Z3i.Low=Number(Z3i.Low.toFixed(8));}if(!isNaN(Z3i.Open)){Z3i.Open=Number(Z3i.Open.toFixed(8));}if(!isNaN(Z3i.Close)){Z3i.Close=Number(Z3i.Close.toFixed("8"*1));}if(!isNaN(Z3i.Adj_Close)){Z3i.Adj_Close=Number(Z3i.Adj_Close.toFixed(8));}else{Z3i.Adj_Close=Z3i.Close;}}for(c48 in p$m){if(!F4H(d3m[c48]))break a;}}}return t47;};};I=function I(o9j){var R6l=i6UVR;var R8b;R8b=typeof _CIQ!=="undefined"?_CIQ:o9j.CIQ;R8b.ChartEngine.prototype.setLocale=function(R1z,H4i){var u1A,V5K,z1h,e_D,p1e,S_S,o0A,Z4m,T2Z,H6y,v6P,A33;u1A="n";u1A+="ume";u1A+="ri";u1A+="c";V5K="n";V5K+="umeri";V5K+="c";z1h="n";z1h+="um";z1h+="e";z1h+="ric";e_D="2-";e_D+="d";e_D+="ig";e_D+="it";p1e="2";p1e+="-d";p1e+="igit";S_S="h";S_S+="2";S_S+="3";if(typeof Intl=="undefined"){return;}if(this.locale!=R1z){this.locale=R1z;}else{return;}Z4m=this.internationalizer={};Z4m.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"});Z4m.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:S_S});Z4m.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:p1e,day:e_D,hour:"2-digit",minute:"2-digit"});Z4m.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:z1h});Z4m.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:V5K,month:u1A,day:"numeric"});Z4m.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"});Z4m.month=new Intl.DateTimeFormat(this.locale,{month:"short"});Z4m.numbers=new Intl.NumberFormat(this.locale);Z4m.priceFormatters=[];if(!H4i){H4i=8;}for(o0A=0;o0A<H4i+1;o0A++){Z4m.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:o0A,minimumFractionDigits:o0A}));}for(o0A=0;o0A<5;o0A++){T2Z="pe";T2Z+="rcen";T2Z+="t";H6y="per";H6y+="cent";v6P=o0A;A33=o0A;if(!o0A){v6P="";A33=2;}R6l.O_b(0);Z4m[R6l.V9a(H6y,v6P)]=new Intl.NumberFormat(this.locale,{style:T2Z,minimumFractionDigits:A33,maximumFractionDigits:A33});}if(R8b.I18N.createMonthArrays){R8b.I18N.createMonthArrays(this,Z4m.month,this.locale);}};R8b.I18N=function(){};R8b.I18N.hereDoc=function(B93){return B93.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"");};R6l.W5N();R8b.I18N.language="en";R8b.I18N.longMonths={zh:!0};R8b.I18N.reverseColorsByLocale={zh:!!1,ja:!!1};R8b.I18N.findAllTextNodes=function(f$o){var k07,P82,X7p,j4S,O_P,S_x,P0z,A4w,N1i,x55,i$1,v3t,m4f,Q4O,W4b,N3D,V9l,h_D,s0G,f5H,J9b,n5n;if(!f$o){f$o=document.body;}if(f$o==document.body){if(!document.querySelector(".ciq_stashed_texts")){k07="n";k07+="o";k07+="ne";P82=document.createElement("div");P82.className="ciq_stashed_texts";P82.style.display=k07;f$o.appendChild(P82);X7p=document.querySelectorAll("input,textarea,.editable_content");for(var m4G="0"|0;m4G<X7p.length;m4G++){j4S="pl";j4S+="aceholder";O_P=X7p[m4G].getAttribute(j4S);if(O_P){S_x="orig";S_x+="ina";S_x+="l";P0z=P82.appendChild(document.createElement("translate"));P0z.setAttribute(S_x,O_P);P0z.placeholderFor=X7p[m4G];P0z.appendChild(document.createTextNode(O_P));}}}}A4w=document.createTreeWalker(f$o,NodeFilter.SHOW_TEXT,null,![]);N1i=A4w.nextNode();x55=new RegExp("^\\s*$");i$1=new RegExp("\n|\t|\f",9354!=("178"^0,8453)?"g":("8.46e+3">>0,0xe88));v3t={};m4f={SCRIPT:!!1,STYLE:!![],TEXTAREA:!!{}};while(N1i){Q4O=N1i.nodeValue;if(!x55.test(Q4O)){W4b=N1i.parentNode;N3D=N1i.nextSibling;V9l=W4b.tagName;if(!m4f[V9l]){if(V9l!="TRANSLATE"){h_D="tr";h_D+="ans";h_D+="late";s0G=document.createElement(h_D);s0G.setAttribute("original",Q4O);s0G.appendChild(N1i);W4b.insertBefore(s0G,N3D);}else{f5H="orig";f5H+="i";f5H+="n";f5H+="al";Q4O=W4b.getAttribute(f5H);}if(i$1.test(Q4O)){Q4O=Q4O.replace(i$1,"");}if(!v3t[Q4O]){v3t[Q4O]=[];}v3t[Q4O].push(N1i);}}N1i=A4w.nextNode();}if(f$o==document.body){J9b=R8b.Studies?R8b.Studies.studyLibrary:null;if(J9b){for(var l2x in J9b){if(v3t[l2x]===null){v3t[l2x]=[];}n5n=J9b[l2x];if(n5n.inputs){for(var c7B in n5n.inputs){if(!v3t[c7B]){v3t[c7B]=[];}}}if(n5n.outputs){for(var b73 in n5n.outputs){if(!v3t[b73]){v3t[b73]=[];}}}}}}return v3t;};R8b.I18N.missingWordList=function(Z$8){var z$0,V51,W5r,i80,t$T,T6C,s7Q,y7N,F6l;z$0="Sho";z$0+="w Zone";z$0+="s";if(!Z$8){Z$8=R8b.I18N.language;}V51=R8b.I18N.findAllTextNodes();W5r={};i80=R8b.I18N.wordLists[Z$8];if(!i80){i80={};}t$T=function t$T(B6q){if(typeof i80[B6q]=="undefined"){W5r[B6q]="";}};for(var R3_ in V51){t$T(R3_);}if(!(R8b.Studies&&R8b.Studies.studyLibrary)){return W5r;}for(var Q8P in R8b.Studies.studyLibrary){T6C=R8b.Studies.studyLibrary[Q8P];t$T(T6C.name);for(var g5Q in T6C.inputs){y7N="[object Ar";y7N+="ra";y7N+="y]";F6l="[obj";F6l+="ect String]";t$T(g5Q);s7Q=T6C.inputs[g5Q];switch(Object.prototype.toString.call(s7Q)){case F6l:t$T(s7Q);break;case y7N:for(var J2X=+"0";J2X<s7Q.length;++J2X){t$T(s7Q[J2X]);}break;}}for(var p68 in T6C.outputs){t$T(p68);}}t$T(z$0);t$T("OverBought");R6l.W3G();t$T("OverSold");t$T("Panel");t$T("Show as Underlay");t$T("Y-Axis");t$T("Invert Y-Axis");return W5r;};R8b.I18N.printableMissingWordList=function(l7V){R6l.W3G();var Y6I;Y6I=JSON.stringify(R8b.I18N.missingWordList(l7V));Y6I=Y6I.replace(/","/g,'",\n"');return Y6I;};R8b.I18N.translateUI=function(Z7e,i0V){var u0Z,Z7A,r0L,p6G,K3r,C1j,z3c,I2d,A3i;if(Z7e=="pu"){Z7e="pt";}if(!R8b.I18N.wordLists){return;}if(!Z7e){Z7e=R8b.I18N.language;}u0Z=R8b.I18N.findAllTextNodes(i0V);Z7A=R8b.I18N.wordLists[Z7e];if(!Z7A){return;}for(var y72 in u0Z){r0L=R8b.I18N.translateSections(y72,Z7A);p6G=u0Z[y72];for(var f7b=+"0";f7b<p6G.length;f7b++){K3r="o";K3r+="r";K3r+="igi";K3r+="nal";C1j=p6G[f7b];z3c=C1j.parentNode;I2d=z3c.getAttribute(K3r);if(r0L===((437,7750)===(1820,6381)?(400.99,"Z"):",")||!r0L){r0L=I2d;}A3i=z3c.placeholderFor;if(A3i){A3i.placeholder=r0L;}else{C1j.data=r0L;}}}};R8b.I18N.translate=function(Z5Q,W50){var I1B,Q3$;if(!W50){W50=R8b.I18N.language;}if(!R8b.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return Z5Q;}R6l.W5N();I1B=R8b.I18N.wordLists[W50];Q3$=null;if(I1B){Q3$=R8b.I18N.translateSections(Z5Q,I1B)||Z5Q;}return Q3$===","?Z5Q:Q3$;};R8b.I18N.translateSections=function(n2u,i9m){var a0h,V6_,Q4N;a0h="str";a0h+="i";a0h+="n";R6l.W3G();a0h+="g";V6_=675<8615?"\u200C":705.50;if(_typeof(n2u)==a0h&&n2u.indexOf(V6_)!=-1){R6l.s$9(35);n2u=n2u.replace(/([(),])/g,R6l.V9a("$1",V6_,V6_));Q4N=n2u.split(V6_);Q4N.forEach(function(r5B,D3K,b3y){var h4t,B7R;h4t=r5B.match(/^(\s*).*\S(\s*)$/);R6l.W3G();B7R=i9m[r5B.trim()];if(B7R){if(h4t){R6l.O_b(77);var N5N=R6l.v$j(13,0,3,10,3);B7R=h4t["1"^0]+B7R+h4t[N5N];}b3y[D3K]=B7R;}});return Q4N.join("");}return i9m[n2u];};R8b.I18N.convertCSV=function(L$1){var Y5h,V__,t1K,B17,L4r,F5L,a3D,I24,h9H,Q9L,y2b;Y5h="^(\")";Y5h+="|(\")$";V__=new RegExp("[\u201C\u201D]|[\u2018\u2019]",(168.52,2000)!=311?"5980"*1>(4034,6750)?+"1545"<(335.82,"8800"|32)?1.80e+3:(!0,!""):"g":(0x4d9,0x1e09));t1K=new RegExp(Y5h, true?"g":undefined);B17=R8b.I18N.wordLists;R6l.W3G();if(!L$1){L$1=R8b.I18N.csv;}if(!L$1){return;}L4r=L$1.split("\n");F5L=L4r[0];a3D=F5L.split(301.15<=+"4102"?775.78==(9510,345)?(!{},+"1.84e+3"):",":(80.42,893.61));for(var Z7h=0;Z7h<a3D.length;Z7h++){I24=a3D[Z7h];if(!B17[I24]){B17[I24]={};}}for(var X2b=1;X2b<L4r.length;X2b++){h9H=L4r[X2b].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[];Q9L=h9H[0];if(t1K.test(Q9L)){Q9L=Q9L.replace(t1K,"");}if(V__.test(Q9L)){Q9L=Q9L.replace(V__, true?559=="7630"-0?(!!0,!1):"303.89"*1>=3310?!"1":'"':undefined);}for(var L0y=1;L0y<h9H.length;L0y++){y2b=h9H[L0y];if(t1K.test(y2b)){y2b=y2b.replace(t1K,"");}B17[a3D[L0y]][Q9L]=y2b;}}};R8b.I18N.setLanguage=function(K92,C5F,Y0v,D2q,a_L){var F9C;F9C="p";F9C+="t";if(!a_L){a_L=(K92.uiContext||{}).topNode||document.body;}if(C5F=="pu"){C5F=F9C;}R8b.I18N.convertCSV(D2q);R8b.I18N.language=C5F;R6l.W5N();R8b.I18N.translateUI(C5F,a_L);if(!Y0v){Y0v=R8b.I18N.translate;}K92.translationCallback=Y0v;};R8b.I18N.setLocale=function(p81,U5l,g8q,s2Q,t9N){var T$z,F8O,G9Z,N9F,i$i,E7g;T$z="SC";T$z+="RIPT";F8O="locale";F8O+="-";F8O+="data/jso";F8O+="np";G9Z="un";G9Z+="de";G9Z+="fin";G9Z+="ed";if(R8b.xor(this.reverseColorsByLocale[U5l],this.reverseColorsByLocale[p81.locale])){this.reverseCandles(p81);}if((typeof Intl==="undefined"?"undefined":_typeof(Intl))==G9Z||!Intl.__addLocaleData){p81.setLocale(U5l,t9N);if(g8q){g8q(null);}return;}s2Q=typeof s2Q=="undefined"?F8O:s2Q;R6l.O_b(51);N9F=R6l.V9a(".js",U5l,s2Q,"/");i$i=document.createElement(T$z);i$i.async=!![];i$i.src=N9F;E7g=document.getElementsByTagName("script")[0];E7g.parentNode.insertBefore(i$i,E7g.nextSibling);i$i.onload=function(){p81.setLocale(U5l,t9N);if(g8q){g8q(null);}};i$i.onerror=function(){if(g8q){g8q("cannot load script");}};};R8b.I18N.createMonthArrays=function(P5G,Z3T,t44){var g0V,e2w,j_W,U28,O$d,o5P;P5G.monthAbv=[];P5G.monthLetters=[];g0V=new Date();R6l.W3G();e2w=!![];if(R8b.I18N.longMonths&&R8b.I18N.longMonths[t44]){e2w=!!0;}for(var k4r=0;k4r<12;k4r++){g0V.setDate(1);g0V.setMonth(k4r);j_W=Z3T.format(g0V);if(e2w){U28="";for(var d0K=0;d0K<j_W.length;d0K++){O$d=j_W.charAt(d0K);o5P=O$d.charCodeAt(0);if(o5P<65)continue;U28+=O$d;}P5G.monthAbv[k4r]=U28;P5G.monthLetters[k4r]=U28[0];}else{P5G.monthAbv[k4r]=j_W;P5G.monthLetters[k4r]=j_W;}}};R8b.I18N.localize=function(y$b,U1S){this.setLocale(y$b,U1S);this.setLanguage(y$b,U1S);};R8b.I18N.reverseCandles=function(a2l){var N_T,Y33,e86;N_T=a2l.styles;Y33=a2l.cloneStyle(N_T.stx_candle_down);R6l.W3G();e86=a2l.cloneStyle(N_T.stx_candle_up);N_T.stx_candle_up=Y33;N_T.stx_candle_down=e86;};R8b.I18N.wordLists={en:{}};R8b.I18N.languages={en:"English"};};Q=function Q(q3j){var Z7f=i6UVR;var F44,J3z,e9u,s69,n2V,Q34,O3f,J0h;F44="<div class=\"stx_drag_ok\"";F44+="><div class=\"icon\"></div><div c";F44+="lass=\"field\"></div></div>";J3z="<div class=\"st";J3z+="x_draw_ok\"><div c";J3z+="lass=\"icon\"></div><div class=\"";J3z+="field\"></div></div>";e9u="<div class=\"stx_sticky\"> <span class=\"mStickyInterior\"></span> <span class=\"mStickyRightClick\"><span class=\"overlayEdit stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span cla";e9u+="ss=\"";e9u+="overlayTrashCan stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span class=\"mouseDeleteInstructions\"><span>(</span><span class=\"mouseDeleteText\">right-click to delete</span><span class=\"mouseManageText\">right-click to";e9u+=" manage</span><span class=\"dragAnchorText\">drag to change anchor time</span><span>)</span></span></span><span class=\"stickyLongPressText\">(long-press to drag)</span></div>";s69="<span ";s69+="class=\"stx-btn stx_annotation_cancel\" style=\"display: none; margin-left:10px;\">cancel</span>";n2V="co";n2V+="ntextmen";n2V+="u";Q34="und";Q34+="efine";Q34+="d";O3f=typeof _CIQ!=="undefined"?_CIQ:q3j.CIQ;O3f.ChartEngine.prototype.pointerEvents={down:[],up:[]};O3f.ChartEngine.prototype.manageTouchAndMouse=!![];O3f.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var h__,F4_,w6q,N$k,y9k,I9r,z2D,H6d,h_j,P3E,I$_,h4U,L2v,a2b;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!1;h__=this.controls.chartControls||document;F4_=h__.querySelector(".stx-zoom-in");w6q=h__.querySelector(".stx-zoom-out");N$k=this.chart.container;y9k=this;I9r=function I9r(o7_,q11,t6o){y9k.addDomEventListener(N$k,o7_,A9H,t6o);Z7f.W3G();function A9H(T4T){if(y9k.mainSeriesRenderer&&y9k.mainSeriesRenderer.nonInteractive){return;}q11(T4T);}};if(!O3f.touchDevice){z2D="mo";z2D+="us";z2D+="edown";H6d="mo";H6d+="usemo";H6d+="ve";I9r(H6d,function(O9W){y9k.mousemove(O9W);});I9r("mouseenter",function(u85){Z7f.W5N();y9k.mousemove(u85);});I9r(z2D,function(W2A){Z7f.W5N();y9k.mousedown(W2A);});I9r("mouseup",function(O$a){Z7f.W5N();y9k.mouseup(O$a);});}else{if(O3f.isSurface){h_j="po";h_j+="inter";h_j+="d";h_j+="own";P3E="mou";P3E+="s";P3E+="edown";I9r("mousemove",function(h8f){y9k.msMouseMoveProxy(h8f);});I9r("mouseenter",function(N5B){Z7f.W3G();y9k.msMouseMoveProxy(N5B);});I9r(P3E,function(n7k){Z7f.W5N();y9k.msMouseDownProxy(n7k);});I9r("mouseup",function(Z$G){y9k.msMouseUpProxy(Z$G);});I9r(h_j,function(e7l){Z7f.W5N();return y9k.startProxy(e7l);});I9r("pointermove",function(h3E){Z7f.W3G();y9k.moveProxy(h3E);});I9r("pointerenter",function(K3T){Z7f.W3G();return y9k.moveProxy(K3T);});I9r("pointerup",function(h_e){return y9k.endProxy(h_e);});}else{if(!O3f.isMobile){I$_="mouseent";I$_+="er";I9r("mousemove",function(y6n){Z7f.W3G();y9k.iosMouseMoveProxy(y6n);});I9r(I$_,function(J40){Z7f.W5N();y9k.iosMouseMoveProxy(J40);});I9r("mousedown",function(v1g){Z7f.W3G();y9k.iosMouseDownProxy(v1g);});I9r("mouseup",function(O69){Z7f.W3G();y9k.iosMouseUpProxy(O69);});}I9r("touchstart",function(C08){Z7f.W3G();y9k.touchstart(C08);});I9r("touchmove",function(l5D){y9k.touchmove(l5D);});I9r("touchend",function(j$O){y9k.touchend(j$O);});I9r("pointerdown",function(y6H){y9k.touchPointerType=y6H.pointerType;});if(F4_){h4U="onMo";h4U+="useO";h4U+="ver";F4_.removeAttribute(h4U);F4_.removeAttribute("onMouseOut");}if(w6q){L2v="onMouseOve";L2v+="r";w6q.removeAttribute(L2v);w6q.removeAttribute("onMouseOut");}}}a2b=O3f.wheelEvent;Z7f.W5N();if(this.captureMouseWheelEvents){I9r(a2b,function(T36){y9k.mouseWheel(T36);},{passive:!{}});}};O3f.ChartEngine.prototype.mousedown=function(s9i){var g29,T9y,c6R,V6w,u05,q4o,v4n,F9R,s0_,s81,I$G;g29="moused";g29+="own";if(this.runPrepend(g29,arguments)){return;}this.grabOverrideClick=!1;if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(s9i.button&&s9i.button>=2){return;}T9y=this.container.getBoundingClientRect();this.top=T9y.top;this.left=T9y.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(s9i.clientX>=this.left&&s9i.clientX<=this.right&&s9i.clientY>=this.top&&s9i.clientY<=this.bottom){this.insideChart=!!"1";}else{c6R=-134656921;V6w=-1137160748;u05=2;for(var U34=1;Z7f.m6F(U34.toString(),U34.toString().length,41752)!==c6R;U34++){this.insideChart=!{};u05+=2;}if(Z7f.l5h(u05.toString(),u05.toString().length,20166)!==V6w){this.insideChart=!!{};}return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse&&s9i&&s9i.preventDefault&&this.captureTouchEvents){s9i.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!{};this.hasDragged=![];this.userPointerDown=!0;if(this.openDialog===""){this.registerPointerEvent({x:s9i.clientX,y:s9i.clientY,time:this.mouseTimer},"down");}q4o=this.currentPanel.chart;for(var m0n=0;m0n<this.drawingObjects.length;m0n++){v4n=this.drawingObjects[m0n];if(v4n.highlighted&&!v4n.permanent){if(this.cloneDrawing){F9R=O3f.ChartEngine.drawingTools[v4n.name];s0_=new F9R();s0_.reconstruct(this,v4n.serialize());this.drawingObjects.push(s0_);this.activateRepositioning(s0_);s0_.repositioner=v4n.repositioner;return;}s81=this.currentVectorParameters.vectorType;if(!O3f.Drawing||!s81||!O3f.Drawing[s81]||!new O3f.Drawing[s81]().dragToDraw){this.activateRepositioning(v4n);return;}}}I$G=this.mainSeriesRenderer||{};var A1Z=this.baselineHelper;if(A1Z.size){if(this.findBaselineHandle(s9i,!!{})){return;}}if(this.controls.anchorHandles){var c1n=this.controls.anchorHandles;for(var y7P in c1n){var _c1n$y7P=c1n[y7P],U_t=_c1n$y7P.handle,R60=_c1n$y7P.sd,r2r=_c1n$y7P.highlighted;if(r2r){this.repositioningAnchorSelector={sd:R60};U_t.classList.add("stx-grab");return;}}}if(this.drawingClick){if(this.currentPanel.subholder===s9i.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing&&this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!!1;q4o.spanLock=![];this.yToleranceBroken=!!"";this.grabStartX=s9i.clientX;this.grabStartY=s9i.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=q4o.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPanel=this.currentPanel;setTimeout(function(g8U){Z7f.W3G();return function(){Z7f.W5N();g8U.grabbingHand();};}(this),100);if(this.swipeStart){this.swipeStart(q4o);}if(this.longHoldTime||this.longHoldTime===0){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};O3f.ChartEngine.prototype.mousemove=function(d7U){var r0i,L4M;r0i="mou";r0i+="se";r0i+="move";L4M=d7U;O3f.ChartEngine.crosshairX=L4M.clientX;O3f.ChartEngine.crosshairY=L4M.clientY;if(L4M.type.toLowerCase().indexOf("enter")>-1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend(r0i,arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(this.baselineHelper.size){this.findBaselineHandle(L4M);}if(this.grabbingScreen&&L4M.buttons!==1){this.cancelLongHold=!!1;this.displayDragOK();this.grabbingScreen=!1;this.findHighlights(!{},!!"1");}this.mousemoveinner(L4M.clientX,L4M.clientY);this.runAppend("mousemove",arguments);};O3f.ChartEngine.prototype.mouseup=function(j4w){var r_R,J4j,W1Y,g6i,r7x,G3q,E1E,x9i,W55,U8u,F_H,M9a;r_R="mo";r_R+="use";r_R+="up";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!0;this.cancelLongHold=!![];if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250){this.changeOccurred("vector");O3f.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningBaseline){var O9b=this.repositioningBaseline.handle;this.repositioningBaseline=null;O9b.classList.remove("stx-grab");J4j=this.mainSeriesRenderer||{};if(J4j.params&&J4j.params.baseline&&J4j.params.type!="mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){O3f.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(function(_ref11){var D4O=_ref11.handle;return D4O.classList.remove("stx-grab");});this.findHighlights();return;}W1Y=this.userPointerDown;this.userPointerDown=!!0;if(!this.displayInitialized){return;}g6i=this.backOutY(j4w.clientY);r7x=this.backOutX(j4w.clientX);G3q=j4w.which&&j4w.which>=2||j4w.button&&j4w.button>=2;E1E=this.openDialog!=="";if(!E1E&&!G3q){this.registerPointerEvent({x:j4w.clientX,y:j4w.clientY,time:Date.now()},"up");}x9i=this.isDoubleClick();this.grabbingScreen=!"1";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(r7x,g6i);}this.currentPanel=this.whichPanel(g6i);}W55=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog!==""){U8u="s";U8u+="tx-drag-ch";U8u+="ar";U8u+="t";if(this.insideChart){this.container.classList.remove(U8u);}return;}if(this.grabOverrideClick){F_H="st";F_H+="x-d";F_H+="rag-chart";if(!this.overXAxis&&!this.overYAxis&&this.swipeRelease){this.swipeRelease();}this.container.classList.remove(F_H);this.grabOverrideClick=!!"";this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove("stx-drag-chart");}if(O3f.ChartEngine.resizingPanel){this.releaseHandle();return;}if(G3q||j4w.ctrlKey){if(this.anyHighlighted&&this.bypassRightClick!==!!{}){this.rightClickHighlighted();if(j4w.preventDefault&&this.captureTouchEvents){j4w.preventDefault();}j4w.stopPropagation();return!!0;}this.dispatch("rightClick",{stx:this,panel:W55,x:r7x,y:g6i});return!!"1";}if(j4w.clientX<this.left||j4w.clientX>this.right){return;}if(j4w.clientY<this.top||j4w.clientY>this.bottom){return;}M9a=W55&&W55.subholder===j4w.target;if(x9i&&(M9a||this.overYAxis||this.overXAxis)){this.doubleClick({button:j4w.button,x:r7x,y:g6i});}else{if(W1Y&&M9a){if(!this.longHoldTookEffect||this.activeDrawing){this.drawingClick(W55,r7x,g6i);}if(!this.longHoldTookEffect&&this.activeMarker){this.activeMarker.click({cx:r7x,cy:g6i,panel:W55});}}if(!this.longHoldTookEffect&&!this.activeDrawing){this.dispatch("tap",{stx:this,panel:W55,x:r7x,y:g6i});}}this.runAppend(r_R,arguments);};O3f.ChartEngine.prototype.registerPointerEvent=function(g_Y,t7c){if(this.pointerEvents[t7c].length>1){this.pointerEvents[t7c].pop();}this.pointerEvents[t7c].unshift(g_Y);};Z7f.W5N();O3f.ChartEngine.prototype.resetPointerEvent=function(S2t){this.pointerEvents[S2t].splice(0);};O3f.ChartEngine.prototype.isDoubleClick=function(Z7m){var q6U,b_Z,V1g,E36;q6U=Z7m?1200:400;Z7f.W5N();var _this$pointerEvents=this.pointerEvents,c3w=_this$pointerEvents.up,t1Z=_this$pointerEvents.down;this.cancelTouchSingleClick=![];if(c3w.length<+"2"||t1Z.length<2){return!"1";}b_Z=t1Z["0"^0].time-c3w[1].time<this.doubleClickTime&&Math.pow(c3w[1].x-c3w[0].x,2)+Math.pow(c3w[1].y-c3w[+"0"].y,2)<=q6U&&c3w[1].time-t1Z[1].time<this.longHoldTime&&c3w[+"0"].time-t1Z[0].time<this.longHoldTime;if(b_Z){V1g="dow";V1g+="n";E36="u";E36+="p";this.resetPointerEvent(E36);this.resetPointerEvent(V1g);this.cancelTouchSingleClick=!![];}return b_Z;};O3f.ChartEngine.prototype.doubleClick=function(g__,S_G,m0K){var l1u;if(this.runPrepend("doubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(O3f.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}l1u=this.activeMarker&&this.activeMarker.doubleClick({cx:S_G,cy:m0K,panel:this.currentPanel});if(!l1u){this.dispatch("doubleClick",{stx:this,button:g__,x:S_G,y:m0K});}this.runAppend("doubleClick",arguments);};O3f.ChartEngine.prototype.handleMouseOut=function(U1L){var N$i,E5W,U63;U1L=U1L||window.event;if(!O3f.withinElement(this.chart.container,U1L.pageX,U1L.pageY)){N$i="h";N$i+="andle";N$i+="M";N$i+="ouseOut";if(this.runPrepend("handleMouseOut",arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!!1);}this.undisplayCrosshairs();this.touches=[];this.touching=!"1";if(this.activeDrawing&&this.userPointerDown){this.userPointerDown=!{};this.drawingLine=![];E5W=this.backOutY(U1L.pageY);U63=this.backOutX(U1L.pageX);this.drawingClick(this.currentPanel,U63,E5W);}if(this.repositioningAnchorSelector){this.repositioningAnchorSelector=null;}this.insideChart=!!"";this.overYAxis=!"1";this.overXAxis=![];this.displaySticky();this.runAppend(N$i,arguments);}};O3f.ChartEngine.prototype.startLongHoldTimer=function(){var H3a,f9S;H3a=this;this.cancelLongHold=![];if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}f9S=function f9S(){if(H3a.cancelLongHold){return;}H3a.longHoldTookEffect=!!{};Z7f.W5N();H3a.dispatch("longhold",{stx:H3a,panel:H3a.currentPanel,x:H3a.cx,y:H3a.cy});H3a.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(f9S,this.longHoldTime);}else if(this.longHoldTime===0){f9S();}};O3f.ChartEngine.prototype.grabHandle=function(N2W){Z7f.W5N();var Y_9,h8c;Y_9="gr";Y_9+="abHandle";h8c="s";h8c+="tx-grab";if(this.runPrepend("grabHandle",arguments)){return;}if(!N2W){return;}O3f.ChartEngine.crosshairY=N2W.top+this.top;O3f.ChartEngine.resizingPanel=N2W;N2W.handle.classList.add(h8c);this.runAppend(Y_9,arguments);};O3f.ChartEngine.prototype.grabbingHand=function(){var A0W;A0W="stx-drag";A0W+="-";A0W+="chart";if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(O3f.touchDevice){return;}this.container.classList.add(A0W);};O3f.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments)){return!!{};}O3f.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(O3f.ChartEngine.resizingPanel){O3f.ChartEngine.resizingPanel.handle.classList.remove("stx-grab");}O3f.ChartEngine.resizingPanel=null;this.runAppend("releaseHandle",arguments);};O3f.ChartEngine.prototype.findHighlights=function(m5Z,D8F){var Z8m,y0E,D$e,z6T,y1i,b45,y7H,R41,z9V,l9g,u$d,s5$,J9M,g36,Q0B,S8n,W6Z,W5u,Z0R,R3d,B3J,v_M,S2r,s5Y,u7f,z4Z,M$P,H41,x61,t0W,u0s,g$f,Q9J,e$5,y_4,R4V,L9Z,R5U,O2A,J0a,w8L,E_l,X1g,H3z,H5C,J$G,O9N,m40,n7D,y__;Z8m="d";Z8m+="raw";Z8m+="ing";y0E=this.preferences[m5Z?"highlightsTapRadius":"highlightsRadius"];this.highlightViaTap=m5Z;var b6D=this.cx,i5l=this.cy;this.anyHighlighted=![];if(!this.currentPanel){return;}var W69=this.currentPanel.chart;if(this.activeDrawing){D8F=!!{};}D$e=![];z6T=null;y1i=D8F?{}:{forceShow:!"",type:Z8m};b45={x0:this.tickFromPixel(b6D-y0E,W69),x1:this.tickFromPixel(b6D+y0E,W69),y0:this.valueFromPixel(i5l-y0E,this.currentPanel),y1:this.valueFromPixel(i5l+y0E,this.currentPanel),cx0:b6D-y0E,cx1:b6D+y0E,cy0:i5l-y0E,cy1:i5l+y0E,r:y0E};if(this.repositioningDrawing&&b45.x1-b45.x0<+"2"){b45.x1++;b45.x0--;}else if(b45.x1==b45.x0){b45.x0-=0.5;b45.x1+=0.5;}y7H=this.markerHelper&&this.markerHelper.chartMap[W69.name]&&this.markerHelper.chartMap[W69.name].markers;if(!W69.hideDrawings){for(var M$k=this.drawingObjects.length-1;M$k>=+"0";M$k--){R41=this.drawingObjects[M$k];if(!this.panels[R41.panelName])continue;if(this.repositioningDrawing&&this.repositioningDrawing!=R41)continue;z9V=R41.highlighted;l9g=R41.panelName==this.currentPanel.name;R41.repositioner=R41.intersected(this.crosshairTick,this.crosshairValue,b45);l9g=l9g&&R41.repositioner;if(!D8F&&l9g){if(z9V){z6T=R41;if(this.anyHighlighted&&this.singleDrawingHighlight){R41.highlighted=![];}if(R41.highlighted&&R41.highlighted!=z9V){D$e=!"";};}else if(z9V!=R41.highlight(!!1)){if(!z6T){z6T=R41;}if(this.anyHighlighted&&this.singleDrawingHighlight){R41.highlighted=!{};}D$e=!![];}this.anyHighlighted=!![];}else{if(z9V!=R41.highlight(![])){D$e=!!{};}}if(R41.highlighted){y1i.noDelete=R41.permanent;y1i.noEdit=!this.callbackListeners.drawingEdit.length;}}}for(u$d in this.layout.studies){s5$=this.layout.studies[u$d];s5$.prev=s5$.highlight;s5$.highlight=this.yaxisMatches(s5$,this.grabStartYAxis);}for(u$d in W69.seriesRenderers){S8n=W69.seriesRenderers[u$d];S8n.params.highlight=this.yaxisMatches(S8n,this.grabStartYAxis);for(var b8b=0;b8b<S8n.seriesParams.length;b8b++){Q0B=S8n.seriesParams[b8b];Q0B.prev=Q0B.highlight;Q0B.highlight=S8n.params.highlight;}}for(J9M=0;y7H&&J9M<y7H.length;J9M++){g36=y7H[J9M];if(!g36.params.box)continue;this.activeMarker=null;g36.prev=y7H[J9M].highlight;g36.highlight=![];}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedDraggable=null;if(!D8F&&!this.anyHighlighted&&this.controls.anchorHandles){for(var b0y in this.controls.anchorHandles){W6Z=this.controls.anchorHandles[b0y];var _W6Z=W6Z,u$E=_W6Z.handle,q0_=_W6Z.sd;W5u=this.resolveX(b6D);Z0R=this.resolveY(i5l);if(u$E){var _u$E$getBoundingClien=u$E.getBoundingClientRect(),P6w=_u$E$getBoundingClien.left,y75=_u$E$getBoundingClien.top,I12=_u$E$getBoundingClien.right,T_q=_u$E$getBoundingClien.bottom;if(O3f.boxIntersects(P6w,y75,I12,T_q,W5u,Z0R,W5u,Z0R)){R3d="anchorHand";R3d+="le";W6Z.highlighted=!!1;this.anyHighlighted=!!{};D$e=!!{};y1i={message:q0_.name,type:R3d};continue;}if(W6Z.highlighted===!!"1"){W6Z.highlighted=!1;D$e=!!{};}}}}if(!D8F&&!this.anyHighlighted&&W69.dataSegment){B3J=this.barFromPixel(b6D);if(B3J>=0&&B3J<W69.dataSegment.length){for(u$d in this.overlays){s5$=this.overlays[u$d];if(s5$.panel!=this.currentPanel.name)continue;if(s5$.study.isHighlighted===!{})continue;else if(typeof s5$.study.isHighlighted=="function"){if(s5$.study.isHighlighted(this,b6D,i5l)){s5$.highlight=!0;this.anyHighlighted=!![];}continue;}S2r=W69.dataSegment[B3J];if(!S2r)continue;for(var M79 in s5$.outputMap){if(y$R.call(this,B3J,b45,M79,s5$.getYAxis(this))){if(s5$.name!=s5$.panel){this.anyHighlighted=!"";}s5$.highlight=M79;break;}}if(s5$.highlight){this.highlightedDataSetField=M79;break;;}}for(u$d in W69.seriesRenderers){if(this.highlightedDataSetField)break;s5Y=W69.seriesRenderers[u$d];u7f=s5Y.params.panel;if(s5Y==this.mainSeriesRenderer)continue;if(!s5Y.params.highlightable&&!this.currentVectorParameters.vectorType)continue;if(u7f!=this.currentPanel.name)continue;for(J9M=0;J9M<s5Y.seriesParams.length;J9M++){z4Z="-";z4Z+="-";z4Z+=">";Q0B=s5Y.seriesParams[J9M];M$P=Q0B.field;if(!M$P&&!s5Y.highLowBars){M$P=this.defaultPlotField||"Close";}if(Q0B.symbol&&Q0B.subField){M$P+=z4Z+Q0B.subField;}H41=s5Y.params.yAxis;if(!H41&&u7f){H41=this.panels[u7f].yAxis;}if(s5Y.params.step&&B3J>+"0"){if(!s5Y.caches[Q0B.id])continue;v_M=s5Y.caches[Q0B.id][B3J];if(!v_M&&v_M!==0)continue;Z7f.s$9(1);x61=s5Y.caches[Q0B.id][Z7f.v$j(1,B3J)];if((x61||x61===0)&&i5l+y0E>=v_M&&i5l-y0E<=x61||i5l-y0E<=v_M&&i5l+y0E>=x61){Q0B.highlight=!!"1";this.anyHighlighted=!![];}}else if(y$R.call(this,B3J,b45,M$P,H41,s5Y,Q0B.id)){Q0B.highlight=!!1;this.anyHighlighted=!![];}if(Q0B.highlight){this.highlightedDataSetField=M$P;break;}}}}}u0s=this.preferences.dragging;for(u$d in this.overlays){s5$=this.overlays[u$d];if(s5$.highlight){this.anyHighlighted=!!1;Q9J=s5$.inputs.display||s5$.name;Q9J=this.translateIf(Q9J);y1i={message:Q9J,noDelete:s5$.permanent,noEdit:!s5$.editFunction,type:"study"};z6T=null;if(u0s===!""||u0s&&u0s.study){t0W=s5$;}g$f=s5$.getYAxis(this);}if(s5$.prev!=s5$.highlight){D$e=!!1;}}Z7f.W3G();for(u$d in W69.seriesRenderers){e$5=W69.seriesRenderers[u$d];y_4=e$5.params.yAxis?e$5.params.yAxis.textStyle:null;for(var j3f=0;j3f<e$5.seriesParams.length;j3f++){Q0B=e$5.seriesParams[j3f];if(e$5.params.highlightable&&Q0B.highlight){R4V="a";R4V+="ut";R4V+="o";this.anyHighlighted=!![];L9Z=Q0B.color||y_4;if(L9Z==R4V){L9Z=this.defaultColor;}if(Q0B.opacity&&Q0B.opacity!==1){L9Z=O3f.hexToRgba(O3f.colorToHex(L9Z),parseFloat(Q0B.opacity));}y1i={message:Q0B.display||Q0B.symbol,backgroundColor:L9Z,noDelete:Q0B.permanent,type:"series"};z6T=null;if(u0s===!!1||u0s&&u0s.series){t0W=e$5;e$5.params.highlight=!!1;}g$f=e$5.getYAxis(this);}if(Q0B.prev!=Q0B.highlight){D$e=!!{};}}}for(u$d in this.plugins){R5U=this.plugins[u$d];O2A={};if(R5U.findHighlights){O2A=R5U.findHighlights(this,m5Z,D8F);if(O2A.somethingChanged){D$e=!!{};}if(O2A.anyHighlighted){this.anyHighlighted=!!{};y1i=O2A.stickyArgs||{};}}}J0a=this.whichPanel(i5l);w8L=this.whichYAxis(J0a,b6D);if(!g$f){g$f=w8L;}if(this.currentBaseline){g$f=this.currentBaseline.getYAxis(this);}if(g$f){if(!g$f.highlight){D$e=!"";}g$f.highlight=!![];}E_l=[];for(var x2x in this.panels){E_l=E_l.concat(this.panels[x2x].yaxisLHS).concat(this.panels[x2x].yaxisRHS);}function y$R(t4N,K56,l$X,u_1,E8t,W4Y){var v38,p1N,K3F,R8c,J$a,A$i,Z6N,b5_,X1C,P$E,f_S,f1N,q53,n3y,S0g,D7P,q2N,P8g,J1h,Q5i,v1f,h0g,N3V;function y2$(B$z){var x2n;if(!B$z){return null;}x2n=B$z[J$a];if(x2n&&(x2n[A$i]||x2n[A$i]===+"0")){x2n=x2n[A$i];}if(E8t&&E8t.getBasis){x2n+=E8t.getBasis(B$z,J$a,A$i);}if(!p1N.transformFunc||u_1!=p1N.yAxis){return x2n;}else if(B$z.transform&&J$a in B$z.transform){x2n=B$z.transform[J$a];if(x2n&&(x2n[A$i]||x2n[A$i]===0)){x2n=x2n[A$i];}return x2n;}return p1N.transformFunc(this,p1N,x2n);}v38="-";v38+="-";v38+=">";p1N=this.chart;K3F=this.currentPanel;if(!u_1){u_1=K3F.yAxis;}R8c=l$X.split(v38);J$a=R8c[0];A$i=R8c[1];Z7f.W3G();if(!A$i){A$i="Close";}Z6N=p1N.dataSegment[B3J];q53=null;n3y=null;S0g=null;D7P=new Array(3);q2N=E8t&&E8t.caches[W4Y];if(Z6N&&q2N){P$E=q2N[B3J];q53=Z6N.tick;if(P$E||P$E===("0"|0)){D7P[0]=1;}for(P8g=B3J-1;P8g>=0;P8g--){if(q2N[P8g]||q2N[P8g]===0){f_S=q2N[P8g];Z7f.O_b(88);n3y=Z7f.v$j(P8g,q53,B3J);D7P[1]=1;break;}}for(P8g=B3J+1;P8g<p1N.dataSegment.length;P8g++){if(q2N[P8g]||q2N[P8g]===+"0"){f1N=q2N[P8g];Z7f.s$9(88);S0g=Z7f.V9a(P8g,q53,B3J);D7P[2]=1;break;}}}if(n3y===null){b5_=this.getPreviousBar.call(this,p1N,l$X,B3J);if(b5_){n3y=b5_.tick;f_S=y2$(b5_);}}if(S0g===null){X1C=this.getNextBar.call(this,p1N,l$X,B3J);if(X1C){S0g=X1C.tick;f1N=y2$(X1C);}}if(n3y===null&&S0g===null){return!"1";}if(!q2N){P$E=y2$(Z6N);f_S=y2$(b5_);f1N=y2$(X1C);q53=Z6N.tick;if(b5_){n3y=b5_.tick;}if(X1C){S0g=X1C.tick;}}if(!f_S&&f_S!=="0"*1){f_S=0;n3y=0;}if(!f1N&&f1N!==0){if(P$E||P$E==="0"-0){f1N=P$E;D7P[2]=D7P[+"0"];}else{f1N=f_S;Z7f.s$9(39);D7P[Z7f.V9a("2",0)]=D7P[1];}if(W4Y&&p1N.series[W4Y].parameters.extendToEndOfDataSet){Z7f.s$9(23);var g4x=Z7f.v$j(3,2);S0g=p1N.dataSet.length-g4x;}else{S0g=n3y;}}if(!P$E&&P$E!==0){P$E=f1N;q53=S0g;D7P[0]=D7P[2];if(f_S===0&&n3y===0){f_S=P$E;n3y=q53;D7P[1]=D7P[0];}}J1h=this.pixelFromTransformedValue.bind(this);Q5i=this.valueFromPixel.bind(this);P$E=Q5i(D7P[0]?P$E:J1h(P$E,K3F,u_1),K3F);f_S=Q5i(D7P["1"^0]?f_S:J1h(f_S,K3F,u_1),K3F);f1N=Q5i(D7P[2]?f1N:J1h(f1N,K3F,u_1),K3F);v1f=O3f.convertBoxToPixels(this,K3F.name,K56);h0g=O3f.convertBoxToPixels(this,K3F.name,{x0:n3y,y0:f_S,x1:q53,y1:P$E});N3V=O3f.convertBoxToPixels(this,K3F.name,{x0:q53,y0:P$E,x1:S0g,y1:f1N});if(O3f.boxIntersects(v1f.x0,v1f.y0,v1f.x1,v1f.y1,h0g.x0,h0g.y0,h0g.x1,h0g.y1,"segment")||O3f.boxIntersects(v1f.x0,v1f.y0,v1f.x1,v1f.y1,N3V.x0,N3V.y0,N3V.x1,N3V.y1,"segment")){return!!{};}return!!0;}for(u$d=0;u$d<E_l.length;u$d++){if(g$f==E_l[u$d]&&!D8F)continue;if(E_l[u$d].highlight){D$e=!![];}E_l[u$d].highlight=![];}for(J9M=0;y7H&&J9M<y7H.length;J9M++){g36=y7H[J9M];X1g=g36.params.box;if(!X1g)continue;if(g36.params.panelName!==this.currentPanel.name)continue;H3z=O3f.convertBoxToPixels(this,this.currentPanel.name,b45);if(O3f.boxIntersects(H3z.x0,H3z.y0,H3z.x1,H3z.y1,X1g.x0,X1g.y0,X1g.x1,X1g.y1)){this.activeMarker=g36;g36.highlight=!!"1";this.markerHelper.highlighted.push(g36);}if(g36.prev!=g36.highlight){D$e=!!{};}}if(D$e){this.draw();y1i.panel=J0a;if(this.anyHighlighted&&!this.grabStartYAxis){y1i.panel=J0a;}else{y1i={};}this.displaySticky(y1i);this.clearMeasure();if(z6T){z6T.measure();}}if((u0s===!0||u0s&&u0s.yaxis)&&w8L&&!w8L.noDraw){this.anyHighlight=!!{};t0W=w8L;}if(!this.anyHighlighted){this.setMeasure();}if(t0W&&!J0a.noDrag){H5C="stx-d";H5C+="raggab";H5C+="le";if(this.longHoldTookEffect&&!this.cancelLongHold){if(t0W.params){if(t0W.params.dependentOf){t0W=W69.seriesRenderers[t0W.params.dependentOf];t0W.params.highlight=!0;}for(u$d in W69.seriesRenderers){if(W69.seriesRenderers[u$d].params.dependentOf==t0W.params.name){W69.seriesRenderers[u$d].params.highlight=!!1;}}}this.highlightedDraggable=t0W;if(t0W.getDependents){J$G=t0W.getDependents(this,!!{});for(u$d in this.overlays){s5$=this.overlays[u$d];if(J$G.indexOf(s5$)>-("1"*1)){s5$.highlight=!!{};}}}}this.container.classList.add(H5C);}else{O9N=-333451783;m40=-1204407705;n7D=2;for(var R4Q=+"1";Z7f.l5h(R4Q.toString(),R4Q.toString().length,96758)!==O9N;R4Q++){y__="stx-";y__+="dra";y__+="gga";y__+="ble";this.container.classList.remove(y__);n7D+=2;}if(Z7f.m6F(n7D.toString(),n7D.toString().length,8656)!==m40){this.container.classList.remove("");}}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};O3f.ChartEngine.prototype.rightClickHighlighted=function(){var n5N;n5N="rightClic";n5N+="kHighli";n5N+="gh";n5N+="ted";if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!!"1");Z7f.W3G();this.runAppend(n5N,arguments);};O3f.ChartEngine.prototype.deleteHighlighted=function(N9r,V3D){var V0W,F0n,k6w,I62,f$8,Y9P,D_b,S_k,i_S,A5_,t7W,g_y,h0o;V0W="deleteH";V0W+="ighlighte";V0W+="d";if(this.runPrepend(V0W,arguments)){return;}this.cancelTouchSingleClick=!!"1";O3f.clearCanvas(this.chart.tempCanvas,this);F0n=this.bypassRightClick===!!0;if(F0n||!this.bypassRightClick.drawing){for(var V77=this.drawingObjects.length-1;V77>=0;V77--){k6w=this.drawingObjects[V77];if(!k6w.highlighted)continue;if(N9r){this.rightClickDrawing(k6w,V3D);}else if(!k6w.permanent){I62=k6w.abort();if(!I62){f$8=this.exportDrawings();this.drawingObjects.splice(V77,1);this.undoStamp(f$8,this.exportDrawings());}this.changeOccurred("vector");}}}if(F0n||!this.bypassRightClick.study){for(var u9R in this.overlays){Y9P=this.overlays[u9R];if((Y9P.overlay||Y9P.underlay)&&Y9P.highlight&&!Y9P.permanent){if(N9r||V3D){this.rightClickOverlay(u9R,V3D);}else{this.removeOverlay(u9R);}}}}D_b=this.currentPanel.chart;if(F0n||!this.bypassRightClick.series){for(var E5g in D_b.seriesRenderers){S_k=D_b.seriesRenderers[E5g];if(S_k.params.highlightable){i_S=this.panels[S_k.params.panel];A5_=i_S&&i_S.yAxis.name;for(var J6O=S_k.seriesParams.length-1;J6O>=0;J6O--){t7W=S_k.seriesParams[J6O];if((S_k.params.highlight||t7W.highlight)&&!t7W.permanent){S_k.removeSeries(t7W.id);if(S_k.seriesParams.length<1){this.removeSeriesRenderer(S_k);if(S_k.params.name==A5_){this.electNewPanelOwner(S_k.params.panel);}else{this.checkForEmptyPanel(S_k.params.panel);g_y=this.getYAxisByName(i_S,S_k.params.name);if(g_y){g_y.name=g_y.studies[0]||g_y.renderers["1"-0];}}}}}}}}this.draw();this.resizeChart();this.clearMeasure();h0o=this.controls.mSticky;if(h0o){h0o.style.display="none";h0o.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};O3f.ChartEngine.prototype.displayDragOK=function(N4E){var W2w,N9O,q9H,g1o,a8f,W6t,w0N,f4Q,V9u,t2$,m6I,x6u,y_E,t7Y,N3e;W2w=this.controls.dragOk;function L4m(x$m){var X5N,s1M,T7I,J$Y,Q6p;Z7f.W3G();X5N=".";X5N+="field";s1M="t";s1M+="ex";s1M+="t";T7I=".fi";T7I+="el";T7I+="d";J$Y=this.translateIf(x$m.querySelector(T7I).getAttribute(s1M));Q6p=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy);if(Q6p&&Q6p.dropzone=="all"){J$Y+="-->"+this.translateIf(Q6p.name);}x$m.querySelector(X5N).innerHTML=J$Y;}if(W2w){if(!N4E){if(!this.tapForHighlighting||!this.touchingEvent||this.anyHighlighted){this.findHighlights(this.highlightViaTap);};}N9O=this.highlightedDraggable;q9H=N9O&&N9O.undraggable&&N9O.undraggable(this);g1o=this.cx;a8f=this.cy;if(!N4E){if(N9O&&!q9H&&this.longHoldTookEffect&&!this.cancelLongHold){W6t="stx-dr";W6t+="ag-ser";W6t+="ies";w0N="s";w0N+="tx-";w0N+="drag-axis";f4Q="s";f4Q+="tx-drag-chart";V9u=N9O.inputs&&N9O.inputs.display||N9O.params&&(N9O.params.display||N9O.params.name)||N9O.name;W2w.querySelector(".field").setAttribute("text",V9u);L4m.call(this,W2w);W2w.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace(f4Q,w0N);}else{this.container.classList.replace("stx-drag-chart",W6t);}}else{W2w.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var B0F in this.panels){t2$="a";t2$+="ll";m6I=this.panels[B0F].subholder.classList;m6I.remove("dropzone");m6I.remove(t2$);m6I.remove("left");m6I.remove("right");m6I.remove("top");m6I.remove("bottom");for(x6u=0;x6u<this.panels[B0F].yaxisLHS.length;x6u++){this.panels[B0F].yaxisLHS[x6u].dropzone=null;}for(x6u=0;x6u<this.panels[B0F].yaxisRHS.length;x6u++){this.panels[B0F].yaxisRHS[x6u].dropzone=null;}}}this.draw();}if(N9O){y_E="p";y_E+="x";t7Y=a8f+W2w.offsetHeight;N3e=Math.max(0,g1o-W2w.offsetWidth);Z7f.s$9(0);W2w.style.top=Z7f.v$j(t7Y,"px");Z7f.s$9(0);W2w.style.left=Z7f.v$j(N3e,y_E);L4m.call(this,W2w);}}};O3f.ChartEngine.prototype.displayDrawOK=function(){Z7f.W5N();var J6m,p9X,Y4Y,l9_,a42,h5e;J6m=this.controls.drawOk;if(J6m&&O3f.Drawing){p9X=O3f.Drawing[this.currentVectorParameters.vectorType];if(p9X){p9X=new p9X();}if(this.highlightedDataSetField&&p9X&&p9X.getYValue){Y4Y=".f";Y4Y+="i";Y4Y+="e";Y4Y+="ld";l9_="in";l9_+="li";l9_+="ne-blo";l9_+="ck";J6m.style.display=l9_;a42=this.cy+J6m.offsetHeight;h5e=this.cx-J6m.offsetWidth;Z7f.s$9(0);J6m.style.top=Z7f.v$j(a42,"px");Z7f.s$9(0);J6m.style.left=Z7f.v$j(h5e,"px");J6m.querySelector(Y4Y).innerHTML=this.translateIf(this.highlightedDataSetField);}else{J6m.style.display="none";}}};O3f.ChartEngine.prototype.mouseWheel=function(L5g){var N7C,T1Z,r6w,a6K,s$5,x40,s0o,J5Z,K0F;N7C="mouseWhee";N7C+="l";if(this.runPrepend("mouseWheel",arguments)){return;}if(L5g.preventDefault){L5g.preventDefault();}if(this.openDialog!==""){return;}T1Z=L5g.deltaX;r6w=L5g.deltaY;if(Math.abs(r6w)>Math.abs(T1Z)){T1Z=0;}else{r6w=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(T1Z)===0&&Math.abs(r6w)==="0"*1){return;}if(this.allowSideswipe&&T1Z!==0){this.lastMove="horizontal";a6K=T1Z;if(a6K>50){a6K=50;}if(a6K<-50){a6K=-50;}this.grabbingScreen=!![];if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=O3f.ChartEngine.crosshairX;this.grabStartY=O3f.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;this.mousemoveinner(O3f.ChartEngine.crosshairX-a6K,O3f.ChartEngine.crosshairY);this.updateChartAccessories();this.grabbingScreen=!!"";return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(!r6w){s$5="mous";s$5+="ew";s$5+="h";s$5+="eel";if(O3f.wheelEvent==s$5){Z7f.s$9(23);var k13=Z7f.V9a(4,5);Z7f.s$9(89);var i0$=Z7f.V9a(4,13,17,39);r6w=k13/i0$*L5g.wheelDelta;if(L5g.wheelDeltaX){Z7f.s$9(1);var M4W=Z7f.V9a(20,19);Z7f.s$9(0);var y_X=Z7f.v$j(27,13);T1Z=M4W/y_X*L5g.wheelDeltaX;}}else{r6w=L5g.detail;}}if(typeof L5g.deltaMode=="undefined"){L5g.deltaMode=L5g.type=="MozMousePixelScroll"?0:1;}x40=-r6w;if(L5g.deltaMode==1){x40*=33;}s0o=null;J5Z=null;if(this.mouseWheelAcceleration){K0F=Math.max(Math.pow(Math.abs(x40),"0.3"*1),+"1");Z7f.s$9(90);s0o=Z7f.V9a(K0F,0.1,1);Z7f.O_b(46);J5Z=Z7f.V9a(0.2,1,K0F);}this.zoomInitiatedByMouseWheel=!!1;if(x40>0){if(this.reverseMouseWheel){this.zoomOut(null,J5Z);}else{this.zoomIn(null,s0o);}}else if(x40<0){if(this.reverseMouseWheel){this.zoomIn(null,s0o);}else{this.zoomOut(null,J5Z);}}if(this.runAppend(N7C,arguments)){return;}return![];};O3f.ChartEngine.handleContextMenu=function(d0P){var d85;for(var u4U=0;u4U<O3f.ChartEngine.registeredContainers.length;u4U++){d85=O3f.ChartEngine.registeredContainers[u4U].stx;if(d85){if(d85.anyHighlighted){if(d0P.preventDefault){d0P.preventDefault();}return!!"";}}}};if((typeof document==="undefined"?"undefined":_typeof(document))!=Q34){document.addEventListener(n2V,O3f.ChartEngine.handleContextMenu);}O3f.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:s69,mSticky:e9u,drawOk:J3z,dragOk:F44,crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'};O3f.ChartEngine.prototype.registerChartControl=function(a0o,Q$C,X6s){var i9F,k1H,L4F,s_l;i9F=this.controls;if(!i9F||!i9F.chartControls){return;}if(i9F.chartControls.querySelector("."+a0o)){return;}k1H=null;L4F=i9F.chartControls.querySelector(".stx-zoom-in");if(L4F){s_l="s";s_l+="p";s_l+="a";s_l+="n";k1H=document.createElement(s_l);Z7f.O_b(35);k1H.innerHTML=Z7f.V9a(Q$C,"</span>",'<span class="stx-tooltip">');Z7f.s$9(0);k1H.className=Z7f.V9a("stx-chart-control-button ",a0o);L4F.parentNode.appendChild(k1H);if(X6s){O3f.safeClickTouch(k1H,X6s);}if(!O3f.touchDevice){this.makeModal(k1H);}return k1H;}};O3f.ChartEngine.prototype.zoomOut=function(n09,t6c){var y9S,q2w,M$z,w0t,c8T;y9S="zo";Z7f.W5N();y9S+="omOut";if(this.runPrepend(y9S,arguments)){return;}if(this.preferences.zoomOutSpeed){t6c=this.preferences.zoomOutSpeed;}else if(!t6c){Z7f.s$9(9);t6c=Z7f.v$j(1,0.7);}if(n09&&n09.preventDefault){n09.preventDefault();}this.cancelTouchSingleClick=!![];q2w=this;for(var Z0T in this.charts){M$z=this.charts[Z0T];w0t=M$z.width*t6c/this.layout.candleWidth;if(M$z.allowScrollFuture===![]&&M$z.allowScrollPast===!{}&&w0t>M$z.dataSet.length){w0t=M$z.dataSet.length;}c8T=this.chart.width/w0t;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(s9N(M$z),this.layout.candleWidth,c8T);}function s9N(I6n){Z7f.W3G();return function(s$K){var U96;q2w.zoomSet(s$K,I6n);if(q2w.animations.zoom.hasCompleted){U96="la";U96+="yout";if(q2w.runAppend("zoomOut",arguments)){return;}q2w.changeOccurred(U96);if(q2w.continuousZoom){q2w.continuousZoom.execute(!!"1");}}};}};O3f.ChartEngine.prototype.zoomIn=function(S0q,q3r){var B1n,S0P,Q9t,L2c,n_s;B1n="zo";B1n+="o";B1n+="m";B1n+="In";if(this.runPrepend(B1n,arguments)){return;}if(this.preferences.zoomInSpeed){q3r=this.preferences.zoomInSpeed;}else if(!q3r){q3r=0.7;}if(S0q&&S0q.preventDefault){S0q.preventDefault();}this.cancelTouchSingleClick=!0;S0P=this;for(var a4N in this.charts){Q9t=this.charts[a4N];L2c=Q9t.width*q3r/this.layout.candleWidth;if(Q9t.maxTicks-L2c<1){Z7f.O_b(1);var y3U=Z7f.v$j(19,20);L2c=Q9t.maxTicks-y3U;}if(L2c<this.minimumZoomTicks){L2c=this.minimumZoomTicks;}n_s=this.chart.width/L2c;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(C5l(Q9t),this.layout.candleWidth,n_s);}function C5l(j6z){return function(p4o){var c7c;S0P.zoomSet(p4o,j6z);Z7f.W5N();if(S0P.animations.zoom.hasCompleted){c7c="z";c7c+="o";c7c+="o";c7c+="mIn";if(S0P.runAppend(c7c,arguments)){return;}S0P.changeOccurred("layout");if(S0P.continuousZoom){S0P.continuousZoom.execute();}}};}};O3f.ChartEngine.prototype.createCrosshairs=function(){var g34,U83;if(this.runPrepend("createCrosshairs",arguments)){return;}if(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive){return;}g34=this.controls.crossX;U83=this.controls.crossY;if(g34){if(!g34.onmousedown){g34.onmousedown=function(n_F){if(n_F.preventDefault){n_F.preventDefault();}return!!"";};}}if(U83){if(!U83.onmousedown){U83.onmousedown=function(V0A){Z7f.W3G();if(V0A.preventDefault){V0A.preventDefault();}return!"1";};}}this.runAppend("createCrosshairs",arguments);};J0h=!!"";O3f.ChartEngine.prototype.mousemoveinner=O3f.ChartEngine.prototype.mousemoveinner||function(Q$l,U2r){if(!J0h){console.error("interaction feature requires activating movement feature.");}Z7f.W3G();J0h=!![];};};V=function V(Q5o){var b$6=i6UVR;var a8d,b4N;a8d="u";b$6.W3G();a8d+="n";a8d+="d";a8d+="efined";b4N=(typeof _CIQ==="undefined"?"undefined":_typeof(_CIQ))!==a8d?_CIQ:Q5o.CIQ;if(!b4N.Marker){b4N.ChartEngine.helpersToRegister.push(function(b1D){b$6.W3G();b1D.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]};});b4N.ChartEngine.prototype.addToHolder=function(N9p){var W4z,z0c,T5R,s2g;W4z=this.panels[N9p.params.panelName];b$6.W3G();if(!W4z){return;}z0c=N9p.params;T5R=N9p.node;s2g=N9p.stxNodeCreator;if(s2g&&s2g.prepareForHolder){T5R=s2g.prepareForHolder(N9p);}if(z0c.chartContainer){this.container.appendChild(N9p.node);}else if(z0c.includeAxis){W4z.holder.appendChild(N9p.node);}else{W4z.subholder.appendChild(T5R);}N9p.chart=W4z.chart;if(s2g&&s2g.addToHolder){s2g.addToHolder(N9p);}if(s2g&&s2g.expand){b4N.Marker.initializeScrollBehavior(s2g);}};b4N.ChartEngine.prototype.getMarkerArray=function(k4H,I3F){var z2I,o8w;z2I=[];for(var h6u in this.markers){for(var t5d=0;t5d<this.markers[h6u].length;t5d++){o8w=this.markers[h6u][t5d];if(k4H=="panelName"){if(o8w.params.panelName==I3F){z2I.push(o8w);}}else if(k4H=="label"){if(h6u==I3F){z2I.push(o8w);}}else if(k4H=="all"){z2I.push(o8w);}}}return z2I;};b4N.ChartEngine.prototype.removeFromHolder=function(S$G){var D$H,F6y,D7g,W5C,T6x,o5J;D$H=this.panels[S$G.params.panelName];if(D$H){if(S$G.node.parentNode==D$H.holder){D$H.holder.removeChild(S$G.node);}else if(S$G.node.parentNode==D$H.subholder){D$H.subholder.removeChild(S$G.node);}else if(S$G.node.parentNode==this.container){this.container.removeChild(S$G.node);}}F6y=this.markers[S$G.params.label];if(!F6y){return;}b$6.W5N();for(D7g=0;D7g<F6y.length;D7g++){if(F6y[D7g]===S$G){F6y.splice(D7g,1);break;}}W5C=this.markerHelper.chartMap[S$G.chart.name];if(W5C){for(D7g="0"|0;D7g<W5C.markers.length;D7g++){if(W5C.markers[D7g]===S$G){W5C.markers.splice(D7g,1);break;}}}T6x=this.markerHelper.classMap[S$G.className];if(T6x){o5J=T6x[S$G.params.panelName];if(o5J){for(D7g=0;D7g<o5J.length;D7g++){if(o5J[D7g]===S$G){o5J.splice(D7g,1);break;}}}}};b4N.ChartEngine.prototype.moveMarkers=function(E3G,S3w){var q4U,w7k;q4U=this.getMarkerArray("panelName",E3G);for(var e2a=0;e2a<q4U.length;e2a++){q4U[e2a].params.panelName=S3w;}for(var g5b in this.markerHelper.classMap){w7k=this.markerHelper.classMap[g5b][E3G];if(w7k){this.markerHelper.classMap[g5b][S3w]=w7k;delete this.markerHelper.classMap[g5b][E3G];}}};b4N.ChartEngine.prototype.establishMarkerTicks=function(){var i2P,E1z;i2P=this.markerHelper.chartMap;b$6.W3G();for(var w8o in i2P){E1z=i2P[w8o];if(E1z.dataSetLength==this.charts[w8o].dataSet.length)continue;for(var J6l="0">>64;J6l<E1z.markers.length;J6l++){this.setMarkerTick(E1z.markers[J6l]);}}};b4N.ChartEngine.prototype.futureTickIfDisplayed=function(b_P){var l81,I2v,x26,Q7U,B4b,D0F,H$$,X1p,N9w;l81=b_P.chart;if(l81.dataSet.length<1){return;}I2v=l81.xaxis[l81.xaxis.length-1].DT;b$6.O_b(33);var v4v=b$6.v$j(59994,12,6);I2v=new Date(I2v.getTime()-this.timeZoneOffset*v4v);if(b_P.params.x>I2v){return;}x26=l81.maxTicks-l81.dataSegment.length;Q7U=l81.dataSet.length+x26;H$$=new Date(+l81.dataSet[l81.dataSet.length-1].DT);b$6.W3G();X1p=this.standardMarketIterator(H$$,null,l81);N9w=b_P.params.x.getTime();for(var A1G=l81.dataSet.length;A1G<Q7U;A1G++){B4b=H$$.getTime();H$$=X1p.next();D0F=H$$.getTime();if(D0F==N9w){b_P.tick=A1G;return;}else if(D0F>N9w&&B4b<N9w){b$6.O_b(1);b_P.tick=Math.max(b$6.v$j(1,A1G),0);return;}}};b4N.ChartEngine.prototype.setMarkerTick=function(b9W){var Z2$,x1N,L6N,J95,J_7,K2a,a1h;Z2$="mast";Z2$+="er";x1N=b9W.chart;if(b9W.params.xPositioner==Z2$&&b9W.params.x){b9W.tick=Math.floor(b9W.params.x/this.layout.periodicity);return;}else if(b9W.params.xPositioner=="date"&&b9W.params.x){J_7=b9W.params.x.getTime();for(var B60=0;B60<x1N.dataSet.length;B60++){K2a=x1N.dataSet[B60];J95=K2a.DT.getTime();L6N=J95;if(B60>"0">>32){L6N=x1N.dataSet[B60-1].DT.getTime();}if(J95==J_7){b9W.tick=B60;return;}else if(J95>J_7&&L6N<J_7){b$6.O_b(1);b9W.tick=Math.max(b$6.V9a(1,B60),b$6.V9a(0,"0"));return;}else if(J_7<J95){b9W.tick=null;return;}}if(x1N.dataSet.length<1){return;}a1h=new Date(+x1N.dataSet[B60-"1"*1].DT);if(a1h.getTime()<J_7){b9W.params.future=!!{};}b9W.tick=null;;}};b4N.ChartEngine.prototype.positionMarkers=function(){var L$X,M15,n2b,g7g,G8J,m3v,d1J,x2$;L$X="ti";b$6.W5N();L$X+="c";L$X+="k";M15=this;n2b=this.chart;function Z0l(){b$6.W5N();var w0v,a8R,v16,S0c;if(M15.runPrepend("positionMarkers",arguments)){return;}M15.markerTimeout=null;for(var U6c in M15.markerHelper.classMap){for(var L$q in M15.markerHelper.classMap[U6c]){w0v=M15.markerHelper.classMap[U6c][L$q];a8R=M15.panels[L$q];if(w0v.length){v16={stx:M15,arr:w0v,panel:a8R};v16.firstTick=a8R.chart.dataSet.length-a8R.chart.scroll;v16.lastTick=v16.firstTick+a8R.chart.dataSegment.length;S0c=w0v[0].constructor.placementFunction;if(S0c){S0c(v16);}else{M15.defaultMarkerPlacement(v16);}}}}M15.runAppend("positionMarkers",arguments);}if(!M15.markerHelper){return;}if(this.markerDelay||this.markerDelay===0){if(!this.markerTimeout){this.markerTimeout=setTimeout(Z0l,this.markerDelay);}}else{Z0l();}g7g=this.getFirstLastDataRecord(n2b.dataSegment,"tick");G8J=this.getFirstLastDataRecord(n2b.dataSegment,L$X,!!"1");if(!g7g||!G8J){return;}m3v=this.getMarkerArray("all");for(var Z4k=0;Z4k<m3v.length;Z4k++){d1J=m3v[Z4k];x2$=d1J.stxNodeCreator;if(g7g.tick<=d1J.tick&&d1J.tick<=G8J.tick){if(x2$&&x2$.drawMarker){x2$.drawMarker(d1J);}}else if(d1J.attached&&x2$.expand){x2$.expand.style.visibility="hidden";}}};b4N.Marker=b4N.Marker||function(I58){var S6E,k0$,n0B,s9C,P3R,j5I;S6E="da";S6E+="t";S6E+="e";this.params={xPositioner:S6E,yPositioner:"value",panelName:"chart",permanent:!{},label:"generic",includeAxis:!{}};b4N.extend(this.params,I58);if(!this.params.node){this.params.node=document.createElement("DIV");}k0$=this.params.stx;b$6.W5N();if(!k0$){console.log("Marker created without specifying stx");return;}if(!this.className){this.className="CIQ.Marker";}if(b4N.derivedFrom(this.params.node,b4N.Marker.NodeCreator)){this.stxNodeCreator=this.params.node;this.node=this.stxNodeCreator.node;}else{this.node=this.params.node;}n0B=this.params.label;if(!k0$.markers[n0B]){k0$.markers[n0B]=[];}k0$.markers[n0B].push(this);s9C=k0$.panels[this.params.panelName];this.chart=s9C.chart;if(!k0$.markerHelper.chartMap[this.chart.name]){k0$.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]};}k0$.markerHelper.chartMap[this.chart.name].markers.push(this);P3R=k0$.markerHelper.classMap[this.className];if(!P3R){P3R=k0$.markerHelper.classMap[this.className]={};}if(!P3R[this.params.panelName]){P3R[this.params.panelName]=[];}P3R[this.params.panelName].push(this);j5I=this.stxNodeCreator&&this.stxNodeCreator.deferAttach;if(!j5I){k0$.addToHolder(this);}k0$.setMarkerTick(this);if(this.stxNodeCreator&&this.stxNodeCreator.drawMarker){this.stxNodeCreator.drawMarker(this);}};b4N.Marker.prototype.remove=function(){b$6.W5N();this.params.stx.removeFromHolder(this);};b4N.Marker.prototype.click=function(a5q){var q$d;if(typeof arguments["0"|0]==="number"){a5q={cx:arguments[0],cy:arguments["1"-0],panel:arguments["3"*1]};}var _a5q=a5q,D96=_a5q.cx,s2j=_a5q.cy,T5$=_a5q.panel;if(!this.params.stx){return;}q$d=this.params.node;if(q$d.click){q$d.click(D96,s2j,this,T5$);}};b4N.Marker.prototype.doubleClick=function(_ref12){var F4X=_ref12.cx,N73=_ref12.cy,Z6B=_ref12.panel;return![];};b4N.Marker.prototype.render=function(){var i4O,S2d;b$6.W3G();i4O=[this];S2d={stx:this.params.stx,arr:i4O,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(S2d);};b4N.Marker.removeByLabel=function(b$q,z8p){var X0u,b$k;X0u=b$q.getMarkerArray("label",z8p);for(var k2h="0"*1;k2h<X0u.length;k2h++){b$k=X0u[k2h];b$q.removeFromHolder(b$k);if(b$k.stxNodeCreator&&b$k.stxNodeCreator.remove){b$k.stxNodeCreator.remove(b$k);}}b$q.draw();};b4N.Marker.positionContentVerticalAndHorizontal=function(c1W){var w8n,o1$,d2z,p2t,L9D,W4B,v2T,i2T,e4h,n1g,G8L,z1d;w8n=c1W.querySelectorAll(".stx-marker-expand")[0];if(!w8n||!b4N.trulyVisible(w8n)){return;}o1$=w8n.offsetHeight;d2z=w8n.style;d2z.left=d2z.right="";d2z.bottom=d2z.top="";p2t=getComputedStyle(w8n);L9D=p2t.left;b$6.W5N();W4B=p2t.bottom;v2T=c1W.offsetLeft+parseInt(L9D,+"10");i2T=parseInt(W4B,10);e4h=c1W.offsetTop-(i2T+o1$-c1W.offsetHeight);n1g=c1W.parentNode.offsetWidth;G8L=c1W.parentNode.offsetHeight;if(v2T+w8n.offsetWidth>n1g){d2z.right=L9D;d2z.left="auto";}if(c1W.offsetTop<=G8L){if(e4h>G8L-o1$){d2z.top=G8L-c1W.offsetTop-o1$+"px";d2z.bottom="auto";}}else{b$6.s$9(0);d2z.top=b$6.v$j(G8L,"px");}if(c1W.offsetTop+c1W.offsetHeight>=+"0"){if(e4h<0){d2z.top=-c1W.offsetTop+"px";d2z.bottom="auto";}}else{z1d="0";z1d+="p";z1d+="x";d2z.bottom=z1d;}};b4N.Marker.initializeScrollBehavior=function(P1w){var O24=P1w.expand;if(!O24){return;}O24.addEventListener(b4N.wheelEvent,function(k0u){return k0u.stopPropagation();});var _ref13=b4N.UI||{},a$K=_ref13.scrollbarStyling;if(a$K){a$K.refresh(O24);}else{O24.style.overflowY="scroll";}};b4N.ChartEngine.prototype.getBarBounds=function(k6V){var h3M,M33,Y2v,Z44,k5L,N8i,n3c;h3M="pa";h3M+="n";h3M+="d";h3M+="f";M33=this.layout.chartType;Y2v=this.layout.aggregationType;if(Y2v==h3M){Z44={high:Math.max(k6V.pfOpen,k6V.pfClose),low:Math.min(k6V.pfOpen,k6V.pfClose)};}else{Z44={high:k6V.High,low:k6V.Low};}if(k6V.markerHigh){Z44.high=k6V.markerHigh;}if(k6V.markerLow){Z44.low=k6V.markerLow;}if(k6V.Open===undefined){k5L=k6V.Close;}if(k6V.High===undefined){N8i=Math.max(k6V.Open||k5L,k6V.Close);}if(k6V.Low===undefined){n3c=Math.min(k6V.Open||k5L,k6V.Close);}if(!Z44.high&&Z44.high!==0){Z44.high=N8i;}if(!Z44.low&&Z44.low!==0){Z44.low=n3c;}return Z44;};b4N.ChartEngine.prototype.defaultMarkerPlacement=function(R0w){var W_3,o$w,o7N,b09,X06,x_a,J4u,A9g,k0F,h_c,J6k,M4x,l9U,T3u,a_E,f0d,U5a,A2C,T13,P6$,b7U,G1d,q8A,n7g,X_Q,E6D,e$i,y1p,R2a,q7P,x$$,y3$,F_7,w2y,q0g,w0s,L3m;W_3=R0w.panel;o$w=R0w.yAxis?R0w.yAxis:R0w.panel.yAxis;o7N=W_3.chart;b09=R0w.stx;X06=-1374508831;x_a=-455625996;J4u=2;for(var w4S="1"-0;b$6.l5h(w4S.toString(),w4S.toString().length,+"5297")!==X06;w4S++){A9g=b09.chart.highLowBars;J4u+=+"2";}if(b$6.l5h(J4u.toString(),J4u.toString().length,73733)!==x_a){A9g=b09.chart.highLowBars;}k0F=o7N.defaultPlotField;if(!k0F||A9g){k0F="Close";}h_c={};for(var x27=0;x27<R0w.arr.length;x27++){J6k="n";J6k+="o";J6k+="n";J6k+="e";M4x=R0w.arr[x27];l9U=M4x.params;if(M4x.params.box)continue;T3u=M4x.node;if(!M4x.clientWidth){M4x.clientWidth=T3u.clientWidth;}if(!M4x.clientHeight){M4x.clientHeight=T3u.clientHeight;}a_E=null;f0d=l9U.xPositioner;U5a=l9U.yPositioner;A2C=M4x.tick;T13=o7N.dataSet;P6$=M4x.clientWidth;if(f0d!=J6k){if(f0d=="bar"&&l9U.x){b7U="p";b7U+="x";if(l9U.x<o7N.xaxis.length){G1d=o7N.xaxis[l9U.x];if(G1d){a_E=G1d.data;}}b$6.O_b(91);var b05=b$6.V9a(11,0,22);b$6.O_b(1);var t5x=b$6.v$j(5,6);T3u.style.left=Math.round(b09.pixelFromBar(l9U.x,o7N)-P6$/b05)+t5x+b7U;}else{if(!A2C&&A2C!==0){if(l9U.future&&o7N.scroll<o7N.maxTicks){b09.futureTickIfDisplayed(M4x);A2C=M4x.tick;if(!A2C&&A2C!=="0"*1){q8A="-10";q8A+="00";q8A+="p";q8A+="x";T3u.style.left=q8A;continue;}}else{n7g="-1000p";n7g+="x";T3u.style.left=n7g;continue;}}if(A2C<T13.length){a_E=T13[A2C];}M4x.leftpx=Math.round(b09.pixelFromTick(A2C,o7N)-o7N.left-P6$/2);M4x.rightEdge=M4x.leftpx+P6$;T3u.style.left=M4x.leftpx+"px";if(A2C<R0w.firstTick&&M4x.rightEdge<o7N.left-50)continue;;}if(!a_E){b$6.s$9(56);var D8j=b$6.V9a(23,50,8,11,23);a_E=T13[T13.length-("1">>D8j)];};}else if(U5a.indexOf("candle")>-1){X_Q=getComputedStyle(T3u).left;if(X_Q){E6D=b09.barFromPixel(parseInt(X_Q,"10"^0),o7N);if(E6D>=0){a_E=o7N.xaxis[E6D].data;if(!a_E){b$6.s$9(49);var K52=b$6.v$j(1,8,1,4);a_E=T13[T13.length-K52];};}}}T3u.style.top="auto";e$i=l9U.y;y1p=M4x.clientHeight;if(U5a!="none"){q7P="va";q7P+="lue";b$6.O_b(67);var d8q=b$6.v$j(200,7,29,14);b$6.O_b(33);var I1M=b$6.v$j(449,4049,8);b$6.s$9(24);var J0s=b$6.V9a(17,11,31,8363);x$$=U5a+(d8q==(I1M,J0s)?!!1:"-")+T3u.style.left;y3$=l9U.chartContainer?b09.height:W_3.yAxis.bottom;F_7=0;w2y=0;if(typeof h_c[x$$]=="undefined"){h_c[x$$]=0;}w2y=h_c[x$$];h_c[x$$]+=y1p;if(U5a==q7P&&(e$i||e$i===0)){b$6.O_b(92);var I5L=b$6.V9a(174,8,12,14);F_7=Math.round(y3$-b09.pixelFromPrice(e$i,W_3,o$w)-y1p/I5L)+"px";}else if((U5a=="below_candle"||U5a=="under_candle")&&a_E){q0g="hi";q0g+="gh";R2a=a_E[k0F];if(A9g){R2a=b09.getBarBounds(a_E)[o$w.flipped?q0g:"low"];}F_7=Math.round(y3$-b09.pixelFromPrice(R2a,W_3,o$w)-y1p-w2y)+"px";}else if(U5a=="on_candle"&&a_E){R2a=a_E[k0F];if(A9g){b$6.O_b(89);var y4a=b$6.v$j(48,12,6,86);R2a=(a_E.Low+a_E.High)/("2"<<y4a);}b$6.s$9(28);var Q3w=b$6.v$j(0,13,219,17);F_7=Math.round(y3$-b09.pixelFromPrice(R2a,W_3,o$w)-y1p/Q3w-w2y)+"px";}else if(U5a=="top"){F_7=Math.round(y3$-y1p-w2y-W_3.top)+"px";}else if(U5a=="bottom"){w0s="p";w0s+="x";F_7=Math.round(w2y)+w0s;}else if(a_E){L3m="p";L3m+="x";R2a=a_E[k0F];if(A9g){R2a=b09.getBarBounds(a_E)[o$w.flipped?"low":"high"];}F_7=Math.round(y3$-b09.pixelFromPrice(R2a,W_3,o$w)+w2y)+L3m;}if(T3u.style.bottom!=F_7){T3u.style.bottom=F_7;}}b4N.Marker.positionContentVerticalAndHorizontal(T3u);}};b4N.Marker.NodeCreator=function(){};b4N.Marker.NodeCreator.toNode=function(){b$6.W5N();return this.node;};b4N.Marker.Simple=function(y88){var I89,x6v,E4H,b0k,h_2,F8t,t0B,O7J,F_W,R3u;I89="Si";I89+="mpl";I89+="e";x6v="callo";x6v+="ut";E4H="stx";E4H+="-";E4H+="m";E4H+="arker";b0k=this.node=document.createElement("div");b0k.className=E4H;b0k.classList.add(y88.type);if(y88.category){b0k.classList.add(y88.category);}h_2=b4N.newChild(b0k,"div","stx-visual");b4N.newChild(b0k,"div","stx-stem");function j7x(){b4N.Marker.positionContentVerticalAndHorizontal(b0k);}if(y88.type==x6v){t0B="st";t0B+="x-mark";t0B+="er";t0B+="-expand";O7J="h";O7J+="4";F_W=b4N.newChild(h_2,"div","stx-marker-content");b4N.newChild(F_W,O7J,null,y88.headline);F8t=b4N.newChild(F_W,"div",t0B);b4N.newChild(F8t,"p",null,y88.story);}else{R3u="d";R3u+="i";R3u+="v";F8t=b4N.newChild(b0k,R3u,"stx-marker-expand");b4N.newChild(F8t,"h4",null,y88.headline);b4N.newChild(F8t,"p",null,y88.story);b4N.safeClickTouch(F8t,function(V0k){var L3c;L3c="h";L3c+="ighl";L3c+="i";L3c+="ght";b0k.classList.toggle(L3c);});}b4N.safeClickTouch(h_2,function(z2R){var K5O,Y_t,w7s,D_6;K5O="hig";K5O+="h";K5O+="li";K5O+="ght";b$6.s$9(29);Y_t=-b$6.V9a("1606267310",64);w7s=1903737154;D_6=2;for(var W7f=1;b$6.m6F(W7f.toString(),W7f.toString().length,40341)!==Y_t;W7f++){b0k.classList.toggle("");D_6+=2;}if(b$6.m6F(D_6.toString(),D_6.toString().length,29320)!==w7s){b0k.classList.toggle("");}b0k.classList.toggle(K5O);b$6.W3G();setTimeout(j7x,+"10");});this.nodeType=I89;this.expand=F8t;};b4N.inheritsFrom(b4N.Marker.Simple,b4N.Marker.NodeCreator,!1);}};M=function M(a18){var R_S,D47,d4B,k8w,O5x,o0O,v85;R_S=typeof _CIQ!=="undefined"?_CIQ:a18.CIQ;D47=typeof _timezoneJS!=="undefined"?_timezoneJS:a18.timezoneJS;d4B=60000*+"60";k8w=d4B*24;O5x=R_S.Market;R_S.Market=function(s29){var D$Y,j5_;D$Y="unde";D$Y+="f";D$Y+="i";D$Y+="ned";this.market_def=!1;this.rules=!!"";this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!D47.Date){this.tz_lib=Date;;}else{this.tz_lib=D47.Date;}this.market_tz="";this.hour_aligned=!{};this.convertOnDaily=![];this.enabled_by_default=!1;if(_typeof(s29)!=D$Y&&s29&&!R_S.isEmpty(s29)){j5_="und";j5_+="efined";if(s29.market_definition){s29=s29.market_definition;}if(s29.rules){this.rules=s29.rules;}if(s29.market_tz){this.market_tz=s29.market_tz;}if(s29.convertOnDaily){this.convertOnDaily=s29.convertOnDaily;}if(_typeof(s29.hour_aligned)){this.hour_aligned=s29.hour_aligned;}if(typeof s29.beginningDayOfWeek!=="undefined"){this.beginningDayOfWeek=s29.beginningDayOfWeek;}if(_typeof(s29.enabled_by_default)!==j5_){if(s29.enabled_by_default instanceof Array){this.enabled_by_default=s29.enabled_by_default;}}this.market_def=s29;if(this.market_def.name===undefined){this.market_def.name="no market name specified";}}else{return;}R_S.Market._createTimeSegments(this);this.getSessionNames();};R_S.Market.Symbology=function(){};R_S.Market.Symbology.isForeignSymbol=function(F_S){i6UVR.W5N();return![];};R_S.Market.Symbology.isFuturesSymbol=function(p94){i6UVR.W5N();return!!0;};R_S.Market.Symbology.isRateSymbol=function(U_i){i6UVR.W5N();return!{};};R_S.Market.Symbology.isForexSymbol=function(U8k){i6UVR.W5N();return![];};R_S.Market.Symbology.isForexMetal=function(P2g,w20){return![];};R_S.Market.Symbology.isForexFuturesSymbol=function(A7n){i6UVR.W5N();if(R_S.Market.Symbology.isForexSymbol(A7n))return!![];if(R_S.Market.Symbology.isFuturesSymbol(A7n))return!!1;return!!0;};R_S.Market.Symbology.factory=function(q_T){i6UVR.W5N();return null;;};R_S.Market.Symbology.encodeTermStructureInstrumentSymbol=function(r7O,z9e){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(O5x)R_S.extend(R_S.Market,O5x);R_S.Market.prototype.sessions=null;R_S.Market.prototype.beginningDayOfWeek="0"*1;R_S.Market.prototype.getSessionNames=function(){var r9y,m7R;if(!this.rules){this.sessions=[];}else if(!this.sessions){r9y=[];m7R=[];this.rules.map(function(W_M){if(W_M.name&&r9y.indexOf(W_M.name)===-1){r9y.push(W_M.name);m7R.push({name:W_M.name,enabled:W_M.enabled?W_M.enabled:!{}});}});this.sessions=m7R;}return this.sessions.slice();};R_S.Market.prototype._find_next_segment=function(A8Q,V7b){var T1P,n33,e6Q,O_Y;if(!this.market_def)return null;i6UVR.W3G();if(!this.rules)return null;T1P=new Date(+A8Q);n33=this.newIterator({begin:T1P,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(T1P)){e6Q=this.zseg_match.close_parts.hours;O_Y=this.zseg_match.close_parts.minutes;T1P.setHours(e6Q);T1P.setMinutes(O_Y);n33=this.newIterator({begin:T1P,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return n33.next();};R_S.Market.prototype._find_prev_segment=function(B8v,C88){var I_k,S9M,b4E,W7I,L8V;if(!this.market_def)return null;if(!this.rules)return null;I_k=new Date(+B8v);S9M=this.newIterator({begin:I_k,interval:1,inZone:this.market_tz,outZone:this.market_tz});b4E=this._wasOpenIntraDay(I_k);if(b4E===null){I_k=new Date(I_k-60000);b4E=this._wasOpenIntraDay(I_k);}else{if(C88&&I_k.getHours()===this.zseg_match.open_parts.hours&&I_k.getMinutes()===this.zseg_match.open_parts.minutes||!C88&&I_k.getHours()===this.zseg_match.close_parts.hours&&I_k.getMinutes()===this.zseg_match.close_parts.minutes){I_k=S9M.previous();}}if(b4E){W7I=this.zseg_match.open_parts.hours;L8V=this.zseg_match.open_parts.minutes;I_k.setHours(W7I);I_k.setMinutes(L8V);S9M=this.newIterator({begin:I_k,interval:1,inZone:this.market_tz,outZone:this.market_tz});I_k=S9M.previous();if(this.zseg_match.close_parts.hours===W7I){if(this.zseg_match.close_parts.minutes===L8V){if(C88){return S9M.next();}return I_k;}}if(this.zseg_match.adjacent_child){return I_k;}if(C88){return S9M.next();}return I_k;}return S9M.previous();};R_S.Market.prototype.disableSession=function(N_u,d_9){i6UVR.W5N();var I4l;I4l=!!0;if(typeof d_9!=="undefined"&&d_9){I4l=!!1;}if(N_u){for(var r8J=0;r8J<this.normalHours.length;r8J++){if(this.normalHours[r8J].name===N_u){this.normalHours[r8J].enabled=I4l;}}for(r8J=0;r8J<this.extraHours.length;r8J++){if(this.extraHours[r8J].name===N_u){this.extraHours[r8J].enabled=I4l;}}}};R_S.Market.prototype.enableSession=function(U9l){this.disableSession(U9l,"enable_instead");};R_S.Market.prototype.enableAllAvailableSessions=function(){var x_T;x_T=this.getSessionNames();for(var y23=0;y23<x_T.length;y23++){this.enableSession(x_T[y23].name);}};R_S.Market.prototype.getClose=function(Q7q,S5p,L7R,P0r){var I4D,b5k;if(!this.market_def)return null;if(!this.rules)return null;I4D=Q7q;if(!Q7q){I4D=new Date();L7R=null;;}I4D=this._convertToMarketTZ(I4D,L7R);if(typeof S5p!=="undefined"){if(this._wasOpenIntraDay(I4D)){if(this.zseg_match.name===S5p){I4D.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0);I4D=this._convertFromMarketTZ(I4D,P0r);return I4D;}}}else{if(this._wasOpenDaily(I4D)){b5k=this.zseg_match;while(b5k.child_){b5k=b5k.child_;}while(!b5k.enabled){b5k=b5k.parent_;}I4D.setHours(b5k.close_parts.hours,b5k.close_parts.minutes,0,0);I4D=this._convertFromMarketTZ(I4D,P0r);return I4D;}}return null;};R_S.Market.prototype.getNextClose=function(g_i,b7K,u1P){var d2O,Y2k,G5k,q5c;if(!this.market_def)return null;if(!this.rules)return null;d2O=g_i;if(!g_i){d2O=new Date();b7K=null;;}d2O=this._convertToMarketTZ(d2O,b7K);if(!this._wasOpenIntraDay(d2O)){Y2k=this.newIterator({begin:d2O,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});d2O=Y2k.next();}G5k=d2O.getDate();q5c=this.zseg_match;while(q5c.adjacent_child){q5c=q5c.adjacent_child;G5k+=+"1";}d2O.setDate(G5k);d2O.setHours(q5c.close_parts.hours,q5c.close_parts.minutes,0,0);d2O=this._convertFromMarketTZ(d2O,u1P);return d2O;};R_S.Market.prototype.getNextOpen=function(I_O,w1R,t3$){var B7P;if(!this.market_def)return null;if(!this.rules)return null;B7P=I_O;if(!I_O){B7P=new Date();w1R=null;;}B7P=this._convertToMarketTZ(B7P,w1R);B7P=this._find_next_segment(B7P);i6UVR.W5N();if(this.zseg_match.adjacent_parent){B7P=this.getNextOpen(B7P,this.market_tz,this.market_tz);B7P=this._convertFromMarketTZ(B7P,t3$);return B7P;}B7P.setHours(this.zseg_match.open_parts.hours);B7P.setMinutes(this.zseg_match.open_parts.minutes);B7P=this._convertFromMarketTZ(B7P,t3$);return B7P;};R_S.Market.prototype.getOpen=function(y2a,c9f,o51,P6E){var u9Y,i21;i6UVR.W3G();if(!this.market_def)return null;if(!this.rules)return null;u9Y=y2a;if(!y2a){u9Y=new Date();o51=null;;}u9Y=this._convertToMarketTZ(u9Y,o51);if(typeof c9f!=="undefined"){if(this._wasOpenIntraDay(u9Y)){if(this.zseg_match.name==c9f){u9Y.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,+"0",+"0");u9Y=this._convertFromMarketTZ(u9Y,P6E);return u9Y;}}}else{if(this._wasOpenDaily(u9Y)){i21=this.zseg_match;while(i21.parent_){i21=i21.parent_;}while(!i21.enabled){i21=i21.child_;}u9Y.setHours(i21.open_parts.hours,i21.open_parts.minutes,0,0);u9Y=this._convertFromMarketTZ(u9Y,P6E);return u9Y;}}return null;};R_S.Market.prototype.getNormalOpen=function(){var X8y=this.market_def,X$_=this.rules;if(!(X8y&&X$_))return"00:00";if(X8y.normal_daily_open)return X8y.normal_daily_open;if(X8y.name==="FOREX")return"17:00";return X$_.find(function(_ref14){var e8Z=_ref14.name;return!e8Z||e8Z==="";}).open;};R_S.Market.prototype.getNormalClose=function(){var v2D,r6N;v2D="F";v2D+="ORE";v2D+="X";r6N="24";r6N+=":00";var f4n=this.market_def,R43=this.rules;if(!(f4n&&R43))return r6N;if(f4n.normal_daily_close)return f4n.normal_daily_close;if(f4n.name===v2D)return"17:00";return R43.filter(function(_ref15){var Z24=_ref15.dayofweek,G8f=_ref15.name;return Z24&&(!G8f||G8f==="");}).pop().close;};R_S.Market.prototype.getPreviousClose=function(i$O,I2E,K7u){var u48;if(!this.market_def)return null;if(!this.rules)return null;u48=i$O;i6UVR.W3G();if(!i$O){u48=new Date();I2E=null;;}u48=this._convertToMarketTZ(u48,I2E);u48=this._find_prev_segment(u48,!!"");if(this.zseg_match.adjacent_child){return this.getPreviousClose(u48,this.market_tz,this.market_tz);}u48.setHours(this.zseg_match.close_parts.hours);u48.setMinutes(this.zseg_match.close_parts.minutes);u48=this._convertFromMarketTZ(u48,K7u);return u48;};R_S.Market.prototype.getPreviousOpen=function(a7A,N34,T0B){var L2f,L2L,o1g,P37;if(!this.market_def)return null;if(!this.rules)return null;L2f=a7A;if(!a7A){L2L=-1210630352;o1g=1855777835;P37=2;for(var z2i=1;i6UVR.l5h(z2i.toString(),z2i.toString().length,30769)!==L2L;z2i++){L2f=new Date();N34=1;P37+=2;}if(i6UVR.m6F(P37.toString(),P37.toString().length,"22567"-0)!==o1g){L2f=new Date();N34=null;};}L2f=this._convertToMarketTZ(L2f,N34);L2f=this._find_prev_segment(L2f,!!"1");if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(L2f,this.market_tz,this.market_tz);}L2f.setHours(this.zseg_match.open_parts.hours);L2f.setMinutes(this.zseg_match.open_parts.minutes);L2f=this._convertFromMarketTZ(L2f,T0B);return L2f;};R_S.Market.prototype.getSession=function(T80,Z8N){T80=this._convertToMarketTZ(T80,Z8N);i6UVR.W3G();if(this._wasOpenIntraDay(T80)&&this.zseg_match){return this.zseg_match.name;}return null;};R_S.Market.prototype.marketZoneNow=function(){i6UVR.W5N();return this._convertToMarketTZ(new Date());};R_S.Market.prototype.isHourAligned=function(){i6UVR.W5N();return this.hour_aligned;};R_S.Market.prototype.isOpen=function(){var J4A;J4A=new Date();if(this.market_tz){J4A=new this.tz_lib(J4A.getTime(),this.market_tz);}return this._wasOpenIntraDay(J4A);};R_S.Market.prototype.isMarketDay=function(){var l7R;i6UVR.W5N();l7R=new Date();if(this.market_tz){l7R=new this.tz_lib(l7R.getTime(),this.market_tz);}return this._wasOpenDaily(l7R);};R_S.Market.prototype.isMarketDate=function(l7e){i6UVR.W5N();return this._wasOpenDaily(l7e);};R_S.Market.prototype.newIterator=function(o_p){var h9R,y8n,W86;h9R="t";h9R+="i";h9R+="c";h9R+="k";y8n=!{};if(o_p.periodicity){y8n=o_p.periodicity;}else if(o_p.multiple){y8n=o_p.multiple;}W86=o_p.interval;if(!W86){W86="minute";}if(W86=="hour")W86=60;if(!y8n){y8n=1;}if(!o_p.begin){o_p.begin=new Date();o_p.inZone=null;}if(W86==parseInt(W86,10)){W86=parseInt(W86,10);if(o_p.periodicity<+"1"/60){y8n=y8n*W86*60000;W86="millisecond";}else if(o_p.periodicity<1){y8n=y8n*W86*60;W86="second";}else{y8n=y8n*W86;W86="minute";}}if(o_p.timeUnit){if(o_p.timeUnit==="millisecond"){W86=o_p.timeUnit;}else if(o_p.timeUnit==="second"){W86=o_p.timeUnit;}else if(o_p.timeUnit==="tick"){W86="second";}}if(W86==h9R)W86="second";o_p.interval=W86;i6UVR.W5N();o_p.multiple=y8n;o_p.market=this;return new R_S.Market.Iterator(o_p);};R_S.Market.prototype._wasOpenDaily=function(k11){i6UVR.W3G();return this._was_open(k11,!!0);};R_S.Market.prototype._wasOpenIntraDay=function(U7M){return this._was_open(U7M,!!1);};R_S.Market.prototype._was_open=function(c9L,k8_){var k8a,i6Q,S1K,a7n,F5t,X7o,T9_,v$p,Y3m,N$N,a9s,P6b,g$B,x2Y;k8a="u";k8a+="n";k8a+="defined";i6Q=this.zseg_match;this.zopen_hour=0;this.zopen_minute=+"0";this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!{};this.zseg_match=null;if(!this.market_def||!this.rules){this.zclose_hour=24;return!![];}S1K=![];a7n=!{};F5t=c9L.getFullYear();X7o=c9L.getMonth()+("1">>0);T9_=c9L.getDay();v$p=c9L.getDate();i6UVR.W5N();Y3m=c9L.getHours();N$N=c9L.getMinutes();a9s=c9L.getSeconds();g$B=Y3m*("60"-0)*60+N$N*60+a9s;if(_typeof(k8_)===k8a){k8_=!!1;}for(x2Y=0;x2Y<this.normalHours.length;x2Y++){P6b=this.normalHours[x2Y];if(!P6b.enabled){continue;}S1K=P6b.dayofweek===T9_;if(S1K&&k8_){S1K=g$B>=P6b.open&&g$B<P6b.close;}if(S1K){if(!k8_&&this.zseg_match){if(P6b.open_parts.hours>this.zopen_hour||P6b.open_parts.hours==this.zopen_hour&&P6b.open_parts.minutes>this.zopen_minute){continue;}}if(P6b!==i6Q&&!P6b.adjacent_parent&&!P6b.adjacent_child){this.shouldResetToBeginningOfSegment=!![];}this.zopen_hour=P6b.open_parts.hours;this.zopen_minute=P6b.open_parts.minutes;this.zclose_hour=P6b.close_parts.hours;this.zclose_minute=P6b.close_parts.minutes;this.zmatch_open=g$B===P6b.open;this.zseg_match=P6b;if(k8_)break;}}for(x2Y=0;x2Y<this.extraHours.length;x2Y++){P6b=this.extraHours[x2Y];if(!P6b.enabled){continue;}if((2610<=(383.33,354.81)?8950===(838,9585)?(8.82e+3,3.97e+3):0x531:"*")===P6b.year||F5t===P6b.year){if(X7o===P6b.month&&v$p===P6b.day){a7n=!k8_&&P6b.open||g$B>=P6b.open&&g$B<P6b.close;if(!a7n&&this.zseg_match){S1K=!"1";this.zopen_hour=+"0";this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!{};this.zseg_match=null;}if(a7n){if(!k8_&&this.zseg_match){if(P6b.open_parts.hours>this.zopen_hour||P6b.open_parts.hours==this.zopen_hour&&P6b.open_parts.minutes>this.zopen_minute){continue;}}this.zopen_hour=P6b.open_parts.hours;this.zopen_minute=P6b.open_parts.minutes;this.zclose_hour=P6b.close_parts.hours;this.zclose_minute=P6b.close_parts.minutes;this.zmatch_open=g$B===P6b.open;this.zseg_match=P6b;if(k8_)break;}}}}return this.zseg_match;};R_S.Market.prototype._wasClosed=function(C$Z){return!this._was_open(C$Z,!!1);};R_S.Market.prototype._wasOpen=function(N1q){return this._was_open(N1q,!!"1");};R_S.Market.prototype._tzDifferenceMillis=function(c7s,R2_,l6g){var h9a,Q_G,Y2l,g4K;h9a=0;Q_G=c7s;Y2l=c7s;g4K=Q_G.getTimezoneOffset()-Y2l.getTimezoneOffset();h9a=g4K*("60"-0)*1000;return h9a;};R_S.Market._createTimeSegments=function(J4y){var u6J,q6E,r8l,H5m,p3p,e5Q;u6J=function u6J(D3s,b9C){if(D3s.close_parts.hours===24&&b9C.open_parts.hours===0){if(b9C.open_parts.minutes===0){if(q6E.dayofweek===p3p.dayofweek-1){return!!1;}if(q6E.dayofweek===6&&p3p.dayofweek===0){return!![];}}}return!1;};for(var j8V=0;j8V<J4y.rules.length;j8V++){r8l=JSON.parse(JSON.stringify(J4y.rules[j8V]));if(typeof r8l.open==="undefined"&&typeof r8l.close==="undefined"){r8l.open="00:00";r8l.close="00:00";}if(!r8l.hasOwnProperty("name")){r8l.name="";}try{H5m="un";H5m+="defin";H5m+="ed";if(typeof r8l.dayofweek!=="undefined"){r8l.year="*";p3p=o0O._createDayOfWeekSegment(J4y,r8l);if(q6E){if(q6E.dayofweek===p3p.dayofweek){q6E.child_=p3p;p3p.parent_=q6E;}else{if(u6J(q6E,p3p)){q6E.adjacent_child=p3p;p3p.adjacent_parent=q6E;}}}q6E=p3p;}else if(_typeof(r8l.date)!==H5m){r8l.isDayOfWeek=![];r8l.dayofweek=-+"1";p3p=o0O._createDateTimeSegment(J4y,r8l);}else{console.log("Error, unknown rule type "+r8l);}if(J4y.enabled_by_default){for(var S5H=0;S5H<J4y.enabled_by_default.length;S5H++){e5Q=J4y.enabled_by_default[S5H];if(p3p.name===e5Q){p3p.enabled=!!1;break;}}}else{;}}catch(T_b){console.log("Error, creating market rules "+T_b);}}};R_S.Market._timeSegment={};o0O=R_S.Market._timeSegment;o0O.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;o0O.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;o0O.re_split_hours_minutes=/^(\d\d):(\d\d)$/;o0O.re_split_hour_minutes=/^(\d):(\d\d)$/;o0O._hashCode=function(y9Y){var W6G,x6t,H$L,y0_;W6G=0;i6UVR.W3G();if(y9Y.length===0)return W6G;for(x6t=+"0",y0_=y9Y.length;x6t<y0_;x6t++){H$L=y9Y.charCodeAt(x6t);W6G=(W6G<<5)-W6G+H$L;W6G|=0;;}return W6G;};o0O._splitHoursMinutes=function(v2$){var m8x,t4h,B8h,Y56,Z05;m8x=o0O.re_split_hour_minutes.exec(v2$);t4h={hours:NaN,minutes:NaN};if(m8x===null){m8x=o0O.re_split_hours_minutes.exec(v2$);if(m8x===null){return t4h;}}t4h.hours=parseInt(m8x[1],10);t4h.minutes=parseInt(m8x[2],10);B8h="369040853"^0;Y56=-1551662406;Z05="2"-0;for(var z_4=1;i6UVR.l5h(z_4.toString(),z_4.toString().length,"38265"|73)!==B8h;z_4++){return t4h;}if(i6UVR.m6F(Z05.toString(),Z05.toString().length,14709)!==Y56){return t4h;}};o0O._createDayOfWeekSegment=function(E_B,v3d){var y4A;y4A={name:v3d.name,isDayOfWeek:!!1,dayofweek:v3d.dayofweek,date_str:"*",open_parts:o0O._splitHoursMinutes(v3d.open),close_parts:o0O._splitHoursMinutes(v3d.close),open:o0O._secSinceMidnight(E_B,v3d.open,!""),close:o0O._secSinceMidnight(E_B,v3d.close,![]),child_:![],parent_:!{},adjacent_child:!{},adjacent_parent:!!0,enabled:!!0};if(y4A.name===""){y4A.enabled=!![];}y4A.hash_code=this._hashCode((y4A.open+y4A.close).toString());i6UVR.W3G();E_B.normalHours.push(y4A);return y4A;};o0O._createDateTimeSegment=function(d7P,F8w){var X4N,T2s,g0S;X4N=this.re_regular_iso.exec(F8w.date);if(X4N===null){X4N=this.re_wild_card_iso.exec(F8w.date);if(X4N===null){console.log("Warning: invalid date format on rule -> "+F8w.date);return;}T2s="*";;}else{T2s=parseInt(X4N[1],10);}g0S={name:F8w.name,isDayOfWeek:!!0,dayofweek:-1,year:T2s,month:parseInt(X4N[2],+"10"),day:parseInt(X4N[3],+"10"),date_str:F8w.date,open_parts:o0O._splitHoursMinutes(F8w.open),close_parts:o0O._splitHoursMinutes(F8w.close),open:o0O._secSinceMidnight(d7P,F8w.open,!""),close:o0O._secSinceMidnight(d7P,F8w.close,![]),enabled:![]};if(g0S.name===""){g0S.enabled=!!{};}g0S.hash_key=this._hashCode(g0S.date_str+g0S.open+g0S.close);d7P.extraHours.push(g0S);return g0S;};o0O._secSinceMidnight=function(V8D,k1t,b95){var h7K,Z3z,D5N,x9T;h7K=k1t.split("1320"<<32===(114.93,490.87)?44.98:+"5730"<=(467.01,+"4524")?(1356,+"7947")===6440?(+"0x232a","o"):3.51e+3:":");Z3z=parseInt(h7K[0],10);D5N=parseInt(h7K[1],"10"-0);x9T=Z3z*60*60+D5N*60;if(!b95){if(Z3z===24){x9T=Z3z*60*+"60"+1;}}return x9T;};R_S.Market.prototype._convertToMarketTZ=function(I40,x0T){var D5e;if(x0T){D5e=new this.tz_lib(I40.getFullYear(),I40.getMonth(),I40.getDate(),I40.getHours(),I40.getMinutes(),I40.getSeconds(),I40.getMilliseconds(),x0T);}else{D5e=new this.tz_lib(I40.getFullYear(),I40.getMonth(),I40.getDate(),I40.getHours(),I40.getMinutes(),I40.getSeconds(),I40.getMilliseconds());}if(D5e.setTimezone)D5e.setTimezone(this.market_tz);return new Date(D5e.getFullYear(),D5e.getMonth(),D5e.getDate(),D5e.getHours(),D5e.getMinutes(),D5e.getSeconds(),D5e.getMilliseconds());};R_S.Market.prototype._convertFromMarketTZ=function(N6s,m6e){var s5_;s5_=new this.tz_lib(N6s.getFullYear(),N6s.getMonth(),N6s.getDate(),N6s.getHours(),N6s.getMinutes(),N6s.getSeconds(),N6s.getMilliseconds(),this.market_tz);if(m6e){if(s5_.setTimezone)s5_.setTimezone(m6e);}else{return new Date(s5_.getTime());}return new Date(s5_.getFullYear(),s5_.getMonth(),s5_.getDate(),s5_.getHours(),s5_.getMinutes(),s5_.getSeconds(),s5_.getMilliseconds());};R_S.Market.Iterator=function(p5q){this.market=p5q.market;this.begin=p5q.begin;this.interval=p5q.interval;this.multiple=p5q.multiple;this.inZone=p5q.inZone;this.outZone=p5q.outZone;this.clock=new R_S.Market.Iterator._Clock(p5q.market,p5q.interval,p5q.multiple);i6UVR.W5N();this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,p5q.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=!1;};R_S.Market.Iterator.prototype.date=function(){return this.clock._date();};R_S.Market.Iterator.prototype.futureTick=function(c0T){var t29,z4G,g2B,C39,e$x,E4C,o3h,W7x,r0C;this.clock.skip=1;t29=0;if(this.intraDay)z4G=this.market._convertToMarketTZ(c0T.end,this.inZone).getTime();else z4G=c0T.end.getTime();g2B=this.clock.ctime;if(z4G===g2B){return t29;}C39=2;e$x=1000;E4C=0;if(c0T.sample_size){C39=c0T.sample_size;}o3h=new Date().getTime();if(z4G>g2B){this.clock.forward=!![];while(this.clock.ctime<z4G){t29+=1;E4C+=1;this.clock._findNext();if(E4C===e$x){E4C=0;W7x=new Date().getTime();if(W7x-o3h>=C39){r0C=(this.clock.ctime-g2B)/t29;t29=Math.floor((z4G-g2B)/r0C);break;}}}if(this.clock.ctime>z4G){t29--;}}else{this.clock.forward=![];while(this.clock.ctime>z4G){t29+=1;E4C+=1;this.clock._findPrevious();if(E4C===e$x){E4C=0;W7x=new Date().getTime();if(W7x-o3h>=C39){r0C=(g2B-this.clock.ctime)/t29;t29=Math.floor((g2B-z4G)/r0C);break;}}}}return t29;};R_S.Market.Iterator.prototype.isHourAligned=function(){return!this.intraDay||this.market.isHourAligned();};R_S.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};R_S.Market.Iterator.prototype.next=function(i8L){this.clock.skip=1;if(i8L){this.clock.skip=i8L;}this.clock.forward=!0;for(var U4O=+"0";U4O<this.clock.skip;U4O++){this.begin=this.clock._findNext();}if(this.intraDay||this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};R_S.Market.Iterator.prototype.peek=function(){return this.clock._peek();};R_S.Market.Iterator.prototype.previous=function(T7S){this.clock.skip=1;i6UVR.W3G();if(T7S){this.clock.skip=T7S;}this.clock.forward=!{};for(var d$w=0;d$w<this.clock.skip;d$w++){this.begin=this.clock._findPrevious();}if(this.intraDay||this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};R_S.Market.Iterator._Clock=function(F6_,J1_,P_f){var X7G,w6B,L46;X7G="d";X7G+="a";X7G+="y";if(P_f%60===0&&J1_==="second"){J1_="minute";P_f=P_f/("60"*1);}this.market=F6_;this.interval=J1_;i6UVR.W5N();this.multiple=P_f;this.intra_day=!!"";this.intervals=[];this.max_iters=+"10080";w6B=k8w;L46=this._dayImpl;if(J1_==="millisecond"){L46=this._millisImpl;w6B=1;}else if(J1_==="second"){L46=this._secondImpl;w6B=1000;}else if(J1_==="minute"){L46=this._minuteImpl;w6B=60000;}else if(J1_==="hour"){L46=this._hourImpl;w6B=d4B;}else if(J1_===X7G){L46=this._dayImpl;w6B=k8w;}else if(J1_==="week"){L46=this._weekImpl;w6B=k8w*7;}else if(J1_==="month"){L46=this._monthImpl;w6B=k8w*30;}else{console.log('Periodicity ERROR: "'+J1_+'" is not a valid interval. Please see setPeriodicity() for details.');}this.tick_time=w6B*P_f;this.intra_day=this.tick_time<k8w;this._findPrevious=this._findNext=L46;};v85=R_S.Market.Iterator._Clock.prototype;v85._total_minutes=function(M$v,K54,V8e,b_t){return(V8e-M$v)*60-K54+b_t;};v85._alignMinutes=function(){var I7I,i41,b1z,K9s,X16;if(!this.market.market_def||this.market.zopen_minute===undefined){return[];}I7I=this.market.zopen_minute;i41=this.market.zseg_match;if(i41&&i41.adjacent_parent){I7I=i41.adjacent_parent.open/60-1440;}else{if(this.market.isHourAligned()&&this.multiple%60===0)I7I=0;}b1z=this._total_minutes(this.market.zopen_hour,I7I,this.market.zclose_hour,this.market.zclose_minute);K9s=[];X16=0;while(X16<b1z){K9s.push(I7I+X16);X16+=this.multiple;}return K9s;};v85._alignBaseZero=function(O$2){var U9v,S8H;U9v=0;S8H=[U9v];while(!![]){U9v+=this.multiple;if(U9v>=O$2){break;}S8H.push(U9v);}return S8H;};v85._date=function(){var u67,K27;u67=Math.round(this.ctime);K27=new Date(u67);if(this.intra_day){this.display_date=new Date(u67+this.shift_millis);}else{this.display_date=K27;}i6UVR.W3G();return K27;};v85._alignToBoundary=function(Q9R,T7g){var U9Q,v0c,M93;U9Q=0;v0c=0;M93=T7g;for(var D20=0;D20<Q9R.length-1;D20++){U9Q=Q9R[D20];v0c=Q9R[D20+ +"1"];if(T7g===U9Q||T7g===v0c){break;;}if(T7g>U9Q&&T7g<v0c){M93=U9Q;break;}else if(D20+1===Q9R.length-1){M93=v0c;}}i6UVR.W5N();return M93;};v85._peek=function(){i6UVR.W5N();return this._date().toString();};v85._seekHr=function(){i6UVR.W3G();if(this.forward){this.ctime-=d4B;}else{this.ctime+=d4B;}};v85._setStart=function(K0s){var p6m,k5j;p6m=this.market._tzDifferenceMillis(K0s);k5j=new Date(K0s.getTime()+p6m);this.shift_millis=p6m;this.ctime=k5j.getTime();this.shift_millis="0">>0;this.ctime=K0s.getTime();};v85._tickTock=function(){var e8p,E1e,H8n;if(this.forward){e8p=-1786601353;E1e=-("1885585299"^0);H8n=2;for(var v78=1;i6UVR.l5h(v78.toString(),v78.toString().length,61295)!==e8p;v78++){this.ctime+=this.tick_time;H8n+=2;}if(i6UVR.l5h(H8n.toString(),H8n.toString().length,73559)!==E1e){this.ctime/=this.tick_time;}}else{this.ctime-=this.tick_time;}};v85._tockTick=function(){if(this.forward){this.ctime-=this.tick_time;}else{this.ctime+=this.tick_time;}};v85._tickTock24=function(){i6UVR.W5N();this.ctime+=k8w;};v85._tockTick24=function(){i6UVR.W3G();this.ctime-=k8w;};v85._windMaybe=function(A3Q,n4u){var J1R,Y8e,M11,k1S;i6UVR.W5N();J1R=0;Y8e=new Date(this.ctime);M11=!!0;while(!A3Q.call(this.market,Y8e)){n4u.call(this);M11=!0;Y8e=new Date(this.ctime);J1R+=1;if(J1R>this.max_iters){k1S="Warning! max iterations ("+this.max_iters;k1S+=") reached with no rule match.";console.log(k1S);break;}}return M11;};v85._millisImpl=function(){var T5P,O0C,l3K,n_h,g_w,F1V,y8J,B89,K2z,U66;T5P=!!"";if(!this.mperiods_aligned){O0C=this._alignBaseZero(1000);l3K=new Date(this.ctime);n_h=l3K.getMilliseconds();n_h=this._alignToBoundary(O0C,n_h);l3K.setMilliseconds(0);this.ctime=l3K.getTime()+n_h;this.mperiods_aligned=!0;T5P=!!"1";}g_w=this._date().getMinutes();i6UVR.W5N();this._tickTock();F1V=this._date().getMinutes();if((T5P||g_w!=F1V)&&!this.market._wasOpenIntraDay(this._date())){y8J=this._date().getSeconds();B89=this._date().getMilliseconds();K2z=this.tick_time;this.tick_time=60000;U66=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=K2z;this.multiple=U66;this.ctime+=1000*y8J+B89;}return this._date();};v85._secondImpl=function(){var e6S,g0j,q0X,d3u,c9U,S7a,C_B,C9$,H6a;e6S=!{};if(!this.speriod_aligned){g0j=this._alignBaseZero(60);q0X=new Date(this.ctime);d3u=q0X.getSeconds();d3u=this._alignToBoundary(g0j,d3u);q0X.setSeconds(d3u);q0X.setMilliseconds(+"0");this.ctime=q0X.getTime();this.speriod_aligned=!![];e6S=!!"1";}c9U=this._date().getMinutes();this._tickTock();S7a=this._date().getMinutes();if((e6S||c9U!=S7a)&&!this.market._wasOpenIntraDay(this._date())){C_B=this._date().getSeconds();C9$=this.tick_time;this.tick_time=+"60000";H6a=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=C9$;this.multiple=H6a;this.ctime+=1000*C_B;}return this._date();};v85._minuteImpl=function(){var g0k,F6k,w8A,v_x,q_F,o8L,C0t,U5C,I2s,T50;g0k=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);F6k=new Date(this.ctime);w8A=F6k.getTimezoneOffset();v_x=F6k.getMinutes();q_F=F6k.getHours();o8L=this._alignMinutes();C0t=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,q_F,v_x)+this.market.zopen_minute;if(g0k){if(this.forward){C0t=o8L[o8L.length-1];}else{C0t=o8L[0];}}else{C0t=this._alignToBoundary(o8L,C0t);}q_F=Math.floor(C0t/60)+this.market.zopen_hour;F6k.setHours(q_F,C0t%60,0,0);U5C=F6k.getTimezoneOffset()-w8A;if(this.forward&&U5C<0||!this.forward&&U5C>+"0"){F6k.setTime(F6k.getTime()-U5C*60000);}this.ctime=F6k.getTime();this._tickTock();I2s=this.market.hour_aligned&&this.multiple%60===0;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!I2s&&this.shouldResetToBeginningOfSegment){F6k=new Date(this.ctime);if(this.forward){F6k.setMinutes(this.market.zopen_minute);F6k.setHours(this.market.zopen_hour);}else{o8L=this._alignMinutes();T50=o8L[o8L.length-1];F6k.setMinutes(T50%60);F6k.setHours(Math.floor(T50/60)+this.market.zopen_hour);}this.ctime=F6k.getTime();}return this._date();};v85._hourImpl=function(){var M55,G5d,d1X,w7C,l6_;i6UVR.W5N();this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);M55=new Date(this.ctime);if(this.market.isHourAligned()){M55.setMinutes(0);}else{M55.setMinutes(this.market.zopen_minute);}M55.setSeconds(0);M55.setMilliseconds(0);this.ctime=M55.getTime();this._tickTock();G5d=this.market.zseg_match;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&G5d!=this.market.zseg_match){d1X=new Date(this.ctime);if(this.forward){d1X.setMinutes(this.market.zopen_minute);d1X.setHours(this.market.zopen_hour);}else{w7C=this._alignMinutes();l6_=w7C[w7C.length-1];d1X.setMinutes(l6_%("60"^0));d1X.setHours(Math.floor(l6_/60)+this.market.zopen_hour);}this.ctime=d1X.getTime();}return this._date();};v85._dayImpl=function(){var R2k,w1E;this._windMaybe(this.market._wasOpenDaily,this._seekHr);R2k=new Date(this.ctime);R2k.setHours(12,0,0,+"0");i6UVR.W3G();this.ctime=R2k.getTime();w1E=0;while(w1E<this.multiple){if(this.forward){this._tickTock24();}else{this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}w1E+=1;}R2k=new Date(this.ctime);R2k.setHours(0);this.ctime=R2k.getTime();return this._date();};v85._weekImpl=function(){var Q_f,w5s;Q_f=this.market;w5s=new Date(this.ctime);i6UVR.W5N();w5s.setHours(12);this.ctime=w5s.getTime();this._tickTock();w5s=new Date(this.ctime);while(w5s.getDay()!==Q_f.beginningDayOfWeek){this._tockTick24();w5s=new Date(this.ctime);}this._windMaybe(Q_f._wasOpenDaily,this._tickTock24);w5s=new Date(this.ctime);w5s.setHours(0,+"0",0,0);this.ctime=w5s.getTime();return this._date();};v85._monthImpl=function(){var b3J;b3J=new Date(this.ctime);b3J.setDate(15);this.ctime=b3J.getTime();this._tickTock();b3J=new Date(this.ctime);b3J.setDate(1);b3J.setHours(+"12");this.ctime=b3J.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);b3J=new Date(this.ctime);b3J.setHours("0"|0,0,0,+"0");i6UVR.W3G();this.ctime=b3J.getTime();return this._date();};v85._findNext=null;v85._findPrevious=null;};T=function T(O_H){var R8_=i6UVR;R8_.W5N();R8_.m3s=function(u_b){R8_.W3G();if(R8_&&u_b)return R8_.i8e(u_b);};R8_.P91=function(d8M){R8_.W5N();if(R8_&&d8M)return R8_.i8e(d8M);};R8_.X86=function(d1C){R8_.W5N();if(R8_)return R8_.i8e(d1C);};var c4w,o1a,g03;c4w=typeof _CIQ!=="undefined"?_CIQ:O_H.CIQ;o1a="valid";c4w.valid=0;c4w[R8_.x1I("73e7")?"ChartEngine":""][R8_.X86("76da")?"":"prototype"][R8_.O0o("d68e")?"mousemoveinner":""]=function(Y_v,H_s){R8_.k_x=function(y7Z){R8_.W5N();if(R8_&&y7Z)return R8_.N4H(y7Z);};R8_.O8p=function(M_E){R8_.W5N();if(R8_)return R8_.N4H(M_E);};R8_.K4n=function(G2k){R8_.W3G();if(R8_)return R8_.i8e(G2k);};var P0e=-(R8_.x$F("359d")?601500727:186577206),Y22=-(R8_.K4n("774b")?1638252184:2428117228),u6b=-(R8_.P91("6aea")?637126000:113100024),c2B=-(R8_.N$t("1cd8")?1636454950:2006868665),H4H=R8_.V1Y("a942")?1251022236:6248277390,y5F=-901100827,J3f=R8_.z2h("bf6e")?4323687070:1820977520,v_v=R8_.m3s("1cf2")?3632780311:1541769497,D$b=-(R8_.N_P("d3e2")?7321761046:1684866164),J80=324260868;if(!(R8_.Z4a(0,false,R8_.U56("ce63")?418193:552997)!==P0e&&R8_.h3V(0,false,999056)!==Y22&&R8_.h3V(9,R8_.h8D("6692")?true:false,476537)!==u6b&&R8_.Z4a(R8_.O8p("6a8e")?3:9,true,718872)!==c2B&&R8_.Z4a(8,true,428923)!==H4H&&R8_.Z4a(10,true,783307)!==y5F&&R8_.Z4a(9,true,R8_.k_x("e6dd")?446240:355041)!==J3f&&R8_.h3V(9,true,647601)!==v_v&&R8_.h3V(10,true,523543)!==D$b&&R8_.Z4a(8,true,288896)!==J80)){var W1O=function W1O(O$8){var J_G=1785073975,a7h=-1694958399,A51=8214662,q7z=837009359,d79=-620899382,t5M=213668177,e4m=-391255666,N9Z=-1252475600,h4$=-868346271,e79=-111987682;if(R8_.h3V(0,false,256134)===J_G||R8_.Z4a(0,false,984785)===a7h||R8_.h3V(9,true,372746)===A51||R8_.Z4a(9,true,222297)===q7z||R8_.Z4a(8,true,931038)===d79||R8_.Z4a(10,true,255423)===t5M||R8_.h3V(9,true,550507)===e4m||R8_.h3V(9,true,775878)===N9Z||R8_.Z4a(10,true,692060)===h4$||R8_.h3V(8,true,493631)===e79){var P10;P10="mo";P10+="usemoveinn";P10+="er";O$8["currentBaseline"]=null;O$8["runAppend"](P10,T_I);}};var E_6,T_I,b7D,C_0,I9W,S_Z,l5k,T0C,K$U,s6Y,n4a,m$V,T2I,h7U,V6a,P$d,b0Q,k2$,P5L,S6L,a09,w0A,K7$,q1$,i9D,N_$,S3S,N7M,l2I;if(!this["chart"]["canvas"]){return;}if(!c4w["isAndroid"]&&!c4w["isIOS7or8"]){if(this["chart"]["canvas"]["height"]!=Math["floor"](this["devicePixelRatio"]*this["chart"]["container"]["clientHeight"])||this["chart"]["canvas"]["width"]!=Math["floor"](this["devicePixelRatio"]*this["chart"]["container"]["clientWidth"])){this["resizeChart"]();return;}}if(this["runPrepend"]("mousemoveinner",arguments)){return;}T_I=arguments;b7D=this["container"]["getBoundingClientRect"]();this["top"]=b7D["top"];this["left"]=b7D["left"];this["right"]=this["left"]+this["width"];this["bottom"]=this["top"]+this["height"];this["hasDragged"]=!!{};c4w["ChartEngine"]["crosshairX"]=Y_v;c4w["ChartEngine"]["crosshairY"]=H_s;C_0=this["cy"]=this["crossYActualPos"]=this["backOutY"](c4w["ChartEngine"]["crosshairY"]);I9W=this["cx"]=this["crossXActualPos"]=this["backOutX"](c4w["ChartEngine"]["crosshairX"]);if(this["grabbingScreen"]&&this["anyHighlighted"]){R8_["O_b"](1);var S54=R8_["v$j"](32,34);R8_["O_b"](33);var c9l=R8_["V9a"](0,20,18);S_Z=Math["pow"](this["grabStartX"]-Y_v,S54)+Math["pow"](this["grabStartY"]-H_s,c9l);if(S_Z<36){return;}}this["cancelLongHold"]=!!1;l5k=function l5k(c7E,R34){var W1F=632240235,W1a=1331583677,e1n=-1063154332,I6H=-844066008,L_H=1708338573,q$y=1191575025,Z1x=688634741,B8o=-51586579,E7a=611343389,V9K=575504350;if(R8_.h3V(0,false,223215)===W1F||R8_.h3V(0,false,461850)===W1a||R8_.h3V(9,true,830392)===e1n||R8_.Z4a(9,true,653069)===I6H||R8_.Z4a(8,true,340290)===L_H||R8_.h3V(10,true,120563)===q$y||R8_.h3V(9,true,611284)===Z1x||R8_.Z4a(9,true,593265)===B8o||R8_.Z4a(10,true,213465)===E7a||R8_.h3V(8,true,244680)===V9K){if(c4w[o1a]===0){return c7E["whichPanel"](R34)||c7E["chart"]["panel"];}if(!c7E["draw"][o1a]){c7E["draw"]=function(){R8_.W3G();var H8f=-585560611,Y8k=318241326,l9p=-226969794,W$U=-1253718984,g5l=-1657146144,a3i=-1502956068,c75=-927500610,E6x=1979631053,n9T=1814663176,Z0U=-853062415;if(R8_.h3V(0,false,289682)===H8f||R8_.h3V(0,false,535056)===Y8k||R8_.h3V(9,true,709743)===l9p||R8_.h3V(9,true,432080)===W$U||R8_.h3V(8,true,344704)===g5l||R8_.h3V(10,true,714864)===a3i||R8_.Z4a(9,true,207399)===c75||R8_.h3V(9,true,874399)===E6x||R8_.h3V(10,true,720281)===n9T||R8_.Z4a(8,true,331639)===Z0U){c4w["clearCanvas"](this["chart"]["canvas"],this);}};c7E["draw"][o1a]=!!{};}}};this["currentPanel"]=l5k(this,C_0);if(!this["currentPanel"]){return;}T0C=this["currentPanel"]["chart"];if(T0C["dataSet"]){K$U="c";K$U+="hart";this["crosshairTick"]=this["tickFromPixel"](I9W,T0C);E_6=this["valueFromPixel"](C_0,this["currentPanel"]);this["crosshairValue"]=this["adjustIfNecessary"](this["currentPanel"],this["crosshairTick"],E_6);s6Y=this["currentPanel"]["name"]==K$U?this["preferences"]["horizontalCrosshairField"]:this["currentPanel"]["horizontalCrosshairField"];if(s6Y&&this["crosshairTick"]<T0C["dataSet"]["length"]&&this["crosshairTick"]>-1){E_6=T0C["dataSet"][this["crosshairTick"]][s6Y];this["crossYActualPos"]=this["pixelFromPrice"](E_6,this["currentPanel"]);}}if(c4w["ChartEngine"]["crosshairX"]>=this["left"]&&c4w["ChartEngine"]["crosshairX"]<=this["right"]&&c4w["ChartEngine"]["crosshairY"]>=this["top"]&&c4w["ChartEngine"]["crosshairY"]<=this["bottom"]){this["insideChart"]=!!1;}else{this["insideChart"]=!!"";}n4a=this["xAxisAsFooter"]===!![]?this["chart"]["canvasHeight"]:this["chart"]["panel"]["bottom"];this["overXAxis"]=this["insideChart"]&&c4w["ChartEngine"]["crosshairY"]<=n4a+this["top"]&&c4w["ChartEngine"]["crosshairY"]>n4a-this["xaxisHeight"]+this["top"];this["overYAxis"]=(this["cx"]>=this["currentPanel"]["right"]||this["cx"]<=this["currentPanel"]["left"])&&this["insideChart"];if(this["overXAxis"]||this["overYAxis"]||!this["insideChart"]&&!this["grabbingScreen"]){this["undisplayCrosshairs"]();if(!this["overXAxis"]&&!this["overYAxis"]){return;};}if(!this["displayCrosshairs"]&&!c4w["ChartEngine"]["resizingPanel"]){this["undisplayCrosshairs"]();return;}if(this["repositioningBaseline"]){this["setBaselineUserLevel"]();return W1O(this);}if(this["repositioningAnchorSelector"]){m$V=this["repositioningAnchorSelector"]["hoverTick"];T2I=this["tickFromPixel"](this["cx"],this["chart"]);if(T2I>=0&&T2I<this["chart"]["dataSet"]["length"]&&(!(m$V&&m$V!=="0">>0)||T2I!==m$V)){this["repositioningAnchorSelector"]["hoverTick"]=T2I;this["draw"]();}return W1O(this);}if(this["grabbingScreen"]&&!c4w["ChartEngine"]["resizingPanel"]){if(this["highlightedDraggable"]){this["displayDragOK"](!![]);this["dragPlotOrAxis"](I9W,C_0);return W1O(this);}if(this["anyHighlighted"]){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);this["anyHighlighted"]=!"1";for(h7U in this["overlays"]){this["overlays"][h7U]["highlight"]=!{};}for(h7U in T0C["series"]){T0C["series"][h7U]["highlight"]=!{};}this["displaySticky"]();}if(this["grabStartX"]==-("1"<<32)){this["grabStartX"]=c4w["ChartEngine"]["crosshairX"];this["grabStartScrollX"]=T0C["scroll"];}if(this["grabStartY"]==-1){this["grabStartY"]=c4w["ChartEngine"]["crosshairY"];this["grabStartScrollY"]=this["currentPanel"]["yAxis"]["scroll"];}V6a=c4w["ChartEngine"]["crosshairX"]-this["grabStartX"];P$d=c4w["ChartEngine"]["crosshairY"]-this["grabStartY"];if(V6a===+"0"&&P$d===+"0"){return;}if(Math["abs"](V6a)+Math["abs"](P$d)>5){this["grabOverrideClick"]=!![];}k2$=this["layout"]["candleWidth"];if(this["allowZoom"]&&this["grabMode"]!="pan"&&(this["grabMode"]["indexOf"]("zoom")===0||this["overXAxis"]||this["grabStartYAxis"])){P5L="z";P5L+="o";P5L+="om";P5L+="-y";if(this["grabMode"]===""){if(this["overXAxis"]){this["grabMode"]="zoom-x";}else if(this["grabStartYAxis"]){this["grabMode"]="zoom-y";}}if(this["grabMode"]=="zoom-x"){P$d=0;}else if(this["grabMode"]==P5L){V6a=+"0";}if(V6a){this["grabStartX"]=c4w["ChartEngine"]["crosshairX"];S6L=k2$-V6a/this["chart"]["maxTicks"];this["zoomSet"](S6L,this["chart"]);}if(this["layout"]["setSpan"]){this["layout"]["setSpan"]=null;this["changeOccurred"]("layout");}b0Q=this["grabStartYAxis"];if(b0Q){if(b0Q["flipped"]){P$d*=-1;}b0Q["zoom"]=Math["round"](this["grabStartZoom"]+P$d);if(this["grabStartZoom"]<b0Q["height"]){if(b0Q["zoom"]>=b0Q["height"]){R8_["O_b"](16);var A8j=R8_["V9a"](6,0,5);b0Q["zoom"]=b0Q["height"]-A8j;}}else{if(b0Q["zoom"]<=b0Q["height"]){R8_["O_b"](14);var x7p=R8_["V9a"](2,61,10,12);b0Q["zoom"]=b0Q["height"]+x7p;}}}}else if(!this["overYAxis"]){this["dispatch"]("move",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!!{}});if(this["allowScroll"]){a09="p";a09+="an";if(Math["abs"](P$d)<this["yTolerance"]){if(!this["yToleranceBroken"]){P$d=0;if(V6a===0){return;}}}else{this["yToleranceBroken"]=!!"1";}if(!this["grabStartMicropixels"]){this["grabStartMicropixels"]=0;}this["grabMode"]=a09;T0C["scroll"]=this["grabStartScrollX"];R8_["s$9"](22);var m63=R8_["v$j"](9,167,0,18);R8_["O_b"](1);var f2p=R8_["V9a"](10,11);this["micropixels"]=this["grabStartMicropixels"]+V6a*(this["shift"]?m63:f2p);if(!this["lineTravelSpacing"]){while(this["micropixels"]>+"0"){this["micropixels"]-=k2$;T0C["scroll"]++;}while(this["micropixels"]<-k2$){this["micropixels"]+=k2$;T0C["scroll"]--;}}if(T0C["scroll"]>=T0C["maxTicks"]){w0A=1403366981;K7$=625018721;q1$=2;for(var J4n=1;R8_["l5h"](J4n["toString"](),J4n["toString"]()["length"],+"68374")!==w0A;J4n++){this["preferences"]["whitespace"]=this["initialWhitespace"];q1$+=+"2";}if(R8_["l5h"](q1$["toString"](),q1$["toString"]()["length"],66893)!==K7$){this["preferences"]["whitespace"]=this["initialWhitespace"];}}else{this["preferences"]["whitespace"]=(T0C["maxTicks"]-T0C["scroll"])*k2$;}if(this["currentPanel"]==this["grabStartPanel"]){b0Q=this["currentPanel"]["yAxis"];if(b0Q["flipped"]){R8_["O_b"](12);P$d*=-R8_["V9a"](32,"1");}b0Q["scroll"]=this["grabStartScrollY"]+P$d;}this["dispatch"]("scroll",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"]});}}i9D=function i9D(T0s){var l7i=-1377086126,b58=-1475525855,B65=2046097683,W5j=-636865186,L6L=-1908069135,V7q=155777695,V90=153495854,D_$=1389782972,m$S=-1040226959,V2y=-525125091;R8_.W3G();if(R8_.h3V(0,false,679196)===l7i||R8_.Z4a(0,false,490370)===b58||R8_.Z4a(9,true,647191)===B65||R8_.h3V(9,true,576063)===W5j||R8_.h3V(8,true,514400)===L6L||R8_.Z4a(10,true,528042)===V7q||R8_.Z4a(9,true,222789)===V90||R8_.h3V(9,true,985213)===D_$||R8_.Z4a(10,true,558331)===m$S||R8_.Z4a(8,true,223583)===V2y){return function(){var z$g=387294878,a79=-1999433205,B3v=711567530,i_2=-1464157040,I2c=-875208496,Q0c=-1707112626,a5i=-743572626,n1h=-348825631,P6_=1738942947,Y9n=1215171122;R8_.W3G();if(R8_.h3V(0,false,462349)===z$g||R8_.h3V(0,false,529825)===a79||R8_.Z4a(9,true,415064)===B3v||R8_.h3V(9,true,949948)===i_2||R8_.h3V(8,true,247884)===I2c||R8_.h3V(10,true,859284)===Q0c||R8_.h3V(9,true,873006)===a5i||R8_.Z4a(9,true,742460)===n1h||R8_.Z4a(10,true,772757)===P6_||R8_.Z4a(8,true,710148)===Y9n){T0s["draw"]();T0s["updateChartAccessories"]();}};}};if(c4w["ChartEngine"]["useAnimation"]){window["requestAnimationFrame"](i9D(this));}else{this["draw"]();this["updateChartAccessories"]();}if(this["activeDrawing"]){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);this["activeDrawing"]["measure"]();}this["undisplayCrosshairs"]();return;}this["grabMode"]="";if(this["overXAxis"]||this["overYAxis"]){this["updateChartAccessories"]();if(!this["tapForHighlighting"]||!this["touchingEvent"]||this["anyHighlighted"]){this["findHighlights"]();}return W1O(this);;}if(this["controls"]["crossX"]){this["controls"]["crossX"]["style"]["left"]=this["pixelFromTick"](this["crosshairTick"],T0C)-+"0.5"+"px";}if(this["controls"]["crossY"]){this["controls"]["crossY"]["style"]["top"]=this["crossYActualPos"]+"px";}if(this["insideChart"]&&!c4w["ChartEngine"]["resizingPanel"]){N_$=this["currentVectorParameters"]["vectorType"];if(this["layout"]["studies"]){S3S=this["layout"]["studies"][this["currentPanel"]["name"]];if(S3S){if(!this["preferences"]["dragging"]||!this["preferences"]["dragging"]["study"]){delete this["overlays"][S3S["name"]];}if(N_$){this["overlays"][S3S["name"]]=S3S;}}}if(!c4w["Drawing"]||!N_$||!c4w["Drawing"][N_$]||!new c4w["Drawing"][N_$]()["dragToDraw"]){this["doDisplayCrosshairs"]();}this["updateChartAccessories"]();}else{this["undisplayCrosshairs"]();}if(this["magnetize"]){this["magnetize"]();}if(this["repositioningDrawing"]){this["repositionDrawing"](this["repositioningDrawing"]);}else if(c4w["ChartEngine"]["drawingLine"]){if(this["activeDrawing"]){N7M=this["panels"][this["activeDrawing"]["panelName"]];E_6=this["adjustIfNecessary"](N7M,this["crosshairTick"],this["valueFromPixel"](this["backOutY"](c4w["ChartEngine"]["crosshairY"]),N7M));if(this["magnetizedPrice"]&&N7M["name"]==this["currentPanel"]["name"]){E_6=this["adjustIfNecessary"](N7M,this["crosshairTick"],this["magnetizedPrice"]);}if(this["magnetizedPrice"]===null){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);}this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"],this["crosshairTick"],E_6);if(this["activeDrawing"]["measure"]){this["activeDrawing"]["measure"]();}}}else if(c4w["ChartEngine"]["resizingPanel"]){this["resizePanels"]();}if(this["insideChart"]){l2I="m";l2I+="ov";l2I+="e";this["dispatch"](l2I,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:![]});if(!this["tapForHighlighting"]||!this["touchingEvent"]||this["anyHighlighted"]){this["findHighlights"]();}}return W1O(this);}};c4w.ChartEngine.prototype.swipeStart=function(F05){var C7b;if(this.swipe&&this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=F05.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=F05;this.swipe.end=!"1";R8_.O_b(29);this.swipe.timeConstant=R8_.v$j("325",32);this.swipe.cb=null;C7b=this;requestAnimationFrame(function(){R8_.W3G();C7b.swipeSample();});};c4w.ChartEngine.prototype.swipeSample=function(){var j00,m3m,l7u,i9Y,r1u,t6_,d0A,z$Q,p8f;j00=this.swipe;if(j00.end){return;}m3m=this;d0A=20;l7u=Date.now();i9Y=l7u-j00.timestamp;if(i9Y<d0A){requestAnimationFrame(function(){R8_.W3G();m3m.swipeSample();});return;}z$Q=c4w.touchDevice?0.4:0.8;j00.timestamp=l7u;r1u=(j00.chart.scroll-j00.frame)*this.layout.candleWidth+this.micropixels-j00.micropixels;j00.frame=j00.chart.scroll;j00.micropixels=this.micropixels;R8_.O_b(93);t6_=R8_.v$j(1000,i9Y,1,r1u);p8f=z$Q*t6_+0.2*j00.velocity;if(Math.abs(p8f)>Math.abs(j00.velocity)){j00.velocity=p8f;}if(Math.abs(r1u)<6){R8_.O_b(42);j00.velocity=R8_.V9a("0",0);;}requestAnimationFrame(function(){m3m.swipeSample();});};c4w.ChartEngine.prototype.swipeRelease=function(){var l7E,O0L;R8_.W3G();l7E=this.swipe;if(l7E.velocity>3000){l7E.velocity=3000;}if(l7E.velocity<-3000){l7E.velocity=-3000;}if(l7E.velocity>10||l7E.velocity<-10){l7E.amplitude=+"0.8"*l7E.velocity;l7E.scroll=l7E.chart.scroll;l7E.target=l7E.amplitude;l7E.timestamp=Date.now();O0L=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}requestAnimationFrame(function(){O0L.autoscroll();});}};c4w.ChartEngine.prototype.dragPlotOrAxis=function(R82,i3w){var O6D,B0m,q5U,U00,U6j,Z$m,w7S,B6d,u7m,N10,q23,v$z,c0w,L94,s9J,k23,q0H,o6a,B6b,G2G,O_l,x_J,v2Y,f8G,L0p,c0u,t$t,k$A,a3e,F5Y,q4d,c44,B4w,z7j,i3C,N$a,N5W,W7$,z1r,c$z,l_2,b5c,r6P,E6J,B2f,m9v,a86,g4F,e9i,b1W,r15,z$h,Y7f,w8s;O6D="drop";O6D+="zo";O6D+="ne";B0m="rig";B0m+="h";B0m+="t";if(!z9J.call(this)&&!this.grabbingScreen){return;}q5U=null;U00=20;U6j=10;R8_.s$9(1);Z$m=this.whichPanel(R8_.v$j(U00,i3w));R8_.O_b(0);w7S=this.whichPanel(R8_.V9a(i3w,U00));B6d=this.whichPanel(i3w);u7m=this.highlightedDraggable;if(!B6d){return;}if(u7m.undraggable&&u7m.undraggable(this)){return;}N10=this.whichYAxis(B6d,R82,i3w);R8_.O_b(1);q23=this.whichYAxis(B6d,R8_.v$j(U6j,R82),i3w);R8_.s$9(0);v$z=this.whichYAxis(B6d,R8_.V9a(R82,U6j),i3w);if(this.xAxisAsFooter&&B6d.name==Object.keys(this.panels).pop()){w7S=this.whichPanel(i3w+U00+this.xaxisHeight);if(q5U){q5U+=this.xaxisHeight;}}c0w=!!"";L94=![];s9J=!"1";function z9J(){var e77,x8Z,J5n,W_H;function D0y(n$0){return function(T_8){if(n$0.subholder.classList.contains(T_8)){n$0.subholder.classList.remove(T_8);e77=!![];}};}e77=!!0;for(var D8d in this.panels){x8Z="t";x8Z+="o";x8Z+="p";J5n="righ";J5n+="t";["dropzone","all","left",J5n,x8Z,"bottom"].forEach(D0y(this.panels[D8d]));for(W_H=+"0";W_H<this.panels[D8d].yaxisLHS.length;W_H++){if(this.panels[D8d].yaxisLHS[W_H].dropzone){e77=!![];}this.panels[D8d].yaxisLHS[W_H].dropzone=null;}for(W_H=0;W_H<this.panels[D8d].yaxisRHS.length;W_H++){if(this.panels[D8d].yaxisRHS[W_H].dropzone){e77=!![];}this.panels[D8d].yaxisRHS[W_H].dropzone=null;}}return e77;}R8_.W3G();if(c4w.Renderer){c0w=u7m instanceof c4w.Renderer;}if(c4w.Studies){L94=u7m instanceof c4w.Studies.StudyDescriptor;}s9J=u7m instanceof c4w.ChartEngine.YAxis;k23=function k23(s3i){var d1F;if(!s9J){d1F="l";d1F+="e";d1F+="f";d1F+="t";if(s3i=="right"){R8_.s$9(94);var S2X=R8_.V9a(16,7,16,1,12);return B6d.right-B6d.width/S2X;}if(s3i==d1F){R8_.s$9(95);var C$Q=R8_.v$j(9,15,3,7);return B6d.left+B6d.width/("6"|C$Q);}}R8_.O_b(96);var y1y=R8_.v$j(12,5,0,5);return(B6d.left+B6d.right)/y1y;};if(!s9J&&!N10){if(R82<k23("left")){q23=this.whichYAxis(B6d,B6d.left-1,i3w);}else if(R82>k23("right")){v$z=this.whichYAxis(B6d,B6d.right+1,i3w);}}q0H=[];if(u7m.getDependents){q0H=u7m.getDependents(this,!![]);}o6a=u7m.panel;B6b=u7m.getYAxis(this);if(c0w){o6a=u7m.params.panel;}else if(s9J){o6a=this.grabStartPanel.name;}G2G=this.panels[o6a];for(O_l in this.panels){if(this.panels[O_l].soloing){x_J=!"";}}v2Y=B6b.isShared(this);f8G=!s9J&&!x_J&&(G2G!==B6d&&G2G!=Z$m&&G2G!=w7S||!this.checkForEmptyPanel(G2G,!!{},[u7m].concat(q0H)));L0p=o6a==B6d.name&&B6b!==N10&&B6b!==v$z&&B6b!==q23||v2Y;if(f8G&&(!Z$m||B6d!==Z$m)){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("top");w7S=B6d;}else if(f8G&&(!w7S||B6d!==w7S)){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("bottom");}else if(B6d!==G2G){if(!s9J&&!B6d.noDrag){k$A="dr";k$A+="op";k$A+="zone";B6d.subholder.classList.add(k$A);B6d.subholder.classList.add("all");c0u=B6d.name;}}else if((!B6d.yaxisRHS.length||B6d.yaxisRHS.length==1&&B6d.yaxisRHS[0]==B6b&&B6b.position=="none")&&!N10&&!v$z&&R82>k23(B0m)){a3e="ri";a3e+="gh";a3e+="t";B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("right");t$t=a3e;}else if((!B6d.yaxisLHS.length||B6d.yaxisLHS.length==1&&B6d.yaxisLHS[0]==B6b&&B6b.position=="none")&&!N10&&!q23&&R82<k23("left")){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("left");t$t="left";}else if(L0p){if(s9J&&R82>B6d.left&&R82<B6d.right){R8_.s$9(1);var l9S=R8_.v$j(2,3);F5Y=B6d.yaxisLHS[B6d.yaxisLHS.length-l9S];q4d=B6d.yaxisRHS[0];c44=k23();if(R82<c44&&F5Y!=B6b){q23=F5Y;}else if(R82>c44&&q4d!=B6b){v$z=q4d;}}if(!s9J||N10!==B6b){B4w=!s9J&&v2Y;if(v$z&&(v$z!==B6b||B4w)&&(!N10||N10!==v$z)){v$z.dropzone="left";t$t=v$z.position||this.chart.panel.yAxis.position||"right";}else if(q23&&(q23!==B6b||B4w)&&(!N10||N10!==q23)){z7j="ri";z7j+="gh";z7j+="t";i3C="r";i3C+="i";i3C+="g";i3C+="ht";q23.dropzone=i3C;t$t=q23.position||this.chart.panel.yAxis.position||z7j;}else if(N10){if(!v$z&&(N10!==B6b||B4w)){N10.dropzone="right";}else if(!q23&&(N10!==B6b||B4w)){N$a="le";N$a+="ft";N10.dropzone=N$a;}else if(N10!==B6b){N10.dropzone="all";}if(N10.dropzone){t$t=N10.position||this.chart.panel.yAxis.position||"right";}}}}if(this.grabbingScreen||!B6d.subholder.classList.contains(O6D)&&!t$t){this.draw();return;}W7$=-1;if(!c0u&&!t$t&&f8G){c0u=L94?u7m.inputs.id:u7m.params.name||c4w.uniqueID();for(var P1X in this.panels){W7$++;if(this.panels[P1X]==w7S)break;}if(!w7S){W7$++;}if(this.panels[o6a].yAxis.name==c0u){o6a=this.electNewPanelOwner(o6a);}z1r=L94?u7m.inputs.display:null;if(o6a){this.createPanel(z1r||c0u,c0u,q5U,this.chart.name,new c4w.ChartEngine.YAxis({name:c0u}));}else{o6a=c0u;}if(L94){u7m.panel=o6a;}else{u7m.params.panel=o6a;}}if(c0u){if(L94){if(!u7m.parameters){u7m.parameters={};}u7m.parameters.panelName=c0u;this.highlightedDraggable=c4w.getFn("Studies.replaceStudy")(this,u7m.inputs.id,u7m.type,u7m.inputs,u7m.outputs,u7m.parameters,null,u7m.study);}else if(c0w){for(var D8e in u7m.seriesParams){c$z=u7m.seriesParams[D8e];l_2=null;if(u7m.params.yAxis){if(u7m.params.yAxis!==this.chart.panel.yAxis){l_2=u7m.params.yAxis;l_2.name=u7m.params.name;}}this.modifySeries(c$z.id,{panel:c0u,yAxis:l_2});}}if(W7$>-("1"^0)){b5c={};r6P=+"0";for(O_l in this.panels){if(W7$==r6P++){b5c[c0u]=this.panels[c0u];}if(O_l==c0u)continue;b5c[O_l]=this.panels[O_l];}if(!b5c[c0u]){b5c[c0u]=this.panels[c0u];}this.panels=b5c;}this.checkForEmptyPanel(o6a);for(var S1W=+"0";S1W<q0H.length;S1W++){if(q0H[S1W].params){this.checkForEmptyPanel(q0H[S1W].params.name);}else{this.checkForEmptyPanel(q0H[S1W].name);}}this.adjustPanelPositions();}else if(t$t){E6J=function E6J(C4z,Y3v,r2c,Y10){var s7B,W$Y;if(r2c=="study"){if(!Y3v.parameters){Y3v.parameters={};}if(Y10){Y3v.parameters.yaxisDisplayValue=Y10.position;}else{delete Y3v.parameters.yaxisDisplayValue;}s7B=c4w.getFn("Studies.replaceStudy")(C4z,Y3v.inputs.id,Y3v.type,Y3v.inputs,Y3v.outputs,Y3v.parameters,Y3v.panel,Y3v.study);}R8_.W5N();if(r2c=="renderer"){for(var W8R in Y3v.seriesParams){W$Y=Y3v.seriesParams[W8R];s7B=C4z.modifySeries(W$Y.id,{panel:c0u,yAxis:Y10});}}return s7B;};B2f=N10&&N10.dropzone=="all";if(!B2f){if(s9J){u7m.position=t$t;if(this.layout.studies){m9v=this.layout.studies[u7m.name];if(m9v){if(!m9v.parameters){m9v.parameters={};}m9v.parameters.yaxisDisplayValue=t$t;}}}else if(L94){this.highlightedDraggable=E6J(this,u7m,"study",{position:t$t});}else if(c0w){E6J(this,u7m,"renderer",new c4w.ChartEngine.YAxis({name:u7m.params.name||c4w.uniqueID(),position:t$t}));}B6b=this.highlightedDraggable.getYAxis(this);}if(!v2Y||!B2f||s9J){a86=B6b;if(B2f&&B6b==this.chart.panel.yAxis){a86=N10;}for(N5W=0;N5W<B6d.yaxisLHS.length;N5W++){if(B6d.yaxisLHS[N5W]==a86){B6d.yaxisLHS.splice(N5W,1);break;}}for(N5W=0;N5W<B6d.yaxisRHS.length;N5W++){if(B6d.yaxisRHS[N5W]==a86){B6d.yaxisRHS.splice(N5W,1);break;}}}if(B2f){if(this.getYAxisByName(B6d,B6b.name)==B6d.yAxis){this.electNewPanelOwner(B6d,N10);}if(s9J){b1W=B6b;r15=N10;if(B6b==this.chart.panel.yAxis){b1W=N10;r15=B6b;}for(e9i in b1W.studies){E6J(this,this.layout.studies[b1W.studies[e9i]],"study",r15===this.chart.panel.yAxis?null:{position:r15.name});}for(e9i in b1W.renderers){E6J(this,this.chart.seriesRenderers[b1W.renderers[e9i]],"renderer",r15);}this.highlightedDraggable=r15;}else if(L94){this.highlightedDraggable=E6J(this,u7m,"study",{position:N10.name});}else if(c0w){E6J(this,u7m,"renderer",N10);}}else{if(B6b.position=="none"){B6b.width=c4w.ChartEngine.YAxis.prototype.width;}B6b.position=t$t;g4F=t$t=="left"?B6d.yaxisLHS:B6d.yaxisRHS;for(N5W=0;N5W<g4F.length;N5W++){if(g4F[N5W]!==B6b){z$h="ri";z$h+="g";z$h+="h";z$h+="t";if(g4F[N5W].dropzone=="left"){g4F.splice(N5W,0,B6b);}else if(g4F[N5W].dropzone==z$h){R8_.s$9(6);g4F.splice(R8_.V9a(N5W,"1"),0,B6b);}else continue;}break;}if(N5W==g4F.length){g4F.push(B6b);}}}for(var q8i in this.panels){Y7f=this.panels[q8i];w8s=Y7f.yaxisLHS.concat(Y7f.yaxisRHS);for(N5W=0;N5W<w8s.length;N5W++){w8s[N5W].height=Y7f.yAxis.height;this.calculateYAxisMargins(w8s[N5W]);}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!!"1");this.savePanels();};g03=!{};c4w.ChartEngine.prototype.findHighlights=c4w.ChartEngine.prototype.findHighlights||function(I1O,H6V){if(!g03){console.error("movement feature requires activating interaction feature.");}g03=!!"1";};};R=function R(N3o){var K5H=i6UVR;var v6U;v6U=typeof _CIQ!=="undefined"?_CIQ:N3o.CIQ;v6U.NameValueStore=v6U.NameValueStore||function(){};v6U.NameValueStore.prototype.toJSONIfNecessary=function(J4E){var j9A;if(J4E.constructor==String){return J4E;}try{j9A=JSON.stringify(J4E);return j9A;}catch(G4x){K5H.s$9(0);console.log(K5H.V9a("Cannot convert to JSON: ",J4E));return null;}};v6U.NameValueStore.prototype.fromJSONIfNecessary=function(B0C){var i2c;K5H.W3G();try{i2c=JSON.parse(B0C);return i2c;}catch(e2e){return B0C;}};K5H.W3G();v6U.NameValueStore.prototype.get=function(T72,K6U){var m8p;K5H.W5N();m8p=v6U.localStorage.getItem(T72);K6U(null,this.fromJSONIfNecessary(m8p));};v6U.NameValueStore.prototype.set=function(k$e,l2Q,u58){K5H.W5N();v6U.localStorageSetItem(k$e,this.toJSONIfNecessary(l2Q));if(u58){u58(null);}};v6U.NameValueStore.prototype.remove=function(E3H,z4o){v6U.localStorage.removeItem(E3H);K5H.W5N();if(z4o){z4o(null);}};};W=function W(X2l){var p_V=i6UVR;var y0n,S$g;y0n="und";y0n+="efi";y0n+="n";y0n+="ed";S$g=(typeof _CIQ==="undefined"?"undefined":_typeof(_CIQ))!==y0n?_CIQ:X2l.CIQ;if(!S$g.ChartEngine){S$g.ChartEngine=function(){};}s9Q.fetchInitialData=function(x$_,P31,P_I,K$e,H4x){};s9Q.fetchUpdateData=function(X3J,U2a,W_C,a72){};s9Q.fetchPaginationData=function(H2v,n9d,q2o,Q_o,b3C){};s9Q.subscribe=function(v3Z){};s9Q.unsubscribe=function(K21){};S$g.QuoteFeed=S$g.QuoteFeed||function(){};S$g.QuoteFeed.prototype.fetch=function(O$V,x4Y){var M09;if(!this.v2QuoteFeed){M09="You must implement CIQ.QuoteFeed.[";M09+="you";M09+="rfeedname].prototype.fetch()";console.log(M09);}};S$g.QuoteFeed.prototype.announceError=function(Q_W,w8x){if(Q_W.suppressErrors||w8x.suppressAlert){return;}p_V.W3G();if(Q_W.startDate){;}else if(Q_W.endDate){;}else if(w8x.error){S$g.alert("Error fetching quote:"+w8x.error);}else{;}};S$g.QuoteFeed.prototype.multiFetch=function(j_I,e6Y){p_V.W3G();if(j_I.length===0){e6Y([]);}return j_I[0].stx.driver.multiFetch(j_I,e6Y);};S$g.QuoteFeed.Subscriptions=function(){p_V.W5N();this.subscriptions=[];};S$g.inheritsFrom(S$g.QuoteFeed.Subscriptions,S$g.QuoteFeed);S$g.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(y8L){var t6G,z_E,s$z,y7Q,S9J,W6R,c30,M4O,f3f;s$z=y8L.getSymbols({"breakout-equations":!![]});y7Q=this;p_V.W3G();s$z=s$z.filter(function(a6I){var W2Z;W2Z=y8L.quoteDriver.getQuoteFeed(a6I);return W2Z&&W2Z.engine==y7Q;});for(var a0r=0;a0r<this.subscriptions.length;a0r++){this.subscriptions[a0r].match=!"1";}for(var R5P=0;R5P<s$z.length;R5P++){z_E=s$z[R5P];S9J=z_E.interval;if((S9J=="month"||S9J=="week")&&!y8L.dontRoll){W6R="d";W6R+="a";W6R+="y";S9J=W6R;}z_E.interval=S9J;z_E.period=1;z_E.match=!!0;if(!isNaN(z_E.interval)){c30="mi";c30+="nut";c30+="e";z_E.period=z_E.interval;z_E.interval=z_E.timeUnit;if(!z_E.interval){z_E.interval=c30;}}delete z_E.periodicity;delete z_E.timeUnit;delete z_E.setSpan;for(a0r=0;a0r<this.subscriptions.length;a0r++){t6G=this.subscriptions[a0r];if(t6G.symbol==z_E.symbol&&t6G.period==z_E.period&&t6G.interval==z_E.interval){z_E.match=!!1;t6G.match=!![];break;}else if(t6G.symbol!=z_E.symbol){M4O="sym";M4O+="b";M4O+="o";M4O+="l";if(z_E.reason!="period"){z_E.reason="symbol";}t6G.reason=M4O;}else{f3f="per";f3f+="i";f3f+="o";f3f+="d";z_E.reason="period";t6G.reason=f3f;}}}this.subscriptions=this.subscriptions.filter(function(G58){if(!G58.match){if(!G58.stx){G58.stx=y8L;}y7Q.unsubscribe(G58);}return G58.match;});s$z.forEach(function(v_$){var H8H;if(!v_$.match){H8H="initi";H8H+="al";H8H+="i";H8H+="ze";if(!v_$.stx){v_$.stx=y8L;}if(!v_$.reason){v_$.reason=H8H;}if(v_$.symbol!==y8L.chart.symbol){v_$.series=!![];}y7Q.subscribe(v_$);y7Q.subscriptions.push(v_$);}});};S$g.QuoteFeed.Subscriptions.prototype.fetch=function(b0f,r2A){var w5H;w5H=this;this.fetchFromSource(b0f,function(I42){p_V.W5N();if(!I42.error){w5H.checkSubscriptions(b0f.stx);}r2A(I42);});};S$g.QuoteFeed.Subscriptions.prototype.subscribe=function(U1T){p_V.W5N();console.log("subscribe",U1T);};S$g.QuoteFeed.Subscriptions.prototype.unsubscribe=function(y5S){var l5x;l5x="unsubs";l5x+="cribe";console.log(l5x,y5S);};S$g.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(v5H,W$z){p_V.W3G();console.log("Please provide implementation of fetchFromSource");};S$g.QuoteFeed.prototype.requiresImmediateRefresh=function(A$5){return!"1";};S$g.ChartEngine.prototype.attachQuoteFeed=function(e1P,V4w,k0M){var q7j,k30,E5V;q7j="f";q7j+="unct";q7j+="io";q7j+="n";k30="f";k30+="u";k30+="nct";k30+="ion";if(!V4w){V4w={};}if(_typeof(e1P.fetchInitialData)===k30||_typeof(e1P.fetchUpdateData)===q7j||typeof e1P.fetchPaginationData==="function"){if(typeof e1P.fetchPaginationData!=="function"&&typeof e1P.fetchUpdateData!=="function"){V4w.noLoadMore=!!{};}e1P.v2QuoteFeed=!!{};["multiFetch","announceError","requiresImmediateRefresh"].forEach(function(Y9A){if(!e1P[Y9A]&&e1P[Y9A]!==!1){e1P[Y9A]=S$g.QuoteFeed.prototype[Y9A];}p_V.W5N();;});if(typeof e1P.subscribe==="function"){e1P.checkSubscriptions=S$g.QuoteFeed.Subscriptions.prototype.checkSubscriptions;e1P.subscriptions=[];}}if(!V4w.maximumTicks){V4w.maximumTicks=e1P.maxTicks?e1P.maxTicks:20000;}p_V.W3G();if(!V4w.bufferSize||V4w.bufferSize<0){V4w.bufferSize=0;}V4w.bufferSize=Math.round(V4w.bufferSize);V4w.intervalTimer=null;if(this.quoteDriver){if(!k0M&&this.quoteDriver.hasUnfilteredQuoteFeed){this.detachQuoteFeed();}else{E5V=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:e1P,behavior:V4w,filter:k0M});if(E5V){this.quoteDriver.quoteFeeds.push(E5V);}this.quoteDriver.updateChartLoop(null,V4w);}}if(!this.quoteDriver){this.quoteDriver=new S$g.ChartEngine.Driver(this,e1P,V4w,k0M);}if(!k0M){this.quoteDriver.hasUnfilteredQuoteFeed=!!{};}};S$g.ChartEngine.prototype.detachQuoteFeed=function(n6W){var f8K;f8K=this.quoteDriver;if(!f8K){return;}for(var W7w=f8K.quoteFeeds.length-("1"-0);W7w>=0;W7w--){if(!n6W||f8K.quoteFeeds[W7w].quoteFeed==n6W){f8K.die(f8K.quoteFeeds[W7w]);f8K.quoteFeeds.splice(W7w,1);}}p_V.W5N();if(!f8K.quoteFeeds.length){f8K=this.quoteDriver=null;}else if(n6W==f8K.quoteFeed){f8K.quoteFeed=f8K.quoteFeeds[0].quoteFeed;f8K.behavior=f8K.quoteFeeds[0].behavior;}};S$g.ChartEngine.Driver=function(D7y,B2c,c0W,g$p){p_V.W3G();this.stx=D7y;if(!c0W){c0W={};}this.quoteFeeds=[{engine:B2c,behavior:c0W,filter:g$p}];this.id=S$g.uniqueID(!!1);this.behavior=c0W;this.quoteFeed=B2c;this.loadingNewChart=![];this.updatingChart=!1;if(!g$p){this.hasUnfilteredQuoteFeed=!![];}this.updateChartLoop();};S$g.ChartEngine.Driver.prototype.die=function(V7j){var N8A;for(var I2J=0;I2J<this.quoteFeeds.length;I2J++){if(!V7j||this.quoteFeeds[I2J]==V7j){N8A=this.quoteFeeds[I2J].behavior;if(N8A.intervalTimer){clearInterval(N8A.intervalTimer);N8A.intervalTimer=-1;;}}}};S$g.ChartEngine.Driver.prototype.getQuoteFeed=function(o_v){var L$J;if(!o_v.symbolObject){o_v.symbolObject={symbol:o_v.symbol};}for(var c4Y=0;c4Y<this.quoteFeeds.length;c4Y++){L$J=this.quoteFeeds[c4Y];if(L$J.behavior.generator!=o_v.symbolObject.generator)continue;if(!L$J.filter||L$J.filter(o_v)){return L$J;}}return null;;};S$g.ChartEngine.Driver.prototype.multiFetch=function(L0M,g_c){var v8_,B8L,z0d;if(L0M.length===0){g_c([]);}v8_={counter:0,finished:L0M.length,results:[]};for(var X1k=0;X1k<L0M.length;X1k++){B8L=L0M[X1k];if(B8L.stx.isEquationChart(B8L.symbol)){S$g.fetchEquationChart(B8L,x66(B8L,v8_,g_c));}else{z0d=this.getQuoteFeed(B8L);if(z0d){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.SERIES,z0d.engine,B8L,x66(B8L,v8_,g_c));}}}p_V.W5N();function x66(b6T,s07,y5y){p_V.W3G();return function(O4l){p_V.W5N();var g1E;s07.results.push({dataCallback:O4l,params:b6T});s07.counter++;if(s07.counter>=s07.finished){g1E=s07.results;s07.results=[];y5y(g1E);}};}};S$g.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var o9n=+"0";o9n<this.quoteFeeds.length;o9n++){if(this.quoteFeeds[o9n].checkSubscriptions){this.quoteFeeds[o9n].checkSubscriptions(this.stx);}}};S$g.ChartEngine.Driver.prototype.loadDependents=function(O36,T7Z,k25,z3b){var Z8b,P9r,y$Y,j5c,x25,s7w,j5N,o4F,P0T,n7N,t5E,r8W,C7L,v3R,f9w,x97,i$S,Q0i,X1z,s0n,Q5v,o0a,T5t,S2v,I3P;Z8b=this;if(!z3b){P9r=0;y$Y=[];j5c=[];x25=function x25(w_9){if(T7Z&&++P9r>=Z8b.quoteFeeds.length){T7Z(null);}};s7w=function s7w(n9B){if(++P9r<y$Y.length){return;}p_V.W5N();if(!j5c.length){x25(n9B);}j5c.forEach(function(w$1){Z8b.loadDependents(O36,x25,k25,w$1.behavior);});};Z8b.quoteFeeds.forEach(function(M1E){if(M1E.behavior.generator){j5c.push(M1E);}else{y$Y.push(M1E);}});y$Y.forEach(function(J0S){Z8b.loadDependents(O36,s7w,k25,J0S.behavior);});return;}o4F={};P0T=O36.stx;n7N=O36.chart;t5E=n7N.series;r8W=P0T.masterData;f9w=[];x97={};function C0G(c7q){p_V.W3G();return function(d$K){var s4E,i7V,a4B,n$2,c6x,X$I,L00,V9O,g6C,Z6r;s4E=null;for(var t6Q=0;t6Q<d$K.length;t6Q++){i7V=d$K[t6Q];a4B=i7V.dataCallback.error;if(!a4B&&a4B!==0){n$2=i7V.params.symbolObject;c6x=i7V.dataCallback;X$I=c6x.quotes;L00=c6x.moreAvailable;V9O=c6x.upToDate;g6C=[];if(P0T.getSeries){g6C=P0T.getSeries({symbolObject:n$2});}Z6r=![];for(var i99=+"0";i99<g6C.length;i99++){C7L=g6C[i99];if(!c7q){if(!O36.future){C7L.moreAvailable=L00===!!""?!{}:L00||X$I.length>(i7V.params.endDate?"1"|1:0);}else{C7L.upToDate=V9O===!![]?!!1:V9O||X$I.length<=(i7V.params.startDate?+"1":"0"*1);if(P0T.isHistoricalModeSet&&X$I.length<2){C7L.mostRecentForwardAttempt=new Date();}}C7L.loading=!1;}Z6r=C7L.parameters.fillGaps||Z6r;}X$I=Z8b.cleanup(P0T,C7L,X$I,k25,O36,Z6r);P0T.updateChartData(X$I,n7N,{secondarySeries:n$2.symbol,noCreateDataSet:!0,noCleanupDates:!!{},allowReplaceOHL:!""});if(X$I&&X$I.length&&(!s4E||s4E>X$I[0].DT)){s4E=X$I[+"0"].DT;}}}if(d$K.length){P0T.createDataSet(null,null,{appending:O36.originalState.update||O36.future,appendToDate:s4E});if(!O36.nodraw){P0T.draw();}if(k25==S$g.QuoteFeed.INITIAL){Z8b.resetRefreshInterval(z3b.refreshInterval,z3b);}}if(T7Z){T7Z(null);}};}i$S=k25==S$g.QuoteFeed.UPDATE;Q0i=k25==S$g.QuoteFeed.PAGINATION;X1z=S$g.shallowClone(O36);for(j5N in t5E){C7L=t5E[j5N];s0n=C7L.parameters;if(!i$S){if(!O36.future&&C7L.moreAvailable===![])continue;if(O36.future&&C7L.upToDate===!!{})continue;;}if(C7L.loading)continue;if(s0n.loadData===!{})continue;if(i$S||Q0i){if(!C7L.endPoints||!Object.keys(C7L.endPoints).length)continue;;}if(s0n.data&&!s0n.data.useDefaultQuoteFeed)continue;v3R=s0n.symbolObject;if(!v3R.symbol)continue;if(v3R.generator!=z3b.generator)continue;X1z.symbolObject=v3R;X1z.symbol=v3R.symbol;Q5v=this.getQuoteFeed(X1z);if(z3b!=(Q5v&&Q5v.behavior))continue;o0a=!!{};if(!i$S){C7L.loading=!"";}for(var J0K=0;J0K<f9w.length;J0K++){if(S$g.symbolEqual(f9w[J0K],v3R)){o0a=!1;}}if(o0a){f9w.push(v3R);x97[v3R.symbol]=C7L.endPoints;}}T5t=[];for(var G$C=0;G$C<f9w.length;G$C++){v3R=f9w[G$C];S2v=S$g.shallowClone(O36.originalState);S2v.symbol=v3R.symbol;S2v.symbolObject=v3R;if(S2v.update||S2v.future){if(!S2v.endDate){S2v.endDate=O36.endDate;}S2v.startDate=x97[v3R.symbol].end;}else{if(!S2v.startDate){S2v.startDate=O36.startDate;}S2v.endDate=Q0i&&!O36.future?x97[v3R.symbol].begin:O36.endDate;S2v.ticks=O36.ticks;}T5t.push(S2v);}if(!T5t.length&&i$S){I3P={appending:O36.appending||O36.originalState.update};if(I3P.appending){I3P.appendToDate=O36.startDate;}P0T.createDataSet(null,null,I3P);if(!O36.nodraw){P0T.draw();}if(T7Z){T7Z(null);}return;}this.multiFetch(T5t,C0G(i$S));};S$g.ChartEngine.Driver.prototype.cleanup=function(s1T,z1R,K6V,i7$,O06,d_4){var d9Q,g5y,w$E,i6O,I88,O7T,X89,h4H;s1T.doCleanupDates(K6V,s1T.layout.interval);if(!O06.missingBarsCreated&&K6V&&K6V.length&&s1T.cleanupGaps&&d_4!==!!0){w$E=O06.chart;if(!z1R){g5y=w$E.defaultPlotField;}else{w$E=z1R;g5y=z1R.parameters.symbol||z1R.id;}if(i7$==S$g.QuoteFeed.PAGINATION&&!O06.loadMoreReplace){if(w$E.endPoints.begin&&w$E.endPoints.begin>K6V[K6V.length-1].DT){i6O=s1T.getFirstLastDataRecord(s1T.masterData,g5y,!!0);if(z1R){i6O=i6O[g5y];}K6V.push(i6O);d9Q="pop";}}else if(i7$==S$g.QuoteFeed.UPDATE){if(w$E.endPoints.end&&w$E.endPoints.end<K6V[0].DT){I88=s1T.getFirstLastDataRecord(s1T.masterData,g5y,!![]);O7T=2141695318;p_V.s$9(39);X89=-p_V.V9a("1916707877",0);h4H=2;for(var G7f=1;p_V.m6F(G7f.toString(),G7f.toString().length,58221)!==O7T;G7f++){if(z1R){I88=I88[g5y];}K6V.unshift(I88);h4H+=2;}if(p_V.m6F(h4H.toString(),h4H.toString().length,2127)!==X89){if(z1R){I88=I88[g5y];}K6V.unshift(I88);}if(z1R){I88=I88[g5y];}K6V.unshift(I88);d9Q="shift";}}K6V=s1T.doCleanupGaps(K6V,O06.chart,{cleanupGaps:d_4,noCleanupDates:!0});if(d9Q){K6V[d9Q]();}}return K6V;};S$g.ChartEngine.Driver.prototype.updateChart=function(m_A){var J0D,o1I,H5S,k4g,d7o,U6m,l4F,w5V,m5t;if(this.updatingChart){return;}if(this.loadingNewChart){return;}J0D=Object.keys(this.stx.charts).length;o1I=0;H5S=this.stx;k4g=H5S.layout.interval;function u25(o$Y,d7m,p4q,I13){if(d7m.behavior.prefetchAction){d7m.behavior.prefetchAction("updateChart");}return function(E9r){var L2C,j1a,x7_;o1I++;L2C=d7m.chart;j1a=L2C.masterData;if(p4q==L2C.symbol&&k4g==H5S.layout.interval&&d7o==H5S.layout.timeUnit&&!H5S.isHistoricalMode()){if(!E9r.error){x7_=E9r.quotes;x7_=o$Y.cleanup(H5S,null,x7_,S$g.QuoteFeed.UPDATE,d7m);H5S.updateChartData(x7_,L2C,{noCreateDataSet:!"",noCleanupDates:!!1});L2C.attribution=E9r.attribution;}else if(I13){I13.engine.announceError(d7m.originalState,E9r);}}else{o$Y.updatingChart=![];return;}if(o1I==J0D){o$Y.updatingChart=!1;}if(d7m.behavior.callback){d7m.behavior.callback(d7m);}o$Y.loadDependents(d7m,null,S$g.QuoteFeed.UPDATE,d7m.behavior);p_V.W3G();;};}d7o=H5S.layout.timeUnit;for(var N5Y in H5S.charts){U6m=H5S.charts[N5Y];if(!U6m.symbol)continue;l4F=this.makeParams(U6m.symbol,U6m.symbolObject,U6m);w5V=this.getQuoteFeed(l4F);if(U6m.masterData&&U6m.masterData.length){l4F.startDate=U6m.endPoints.end;;}l4F.update=!!1;l4F.originalState=S$g.shallowClone(l4F);if(m_A&&m_A!=l4F.behavior){this.loadDependents(l4F,null,S$g.QuoteFeed.UPDATE,m_A);continue;}this.updatingChart=!![];m5t=u25(this,l4F,U6m.symbol,w5V);if(H5S.isEquationChart(l4F.symbol)){S$g.fetchEquationChart(l4F,m5t);}else if(w5V){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.UPDATE,w5V.engine,l4F,m5t);}}};S$g.ChartEngine.Driver.prototype.updateChartLoop=function(y27,m0W){var F$O,a01;if(!m0W){m0W=this.behavior;}if(m0W.intervalTimer==-1){return;}if(m0W.intervalTimer){clearInterval(m0W.intervalTimer);}p_V.W5N();F$O=function F$O(Q$A,G4L){p_V.W5N();return function(){if(G4L.noUpdate){return;}Q$A.updateChart(G4L);};};for(var U6A=0;U6A<this.quoteFeeds.length;U6A++){a01=this.quoteFeeds[U6A].behavior;if(m0W==a01&&!a01.noUpdate){if(!y27&&y27!==0){y27=a01.refreshInterval;}if(y27){m0W.intervalTimer=setInterval(F$O(this,a01),y27*+"1000");}}}};S$g.ChartEngine.Driver.prototype.resetRefreshInterval=function(P9I,j7u){(j7u||this.behavior).refreshInterval=P9I;this.updateChartLoop(null,j7u);p_V.W5N();;};S$g.ChartEngine.Driver.prototype.loadAll=function(S2o,T95){var W7R,Q5G;W7R=this;Q5G=0;N9S()();function N9S(){return function(J0c){p_V.W5N();if(J0c){T95(J0c);}else if(!S2o.moreAvailable&&S2o.upToDate){T95(null);;}else if(++Q5G>20){T95("error, moreAvailable not implemented correctly in QuoteFeed");}else{S2o.loadingMore=!1;W7R.checkLoadMore(S2o,!![],!0,N9S(),!"");}};}};S$g.ChartEngine.Driver.prototype.checkLoadMore=function(s48,Q6_,C2w,W3i,b8k){var N9J,i8V,K3u,A_L,l1R,X_v,r4x,n0D,e4P,a7l,k9A,g47,n6i,S4H,k9x,G7v,r7G,R6a,G6U,O1s,b3M,c0H;function B$C(W23){return!W23.endPoints.end||s48.scroll-s48.maxTicks+1<l1R.bufferSize||N9J.tickFromDate(W23.endPoints.end,s48,null,!!{})-X_v.length+s48.scroll-s48.maxTicks+2<l1R.bufferSize;}N9J=this.stx;i8V=this;function P5k(J$e,E42){if(l1R.prefetchAction){l1R.prefetchAction("checkLoadMore");}return function(y8R){var C7a,g8$,m_O,G38,b0B,n5s,W64,Q4F,l29,w3e,q2O,h3x;C7a=-+"500040512";g8$=1753553143;p_V.W3G();m_O=2;for(var e$m=+"1";p_V.l5h(e$m.toString(),e$m.toString().length,5185)!==C7a;e$m++){G38=J$e.stx;b0B=E42.chart;m_O+=2;}if(p_V.m6F(m_O.toString(),m_O.toString().length,21552)!==g8$){G38=J$e.stx;b0B=E42.chart;}if(E42.symbol==b0B.symbol&&G7v==G38.layout.interval&&r7G==G38.layout.timeUnit){if(!E42.loadMore){E42.chart.loadingMore=![];}if(!y8R.error){if(!y8R.quotes){y8R.quotes=[];}n5s=y8R.quotes;W64=b0B.masterData;n5s=J$e.cleanup(G38,null,n5s,S$g.QuoteFeed.PAGINATION,E42);if(n5s.length&&b0B.masterData&&b0B.masterData.length){if(E42.future){Q4F=n5s[0];if(Q4F.DT&&Q4F.DT==b0B.masterData[b0B.masterData.length-1].DT){W64.pop();}}else{p_V.s$9(37);var D7Z=p_V.v$j(14,0,15);l29=n5s[n5s.length-D7Z];if(l29.DT&&+l29.DT==+b0B.masterData[0].DT){n5s.pop();}}}if(!E42.future){if(y8R.moreAvailable){b0B.moreAvailable=!!{};}else if(y8R.moreAvailable===![]||!n5s.length){b0B.moreAvailable=!"1";}else{b0B.moreAvailable=!!1;}}else{if(y8R.upToDate){b0B.upToDate=!![];}else if(y8R.upToDate===!!""||n5s.length>1){b0B.upToDate=!{};}if(G38.isHistoricalModeSet&&n5s.length<2){b0B.mostRecentForwardAttempt=new Date();};}J$e.tickMultiplier=n5s.length?2:J$e.tickMultiplier*2;w3e=n5s[0]?n5s["0"*1].DT:E42.startDate;q2O=n5s[0]?n5s[n5s.length-1].DT:E42.endDate;if(!b0B.endPoints.begin||b0B.endPoints.begin>w3e){b0B.endPoints.begin=w3e;}if(!b0B.endPoints.end||b0B.endPoints.end<q2O){b0B.endPoints.end=q2O;}b0B.loadingMore=!{};if(E42.loadMoreReplace){G38.setMasterData(n5s,b0B,{noCleanupDates:!![]});}else if(E42.future){G38.updateChartData(n5s,b0B,{noCreateDataSet:!!{},noCleanupDates:!""});}else{S$g.addMemberToMasterdata({stx:G38,chart:b0B,data:n5s,fields:[5453==(7460,6066)?(827,0x2459):231.12<=(2080,387)?"*":("A",!"")],noCleanupDates:!!1});}if(E42.future){h3x={appending:!![],appendToDate:n5s[0]&&n5s[0].DT};}G38.createDataSet(undefined,undefined,h3x);if(!b8k){G38.draw();}if(l1R.callback){l1R.callback(E42);}J$e.loadDependents(E42,W3i,S$g.QuoteFeed.PAGINATION);}else{J$e.quoteFeed.announceError(E42.originalState,y8R);E42.chart.loadingMore=!{};if(W3i){W3i(y8R.error);}}}else{return;}};}if(s48.loadingMore||this.loadingNewChart){s48.initialScroll=s48.scroll;if(W3i){W3i(null);}return;}K3u=N9J.isHistoricalMode();if(!K3u){N9J.isHistoricalModeSet=!{};}A_L=this.makeParams(s48.symbol,s48.symbolObject,s48);if(N9J.currentlyImporting){if(W3i){W3i(null);}return;}l1R=A_L.behavior;X_v=s48.dataSet;p_V.O_b(33);var s6l=p_V.v$j(995,14,9);n0D=s6l*(l1R.forwardPaginationRetryInterval||"5"^0);e4P=!!0;a7l=![];if(s48.dataSet.length){for(var o5b in s48.series){k9A=s48.series[o5b];if(k9A.loading)continue;if(k9A.parameters.loadData===!{})continue;r4x=!k9A.mostRecentForwardAttempt||k9A.mostRecentForwardAttempt.getTime()+n0D<Date.now();if(k9A.moreAvailable!==!!0&&T6i(k9A)){e4P=!"";}if(r4x&&!k9A.upToDate&&B$C(k9A)){a7l=!0;}}}r4x=!s48.mostRecentForwardAttempt||s48.mostRecentForwardAttempt.getTime()+n0D<Date.now();g47=(T6i(s48)||Q6_)&&s48.moreAvailable!==![];n6i=(B$C(s48)||Q6_)&&!s48.upToDate&&r4x;function M6x(A$Q){s48.loadingMore=![];if(W3i){W3i(A$Q);}}S4H=g47||e4P;k9x=N9J.isHistoricalModeSet&&!S4H&&(n6i||a7l);function T6i(G3l){return!G3l.endPoints.begin||X_v.length-s48.scroll<l1R.bufferSize||X_v.length-s48.scroll-N9J.tickFromDate(G3l.endPoints.begin,s48)<l1R.bufferSize;}G7v=N9J.layout.interval;r7G=N9J.layout.timeUnit;R6a=![];G6U=l1R.findHeadOfData||s48.masterData&&s48.masterData.length;if(!l1R.noLoadMore&&G6U){if(k9x||!N9J.maxDataSetSize||s48.dataSet.length<N9J.maxDataSetSize){if(S4H||k9x){s48.initialScroll=s48.scroll;s48.loadingMore=!![];A_L=this.makeParams(s48.symbol,s48.symbolObject,s48);A_L.pagination=!0;A_L.future=k9x;if(s48.masterData&&s48.masterData.length){if(k9x){A_L.startDate=s48.endPoints.end;}else{A_L.endDate=s48.endPoints.begin;}if(k9x&&!A_L.startDate){O1s=N9J.getFirstLastDataRecord(s48.masterData,"DT",!![]);if(O1s){A_L.startDate=O1s.DT;}}else if(S4H&&!A_L.endDate){O1s=N9J.getFirstLastDataRecord(s48.masterData,"DT");if(O1s){A_L.endDate=O1s.DT;}}}else{A_L.endDate=new Date();}A_L.originalState=S$g.shallowClone(A_L);A_L.nodraw=b8k;if(!g47&&e4P||!n6i&&a7l){this.loadingMore=!!{};this.loadDependents(A_L,M6x,S$g.QuoteFeed.PAGINATION);if(W3i){W3i(null);}return;}if(N9J.fetchMaximumBars[N9J.layout.aggregationType]){A_L.fetchMaximumBars=!!1;if(!N9J.maxMasterDataSize||l1R.maximumTicks<N9J.maxMasterDataSize){A_L.ticks=l1R.maximumTicks;}else{A_L.ticks=N9J.maxMasterDataSize;}}b3M=P5k(this,A_L);if(N9J.isEquationChart(A_L.symbol)){S$g.fetchEquationChart(A_L,b3M);}else{if(k9x){A_L.appending=!!{};}c0H=i8V.getQuoteFeed(A_L);if(c0H){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.PAGINATION,c0H.engine,A_L,b3M);}}R6a=!![];}}}if(!R6a&&W3i){W3i(null);}};S$g.ChartEngine.Driver.prototype.extendHistoricalData=function(_ref16){var W1Z=_ref16.from;var J8t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};var u_5,Q0p;var C5n=this.stx;function G1J(Q$H,Y2i){p_V.W3G();return function(_ref17){var R$H=_ref17.quotes,l0w=_ref17.moreAvailable,Y8i=_ref17.error;if(Y2i.symbol!==c_a.symbol||O7U!==h85.interval||r7Q!==h85.timeUnit){return;;}c_a.loadingMore=!"1";if(Y8i){return J8t(Y8i);}R$H=Q$H.cleanup(C5n,null,R$H,S$g.QuoteFeed.PAGINATION,Y2i);if(typeof l0w==="boolean"){c_a.moreAvailable=l0w;}else{c_a.moreAvailable=!!R$H.length;}c_a.endPoints.begin=R$H[0].DT;S$g.addMemberToMasterdata({stx:C5n,chart:c_a,data:R$H,fields:[("934"<<64,356.46)===339.8?783===(7080,9410)?!{}:("z",!!1):"*"],noCleanupDates:!""});C5n.createDataSet();C5n.draw();};}var c_a=C5n.chart,h85=C5n.layout;var Q7X=c_a.masterData,A2N=c_a.dataSet;var O7U=h85.interval,r7Q=h85.timeUnit;u_5=this.makeParams(c_a.symbol,c_a.symbolObject,c_a);Q0p=this.getQuoteFeed(u_5);if(c_a.loadingMore||this.loadingNewChart||C5n.currentlyImporting||!Q7X.length||!Q0p||C5n.maxDataSetSize&&A2N.length>C5n.maxDataSetSize){return J8t(null);}p_V.W5N();c_a.loadingMore=!"";u_5.originalState=Object.assign({},u_5);u_5.startDate=W1Z;u_5.endDate=Q7X[0].DT;S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.PAGINATION,Q0p.engine,u_5,G1J(this,u_5));};S$g.ChartEngine.Driver.prototype.barsToFetch=function(x89){var T7O,u8r,T8Z,H3Q;T7O="w";T7O+="e";T7O+="e";T7O+="k";if(!S$g.isValidNumber(this.tickMultiplier)){this.tickMultiplier=+"2";}u8r=this.stx.layout.interval;T8Z=x89.stx.layout.periodicity;if((u8r=="month"||u8r==T7O)&&!this.stx.dontRoll){T8Z*=u8r=="week"?7:30;}H3Q=x89.stx.chart.maxTicks*T8Z;return H3Q*this.tickMultiplier;};p_V.W5N();S$g.ChartEngine.Driver.determineStartDate=function(z5w,r5q,z0k){var A9P,o47,A2r;A9P=301845622;o47=1812588392;A2r=2;for(var Q03=1;p_V.l5h(Q03.toString(),Q03.toString().length,+"64734")!==A9P;Q03++){return this.determineStartOrEndDate(z5w,r5q,z0k,!!{});}if(p_V.l5h(A2r.toString(),A2r.toString().length,9095)!==o47){return this.determineStartOrEndDate(z5w,r5q,z0k,!"1");}};S$g.ChartEngine.Driver.determineStartOrEndDate=function(c$4,t2N,m79,A8H){var t_M;if(A8H||c$4.fetchMaximumBars){t_M=c$4.startDate||t2N.previous(m79);}else{t_M=c$4.future?t2N.next(m79):new Date();}return t_M;};S$g.ChartEngine.Driver.prototype.makeParams=function(o2M,h9M,H1A){var Z0y,r9X,R7u,k3w,o$X,G_1,g2E,l3e,I0a,k$a,B8$,Q7b;Z0y=this.stx;r9X=Z0y.layout.interval;R7u=this.barsToFetch({stx:Z0y});if((r9X=="month"||r9X=="week")&&!Z0y.dontRoll){k3w="d";k3w+="a";k3w+="y";r9X=k3w;}o$X=this.getQuoteFeed({interval:r9X,symbol:o2M,symbolObject:h9M});G_1=o$X&&o$X.behavior;g2E=S$g.shallowClone(G_1)||{};g2E.behavior=G_1;l3e=!!"";I0a=[];if(H1A.market&&H1A.market.getSessionNames){I0a=H1A.market.getSessionNames();}if(Z0y.extendedHours){if(Z0y.extendedHours.filter){l3e=!!1;}else{k$a=-323888069;B8$=1668079439;p_V.s$9(1);Q7b=p_V.v$j(0,"2");for(var H4F=1;p_V.l5h(H4F.toString(),H4F.toString().length,84645)!==k$a;H4F++){l3e=Z0y.layout.extended;Q7b+=2;}if(p_V.m6F(Q7b.toString(),Q7b.toString().length,+"56844")!==B8$){l3e=Z0y.layout.extended;}I0a=I0a.filter(function(W3A){p_V.W3G();return W3A.enabled||Z0y.layout.marketSessions[W3A.name];});}}else{I0a=I0a.filter(function(Z69){p_V.W5N();return Z69.enabled;});}for(var k9r="0"^0;k9r<I0a.length;k9r++){I0a[k9r]=I0a[k9r].name;;}S$g.extend(g2E,{stx:Z0y,symbol:o2M,symbolObject:h9M,chart:H1A,interval:r9X,extended:l3e,period:1,ticks:R7u,additionalSessions:I0a,quoteDriverID:this.id},!![]);if(!g2E.symbolObject){g2E.symbolObject={symbol:o2M};}if(!isNaN(g2E.interval)){g2E.period=parseInt(g2E.interval,10);g2E.interval=Z0y.layout.timeUnit;if(!g2E.interval){g2E.interval="minute";}}return g2E;};S$g.ChartEngine.Driver.prototype.newChart=function(Q4R,f_I){var F$a,u$3,A$Y,s9V,N4$,B1u,Q12,h0W,g9y;F$a=this.stx;function b$y(e9P,w_3){var M7Z;M7Z="n";M7Z+="ewChart";if(h0W.prefetchAction){h0W.prefetchAction(M7Z);}p_V.W3G();return function(q4p){var u5K,Y2S,h4h,f8I;u5K=w_3.chart;Y2S=q4p.quotes;h4h=!{};if(u$3==u5K.symbol&&A$Y==F$a.layout.interval&&s9V==F$a.layout.timeUnit){e9P.loadingNewChart=![];if(!q4p.error){Y2S=e9P.cleanup(F$a,null,Y2S,S$g.QuoteFeed.INITIAL,w_3);F$a.setMasterData(Y2S,u5K,{noCleanupDates:!!"1"});u5K.endPoints={};u5K.endPoints.begin=Y2S[0]?Y2S[0].DT:w_3.startDate;u5K.endPoints.end=Y2S[0]?Y2S[Y2S.length-1].DT:w_3.endDate;if(!Y2S){u5K.moreAvailable=![];u5K.upToDate=!!{};}else{u5K.moreAvailable=q4p.moreAvailable===!"1"?!"1":!!{};u5K.upToDate=q4p.upToDate;}u5K.attribution=q4p.attribution;if(Q4R.initializeChart){F$a.initializeChart();}F$a.createDataSet();h4h=!0;}else{Q12.engine.announceError(w_3.originalState,q4p);}}else{if(f_I){f_I("orphaned");}return;}for(var x2G in u5K.series){u5K.series[x2G].endPoints={};u5K.series[x2G].moreAvailable=null;u5K.series[x2G].upToDate=null;}f8I=u5K.masterData;if(f8I&&f8I.length){w_3.startDate=f8I[0].DT;w_3.endDate=f8I[f8I.length-1].DT;}if(h0W.callback){h0W.callback(w_3);}e9P.loadDependents(w_3,function(){if(h4h&&!w_3.nodraw){e9P.stx.home();}if(f_I){f_I(q4p.error);}e9P.stx.dispatch("newChart",{stx:e9P.stx,symbol:e9P.stx.chart.symbol,symbolObject:e9P.stx.chart.symbolObject,moreAvailable:e9P.stx.chart.moreAvailable,upToDate:e9P.stx.chart.upToDate,quoteDriver:e9P});e9P.resetRefreshInterval(h0W.refreshInterval,h0W);},S$g.QuoteFeed.INITIAL);};}u$3=Q4R.symbol;A$Y=F$a.layout.interval;s9V=F$a.layout.timeUnit;N4$=Q4R.chart;N4$.moreAvailable=null;N4$.upToDate=null;N4$.loadingMore=!!"";N4$.attribution=null;B1u=this.makeParams(u$3,Q4R.symbolObject,N4$);S$g.extend(B1u,Q4R,!!{});Q12=this.getQuoteFeed(B1u);h0W=B1u.behavior;if(F$a.fetchMaximumBars[F$a.layout.aggregationType]||Q4R.fetchMaximumBars){if(!F$a.maxMasterDataSize||h0W.maximumTicks<F$a.maxMasterDataSize){B1u.ticks=h0W.maximumTicks;}else{B1u.ticks=F$a.maxMasterDataSize;}B1u.fetchMaximumBars=!!1;}this.loadingNewChart=!!1;this.updatingChart=!{};B1u.originalState=S$g.shallowClone(B1u);g9y=b$y(this,B1u);if(this.stx.isEquationChart(B1u.symbol)){S$g.fetchEquationChart(B1u,g9y);}else if(Q12){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.INITIAL,Q12.engine,B1u,g9y);}};S$g.QuoteFeed.INITIAL=1;S$g.QuoteFeed.UPDATE=+"2";S$g.QuoteFeed.PAGINATION=3;S$g.QuoteFeed.SERIES=4;S$g.ChartEngine.Driver.fetchData=function(B2I,L57,F3P,w6N){if(!F3P.symbol){return w6N({quotes:[]});}if(L57.v2QuoteFeed){if(typeof L57.subscribe!=="function"){S$g.ChartEngine.Driver.fetchDataInContext(B2I,L57,F3P,w6N);}else{S$g.ChartEngine.Driver.fetchDataInContext(B2I,L57,F3P,function(I3C){if(!I3C.error){this.checkSubscriptions(F3P.stx);}p_V.W3G();w6N(I3C);}.bind(L57));}}else{F3P.stx.convertToDataZone(F3P.startDate);F3P.stx.convertToDataZone(F3P.endDate);L57.fetch(F3P,w6N);}};function s9Q(){}S$g.ChartEngine.Driver.fetchDataInContext=function(f7G,f7P,n5v,o$5){var m4q,I$g,y5L,a$8,C6h,X4u,A6y,o2A,x6i,J6r;C6h=n5v.stx;if(!C6h.chart.market.newIterator){X4u="quoteFeed feature requires first acti";X4u+="vating m";X4u+="arket feature";X4u+=".";console.error(X4u);return;}if(f7G===S$g.QuoteFeed.SERIES){n5v.series=!!{};f7G=S$g.QuoteFeed.INITIAL;if(n5v.endDate&&!n5v.startDate||n5v.future){f7G=S$g.QuoteFeed.PAGINATION;}else if(n5v.startDate&&!n5v.endDate){f7G=S$g.QuoteFeed.UPDATE;}}A6y=Math.min(n5v.ticks,n5v.maximumTicks);if(f7P.maxTicks){A6y=Math.min(A6y,f7P.maxTicks);}o2A=n5v.symbolObject.masterSymbol||n5v.symbol;p_V.W3G();switch(f7G){case S$g.QuoteFeed.UPDATE:if(C6h.isHistoricalModeSet){C6h.quoteDriver.updatingChart=!1;return;}if(n5v.startDate){x6i=n5v.startDate;}else{x6i=new Date();p_V.s$9(1);x6i.setHours(0,0,0,p_V.V9a(0,"0"));}if(typeof f7P.fetchUpdateData==="function"){f7P.fetchUpdateData(o2A,C6h.convertToDataZone(x6i),n5v,o$5);}break;case S$g.QuoteFeed.INITIAL:a$8=n5v.endDate||new Date();m4q={begin:a$8,interval:n5v.interval,periodicity:n5v.interval=="tick"?C6h.chart.xAxis.futureTicksInterval:n5v.period,outZone:C6h.dataZone};I$g=C6h.chart.market.newIterator(m4q);y5L=S$g.ChartEngine.Driver.determineStartDate(n5v,I$g,A6y);if(n5v.endDate){a$8=n5v.endDate;}if(typeof f7P.fetchInitialData==="function"){f7P.fetchInitialData(o2A,y5L,C6h.convertToDataZone(a$8),n5v,o$5);}break;case S$g.QuoteFeed.PAGINATION:m4q={begin:n5v.endDate||n5v.startDate,interval:n5v.interval,periodicity:n5v.interval=="tick"?C6h.chart.xAxis.futureTicksInterval:n5v.period,outZone:C6h.dataZone};I$g=C6h.chart.market.newIterator(m4q);J6r=S$g.ChartEngine.Driver.determineStartOrEndDate(n5v,I$g,A6y,!n5v.future);y5L=n5v.startDate||J6r;a$8=n5v.endDate||J6r;if(!n5v.startDate){n5v.stx.convertToDataZone(a$8);}else{n5v.stx.convertToDataZone(y5L);}if(typeof f7P.fetchPaginationData==="function"){if(C6h.maxMasterDataSize&&C6h.maxMasterDataSize<=C6h.masterData.length){return;}f7P.fetchPaginationData(o2A,y5L,a$8,n5v,function(I4n){if(a$8>=Date.now()){C6h.isHistoricalModeSet=![];}if(o$5){o$5(I4n);}});}break;default:console.error("Illegal fetchData constant");}};};Y=function Y(r_j){var n5f;n5f=typeof _CIQ!=="undefined"?_CIQ:r_j.CIQ;n5f.ChartEngine.prototype.addSeries=function(h4V,a7K,N3t){var H1u,B4U,V2E,P3x,y1D,s$v,N6S,b_G,n__,q75,X07,M0U,l4T,n$u,Z2V,V9B,E_7,v6k;H1u="addSeri";H1u+="es";B4U=this.runPrepend(H1u,arguments);if(B4U){return B4U;}V2E=h4V?h4V:null;P3x=h4V;if(!h4V){h4V=n5f.uniqueID();}if(a7K&&a7K.panel===!![]){a7K.panel=h4V;}y1D={parameters:a7K?n5f.clone(a7K):{},yValueCache:[],display:V2E,id:h4V,loading:a7K?a7K.loadData!==!"1":!!"1"};y1D.parameters.yAxis=a7K&&a7K.yAxis;a7K=y1D.parameters;if(a7K.symbol){P3x=a7K.symbol;}function p0l(n5P){return function(h2m){var v26,A$O;if(!h2m.error){v26=h2m.quotes;A$O=a7K.fillGaps;if(!X07.cleanupGaps){A$O=!!0;}v26=X07.doCleanupGaps(v26,X07.chart,{cleanupGaps:A$O});X07.updateChartData(v26,X07.chart,{secondarySeries:P3x,noCreateDataSet:!![],noCleanupDates:!!{},allowReplaceOHL:!!1});y1D.loading=!{};y1D.moreAvailable=h2m.moreAvailable;y1D.upToDate=h2m.upToDate;D3h(X07,y1D);}if(a7K.action!==null&&!b_G.length){X07.dispatch(M0U?"symbolImport":"symbolChange",{stx:X07,symbol:n5P.symbol,symbolObject:n5P.symbolObject,action:a7K.action,id:y1D.id,parameters:a7K});}if(N3t){N3t.call(X07,h2m.error,y1D);}};}function D3h(K1z,g00){var H1N=i6UVR;var R2O,s_A,t6L,y1q,h8$,P9o,v1C,Z0i;R2O="L";R2O+="i";R2O+="n";R2O+="es";s_A=a7K.renderer||R2O;t6L=a7K.name||h4V;if(a7K.yAxis&&!(a7K.yAxis instanceof n5f.ChartEngine.YAxis)&&!M0U){a7K.yAxis.name=t6L;}if(!a7K.renderer&&!a7K.name&&!a7K.color&&!a7K.chartType){return;}y1q=K1z.getSeriesRenderer(t6L);if(!y1q){h8$={name:t6L,overChart:a7K.overChart!==!{},useChartLegend:!![]};if(a7K.chartType){y1q=n5f.Renderer.produce(a7K.chartType,n5f.extend({highlightable:a7K.highlightable,dependentOf:a7K.dependentOf,panel:a7K.panel,yAxis:a7K.yAxis,baseline:a7K.baseline},h8$));}else{n5f.ensureDefaults(a7K,h8$);y1q=new n5f.Renderer[s_A]({params:a7K});}P9o=-+"1330833430";v1C=-158649269;Z0i=2;for(var V5a=1;H1N.l5h(V5a.toString(),V5a.toString().length,+"31078")!==P9o;V5a++){if(!y1q){return;}H1N.O_b(42);Z0i+=H1N.V9a("2",2);}if(H1N.l5h(Z0i.toString(),Z0i.toString().length,79750)!==v1C){if(~y1q){return;}}K1z.setSeriesRenderer(y1q);}y1q.attachSeries(h4V,a7K);if(a7K.loadData!==!!""){y1q.ready();}K1z.layout.symbols=K1z.getSymbols({"include-parameters":!![],"exclude-studies":!0});K1z.changeOccurred("layout");}if(a7K.isComparison){a7K.shareYAxis=!![];}if(a7K.yAxis&&!(a7K.yAxis instanceof n5f.ChartEngine.YAxis)){a7K.yAxis=new n5f.ChartEngine.YAxis(a7K.yAxis);;}n5f.ensureDefaults(a7K,{chartName:this.chart.name,symbolObject:{symbol:P3x},panel:this.chart.panel.name,fillGaps:!{},action:"add-series"});if("display"in a7K){y1D.display=a7K.display;}s$v=this.charts[a7K.chartName];N6S=a7K.symbolObject;P3x=a7K.symbol=N6S.symbol;if(!y1D.display){y1D.display=P3x||a7K.field;}y1D.endPoints={};if(!a7K.gapDisplayStyle&&a7K.gapDisplayStyle!==!"1"){a7K.gapDisplayStyle=a7K.gaps;}if(a7K.isComparison){if(a7K.gapDisplayStyle===undefined){a7K.gapDisplayStyle="transparent";}}b_G=this.getSeries({symbolObject:N6S,chart:s$v,includeMaster:!0});n__=a7K.panel;if(!this.panels[n__]){q75=a7K.yAxis||new n5f.ChartEngine.YAxis();q75.name=h4V;this.createPanel(h4V,n__,null,null,q75);if(!this.preferences.dragging||!this.preferences.dragging.series){a7K.highlightable=![];}}else{if(!a7K.yAxis&&!a7K.shareYAxis){a7K.yAxis=new n5f.ChartEngine.YAxis({name:h4V,position:"none"});}}s$v.series[h4V]=y1D;X07=this;M0U=this.currentlyImporting;if(a7K.isComparison&&s$v.forcePercentComparison&&a7K.panel==s$v.panel.name&&(!a7K.yAxis||a7K.yAxis==s$v.yAxis)){this.setChartScale("percent");}l4T=s$v.masterData;if(!l4T){l4T=s$v.masterData=this.masterData=[];}n$u=l4T.length;if(a7K.data&&!a7K.data.useDefaultQuoteFeed){Z2V={symbol:P3x,symbolObject:N6S,action:a7K.action};p0l(Z2V)({quotes:a7K.data});}else if(b_G.length){y1D.endPoints=b_G[0].endPoints;y1D.loading=b_G[0].loading;D3h(this,y1D);if(N3t){setTimeout(function(){N3t.call(X07,null,y1D);},0);}}else if(this.quoteDriver&&a7K.loadData!==!!""){V9B=this.quoteDriver;E_7=V9B.makeParams(P3x,N6S,s$v);if(n$u){E_7.startDate=l4T[0].DT;E_7.endDate=this.isHistoricalMode()?l4T[l4T.length-("1"^0)].DT:new Date();}if(E_7.stx.isEquationChart(E_7.symbol)){n5f.fetchEquationChart(E_7,p0l(E_7));}else{v6k=V9B.getQuoteFeed(E_7);if(v6k){n5f.ChartEngine.Driver.fetchData(4,v6k.engine,E_7,p0l(E_7));}}}else{D3h(this,y1D);if(N3t){N3t.call(this,null,y1D);}}this.runAppend("addSeries",arguments);return y1D;};n5f.ChartEngine.prototype.getSeries=function(D43){var L62,h$J,I4Y,y57,I3S;L62=D43.chart?D43.chart:this.chart;h$J=L62.series;I4Y=D43.symbolObject;if(!I4Y){I4Y={symbol:D43.symbol};}y57=[];for(var Q3Q in h$J){I3S=h$J[Q3Q];if(n5f.symbolEqual(I4Y,I3S.parameters.symbolObject)){y57.push(I3S);}}i6UVR.W3G();if(D43.includeMaster){if(n5f.symbolEqual(I4Y,L62.symbolObject)){y57.push({});}}return y57;};n5f.ChartEngine.prototype.modifySeries=function(s$c,Y6j,a46){var o8X,s9v,u2q,p5l,G4f,L1S,g_h,g0s,x3l,U6W,h6V,p9d,n9H,o0F,A58,s90,X2W;o8X="modi";o8X+="fySe";o8X+="rie";o8X+="s";s9v="stri";s9v+="ng";u2q="modif";u2q+="ySerie";u2q+="s";if(this.runPrepend(u2q,arguments)){return;}if(!Y6j){return;}if(_typeof(s$c)===s9v){L1S=Y6j.chartName?this.charts[Y6j.chartName]:this.chart;G4f=s$c;p5l=L1S.series[G4f];}else{p5l=s$c;G4f=p5l.id;L1S=this.charts[p5l.parameters.chartName];}if(!p5l){return;}n5f.extend(p5l.parameters,Y6j,!0);this.getRendererFromSeries(G4f).modifyRenderer(Y6j);g_h=p5l.parameters;for(var H2i in L1S.seriesRenderers){x3l=L1S.seriesRenderers[H2i];U6W=x3l.params;h6V=x3l.seriesParams;for(var L$G=0;L$G<h6V.length;++L$G){p9d=h6V[L$G];n9H=this.panels[p9d.panel];o0F=n9H&&n9H.yAxis.name;if(p9d.id===p5l.id){if(g_h.panel===!!{}){g_h.panel=g_h.dependentOf||g_h.name;}U6W.panel=g_h.panel;if(Y6j.yAxis){if(!(Y6j.yAxis instanceof n5f.ChartEngine.YAxis)){Y6j.yAxis=new n5f.ChartEngine.YAxis(Y6j.yAxis);;}U6W.yAxis=Y6j.yAxis;}if(g_h.panel!=p9d.panel&&U6W.name==o0F){this.electNewPanelOwner(p9d.panel);;}else{A58=this.getYAxisByName(g_h.panel,U6W.name);if(A58&&g_h.yAxis&&A58.name!==g_h.yAxis.name){A58.name=this.electNewYAxisOwner(A58);}}if(!g_h.field){g_h.field=null;}x3l.attachSeries(G4f,n5f.ensureDefaults(g_h,p9d));if(!g_h.field){g_h.field=g_h.subField;}delete g_h.subField;if(g_h.isComparison&&L1S.forcePercentComparison&&g_h.panel==L1S.panel.name&&(!p5l.parameters.yAxis||g_h.yAxis.name==L1S.yAxis.name)){this.setChartScale("percent");}g0s=x3l;break;}}}this.changeOccurred("layout");n5f.getFn("Drawing.updateSource")(this,p5l.parameters.symbol||G4f,null,p5l.parameters.panel);this.runAppend(o8X,arguments);if(a46!==!!1){s90=g0s.getDependents(this);for(var l34=0;l34<s90.length;l34++){this.modifySeries(s90[l34].params.name,{panel:g0s.params.panel,yAxis:p5l.parameters.yAxis},!!{});}X2W=L1S.seriesRenderers[g0s.params.dependentOf];if(X2W){if(X2W.params.yAxis!=p5l.parameters.yAxis||X2W.params.panel!=g0s.params.panel){this.modifySeries(g0s.params.dependentOf,{panel:g0s.params.panel,yAxis:p5l.parameters.yAxis},!0);}}}this.draw();return p5l;};n5f.ChartEngine.prototype.deleteSeries=function(T1w,l8t,I1C){var t_I,E4D,h7I,F_Y,C_y,b9l,f6H,N0S,f3X,J1k;t_I="symbolCha";t_I+="nge";E4D="o";i6UVR.W5N();E4D+="bject";h7I="re";h7I+="mov";h7I+="e-seri";h7I+="es";if(this.runPrepend("deleteSeries",arguments)){return;}I1C=I1C?I1C:{};F_Y=I1C.action?I1C.action:h7I;if(_typeof(T1w)===E4D){C_y=T1w.id;l8t=l8t||this.charts[T1w.parameters.chartName];}else{C_y=T1w;l8t=l8t||this.chart;}b9l=l8t.series[C_y];if(!b9l){return;}f6H=b9l.parameters.loadData;N0S=b9l.parameters.symbolObject;delete l8t.series[C_y];f3X=this.getSeries({symbolObject:N0S,includeMaster:!![]});if(f6H===!!0){f3X.push(C_y);}if(!f3X.length){this.cleanMasterData(N0S,l8t);}J1k=this.panels[b9l.parameters.panel];if(J1k){this.checkForEmptyPanel(J1k);}this.createDataSet();if(!f3X.length){this.dispatch(this.currentlyImporting?"symbolImport":t_I,{stx:this,symbol:N0S.symbol,symbolObject:N0S,id:C_y,action:F_Y});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};n5f.ChartEngine.prototype.removeSeries=function(o8j,y4s){var A4b,P1R,A6g,s_9,i$z,X0d,t_B,O7u;A4b="removeSerie";A4b+="s";if(this.runPrepend("removeSeries",arguments)){return;}A6g=!{};if(_typeof(o8j)==="object"){P1R=o8j.id;y4s=y4s||this.charts[o8j.parameters.chartName];}else{P1R=o8j;y4s=y4s||this.chart;}for(var N5g in y4s.seriesRenderers){s_9=y4s.seriesRenderers[N5g];i$z=this.panels[s_9.params.panel];X0d=i$z&&i$z.yAxis.name;for(var i_Z=s_9.seriesParams.length-1;i_Z>=0;i_Z--){t_B=s_9.seriesParams[i_Z];if(t_B.id===P1R){s_9.removeSeries(P1R);if(s_9.seriesParams.length<1){this.removeSeriesRenderer(s_9);if(s_9.params.name==X0d){this.electNewPanelOwner(s_9.params.panel);}else{if(!this.checkForEmptyPanel(s_9.params.panel)){O7u=this.getYAxisByName(i$z,s_9.params.name);if(O7u){O7u.name=O7u.studies[0]||O7u.renderers[+"1"];}}}}A6g=!![];}}}if(!A6g){this.deleteSeries(P1R,y4s);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend(A4b,arguments);};n5f.Comparison=n5f.Comparison||function(){};n5f.Comparison.initialPrice=100;n5f.Comparison.getInitialPrice=function(w1g){var Q0D,C1v,S9x,m9e;Q0D="n";i6UVR.W3G();Q0D+="um";Q0D+="be";Q0D+="r";if(w1g.initialComparisonPrice){return w1g.initialComparisonPrice;}w1g.initialComparisonPrice=100;C1v=n5f.Comparison.initialPrice;if(_typeof(C1v)==Q0D){w1g.initialComparisonPrice=C1v;}if(typeof C1v=="string"){if(w1g.series[C1v]||C1v===""){S9x="Close";if(w1g.defaultPlotField){if(!w1g.highLowBars){S9x=w1g.defaultPlotField;}}for(var e8o=w1g.dataSet.length-w1g.scroll-1;e8o<w1g.dataSet.length;e8o++){m9e=w1g.dataSet[e8o];if(m9e){if(m9e[C1v]&&m9e[C1v][S9x]){w1g.initialComparisonPrice=m9e[C1v][S9x];break;}else if(C1v===""&&m9e[S9x]){w1g.initialComparisonPrice=m9e[S9x];break;}}}}}return w1g.initialComparisonPrice;};n5f.Comparison.priceToPercent=function(L1I,m4w,S1t){var p1h=i6UVR;var s2m;s2m=n5f.Comparison.baseline||S1t;p1h.W5N();p1h.s$9(71);var l7W=p1h.v$j(10014,14,130066,18,8);p1h.s$9(27);var K9C=p1h.V9a(10,20,1590120,160000,14);return Math.round((S1t-s2m)/s2m*+"100"*l7W)/K9C;};n5f.Comparison.percentToPrice=function(P99,a0s,S0z){var B3m;B3m=n5f.Comparison.baseline||1;i6UVR.O_b(97);return i6UVR.V9a(S0z,100,"1",B3m);};n5f.Comparison.priceToRelative=function(W$5,a$E,u4i){var S_8,E08;S_8=n5f.Comparison.baseline||u4i;E08=n5f.Comparison.getInitialPrice(a$E);i6UVR.s$9(98);return i6UVR.v$j(u4i,E08,S_8);};n5f.Comparison.relativeToPrice=function(Q2I,L8$,k4d){var r54,S8X;r54=n5f.Comparison.baseline||"1"^0;i6UVR.W3G();S8X=n5f.Comparison.getInitialPrice(L8$);i6UVR.s$9(98);return i6UVR.V9a(k4d,r54,S8X);};n5f.Comparison.createComparisonSegmentInner=function(r0p,X58){var e0j=i6UVR;var w7U,W3T,k7V,t87,Z9I,y0X,c_e,W9E,y3s,e_6,j69,O6G,W9a,h1F,Z9d,x2I,s6i,Q3C,H8c,l6Q,Y2x,n8r,N8Q,h2M;w7U=[];e0j.W3G();for(W3T in X58.series){Z9I=X58.series[W3T].parameters;if(Z9I.isComparison){w7U.push(Z9I.symbol);}}y0X=["Close","Open","High","Low","iqPrevClose"];c_e=r0p.chart.highLowBars;if(X58.defaultPlotField&&!c_e){y0X.unshift(X58.defaultPlotField);}W9E=y0X[0];y3s=r0p.layout.studies;for(var x$E in y3s){e_6=y3s[x$E];k7V=r0p.panels[e_6.panel];t87=e_6.getYAxis(r0p);if(!k7V||k7V.yAxis!=t87)continue;for(W3T in e_6.outputMap){y0X.push(W3T);}for(var B1N=0;B1N<=2;B1N++){y0X.push(e_6.name+"_hist"+(B1N?B1N:""));}if(e_6.referenceOutput){y0X.push(e_6.referenceOutput+((3912,+"217.38")<8162?8257!=(17.64,931)?" ":("k",3.77e+3):3.73e+3)+e_6.name);}}for(var b$8 in r0p.plugins){j69=r0p.plugins[b$8];if(!j69.transformOutputs)continue;for(W3T in j69.transformOutputs){y0X.push(W3T);}}X58.initialComparisonPrice=null;X58.dataSegment=[];O6G=null;e0j.s$9(99);var P4i=e0j.V9a(2,31,15);W9a=X58.dataSet.length-X58.scroll-P4i;if(r0p.startComparisonsAtFirstVisibleBar){W9a+=1;}e0j.O_b(1);var H61=e0j.v$j(17,20);h1F=X58.maxTicks+H61;for(var F20=0;F20<=h1F;F20++){if(F20==h1F){F20=-1;}e0j.O_b(0);Z9d=e0j.V9a(W9a,F20);if(Z9d<X58.dataSet.length&&Z9d>=0){x2I=X58.dataSet[Z9d];s6i=x2I[W9E];if(!O6G){if(s6i===0||s6i===null){if(F20<0)break;else continue;;}O6G=n5f.clone(x2I);}if(!x2I.transform){x2I.transform={cache:{},DT:x2I.DT,Date:x2I.Date};}if(!n5f.Comparison.baseline&&s6i){O6G=n5f.clone(x2I);}n5f.Comparison.baseline=O6G[W9E];for(Q3C="0"^0;Q3C<y0X.length;Q3C++){W3T=y0X[Q3C];if(x2I[W3T]||x2I[W3T]===0){x2I.transform[W3T]=X58.transformFunc(r0p,X58,x2I[W3T]);}}for(Q3C=+"0";Q3C<w7U.length;Q3C++){W3T=w7U[Q3C];H8c=X58.series[W3T];if(F20==-1&&H8c&&H8c.parameters.isComparison){delete x2I.transform[W3T];continue;}l6Q=x2I[W3T];for(var F3_=0;l6Q&&F3_<y0X.length;F3_++){Y2x=l6Q[y0X[F3_]];if(Y2x||Y2x===0){n8r=O6G[W3T]&&O6G[W3T][y0X[0]];if(!n8r&&n8r!==0){if(!O6G[W3T]){O6G[W3T]={};}O6G[W3T][y0X[F3_]]=n8r=Y2x*n5f.Comparison.baseline/x2I[W9E];}if(n8r!==0){N8Q=n5f.Comparison.baseline||+"1";e0j.O_b(100);h2M=e0j.V9a(Y2x,n8r,N8Q);if(!x2I.transform[W3T]){x2I.transform[W3T]={};}x2I.transform[W3T][y0X[F3_]]=X58.transformFunc(r0p,X58,h2M);}}}}X58.dataSegment.push(x2I);}else if(Z9d<0){X58.dataSegment.push(null);}if(F20<0)break;;}};n5f.Comparison.priceFormat=function(d2B,S_5,W8E){var g04=i6UVR;var w6Y,r81;g04.W5N();if(W8E===null||typeof W8E=="undefined"||isNaN(W8E)){return"";}w6Y=S_5.yAxis.priceTick;r81=d2B.internationalizer;if(r81){if(w6Y>=5){g04.s$9(9);W8E=r81.percent.format(g04.V9a(W8E,100));}else if(w6Y>=0.5){g04.O_b(9);W8E=r81.percent1.format(g04.v$j(W8E,100));}else if(w6Y>=0.05){g04.O_b(9);W8E=r81.percent2.format(g04.V9a(W8E,100));}else if(w6Y>=0.005){g04.O_b(9);W8E=r81.percent3.format(g04.v$j(W8E,100));}else{g04.s$9(101);W8E=r81.percent4.format(g04.v$j("100",1,W8E));}}else{if(w6Y>=5){W8E=W8E.toFixed(0)+"%";}else if(w6Y>="0.5"*1){g04.O_b(1);var L7H=g04.v$j(9,10);W8E=W8E.toFixed(L7H)+( false?undefined:"%");}else if(w6Y>=0.05){g04.s$9(102);var a2F=g04.v$j(0,6,38,19,11);g04.s$9(103);var N5Q=g04.v$j(9,5,14,56,6);g04.s$9(0);var M1U=g04.V9a(216,3678);g04.s$9(1);var I8H=g04.V9a(35651,40744);g04.s$9(1);var x9z=g04.v$j(11,9461);W8E=W8E.toFixed(a2F)+(("24"*N5Q,M1U)===(+"175",I8H)?x9z:"%");}else if(w6Y>=0.005){g04.O_b(104);var I$e=g04.v$j(4,16,15,0);W8E=W8E.toFixed(I$e)+"%";}else{g04.s$9(105);var h6m=g04.v$j(12,7,66,7,1);g04.O_b(106);var y$1=g04.v$j(104,20,19,16,9);g04.s$9(107);var Q2V=g04.v$j(13,5859,1,20,367);W8E=W8E.toFixed(h6m)+((909.67,520.67)==("307.39"*y$1,716.94)?(![],Q2V):"%");}}if(parseFloat(W8E)===0&&W8E.charAt(+"0")==(("6365"^0,+"940.61")!==699.81?"-":+"295.21")){W8E=W8E.substring(1);}return W8E;};n5f.ChartEngine.prototype.setComparison=function(p8c,N9a,x5d){var k7I,h9_,d8U,J8r,o0L;k7I="perce";k7I+="nt";h9_="rel";h9_+="a";h9_+="tive";d8U="s";d8U+="tr";d8U+="i";d8U+="ng";if(!N9a){N9a=this.chart;}if(_typeof(N9a)==d8U){N9a=this.charts[N9a];}if(x5d||x5d===""){n5f.Comparison.initialPrice=x5d;}if(p8c===!![]){if(N9a.isComparison){return;}p8c="percent";}this.resetDynamicYAxis();J8r=N9a.panel.yAxis;o0L=J8r.priceFormatter==n5f.Comparison.priceFormat;switch(p8c){case h9_:this.setTransform(N9a,n5f.Comparison.priceToRelative,n5f.Comparison.relativeToPrice);if(o0L){J8r.priceFormatter=J8r.originalPriceFormatter?J8r.originalPriceFormatter.func:null;J8r.originalPriceFormatter=null;}J8r.whichSet="dataSegment";N9a.isComparison=!![];break;case k7I:this.setTransform(N9a,n5f.Comparison.priceToPercent,n5f.Comparison.percentToPrice);if(!o0L){J8r.originalPriceFormatter={func:J8r.priceFormatter};J8r.priceFormatter=n5f.Comparison.priceFormat;}J8r.whichSet="dataSegment";N9a.isComparison=!!{};break;default:this.unsetTransform(N9a);if(o0L){J8r.priceFormatter=J8r.originalPriceFormatter?J8r.originalPriceFormatter.func:null;J8r.originalPriceFormatter=null;}J8r.whichSet="dataSet";N9a.isComparison=![];break;}};n5f.ChartEngine.prototype.setChartScale=function(E1c){var M5Z,Y$o;M5Z=this.chart;Y$o={percent:!0,relative:!!{}};if(!E1c){E1c="linear";}if(Y$o[E1c]){this.setComparison(E1c,M5Z,n5f.Comparison.initialPrice);}else if(Y$o[this.layout.chartScale]){this.setComparison(![],M5Z);}this.layout.chartScale=E1c;if(M5Z.canvas){this.draw();}this.changeOccurred("layout");};};g=function g(S8Y){var c6m,j71;function C2V(){var Q3P,Q0s,i5b;if(c6m.Share.html2canvasLocation){return c6m.Share.html2canvasLocation;}i6UVR.W3G();Q3P=document.getElementsByTagName("script");for(var X_2=0;X_2<Q3P.length;X_2++){Q0s=Q3P[X_2];if(Q0s.src&&Q0s.src.indexOf("share.js")>-1){i5b="third";i5b+="par";i5b+="ty/";return Q0s.src.replace(/standard\/share\.js/,"")+i5b;}}return"js/thirdparty/";}c6m=typeof _CIQ!=="undefined"?_CIQ:S8Y.CIQ;c6m.Share=c6m.Share||function(){};c6m.Share.FullChart2PNG=function(U3B,A9K,m1Y){i6UVR.W3G();if(!U3B||!U3B.chart){return;}if(typeof html2canvas==="undefined"){return y2T(function(){i6UVR.W3G();return I6y(U3B,A9K,m1Y);});}j71=html2canvas;I6y(U3B,A9K,m1Y);};c6m.Share.createImage=function(r0s,s84,z8s){var b7R=i6UVR;var b8w,X$V,W1W,v$s,F2u,q4W,z_Y,m$$,c6t,i1Y,u2C,j2h,l8Z,H2P,t8D;b8w="i";b8w+="m";b8w+="g";X$V=[].slice.call(arguments);z8s=X$V.pop();if(s84===null||_typeof(s84)!="object"){s84={widthPX:X$V[1],heightPX:X$V[2],imageType:X$V[+"3"]};}W1W=s84.widthPX;v$s=s84.heightPX;F2u=s84.imageType;q4W=r0s.chart.canvas.height;z_Y=r0s.chart.canvas.width;if(r0s.chart.canvas.style.height){q4W=c6m.stripPX(r0s.chart.canvas.style.height);z_Y=c6m.stripPX(r0s.chart.canvas.style.width);}if(W1W&&v$s){m$$=-1365210961;c6t=-209622214;i1Y=2;for(var b6s="1"^0;b7R.m6F(b6s.toString(),b6s.toString().length,8753)!==m$$;b6s++){q4W=v$s;z_Y=W1W;i1Y+=2;}if(b7R.m6F(i1Y.toString(),i1Y.toString().length,+"63253")!==c6t){q4W=v$s;z_Y=W1W;}}else if(v$s){u2C=-1835035992;b7R.s$9(29);j2h=-b7R.V9a("1583007615",0);l8Z=2;for(var w5m=1;b7R.m6F(w5m.toString(),w5m.toString().length,48631)!==u2C;w5m++){z_Y=r0s.chart.canvas.width+(q4W-r0s.chart.canvas.height);l8Z+=2;}if(b7R.m6F(l8Z.toString(),l8Z.toString().length,63192)!==j2h){z_Y=r0s.chart.canvas.width*(q4W/r0s.chart.canvas.height);}}else if(W1W){z_Y=W1W;q4W=r0s.chart.canvas.height*(W1W/r0s.chart.canvas.width);}H2P=F2u?"image/"+F2u:"image/png";t8D=document.createElement(b8w);t8D.onload=function(){c6m.Share.FullChart2PNG(r0s,{image:this,width:z_Y,height:q4W,hide:s84.hide},function(x6s,O6z){var E5G;b7R.W3G();if(x6s){E5G="Error producing";E5G+=" canvas snapshot: ";b7R.O_b(0);console.warn(b7R.v$j(E5G,x6s));}else{try{z8s(O6z.toDataURL(H2P));;}catch(h4X){var j6R,Q2Y,l8r;j6R=1709647944;Q2Y=-1990266272;l8r=2;for(var O13=1;b7R.m6F(O13.toString(),O13.toString().length,56683)!==j6R;O13++){console.warn("");z8s(t8D.src);l8r+=2;}if(b7R.l5h(l8r.toString(),l8r.toString().length,12654)!==Q2Y){console.warn("");z8s(t8D.src);}console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback.");z8s(t8D.src);}}});};t8D.src=r0s.chart.canvas.toDataURL(H2P);};function n0H(V$v){var s_e,I9H,O9p,S9v,Z$X;s_e="tex";s_e+="t-align";I9H="fo";I9H+="nt-weight";O9p="f";O9p+="ill";if(!V$v.style){return;}S9v=getComputedStyle(V$v);Z$X=["alignment-baseline","dominant-baseline",O9p,"fill-opacity","font-family","font-size","font-variant",I9H,s_e,"text-anchor"];Z$X.forEach(function(Q1w){i6UVR.W3G();if(!V$v.style[Q1w]&&S9v[Q1w]){V$v.style[Q1w]=S9v[Q1w];}});for(var v06 in V$v.children){n0H(V$v.children[v06]);}}c6m.Share.uploadImage=function(L10,w3y,W8A,S1I){var n$S;if(!W8A){W8A={};}W8A.image=L10;n$S=c6m.postAjax(w3y,JSON.stringify(W8A),function(X4V,h3v){i6UVR.W3G();if(X4V!=200){S1I(X4V,null);return;}S1I(null,h3v);});if(!n$S){S1I(0,null);}};function I6y(j1j,F3E,d1c){var B2P,v5t,Q2c,k_Y,F6w,g$8,B2y,X7K,H9l,p1r;i6UVR.W3G();B2P="s";B2P+="v";B2P+="g";if(!F3E){F3E={};}v5t=[];Q2c="ciq-no-share";k_Y=document.querySelector("body");if(F3E.hide&&F3E.hide instanceof Array){F6w=F3E.hide.join(", ");g$8=document.querySelectorAll(F6w);for(var l_5=0;l_5<g$8.length;l_5++){g$8[l_5].classList.add(Q2c);}}k_Y.classList.add("sharing");B2y=j1j.chart.container.getElementsByTagName(B2P);X7K=[];H9l=+"0";for(;H9l<B2y.length;H9l++){p1r=B2y[H9l];X7K.push(p1r.innerHTML);n0H(p1r);}j71(j1j.chart.container,{allowTaint:![],logging:!"1",width:F3E.width||null,height:F3E.height||null,backgroundColor:F3E.background||null,useCORS:!![]}).then(function(L0s){var m4t;m4t="shar";m4t+="i";m4t+="n";m4t+="g";if(d1c){d1c(null,F3E.data?L0s.toDataURL("image/png"):L0s);}for(H9l=0;H9l<B2y.length;H9l++){B2y[H9l].innerHTML=X7K[H9l];}k_Y.classList.remove(m4t);})["catch"](function(x4U){var I6P;I6P="sh";I6P+="aring";if(d1c){d1c(x4U);}for(H9l=0;H9l<B2y.length;H9l++){B2y[H9l].innerHTML=X7K[H9l];}k_Y.classList.remove(I6P);});}c6m.Share.shareChart=function(u8X,g5L,W6N){var d1K=i6UVR;d1K.W3G();c6m.Share.createImage(u8X,{},function(j3N){var n$v,A76,j6W,e8G,D7W,K4B;n$v=c6m.uniqueID();A76="https:/";A76+="/share.chartiq.co";A76+="m";d1K.O_b(35);j6W=d1K.V9a("/upload/",n$v,A76);if(g5L){if(g5L.host){A76=g5L.host;}if(g5L.path){d1K.O_b(0);var y1z=d1K.V9a(8588,15);d1K.s$9(0);var J_p=d1K.v$j(9931,19);d1K.O_b(108);var p2H=d1K.V9a(20,2345,53920,5,6);d1K.s$9(109);var m8f=d1K.v$j(31,15,1,1,17);d1K.O_b(26);var F5T=d1K.V9a(5383,8,4325,5);d1K.O_b(37);var N1Z=d1K.V9a(9,6,7845);d1K.O_b(110);var U8C=d1K.v$j(8236,14,1,16,12);d1K.O_b(111);var m7H=d1K.V9a(3,2,564,477);j6W=A76+g5L.path+(139.87==(y1z,J_p)?(p2H,"808.95"*m8f)>=(F5T,N1Z)?(U8C,"D"):m7H:"/")+n$v;}}e8G=u8X.getStartDateOffset();D7W={layout:u8X.exportLayout(),drawings:u8X.exportDrawings(),xOffset:e8G,startDate:u8X.chart.dataSegment[e8G].Date,endDate:u8X.chart.dataSegment[u8X.chart.dataSegment.length-1].Date,id:n$v,symbol:u8X.chart.symbol};K4B={id:n$v,image:j3N,config:D7W};c6m.Share.uploadImage(j3N,j6W,K4B,function(W5c,w46){if(W5c!==null){c6m.alert("error sharing chart: ",W5c);}else{d1K.O_b(0);W6N(d1K.v$j(A76,w46));}});;});};function y2T(I6Y){var X4h,S8i;X4h="unde";i6UVR.W5N();X4h+="fi";X4h+="ned";if((typeof html2canvas==="undefined"?"undefined":_typeof(html2canvas))===X4h){S8i="unde";S8i+="fi";S8i+="n";S8i+="ed";if((typeof requirejs==="undefined"?"undefined":_typeof(requirejs))!==S8i){try{return requirejs(["html2canvas.min.js"],function(v39){j71=v39;return I6Y();});}catch(Y3C){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}c6m.loadScript(C2V()+"html2canvas.min.js",function(){j71=html2canvas;return I6Y();});}else{j71=html2canvas;return I6Y();}}};K=function K(j2G){var Y5X=i6UVR;Y5X.W5N();var Q5n;Q5n=typeof _CIQ!=="undefined"?_CIQ:j2G.CIQ;Q5n.ChartEngine.prototype.setRange=function(q3W,s1k){var n3d,O5N,A_M,r68,k3B,I$3,j9S,y8a,P0Q,j1d,v33,c$l,K8k,e3U,L5U,B14,P3_,H0c,h$p,q3A,t02,a3p,X0y,K5D,Z6J,w7G,l3w,t3E,f7f,z$b,g98,z5e,b$G,C55,K$8,Q5W,J6z,I_v,H4B,X5v;n3d="st";n3d+="ri";function j7L(f1X,j28,H6q,o17,i6i,E0n){var k9f,L_5;Y5X.s$9(39);k9f=Y5X.v$j("0",0);Y5X.O_b(1);L_5=Y5X.v$j(j28,f1X);if(Q5n.ChartEngine.isDailyInterval(H6q)){if(H6q=="month"){k9f=L_5/Q5n.MONTH/o17;}else if(H6q=="week"){k9f=L_5/Q5n.WEEK/o17;}else{k9f=L_5/Q5n.DAY/o17;}}else{if(!isNaN(H6q)){if(i6i=="millisecond"){Y5X.s$9(101);k9f=Y5X.v$j(o17,H6q,L_5);}else if(i6i=="second"){k9f=L_5/Q5n.SECOND/(o17*H6q);}else{k9f=L_5/Q5n.MINUTE/(o17*H6q);}}}return Math.round(k9f);;}n3d+="ng";if(Q5n.isEmpty(q3W)){q3W={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments["3"|1]};O5N=-985953697;A_M=-549256637;r68=2;for(var J3F=1;Y5X.l5h(J3F.toString(),J3F.toString().length,86618)!==O5N;J3F++){s1k=arguments[1];r68+=2;}if(Y5X.m6F(r68.toString(),r68.toString().length,55147)!==A_M){s1k=arguments[4];}}if(this.staticRange){q3W.goIntoPast=q3W.goIntoFuture=!"";}if(!q3W.chart){q3W.chart=this.chart;}if(typeof q3W.padding=="undefined"){q3W.padding=0;}function i2j(w80){var F7l;if(w80&&v33===0){I$3.scroll=Z6J;j1d.setCandleWidth(w7G);j1d.layout.interval=l3w;j1d.layout.periodicity=t3E;j1d.layout.timeUnit=f7f;if(s1k){s1k(w80);}return;}v33++;if(v33>10){F7l="CIQ.ChartEngine.setRan";F7l+="ge(): Too many loads (10) from server. Stopping. Check periodicity log";F7l+="ic.";console.log(F7l);f96();return;}f96();;}k3B=!{};Y5X.W5N();I$3=q3W.chart;j9S=_typeof(q3W.dtLeft)===n3d?new Date(q3W.dtLeft):q3W.dtLeft;y8a=new Date();function f96(K1q){var b_g,s5Z,o_7,M4o,J6R,w9t,x04,N7O,q9l,I8k,y1A,P3Z,E1Y,F56,E5h,P9X,w7H,j7y,t62,u3D;b_g="l";b_g+="a";b_g+="y";b_g+="out";if(typeof K1q=="undefined"){K1q=null;}s5Z=0;Y5X.s$9(2);o_7=Y5X.V9a(1,"0");M4o=new Date();J6R=q3W.base;Y5X.W5N();w9t=q3W.periodicity;x04=j1d.layout;if(q3W.goIntoFuture&&(!I$3.masterData.length||j9S>I$3.masterData[I$3.masterData.length-1].DT)){N7O=I$3.masterData.length?I$3.masterData.pop():{DT:j9S};q9l=j1d.doCleanupGaps([N7O,{DT:y8a}],I$3,{cleanupGaps:"gap",noCleanupDates:!0});j1d.setMasterData(I$3.masterData.concat(q9l),I$3,{noCleanupDates:!!{}});j1d.createDataSet(null,null,{appending:!!{}});}I8k=I$3.dataSet;y1A=I8k.length;if(!I8k||y1A===0){if(s1k){s1k(K1q);}return;}if(J6R==="day"&&w9t&&w9t.interval==="day"){E1Y=q3W.multiplier;s5Z=y1A<E1Y?0:y1A-E1Y;Y5X.s$9(1);o_7=Y5X.V9a(1,y1A);}else if(J6R==="today"&&I8k[y1A-1].DT.getDate()<M4o.getDate()){F56=new Date(I8k[y1A-1].DT.getTime());E5h=F56.getTime();P3Z=0;for(var s64=y1A-1;s64>=0;s64--){if(I8k[s64]&&I8k[s64].DT.getDate()!=F56.getDate()){F56=new Date(+I8k[s64+1].DT);Y5X.O_b(6);P3Z=Y5X.v$j(s64,"1");break;}}s5Z=P3Z;Y5X.O_b(1);o_7=Y5X.v$j(1,y1A);}else{P9X="a";P9X+="l";P9X+="l";if(q3W.base!="all"&&(j9S.getTime()>=I8k[0].DT.getTime()||q3W.goIntoPast)){s5Z=j1d.tickFromDate(j9S,I$3,null,!![]);}else{s5Z=+"0";}if(q3W.base!=P9X&&(y8a.getTime()<=I8k[y1A-("1"^0)].DT.getTime()||q3W.goIntoFuture)){o_7=j1d.tickFromDate(y8a,I$3);if(o_7>y1A-1){o_7--;};}else{Y5X.s$9(36);o_7=Y5X.v$j("1",y1A);}}Y5X.O_b(112);w7H=Y5X.v$j(0,s5Z,"1",o_7);if(w7H<1){if(s1k){s1k(K1q);}return;}j7y=q3W.padding||0;if(o_7<y1A-1){Y5X.s$9(29);j7y=Y5X.v$j("0",32);}t62=(I$3.width-j7y)/w7H;j1d.setCandleWidth(t62,I$3);Y5X.O_b(113);I$3.scroll=Y5X.v$j(1,y1A,o_7,w7H);Y5X.s$9(42);j1d.micropixels=Y5X.V9a("1",1);for(var D2C in j1d.panels){j1d.calculateYAxisMargins(j1d.panels[D2C].yAxis);}if(!q3W.dontSaveRangeToLayout){delete q3W.chart;delete x04.setSpan;x04.range=q3W;;}else{delete x04.range;}j1d.draw();j1d.changeOccurred(b_g);if(!k3B){u3D="periodi";u3D+="ci";u3D+="ty";j1d.dispatch(u3D,{stx:j1d,differentData:z$b,prevPeriodicity:{interval:l3w,periodicity:t3E,timeUnit:f7f}});}if(s1k){s1k(K1q);}}if(q3W.dtRight){y8a=typeof q3W.dtRight==="string"?new Date(q3W.dtRight):q3W.dtRight;}if(!j9S){P0Q=this.standardMarketIterator(y8a,null,I$3);j9S=P0Q.previous(I$3.maxTicks);if(!q3W.periodicity){k3B=!!{};}}I$3.inflectionPoint=j9S;this.layout.range={dtLeft:j9S,dtRight:y8a};j1d=this;v33=0;if(this.quoteDriver){if(k3B){c$l=this.layout.interval;e3U=this.layout.timeUnit;K8k=this.layout.periodicity;}else if(q3W.periodicity){L5U=Q5n.cleanPeriodicity(q3W.periodicity.period,q3W.periodicity.interval,q3W.periodicity.timeUnit);c$l=L5U.interval;e3U=L5U.timeUnit;K8k=L5U.period;}else{B14=y8a.getTime()-j9S.getTime();if(!this.autoPickCandleWidth.turnOn){P3_=this.staticRangePeriodicityMap;H0c=null;for(var q8Y=0;q8Y<P3_.length;q8Y++){h$p=P3_[q8Y];if(B14/h$p.rangeInMS<1.001){H0c=h$p;break;}}c$l=H0c.interval;K8k=H0c.periodicity;e3U=H0c.timeUnit;}else{q3A=0;if(this.autoPickCandleWidth.candleWidth){q3A=this.autoPickCandleWidth.candleWidth;}else{q3A=this.chart.barsHaveWidth?5:2;}t02=I$3.width/q3A;a3p=this.dynamicRangePeriodicityMap;c$l=a3p[0].interval;K8k=1;for(var v6m=0;v6m<a3p.length;v6m++){K5D=B14/a3p[v6m].rangeInMS;if(K5D<t02){if(a3p[v6m-1]){c$l=a3p[v6m-1].interval;e3U=a3p[v6m-1].timeUnit;Y5X.s$9(9);K8k=Math.ceil(Y5X.V9a(X0y,t02));}else{c$l=a3p[v6m].interval;e3U=a3p[v6m].timeUnit;K8k=1;}break;}X0y=K5D;}}}Z6J=this.chart.scroll;w7G=this.layout.candleWidth;l3w=this.layout.interval;t3E=this.layout.periodicity;f7f=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=j7L(y8a.getTime(),j9S.getTime(),c$l,K8k,e3U,this.dontRoll);this.layout.candleWidth=this.chart.width/this.chart.maxTicks;z$b=this.needDifferentData({period:K8k,interval:c$l,timeUnit:e3U});if(Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>j9S||this.chart.endPoints.end<y8a)){z$b=!!{};}if(!this.chart.masterData||!this.chart.masterData.length||z$b||q3W.forceLoad){g98="w";g98+="e";g98+="e";g98+="k";z5e="mon";z5e+="th";this.layout.interval=c$l;this.layout.periodicity=K8k;this.layout.timeUnit=e3U;if(!this.layout.timeUnit){b$G="minut";b$G+="e";C55="sec";C55+="o";C55+="n";C55+="d";if(Q5n.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval=="second"){this.layout.timeUnit=C55;}else if(this.layout.interval!="tick"){this.layout.timeUnit=b$G;}}K$8={symbol:I$3.symbol,symbolObject:I$3.symbolObject,chart:I$3,nodraw:!!{}};if(this.layout.interval=="tick"){K$8.startDate=j9S;K$8.endDate=y8a;}if(!this.displayInitialized){K$8.initializeChart=!![];}Q5W={symbol:I$3.symbol,symbolObject:I$3.symbolObject,interval:this.layout.interval};if((Q5W.interval==z5e||Q5W.interval==g98)&&!this.dontRoll){Y5X.O_b(29);J6z=-Y5X.v$j("476796062",32);I_v=-1890089088;H4B=2;for(var r2e=1;Y5X.l5h(r2e.toString(),r2e.toString().length,"71383"|16)!==J6z;r2e++){Q5W.interval="";H4B+=2;}if(Y5X.m6F(H4B.toString(),H4B.toString().length,"63526"^0)!==I_v){Q5W.interval="day";}}X5v=Math.max(this.quoteDriver.getQuoteFeed(Q5W).behavior.bufferSize+50,200);P0Q=this.standardMarketIterator(j9S,null,I$3);K$8.startDate=new Date(P0Q.previous(X5v).getTime());P0Q=this.standardMarketIterator(y8a,null,I$3);K$8.endDate=new Date(P0Q.next(X5v).getTime());if(K$8.endDate<Date.now()){this.isHistoricalModeSet=!!"1";}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(K$8,i2j);}else{if(this.layout.interval!=c$l||this.layout.periodicity!=K8k||this.layout.timeUnit!=e3U||!this.chart.dataSegment||!this.chart.dataSegment[0]||this.chart.dataSegment[0].DT!=I$3.inflectionPoint){this.layout.interval=c$l;this.layout.periodicity=K8k;this.layout.timeUnit=e3U;this.createDataSet();}i2j();}}else{f96();}};Q5n.ChartEngine.prototype.setSpan=function(u1p,c50){var E0t,d8a,F2P,F6X,A27,Q$h,j$n,D$K,e_C,O_U,u8f,B3X,Y_U,h$k,k8i,K9y,B9Q,J1S,U0S,X3m,J4k;E0t="da";E0t+="y";d8a="we";d8a+="ek";F2P="a";F2P+="ll";F6X="obj";F6X+="ec";F6X+="t";A27=arguments[0];Q$h=arguments[1];j$n=arguments[2];D$K=arguments[3];if(_typeof(u1p)==F6X){A27=u1p.period?u1p.period:u1p.multiplier?u1p.multiplier:1;Q$h=u1p.interval?u1p.interval:u1p.base?u1p.base:u1p.span?u1p.span:u1p.period;j$n=u1p.padding;D$K=u1p.chart;}else{u1p={period:A27,interval:Q$h,padding:j$n,chart:D$K};c50=arguments[+"5"];}if(!D$K){D$K=this.chart;}e_C=D$K.market;Q$h=Q$h.toLowerCase();if(Q$h==F2P){u1p.dontSaveRangeToLayout=!"";this.displayAll(u1p,c50);return;}u8f=Q$h;B3X=1;if(Q$h=="today"){u8f="day";}else if(Q$h=="year"){u8f="month";Y5X.O_b(2);B3X=Y5X.V9a(1,"12");}Y_U=Q5n.shallowClone(u1p);h$k={begin:e_C.marketZoneNow(),interval:u8f,period:B3X};function z1K(I8L,s4G){var W05;if(!K9y){return I8L;}W05=7;if(s4G){I8L.setHours(I8L.getHours()+W05);}else{I8L.setHours(I8L.getHours()-W05);if(!e_C.isMarketDate(I8L)){I8L.setDate(I8L.getDate()-+"2");};}return I8L;}k8i=h$k.begin;K9y=Q5n.Market.Symbology.isForexSymbol(D$K.symbol);Y5X.W5N();function k3U(g0A){g0A.setHours(0);g0A.setMinutes(0);g0A.setSeconds(0);Y5X.s$9(39);g0A.setMilliseconds(Y5X.v$j("0",0));return g0A;}if(Q$h==="ytd"){k8i=k3U(k8i);Y5X.O_b(2);k8i.setMonth(Y5X.v$j(1,"0"));k8i.setDate(1);}else if(Q$h==="month"){k8i=k3U(new Date());k8i.setMonth(k8i.getMonth()-A27);}else if(Q$h==="year"){k8i=k3U(new Date());k8i.setFullYear(k8i.getFullYear()-A27);}else if(Q$h===d8a){k8i=k3U(new Date());k8i.setDate(k8i.getDate()-A27*7);}else if(Q$h===E0t&&A27==1&&e_C.isMarketDay()){B9Q=k8i.getHours();J1S=k8i.getMinutes();U0S=k8i.getSeconds();X3m=k8i.getMilliseconds();O_U=e_C.newIterator(h$k);k8i=O_U.previous();k8i.setHours(B9Q,J1S,U0S,X3m);k8i=e_C._convertFromMarketTZ(k8i);}else if(Q$h==="today"){h$k.begin=z1K(k8i,!![]);O_U=e_C.newIterator(h$k);if(e_C.isOpen()||e_C.getPreviousOpen().getDate()==k8i.getDate()){O_U.next();}k8i=O_U.previous();z1K(k8i);Y_U.goIntoFuture=!0;Y_U.dtRight=new Date(+k8i);Y_U.dtRight.setDate(k8i.getDate()+1);Y_U.dtRight=e_C._convertFromMarketTZ(Y_U.dtRight);if(!K9y){k8i.setHours(O_U.market.zopen_hour);k8i.setMinutes(O_U.market.zopen_minute);k8i.setSeconds(+"0");}k8i=e_C._convertFromMarketTZ(k8i);}else{if(Q$h=="day"){h$k.begin=z1K(k8i,!!{});}O_U=e_C.newIterator(h$k);if(A27==1){A27++;}Y5X.O_b(1);k8i=O_U.previous(Y5X.v$j(1,A27));if(Q$h=="day"){k8i=e_C._convertFromMarketTZ(z1K(k8i));}}Y_U.dtLeft=k8i;if(Y_U.maintainPeriodicity){Y_U.periodicity={};Y_U.periodicity.interval=this.layout.interval;Y_U.periodicity.period=this.layout.periodicity;}D$K.spanLock=![];Y_U.dontSaveRangeToLayout=!!{};J4k=this;this.setRange(Y_U,function(U23){J4k.layout.setSpan=u1p;J4k.changeOccurred("layout");if(Q$h=="today"){D$K.spanLock=!![];;}if(c50){c50(U23);}});};Q5n.ChartEngine.prototype.getSpanCandleWidth=function(S8L){var w$A,c5F,C0$,M0x,o6p,g1v,H_i,t1z,E3W;w$A="Y";w$A+="T";w$A+="D";c5F="w";c5F+="ee";c5F+="k";C0$="d";C0$+="ay";if(!S8L||!S8L.base||!S8L.multiplier){return;}M0x=parseFloat(S8L.multiplier);o6p=S8L.base;g1v=new Date();H_i=new Date();if(o6p=="year"){H_i.setFullYear(H_i.getFullYear()-M0x);}else if(o6p=="month"){H_i.setMonth(H_i.getMonth()-M0x);}else if(o6p==C0$){H_i.setDate(H_i.getDate()-M0x);}else if(o6p==c5F){H_i.setDate(H_i.getDate()-7*M0x);}else if(o6p==w$A){H_i.setMonth(+"0");H_i.setDate(1);}Y5X.s$9(114);var h5z=Y5X.v$j(7,2,233,600);t1z=(g1v.getTime()-H_i.getTime())/1000/("60"<<0)/h5z/+"24";Y5X.s$9(98);t1z=Y5X.v$j(5,t1z,7);E3W=this.chart.width/t1z;return E3W;};Q5n.ChartEngine.prototype.displayAll=function(q$V,Q00){var l1p,c7G,S3i;var p4s=this.chart,W9e=this.layout;if(q$V&&q$V.chart){p4s=q$V.chart;}Y5X.W5N();function D3A(){var e3L;if(!p4s.masterData||!p4s.masterData.length){return;}e3L=Q5n.clone(q$V);e3L.dtLeft=p4s.endPoints.begin.DT;e3L.dtRight=p4s.endPoints.end.DT;e3L.periodicity={};e3L.periodicity.interval=W9e.interval;e3L.periodicity.period=W9e.periodicity;e3L.periodicity.timeUnit=W9e.timeUnit;l1p.setRange(e3L,function(i_L){l1p.layout.setSpan={base:q$V.base,multiplier:q$V.multiplier};l1p.changeOccurred("layout");for(var v4G in l1p.panels){l1p.calculateYAxisMargins(l1p.panels[v4G].yAxis);}Y5X.W5N();l1p.draw();if(Q00){Q00(i_L);}});}l1p=this;if(!this.quoteDriver){D3A();return;}c7G=q$V.maintainPeriodicity?{period:W9e.periodicity,interval:W9e.interval,timeUnit:W9e.timeUnit}:{period:1,interval:"month",timeUnit:null};c7G=q$V.periodicity?q$V.periodicity:c7G;c7G=Q5n.cleanPeriodicity(c7G.period,c7G.interval,c7G.timeUnit);S3i=this.needDifferentData(c7G);this.layout.periodicity=c7G.period;this.layout.interval=c7G.interval;this.layout.timeUnit=c7G.timeUnit;if(q$V.forceLoad||S3i){this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({noDraw:!!{},symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!"",fetchMaximumBars:!!{}},g3M);}else{if(p4s.moreAvailable||!p4s.upToDate){g3M();}else{this.createDataSet();D3A();}}function g3M(l$d){Y5X.W3G();if(!l$d){l1p.quoteDriver.loadAll(p4s,D3A);}}};};A=function A(I0w){var h3N;h3N=typeof _CIQ!=="undefined"?_CIQ:I0w.CIQ;h3N.ChartEngine.prototype.importLayout=function(Y6_,Z48){var r4W=i6UVR;var w6e,c3H,v1w,A5X,V9Q,A5d,n9u,b9Z,w2k,o7J,L4s,U$w,m37,U38,E1h,b7H,l_v,Q18,i2f,I4c,c$6,D4B,k6M,Y6W,b2Q,e93,U48,d8V,Q0I,b7u,k6e,m7l,E96;w6e="o";w6e+="bjec";w6e+="t";if(!Y6_){if(Z48.cb){Z48.cb();}return;}c3H=this;v1w=[];if(_typeof(Z48)!==w6e){Z48={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}A5X=this.layout;V9Q=h3N.shallowClone(A5X);A5d=Z48.managePeriodicity;n9u=Z48.cb;b9Z=Z48.seriesCB;w2k=Z48.noDataLoad;o7J=Z48.preserveTicksAndCandleWidth;L4s=null;if(this.exportDrawings){L4s=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!!{};for(var i1o in A5X.studies){U$w=A5X.studies[i1o];h3N.getFn("Studies.removeStudy")(this,U$w);}this.overlays={};m37=h3N.shallowClone(this.panels);this.panels={};U38=h3N.clone(Y6_);A5X.periodicity=V9Q.periodicity;function O66(M3K){var w7r,V3j,U_S;if(L4s){c3H.importDrawings(L4s);}c3H.currentlyImporting=![];if(M3K){return;}U_S=[];for(var z_k in c3H.chart.series){if(!c3H.removeSeries)break;V3j=c3H.chart.series[z_k];if(V3j.parameters.bucket=="study"){w7r=!!"1";c3H.removeSeries(V3j);U_S.push(V3j);}}for(var p08=0;p08<U_S.length;p08++){V3j=U_S[p08];c3H.addSeries(V3j.id,V3j.parameters,B2j);}if(!w7r){c3H.draw();}c3H.updateListeners("layout");c3H.changeOccurred("layout");;function B2j(){r4W.W3G();c3H.createDataSet();l$G(c3H.panels);c3H.calculateYAxisPositions();c3H.draw();}}A5X.interval=V9Q.interval;A5X.timeUnit=V9Q.timeUnit;A5X.setSpan=V9Q.setSpan;A5X.range=V9Q.range;if(o7J){A5X.candleWidth=V9Q.candleWidth;}else{if(!A5X.candleWidth){A5X.candleWidth=8;}}this.setCandleWidth(A5X.candleWidth);if(A5X.flipped){this.flipChart(A5X.flipped);}E1h=U38.panels;i2f=function i2f(O_h,H2c){return O_h.index<H2c.index?-1:1;};for(b7H in E1h){if(!("index"in E1h[b7H])){i2f=null;}l_v=E1h[b7H];l_v.name=b7H;v1w.push(l_v);}A5X.panels={};I4c=null;function w$d(){r4W.W3G();c3H.calculateYAxisPositions();l$G(c3H.panels);if(b9Z){b9Z();}}if(v1w.length>0){if(i2f){v1w.sort(i2f);}for(var b4t=0;b4t<v1w.length;++b4t){l_v=v1w[b4t];Q18=l_v.yAxis?new h3N.ChartEngine.YAxis(l_v.yAxis):null;this.stackPanel(l_v.display,l_v.name,l_v.percent,l_v.chartName,Q18);if(l_v.soloing){I4c=this.panels[l_v.name];}}}if(h3N.isEmpty(E1h)){c$6="ch";c$6+="a";c$6+="rt";D4B="c";D4B+="h";D4B+="ar";D4B+="t";this.stackPanel("chart",D4B,1,c$6);}this.resizeCanvas();for(var c_M in m37){k6M=m37[c_M];Y6W=this.panels[c_M];if(Y6W){this.container.removeChild(Y6W.holder);if(k6M.handle){this.container.removeChild(k6M.handle);}b2Q={holder:!!1,subholder:!!{},display:!!{},icons:!![]};for(var P4c in b2Q){Y6W[P4c]=k6M[P4c];}this.configurePanelControls(Y6W);if(k6M.chart.panel==k6M){k6M.chart.panel=Y6W;};}else{this.privateDeletePanel(k6M);}}this.chart.panel=this.panels.chart;l$G(this.panels);h3N.dataBindSafeAssignment(A5X,h3N.clone(U38));e93=h3N.clone(A5X.studies);delete A5X.studies;for(var L5q in e93){U48=e93[L5q];h3N.getFn("Studies.addStudy")(this,U48.type,U48.inputs,U48.outputs,U48.parameters,U48.panel);}if(this.extendedHours){this.extendedHours.prepare(A5X.extended,A5X.marketSessions);}if(typeof A5X.chartType=="undefined"){A5X.chartType="line";}this.setMainSeriesRenderer();if(I4c){this.panelSolo(I4c);}this.adjustPanelPositions();r4W.W5N();l$G(this.panels);this.storePanels();if(!w2k){if(U38.symbols&&U38.symbols.length){d8V={chart:this.chart};if(!o7J&&A5d&&U38.range&&Object.keys(U38.range).length){d8V.range=U38.range;}else if(!o7J&&A5d&&U38.setSpan&&Object.keys(U38.setSpan).length){d8V.span=U38.setSpan;}else if(A5d&&U38.interval){d8V.periodicity={interval:U38.interval,period:U38.periodicity,timeUnit:U38.timeUnit};}else{d8V.periodicity={interval:V9Q.interval,period:V9Q.periodicity,timeUnit:V9Q.timeUnit};}Q0I=U38.symbols[0].symbolObject||U38.symbols[0].symbol;this.loadChart(Q0I,d8V,function(B4Q){var d8d;if(!B4Q){for(var X7T,n0Y=1;n0Y<U38.symbols.length;++n0Y){if(!c3H.addSeries)break;X7T=U38.symbols[n0Y];if(!X7T.parameters){X7T.parameters={};}d8d=h3N.clone(X7T.parameters);if(this.panels[d8d.panel]){c3H.addSeries(X7T.id,d8d,w$d);}else{console.warn('Warning: Series "'+X7T.id+'" could not be imported due to a missing corresponding panel "'+d8d.panel+'"');}}if(U38.chartScale){c3H.setChartScale(U38.chartScale);}}O66(B4Q);if(n9u){n9u.apply(null,arguments);}});return;}if(A5d){if(!o7J&&this.setRange){b7u=U38.range;if(b7u&&Object.keys(b7u).length&&this.chart.symbol){this.setRange(b7u,function(){O66();r4W.W3G();if(n9u){n9u();}});return;}else if(U38.setSpan&&Object.keys(U38.setSpan).length&&this.chart.symbol){this.setSpan(U38.setSpan,function(){r4W.W5N();O66();if(n9u){n9u();}});return;}}k6e=U38.interval;m7l=U38.periodicity;E96=U38.timeUnit;if(isNaN(m7l)){m7l=1;}if(!k6e){k6e="day";}this.setPeriodicity({period:m7l,interval:k6e,timeUnit:E96},function(){O66();if(n9u){n9u();}});return;}}if(A5d){A5X.periodicity=U38.periodicity;A5X.interval=U38.interval;A5X.timeUnit=U38.timeUnit;A5X.setSpan=U38.setSpan;}this.createDataSet();if(!o7J){this.home();}O66();if(n9u){n9u();}function l$G(x5I){var R97;for(var V2n=+"0";V2n<v1w.length;V2n++){R97=v1w[V2n];m_Z(R97,"yaxisLHS");m_Z(R97,"yaxisRHS");}function o2a(C$W){r4W.W3G();return!!C$W;}r4W.W5N();c3H.chart.yAxis=c3H.chart.panel.yAxis;function m_Z(S1g,J01){var O5c,U33,R_I,C1R;if(!S1g[J01]||!S1g[J01].length){return;}O5c=x5I[S1g.name];if(!O5c){return;}U33=O5c[J01];R_I=new Array(U33.length);for(var J9e=0;J9e<U33.length;J9e++){C1R=S1g[J01].indexOf(U33[J9e].name);if(C1R>-1){R_I[C1R]=U33[J9e];}else{R_I.push(U33[J9e]);}}if(R_I.length){O5c[J01]=R_I.filter(o2a);}}}};h3N.ChartEngine.prototype.exportLayout=function(j6e){var d2d,O5j,T0g,o7s,M5S,l$c;d2d={};function E9W(W2G){var a9X;a9X=[];for(var Q0T=0;Q0T<W2G.length;Q0T++){a9X.push(W2G[Q0T].name);}return a9X;}for(var p8D in this.layout){if(p8D!="studies"&&p8D!="panels"&&p8D!="drawing"){d2d[p8D]=h3N.clone(this.layout[p8D]);}else if(p8D=="studies"){d2d.studies={};}else if(p8D=="panels"){d2d.panels={};}}O5j=0;for(var a_i in this.panels){T0g=this.panels[a_i];if(T0g.exportable===!{})continue;o7s=d2d.panels[a_i]={};o7s.percent=T0g.percent;o7s.display=T0g.display;o7s.chartName=T0g.chart.name;o7s.soloing=T0g.soloing;o7s.index=O5j++;o7s.yAxis={name:T0g.yAxis.name,position:T0g.yAxis.position};if(T0g.yaxisLHS){o7s.yaxisLHS=E9W(T0g.yaxisLHS);}if(T0g.yaxisRHS){o7s.yaxisRHS=E9W(T0g.yaxisRHS);}}for(var u96 in this.layout.studies){M5S=d2d.studies[u96]={};l$c=this.layout.studies[u96];M5S.type=l$c.type;M5S.inputs=h3N.clone(l$c.inputs);M5S.outputs=h3N.clone(l$c.outputs);M5S.panel=l$c.panel;M5S.parameters=h3N.clone(l$c.parameters);}if(j6e){d2d.symbols=this.getSymbols({"include-parameters":!!{},"exclude-studies":!"","exclude-generated":!!{}});}else{delete d2d.symbols;}return d2d;};h3N.ChartEngine.prototype.importPreferences=function(V7n){var g2J;g2J="prefere";g2J+="nc";g2J+="e";g2J+="s";h3N.extend(this.preferences,V7n);if(V7n.timeZone){this.setTimeZone(this.dataZone,V7n.timeZone);}if(V7n.language&&h3N.I18N){h3N.I18N.localize(this,V7n.language);}this.changeOccurred(g2J);};i6UVR.W3G();h3N.ChartEngine.prototype.exportPreferences=function(){return this.preferences;};};G=function G(C7m){var t8f,b9Y,K8D,j8B,C79,Y$e,v8w,b84,p0k,h0R,U6i,Z$9,U7d;t8f="#b82c";t8f+="0";t8f+="c";b9Y="a";b9Y+="u";b9Y+="t";b9Y+="o";K8D="#";K8D+="FF0000";j8B="m";j8B+="a";C79="Ex";C79+="pon";C79+="ential";Y$e="Ex";Y$e+="ponent";Y$e+="ial";v8w="Tri";v8w+="angul";v8w+="ar";b84="vid";b84+="ya";p0k="ex";p0k+="pone";p0k+="n";p0k+="tial";h0R="sim";h0R+="pl";h0R+="e";U6i="w";U6i+="m";U6i+="a";Z$9=typeof _CIQ!=="undefined"?_CIQ:C7m.CIQ;U7d=typeof _timezoneJS!=="undefined"?_timezoneJS:C7m.timezoneJS;if(Z$9.ChartEngine){Z$9.ChartEngine.prototype.rightClickOverlay=function(I5O,Q9y){var m_x,u8Z,e2P;m_x="r";m_x+="ightClickOverl";m_x+="ay";u8Z="rig";u8Z+="htClickOverl";u8Z+="ay";if(this.runPrepend(u8Z,arguments)){return;}e2P=this.overlays[I5O];if(e2P.editFunction){e2P.editFunction(Q9y);}else{this.removeOverlay(I5O);}this.runAppend(m_x,arguments);};Z$9.ChartEngine.prototype.addOverlay=function(X1B){if(this.runPrepend("addOverlay",arguments)){return;}this.overlays[X1B.name]=X1B;this.runAppend("addOverlay",arguments);};Z$9.ChartEngine.prototype.removeOverlay=function(p9C){var Z$A,R9W,Q6W,a5s,Z7n,R2f;i6UVR.W3G();Z$A="rem";Z$A+="o";Z$A+="ve";Z$A+="Overlay";if(this.runPrepend("removeOverlay",arguments)){return;}R9W=this.overlays[p9C];for(var A3o in this.overlays){Q6W="Fi";Q6W+="e";Q6W+="l";Q6W+="d";a5s=this.overlays[A3o];Z7n=[Q6W];if(Z$9.Studies){Z7n=Z$9.Studies.getFieldInputs(a5s);}for(var h1f="0"|0;h1f<Z7n.length;h1f++){if(R9W.outputMap[a5s.inputs[Z7n[h1f]]]){this.removeOverlay(a5s.name);}}}if(R9W){this.cleanupRemovedStudy(R9W);R2f=this.panels[R9W.panel];delete this.overlays[p9C];this.checkForEmptyPanel(R9W.panel);}if(!this.currentlyImporting){this.displaySticky();this.createDataSet();this.changeOccurred("layout");}this.resetDynamicYAxis();this.runAppend(Z$A,arguments);};Z$9.ChartEngine.prototype.cleanupRemovedStudy=function(G_t){if(!G_t){return;}if(G_t.study.removeFN){G_t.study.removeFN(this,G_t);}for(var p4O in this.plugins){if(p4O.indexOf(((2450,5310)>(3310,2150)?(6050,5448)==6050?9.75e+3:"{":0x12ce)+G_t.id+(("199"^0,385.6)<=(718,988)?"}":!![]))>-1){delete this.plugins[p4O];}}if(this.layout.studies){delete this.layout.studies[G_t.name];}delete this.overlays[G_t.name];if(Z$9.Studies){Z$9.Studies.removeStudySymbols(G_t,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};}Z$9.Studies=Z$9.Studies||function(){};Z$9.Studies.DEFAULT_INPUTS={Period:14};Z$9.Studies.DEFAULT_OUTPUTS={Result:"auto"};Z$9.Studies.sortForProcessing=function(X5k){var B1L=i6UVR;var D8w,R_R,F5b,C1I,j3W;D8w=[];B1L.O_b(39);R_R=-B1L.v$j("950106683",0);F5b=-32912493;C1I=2;for(var u$H="1"<<0;B1L.l5h(u$H.toString(),u$H.toString().length,86030)!==R_R;u$H++){j3W=X5k.layout.studies;C1I+=2;}if(B1L.m6F(C1I.toString(),C1I.toString().length,1890)!==F5b){j3W=X5k.layout.studies;}if(j3W){C1r(Object.values(j3W),D8w);}B1L.W3G();function C1r(Y0V,y8V){B1L.W3G();Y0V.forEach(function(n3t){var e$_;if(y8V.indexOf(n3t)==-("1"<<0)){e$_=n3t.getDependents(X5k);if(e$_.length){C1r(e$_,y8V);}y8V.unshift(n3t);}});}return D8w;};Z$9.Studies.StudyDescriptor=function(R5l,d1y,l13,z7a,i$J,J5O){var s3G;this.name=R5l;i6UVR.W5N();this.type=d1y;this.panel=l13;this.inputs=z7a;this.outputs=i$J;this.parameters=J5O;this.outputMap={};this.min=null;this.max=null;this.startFrom=+"0";this.subField="Close";s3G=Z$9.Studies.studyLibrary[d1y];if(!s3G){s3G={};if(l13=="chart"||!l13&&J5O&&J5O.chartName=="chart"){this.overlay=!![];}}if(typeof s3G.inputs=="undefined"){s3G.inputs=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(typeof s3G.outputs=="undefined"){s3G.outputs=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}this.study=s3G;this.libraryEntry=s3G;;};Z$9.Studies.StudyDescriptor.prototype.getYAxis=function(Q0H){var h$B,S2D,d7Z;h$B=this.yAxis;if(this.parameters){S2D=this.parameters.yaxisDisplayValue;}i6UVR.W5N();if(!h$B){d7Z=Q0H.panels[this.panel];if(d7Z){h$B=Q0H.getYAxisByName(d7Z,S2D)||Q0H.getYAxisByName(d7Z,this.name)||d7Z.yAxis;}}if(!h$B){h$B=Q0H.getYAxisByName(Q0H.chart.panel,S2D)||Q0H.chart.panel.yAxis;}return h$B;};Z$9.Studies.StudyDescriptor.prototype.getContext=function(C1F){return C1F.chart.context;};Z$9.Studies.StudyDescriptor.prototype.getDependents=function(k6E,H5B){var h45,w2h,T4D;h45=[];for(var Y6V in k6E.layout.studies){w2h=k6E.layout.studies[Y6V];if(w2h==this)continue;T4D=Z$9.Studies.getFieldInputs(w2h);for(var b8S=0;b8S<T4D.length;b8S++){if(w2h.inputs[T4D[b8S]].includes(this.name)){if(H5B&&w2h.parameters&&w2h.parameters.panelName)continue;h45.push(w2h);h45=h45.concat(w2h.getDependents(k6E,H5B));break;}}}return h45;};Z$9.Studies.StudyDescriptor.prototype.undraggable=function(o3R){var E2J;E2J=this.study.attributes;i6UVR.W5N();if(E2J){if(E2J.panelName&&E2J.panelName.hidden){return!!1;}if(E2J.yaxisDisplayValue&&E2J.yaxisDisplayValue.hidden){return!![];}}return!!0;};Z$9.Studies.StudyDescriptor.prototype.appendFutureTicks=function(n2l,e$t){var U4h,V3w,O9J,w_h;U4h=n2l.chart.scrubbed;if(!U4h.length){return;}V3w=n2l.standardMarketIterator(U4h[U4h.length-1].DT);for(O9J=e$t.length-1;O9J>=0;O9J--){w_h=e$t[O9J];for(var E_8 in w_h){if(w_h[E_8]||w_h[E_8]===0){O9J=-+"1";break;}}if(O9J==-1)break;e$t.pop();}i6UVR.W5N();for(O9J=0;O9J<e$t.length;O9J++){w_h=e$t[O9J];if(!w_h.DT){w_h.DT=V3w.next();}if(!w_h.displayDate){n2l.setDisplayDate(w_h);}w_h.futureTick=!!{};U4h.push(w_h);}};Z$9.Studies.generateID=function(M6R,v6X,P2L,Q7$,O8g){var P41=i6UVR;var q_x,K6K,w6x,c64,q6i,r_Z,P5H,c1s;q_x=Z$9.Studies.studyLibrary[v6X];P41.s$9(35);K6K=P41.V9a(O8g||v6X, true?"\u200C":undefined, true?"\u200C":(undefined));w6x=K6K;if(q_x){if(q_x.customRemoval){return w6x;}}if(!Z$9.isEmpty(P2L)){c64=!!{};for(var e7v in P2L){q6i="f";q6i+="i";q6i+="el";q6i+="d";r_Z="Ancho";r_Z+="r";r_Z+=" Sele";r_Z+="ctor";if(["id","display","Shading",r_Z].includes(e7v)){continue;}P5H=P2L[e7v];if(P5H==q6i)continue;P5H=P5H.toString();if(Z$9.Studies.prettify[P5H]!==undefined){P5H=Z$9.Studies.prettify[P5H];}if(c64){c64=!"1";w6x+=" (";}else{if(P5H){w6x+= false?undefined: false?undefined:(951,4940)!==(982,3650)?",":(0xf73,0xc4f);}}w6x+=P5H;}if(!c64){w6x+=6654<(653,436)?(763.52,8.87e+3):")";}}if(Q7$&&Q7$.indexOf(w6x)===0){return Q7$;}if(M6R.layout.studies&&M6R.layout.studies[w6x]){for(var T_u=2;T_u<50;T_u++){P41.s$9(35);c1s=P41.V9a("-",T_u,w6x);if(!M6R.layout.studies[c1s]){w6x=c1s;break;}}}return w6x;};Z$9.Studies.DialogHelper=function(t9_){var H_$=i6UVR;var e_G,q_D,e30,c$k,D$P,O$r,t$d,D$L,w1J,A8u,h$_,b2Z,n_p,j80,p5Z,t55,S5I,V7c,X7g,S$N,g2_,X_b,G3x,K8c,T7b,n7I,S2l,m_z,y5M,r82,B_h,t3g,H8M,l$L,a$T,a4F,Q9I,d1p,B3x,k8R,Y$u,s0k,W6y,C3$,q0L,P5m,l6J,M6y,P0n,E8E,E1p;e_G=this.stx=t9_.stx;q_D=this.sd=t9_.sd;this.name=q_D?q_D.type:t9_.name;this.signal=1;this.inputs=[];this.outputs=[];function O0I(N1z){var W1P,H$G,h12;W1P={};H$G=N1z.defaults;h12={name:N1z.name,heading:e_G.translateIf(N1z.label),defaultValue:H$G[0],value:N1z.value,options:W1P,type:"select"};for(var j77=0;j77<H$G.length;j77++){W1P[H$G[j77]]=e_G.translateIf(H$G[j77]);}if(N1z.color!==undefined){h12.defaultColor=e_G.defaultColor;h12.color=N1z.color;}return h12;}H_$.W3G();this.parameters=[];e30=this.libraryEntry=q_D?q_D.study:Z$9.Studies.studyLibrary[t9_.name];if(typeof e30.inputs=="undefined"){e30.inputs=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(typeof e30.outputs=="undefined"){e30.outputs=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}c$k=q_D&&e_G.panels[q_D.panel]?e_G.panels[q_D.panel]:e_G.chart.panel;function P$h(o10){var x80;x80={name:o10.name,heading:e_G.translateIf(o10.label),defaultValue:o10.defaults,value:o10.value,type:"checkbox"};return x80;}D$P=c$k.chart;this.title=e_G.translateIf(e30.name);this.attributes=Z$9.clone(e30.attributes);if(!this.attributes){this.attributes={};}for(var y6X in this.attributes){O$r=this.attributes[y6X];for(var n85 in O$r){if(typeof O$r[n85]=="function"){O$r[n85]=O$r[n85].call(q_D);}}}t$d=[];D$L=e_G.layout.studies;w1J=[];if(q_D){w1J=Array.prototype.concat(q_D,q_D.getDependents(e_G));}for(var L$w in D$L){if(w1J.indexOf(D$L[L$w])>-1)continue;for(var Q0u in D$L[L$w].outputMap){t$d.push(Q0u);}}for(var l_b in e30.inputs){A8u={};this.inputs.push(A8u);A8u.name=l_b;A8u.heading=e_G.translateIf(l_b);h$_=e30.inputs[l_b];if(q_D&&q_D.inputs&&typeof q_D.inputs[l_b]!="undefined"&&q_D.inputs[l_b]!==null){A8u.value=q_D.inputs[l_b];}else{A8u.value=e30.inputs[l_b];}A8u.defaultInput=e30.inputs[l_b];if(!this.attributes[l_b]){this.attributes[l_b]=Z$9.Studies.inputAttributeDefaultGenerator(A8u.defaultInput);}if(h$_.constructor==Number){A8u.type="number";}else if(h$_.constructor==String){b2Z="f";b2Z+="i";b2Z+="e";b2Z+="ld";n_p=Z$9.Studies.movingAverageHelper(e_G,A8u.defaultInput);if(n_p){j80="o";j80+="p";j80+="tion";j80+="s";A8u.type="select";A8u.defaultInput=n_p;p5Z=Z$9.Studies.movingAverageHelper(e_G,A8u.value);if(!p5Z){p5Z=A8u.value;}A8u.value=p5Z;A8u.options=Z$9.Studies.movingAverageHelper(e_G,j80);}else if(h$_==b2Z){t55="fie";t55+="l";t55+="d";S5I="hl";S5I+="cc/4";V7c="h";V7c+="l/2";X7g="C";X7g+="lose";S$N="Hi";S$N+="gh";A8u.type="select";A8u.options={};g2_=["Open",S$N,"Low",X7g,"Adj_Close",V7c,"hlc/3",S5I,"ohlc/4",D$P.defaultPlotField].concat(t$d);for(var d1D=0;d1D<g2_.length;d1D++){X_b=g2_[d1D];A8u.options[X_b]=e_G.translateIf(X_b);}if(A8u.value=="field"){G3x="Clo";G3x+="se";A8u.value=G3x;}if(A8u.defaultInput==t55){A8u.defaultInput="Close";}}else{K8c="ti";K8c+="me";T7b="yyyy";T7b+="-mm-d";T7b+="d";A8u.type="text";if(this.attributes[l_b].placeholder==T7b){A8u.type="date";}else if(this.attributes[l_b].placeholder=="hh:mm:ss"){A8u.type=K8c;}}}else if(h$_.constructor==Boolean){n7I="tru";n7I+="e";S2l="ch";S2l+="eck";S2l+="bo";S2l+="x";A8u.type=S2l;if(A8u.value===!![]||A8u.value==n7I||A8u.value=="on"){A8u.value=!"";}}else if(h$_.constructor==Array){m_z="selec";m_z+="t";A8u.type=m_z;A8u.options={};for(var G0h=0;G0h<h$_.length;G0h++){A8u.options[h$_[G0h]]=e_G.translateIf(h$_[G0h]);}if(A8u.value.constructor==Array){A8u.value=A8u.value[0];}if(this.attributes[l_b].defaultSelected){A8u.defaultInput=this.attributes[l_b].defaultSelected;}else{A8u.defaultInput=h$_[0];}}}function r_W(j2_){var C1J;if(W6y=="alias"){C1J=1;for(var F$X in e_G.panels){if(F$X==j2_){return F5K(F$X,C1J);}C1J++;}}function F5K(L3j,u4F){H_$.W5N();return"Panel "+u4F.toString();}return j2_;}this.dateTimeInputs=[];for(var J8o=0;J8o<this.inputs.length;J8o++){y5M="da";y5M+="te";r82=this.inputs[J8o];if(r82.type==y5M){B_h=" D";B_h+="a";B_h+="t";B_h+="e";t3g=r82.name.substring(0,r82.name.indexOf(B_h));for(var h2N=0;h2N<this.inputs.length;h2N++){H8M=this.inputs[h2N];if(H8M.type=="time"){if(H8M.name==t3g+" Time"){this.dateTimeInputs.push(t3g);break;}}}}}this.adjustInputTimesForDisplayZone();for(l_b in e30.outputs){l$L="a";l$L+="uto";a$T={name:l_b,heading:e_G.translateIf(l_b)};a$T.color=a$T.defaultOutput=e30.outputs[l_b];if(q_D&&q_D.outputs&&q_D.outputs[l_b]){a$T.color=q_D.outputs[l_b];}if(a$T.color==l$L){a$T.color=e_G.defaultColor;}this.outputs.push(a$T);}a4F=q_D?q_D.parameters:null;if(e30.parameters){Q9I=e30.parameters.init;if(Q9I){if(Q9I.studyOverZonesEnabled!==undefined){B3x="c";B3x+="hec";B3x+="kbo";B3x+="x";d1p={name:"studyOverZones",heading:e_G.translateIf("Show Zones"),defaultValue:Q9I.studyOverZonesEnabled,value:Q9I.studyOverZonesEnabled};if(a4F&&(a4F.studyOverZonesEnabled||a4F.studyOverZonesEnabled===!1)){d1p.value=a4F.studyOverZonesEnabled;}d1p.type=B3x;this.parameters.push(d1p);}if(Q9I.studyOverBoughtValue!==undefined){k8R="stu";k8R+="dyOverBought";d1p={name:k8R,heading:e_G.translateIf("OverBought"),defaultValue:Q9I.studyOverBoughtValue,value:Q9I.studyOverBoughtValue,defaultColor:Q9I.studyOverBoughtColor,color:Q9I.studyOverBoughtColor};if(a4F&&a4F.studyOverBoughtValue){d1p.value=a4F.studyOverBoughtValue;}if(a4F&&a4F.studyOverBoughtColor){d1p.color=a4F.studyOverBoughtColor;}if(d1p.color=="auto"){d1p.color=e_G.defaultColor;}d1p.type="text";this.parameters.push(d1p);}if(Q9I.studyOverSoldValue!==undefined){Y$u="t";Y$u+="e";Y$u+="xt";s0k="OverS";s0k+="old";d1p={name:"studyOverSold",heading:e_G.translateIf(s0k),defaultValue:Q9I.studyOverSoldValue,value:Q9I.studyOverSoldValue,defaultColor:Q9I.studyOverSoldColor,color:Q9I.studyOverSoldColor};if(a4F&&a4F.studyOverSoldValue){d1p.value=a4F.studyOverSoldValue;}if(a4F&&a4F.studyOverSoldColor){d1p.color=a4F.studyOverSoldColor;}if(d1p.color=="auto"){d1p.color=e_G.defaultColor;}d1p.type=Y$u;this.parameters.push(d1p);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}W6y=this.panelSelect=t9_.panelSelect;C3$=this.axisSelect=t9_.axisSelect;if(t9_.addWhenDone){C3$=W6y=!!0;}if(C3$||W6y){q0L="flippe";q0L+="dEna";q0L+="bled";if(!q_D){q_D=Z$9.Studies.addStudy(e_G,t9_.name,null,null,{calculateOnly:!!{}});Z$9.Studies.removeStudy(e_G,q_D);}if(W6y){P5m="un";P5m+="d";P5m+="erlay";l6J="Show as U";l6J+="nderlay";M6y="A";M6y+="uto";P0n="pan";P0n+="e";P0n+="lNa";P0n+="me";E8E="P";E8E+="a";E8E+="ne";E8E+="l";this.parameters.push(O0I({label:E8E,name:P0n,defaults:function(){var A1u;H_$.W5N();A1u=[];A1u.push("Auto");for(var n1z in e_G.panels){if(n1z!=q_D.panel||!a4F||!a4F.panelName){A1u.push(r_W(n1z));}}if(!e_G.checkForEmptyPanel(q_D.panel,!!"1",q_D)){A1u.push("New panel");}return A1u;}(),value:a4F&&a4F.panelName?r_W(a4F.panelName):M6y}),P$h({label:l6J,name:P5m,defaults:![],value:q_D.underlay||q_D.parameters&&q_D.parameters.underlayEnabled}));}E1p=e_G.getYAxisByName(c$k,q_D.name);if(C3$){this.parameters.push(O0I({label:"Y-Axis",name:"yaxisDisplay",defaults:function(){var i2G,e1B,E2d;i2G="n";i2G+="one";e1B=c$k.yaxisLHS.concat(c$k.yaxisRHS);E2d=[];E2d.push("default","right","left",i2G,"shared");H_$.W5N();for(var E4l="0"<<64;E4l<e1B.length;E4l++){if(e1B[E4l]!=E1p){E2d.push(e1B[E4l].name);}}return E2d;}(),value:a4F&&a4F.yaxisDisplayValue||E1p&&E1p.position||(q_D.panel!=q_D.name?"shared":c$k.yAxis.position||"default"),color:E1p&&E1p.textStyle?E1p.textStyle:"auto"}),P$h({label:"Invert Y-Axis",name:"flipped",defaults:!"1",value:a4F?a4F.flippedEnabled:E1p?E1p.flipped:!"1"}));}i_G.call(this,q0L,!E1p&&q_D.panel!=q_D.name);i_G.call(this,"underlayEnabled",e30.underlay);i_G.call(this,"panelName",e30.seriesFN===null);i_G.call(this,"yaxisDisplayValue",e30.seriesFN===null||e30.yAxis&&e30.yAxis.noDraw);}function i_G(N7u,N3B){H_$.W3G();if(!this.attributes[N7u]){this.attributes[N7u]={};}if(N3B){this.attributes[N7u].hidden=!"";}}};Z$9.Studies.DialogHelper.prototype.updateStudy=function(p6W){var Q3i,z90,G1S,L7V;Q3i={};z90=this.sd;G1S=this.libraryEntry;if(!G1S){G1S={};}if(!z90){z90=G1S;}Q3i.inputs=Z$9.clone(z90.inputs);Q3i.outputs=Z$9.clone(z90.outputs);Q3i.parameters=Z$9.clone(z90.parameters);this.adjustInputTimesForDisplayZone(p6W);if(p6W.parameters&&p6W.parameters.panelName){p6W.parameters.panelName=F6r.call(this,p6W.parameters.panelName);}Z$9.extend(Q3i,p6W);function F6r(E3F){var t0e;if(this.panelSelect=="alias"){t0e=s1y(E3F);if(t0e){for(var o57 in this.stx.panels){if(! --t0e){return o57;}}}}function s1y(X9A){var M82;i6UVR.W3G();M82=X9A.match(/.* (\d)/);return M82&&M82[+"1"];}return E3F;}if(!Q3i.parameters){Q3i.parameters={};}if(Q3i.inputs&&Q3i.inputs.id){z90=Z$9.Studies.replaceStudy(this.stx,Q3i.inputs.id,this.name,Q3i.inputs,Q3i.outputs,Q3i.parameters,null,z90.study);}else{z90=Z$9.Studies.addStudy(this.stx,this.name,Q3i.inputs,Q3i.outputs,Q3i.parameters,null,z90.study);}L7V=new Z$9.Studies.DialogHelper({stx:this.stx,sd:z90,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var a91 in L7V){if(a91!="signal"){this[a91]=L7V[a91];}}this.signal*=-1;;};Z$9.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(w6K){var b2U=i6UVR;var n9K,z$L,V8i,P9y,E1w,C_u,J8b,S0Q,R$y,l7T,O4i,U7v;b2U.W5N();if(this.stx.displayZone){for(var Q4o=0;Q4o<this.dateTimeInputs.length;Q4o++){n9K=this.dateTimeInputs[Q4o];C_u="";if(w6K&&w6K.inputs){J8b=" ";J8b+="D";J8b+="a";J8b+="te";b2U.s$9(0);V8i=w6K.inputs[b2U.v$j(n9K,J8b)];b2U.s$9(0);P9y=w6K.inputs[b2U.V9a(n9K," Time")];if(V8i){C_u=V8i;}if(P9y){C_u+=P9y;}}for(z$L=0;z$L<this.inputs.length;z$L++){S0Q=" D";S0Q+="at";S0Q+="e";E1w=this.inputs[z$L];if(!V8i&&V8i!==""&&E1w.name==n9K+S0Q){C_u=E1w.value+C_u;}else if(!P9y&&P9y!==""&&E1w.name==n9K+" Time"){C_u+=E1w.value;}}C_u=C_u.replace(/\D/g,"");if(C_u.length<"12"-0){return;}R$y=Z$9.strToDateTime(C_u);if(!isNaN(R$y.valueOf())){if(w6K){O4i=" ";O4i+="Da";O4i+="t";O4i+="e";if(!w6K.inputs){w6K.inputs={};}l7T=Z$9.convertTimeZone(R$y,this.stx.displayZone);b2U.s$9(0);w6K.inputs[b2U.V9a(n9K,O4i)]=Z$9.yyyymmdd(l7T);b2U.O_b(0);w6K.inputs[b2U.V9a(n9K," Time")]=Z$9.hhmmss(l7T);}else{l7T=Z$9.convertTimeZone(R$y,null,this.stx.displayZone);for(z$L=0;z$L<this.inputs.length;z$L++){U7v=" D";U7v+="at";U7v+="e";E1w=this.inputs[z$L];if(E1w.name==n9K+U7v){E1w.value=Z$9.yyyymmdd(l7T);}if(E1w.name==n9K+" Time"){E1w.value=Z$9.hhmmss(l7T);}}}}}}};Z$9.Studies.prepareStudy=function(q5_,F4c,b_h){var q0E=i6UVR;var N6M;N6M="u";N6M+="nd";q0E.W3G();N6M+="efined";if(_typeof(F4c.calculateFN)==N6M){F4c.useRawValues=!!{};}if(Z$9.isEmpty(b_h.outputMap)){for(var m5N in b_h.outputs){if(F4c.useRawValues){b_h.outputMap[m5N]=m5N;}else{q0E.s$9(1);var z2z=q0E.V9a(10920,11700);q0E.s$9(111);var W0Y=q0E.v$j(1,691,691,9668);q0E.O_b(16);var i2y=q0E.V9a(12,9899,10);q0E.O_b(0);var h6l=q0E.V9a(38,529);q0E.O_b(108);var t2K=q0E.V9a(10,31620,437410,10,14);q0E.O_b(115);var z46=q0E.v$j(1949,1890,16,19,4);q0E.O_b(1);var F45=q0E.v$j(49150,58980);q0E.O_b(18);var p2I=q0E.v$j(33,14,18);q0E.s$9(116);var a7j=q0E.V9a(384,5,59,1,384);q0E.O_b(1);var N_A=q0E.v$j(8,8858);b_h.outputMap[m5N+((z2z,W0Y)===i2y?"X":h6l<(+"9840",t2K)?(z46,F45)<("555.21"-0,"7233"|p2I)?"0x5f"<<a7j:" ":N_A)+b_h.name]=m5N;}}}};Z$9.Studies.rejiggerDerivedStudies=function(C0L,E9h,e2T){var X3d,z8l,s8D,K5F,B3t,p0U,b01,b15,x7j;X3d=E9h.name;z8l=E9h.panel;s8D=E9h.getDependents(C0L);for(var I00="0"*1;I00<s8D.length;I00++){K5F=s8D[I00];B3t=Z$9.clone(K5F.inputs);p0U=B3t.id;if(!p0U)continue;b01=!!"";b15=Z$9.Studies.getFieldInputs(K5F);for(var S1f=+"0";S1f<b15.length;S1f++){B3t[b15[S1f]]=B3t[b15[S1f]].replace(X3d,e2T);}x7j=Z$9.Studies.replaceStudy(C0L,p0U,K5F.type,B3t,K5F.outputs,Z$9.extend(K5F.parameters,{rejiggering:!![]}),null,K5F.study);delete x7j.parameters.rejiggering;}};Z$9.Studies.removeStudySymbols=function(X0$,P0E){if(X0$.series){for(var p5S in X0$.series){P0E.deleteSeries(X0$.series[p5S],null,{action:"remove-study"});}};};Z$9.Studies.replaceStudy=function(Y9M,P81,f1a,I_F,c0j,l5C,z6G,c76){var O6Z,X4o,l0e,L5B;if(!l5C){l5C={};}if(P81){l5C.replaceID=P81;}P81=l5C.replaceID;O6Z=Y9M.layout.studies[P81];Z$9.Studies.removeStudySymbols(O6Z,Y9M);if(O6Z.attribution){Y9M.removeFromHolder(O6Z.attribution.marker);}if(Y9M.quoteDriver){Y9M.quoteDriver.updateSubscriptions();}if(I_F){if(I_F.id==I_F.display){delete I_F.display;}delete I_F.id;}X4o=Z$9.Studies.addStudy(Y9M,f1a,I_F,c0j,l5C,z6G,c76);X4o.highlight=O6Z.highlight;X4o.uniqueId=O6Z.uniqueId;L5B={};for(l0e in Y9M.layout.studies){if(l0e==P81){L5B[X4o.name]=X4o;}else{L5B[l0e]=Y9M.layout.studies[l0e];}}Y9M.layout.studies=L5B;L5B={};for(l0e in Y9M.overlays){if(l0e==P81){if(X4o.overlay||X4o.underlay){L5B[X4o.name]=X4o;}}else{L5B[l0e]=Y9M.overlays[l0e];}}Y9M.overlays=L5B;if(!Y9M.overlays[X4o.name]&&(X4o.overlay||X4o.underlay)){Y9M.addOverlay(X4o);}Y9M.checkForEmptyPanel(O6Z.panel);if(!l5C.rejiggering){Y9M.initializeDisplay(Y9M.chart);Z$9.Studies.rejiggerDerivedStudies(Y9M,O6Z,X4o.inputs.id,X4o.panel);Y9M.changeOccurred("layout");if(!Y9M.currentlyImporting&&!l5C.calculateOnly&&X4o.chart.dataSet){Y9M.createDataSet(null,X4o.chart);}Y9M.draw();}Z$9.transferObject(O6Z,X4o);Y9M.layout.studies[X4o.name]=O6Z;Y9M.overlays[X4o.name]=O6Z;Y9M.chart.state.studies.sorted=null;return O6Z;};Z$9.Studies.addStudy=function(A7g,z3u,P5e,s2s,b30,F_I,y$f){var Q_0=i6UVR;var n9E,E6H,x52,D2P,R1O,E7H,D8A,d53,r1M,W6A,p58,D5h,E3C,O4a;n9E="c";n9E+="h";n9E+="ar";n9E+="t";E6H=y$f?y$f:Z$9.Studies.studyLibrary[z3u];if(!b30){b30={};}if(E6H){if(E6H.inputs){x52=Z$9.clone(E6H.inputs);for(var F4w in x52){if(x52[F4w]instanceof Array){if(E6H.attributes&&E6H.attributes[F4w]&&E6H.attributes[F4w].defaultSelected){x52[F4w]=E6H.attributes[F4w].defaultSelected;}else{x52[F4w]=x52[F4w][+"0"];}}}P5e=Z$9.extend(x52,P5e);}if(E6H.outputs){s2s=Z$9.extend(Z$9.clone(E6H.outputs),s2s);}D2P=E6H.parameters;if(D2P&&D2P.init){b30=Z$9.extend(Z$9.clone(D2P.init),b30);}if(D2P&&!b30.display){b30.display=D2P.display;}}Q_0.W3G();if(!P5e){P5e=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(!s2s){s2s=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}if(!b30.chartName){b30.chartName=n9E;}if(b30.panelName=="Auto"||b30.panelName=="Default panel"){b30.panelName="";}if(P5e.Period<1){P5e.Period=1;}R1O=null;if(!A7g.layout.studies){A7g.layout.studies={};}if(E6H&&E6H.initializeFN){R1O=E6H.initializeFN(A7g,z3u,P5e,s2s,b30,F_I,y$f);}else{R1O=Z$9.Studies.initializeFN(A7g,z3u,P5e,s2s,b30,F_I,y$f);}if(!R1O){Q_0.s$9(0);console.log(Q_0.V9a("CIQ.Studies.addStudy: initializeFN() returned null for ",z3u));return;}y$f=R1O.study;R1O.chart=A7g.charts[b30.chartName];R1O.type=z3u;R1O.permanent=y$f.permanent;R1O.customLegend=y$f.customLegend;R1O.uniqueId=Z$9.uniqueID();Z$9.Studies.prepareStudy(A7g,y$f,R1O);E7H=A7g.chart.state.studies;if(!E7H){E7H=A7g.chart.state.studies={};}E7H.sorted=null;if(!b30.replaceID){A7g.layout.studies[R1O.inputs.id]=R1O;if(R1O.overlay||R1O.underlay){A7g.addOverlay(R1O);}if(!A7g.currentlyImporting&&!b30.calculateOnly&&R1O.chart.dataSet){A7g.createDataSet(null,R1O.chart);}}else{D8A=!!{};delete b30.replaceID;}if(A7g.quoteDriver){A7g.quoteDriver.updateSubscriptions();}if(b30.calculateOnly){A7g.changeOccurred("layout");return R1O;}d53=A7g.panels[R1O.panel];r1M=!1;W6A=!(R1O.overlay||R1O.underlay);if(W6A&&y$f.horizontalCrosshairFieldFN){d53.horizontalCrosshairField=y$f.horizontalCrosshairFieldFN(A7g,R1O);}if(A7g.editCallback){r1M=!![];}else if(W6A){if(A7g.callbackListeners.studyPanelEdit&&A7g.callbackListeners.studyPanelEdit.length){r1M=!!"1";}}else{if(A7g.callbackListeners.studyOverlayEdit&&A7g.callbackListeners.studyOverlayEdit.length){r1M=!!{};}}if(r1M){b30.editMode=!!{};p58=!!0;for(var r3Y in R1O.inputs){if(r3Y=="id")continue;if(r3Y=="display")continue;p58=!![];break;}if(!p58){for(var M6b in R1O.outputs){p58=!!"1";break;}}if(p58){if(typeof R1O.study.edit!="undefined"){if(R1O.study.edit){D5h=function(C$n,p4l,P$S,b4U){return function(){Z$9.clearCanvas(C$n.chart.tempCanvas,C$n);Q_0.W3G();p4l.study.edit(p4l,{stx:C$n,inputs:P$S,outputs:b4U,parameters:b30});};}(A7g,R1O,P5e,s2s,b30);A7g.setPanelEdit(d53,D5h);R1O.editFunction=D5h;}}else if(!W6A){D5h=function(O46,J9k,N9W,Z9f,m1A){return function(J$M){Z$9.clearCanvas(O46.chart.tempCanvas,O46);Q_0.W5N();O46.dispatch("studyOverlayEdit",{stx:O46,sd:J9k,inputs:N9W,outputs:Z9f,parameters:m1A,forceEdit:J$M});};}(A7g,R1O,P5e,s2s,b30);R1O.editFunction=D5h;}else{if(A7g.editCallback){E3C="cha";E3C+="r";E3C+="t";D5h=function(N5s,g4w,o7t,s_H){Q_0.W3G();return function(){Q_0.W5N();var x7h;x7h=N5s.editCallback(N5s,g4w);Z$9.clearCanvas(N5s.chart.tempCanvas,N5s);Z$9.Studies.studyDialog(N5s,z3u,x7h,{inputs:o7t,outputs:s_H,parameters:b30});};}(A7g,R1O,P5e,s2s,b30);if(d53.name!=E3C){A7g.setPanelEdit(d53,D5h);}}else{O4a="cha";O4a+="rt";D5h=function(n6z,F0i,z4V,i1m,h30){Q_0.W5N();return function(){var k0P;k0P="studyP";Q_0.W5N();k0P+="anelE";k0P+="dit";Z$9.clearCanvas(n6z.chart.tempCanvas,n6z);n6z.dispatch(k0P,{stx:n6z,sd:F0i,inputs:z4V,outputs:i1m,parameters:h30});};}(A7g,R1O,P5e,s2s,b30);if(d53.name!=O4a){A7g.setPanelEdit(d53,D5h);R1O.editFunction=D5h;}}}}}A7g.changeOccurred("layout");if(!D8A){A7g.draw();}return R1O;};Z$9.Studies.removeStudy=function(e01,q9L){var K_I,X5M,F2g,Z_6;K_I=e01.panels[q9L.panel];X5M=K_I&&K_I.yAxis.name;if(q9L.overlay||q9L.underlay){e01.removeOverlay(q9L.name);}F2g=e01.panels[q9L.panel];if(q9L.attribution){e01.removeFromHolder(q9L.attribution.marker);}delete e01.layout.studies[q9L.name];if(F2g&&!e01.checkForEmptyPanel(F2g)){if(X5M==q9L.name){e01.electNewPanelOwner(F2g);}Z_6=e01.getYAxisByName(q9L.panel,q9L.name);if(Z_6){Z_6.name=Z_6.studies[+"1"]||Z_6.renderers[0];}}e01.draw();e01.resizeChart();};Z$9.Studies.getPanelFromFieldName=function(U97,U0f){var Q66,n5o,Z49,x1f,K8r;Q66=Z$9.Studies.getFieldInputs(U0f);if(!Q66.length){return null;}n5o=U97.layout.studies;if(!n5o){return null;}Z49={};for(var t8_ in n5o){for(var h54 in n5o[t8_].outputMap){Z49[h54]=n5o[t8_].panel;}}i6UVR.W5N();for(var L7Z=0;L7Z<Q66.length;L7Z++){x1f=U0f.inputs[Q66[L7Z]];if(x1f){K8r=Z49[x1f];if(K8r){return K8r;}}}return null;};Z$9.Studies.createLibraryHash=function(){return Object.keys(Z$9.Studies.studyLibrary).join("|");;};Z$9.Studies.displayStudies=function(r62,g4t,n8p){i6UVR.W5N();var P3d,x4y,p2x,k7y,e4A,R4S,x2p,a1X,v6Z,J4d,a7T,w_o,W0Q,P0i,p3s;if(n8p){g4t.studyLibraryHash=Z$9.Studies.createLibraryHash();}P3d=r62.layout.studies;if(!P3d){return;}x4y={};x4y[g4t.name]=!!1;for(var k7$ in P3d){p2x=P3d[k7$];k7y=p2x.study;if(!k7y)continue;e4A=p2x.underlay||p2x.parameters&&p2x.parameters.underlayEnabled;if(n8p&&!e4A||!n8p&&e4A)continue;R4S=Z$9.clone(k7y.renderer);if(R4S&&!(R4S instanceof Array)){R4S=[R4S];}x2p=r62.panels[p2x.panel];if(x2p){if(x2p.chart!=g4t)continue;if(x2p.hidden)continue;if(!x4y[x2p.name]){a1X=p2x.permanent||!r62.manageTouchAndMouse;if(x2p.closeX){if(a1X){x2p.closeX.style.display="none";}}else if(x2p.close){v6Z="n";v6Z+="o";v6Z+="ne";if(a1X){x2p.close.style.display=v6Z;}}if(x2p.edit){if(a1X){x2p.edit.style.display="none";}}x4y[x2p.name]=a1X;}}else{if(r62.currentlyImporting){delete P3d[k7$];}continue;}J4d=p2x.chart.dataSegment;if(p2x.panel==p2x.parameters.chartName&&(!p2x.parameters||!p2x.parameters.panelName)){a7T=Z$9.Studies.getPanelFromFieldName(r62,p2x);if(a7T&&p2x.panel!=a7T){p2x.panel=a7T;}}if(typeof k7y.seriesFN=="undefined"){if(R4S){if(!p2x.overlay){Z$9.Studies.createYAxis(r62,p2x,J4d,x2p);}for(var Q16="0">>32;Q16<R4S.length;Q16++){w_o=R4S[Q16];for(var P_C in p2x.outputMap){if(p2x.outputMap[P_C]==w_o.field){w_o.field=P_C;}}if(!w_o.field)continue;w_o.panel=p2x.panel;W0Q=w_o.binding;if(W0Q){for(var P1m in W0Q){P0i=Z$9.Studies.determineColor(p2x.outputs[W0Q[P1m]]);if(P0i&&P0i!="auto"){w_o[P1m]=P0i;};}}w_o.yAxis=null;p3s=Z$9.Renderer.produce(w_o.type,w_o);p3s.stx=r62;p3s.attachSeries(null,w_o).draw();}}else{Z$9.Studies.displaySeriesAsLine(r62,p2x,J4d);}if(x2p){Z$9.Studies.displayError(r62,p2x);}}else{if(k7y.seriesFN){if(x2p){k7y.seriesFN(r62,p2x,J4d);Z$9.Studies.displayError(r62,p2x);}}}}};Z$9.Studies.displayError=function(F4V,l9e,A2e){var W4k,Q4r,Z6X;W4k="c";W4k+="e";W4k+="nte";W4k+="r";if(!l9e.error){return;}Q4r=A2e&&A2e.panel?A2e.panel:l9e.panel;Z6X=l9e.error===!![]?F4V.translateIf("Not enough data to compute ")+F4V.translateIf(l9e.study.name):F4V.translateIf(l9e.error);if(A2e&&(A2e.h!==W4k||A2e.v!=="bottom")){F4V.watermark(Q4r,A2e);return;}F4V.displayErrorAsWatermark(Q4r,Z6X);};Z$9.Studies.calculateMinMaxForDataPoint=function(T7B,r8Z,z4j){var h7z,O2v,h6Z;h7z=Number.MAX_VALUE;i6UVR.O_b(67);var c69=i6UVR.v$j(7,7,18,19);O2v=Number.MAX_VALUE*c69;for(var E43=0;E43<z4j.length;E43++){h6Z=z4j[E43][r8Z];if(h6Z===null||typeof h6Z=="undefined")continue;if(isNaN(h6Z))continue;h7z=Math.min(h6Z,h7z);O2v=Math.max(h6Z,O2v);}return{min:h7z,max:O2v};};Z$9.Studies.getYAxisParameters=function(u23,r$l){var P49=i6UVR;var O0Y,B$H,l5l,n1n,c04,a6A;P49.W5N();O0Y={};B$H=u23.layout.studies&&u23.layout.studies[r$l.name];if(B$H){l5l=B$H.study;if(l5l.yaxis||l5l.yAxisFN){O0Y.noDraw=!!{};}else{if(l5l.parameters&&l5l.parameters.excludeYAxis){O0Y.noDraw=!![];}O0Y.ground=l5l.yAxis&&l5l.yAxis.ground;if(r$l){n1n="byp";n1n+="a";n1n+="ss";if(l5l.range!=n1n){c04="-";c04+="1 ";c04+="t";c04+="o 1";a6A="0 t";a6A+="o ";a6A+="1";a6A+="00";if(l5l.range==a6A){P49.s$9(42);O0Y.range=[P49.v$j("0",0),P49.V9a("100",0,P49.s$9(29))];}else if(l5l.range==c04){O0Y.range=[-+"1",1];}else{if(l5l.range=="0 to max"){O0Y.range=[0,Math.max(0,r$l.high)];}else if(l5l.centerline||l5l.centerline===0){O0Y.range=[Math.min(l5l.centerline,r$l.low),Math.max(l5l.centerline,r$l.high)];}}}if(O0Y.range){P49.s$9(1);r$l.low=O0Y.range[P49.V9a(0,"0")];r$l.high=O0Y.range[1];}if(B$H.min){r$l.min=B$H.min;}if(B$H.max){r$l.max=B$H.max;}if(B$H.parameters&&B$H.parameters.studyOverZonesEnabled){O0Y.noDraw=!0;}}}}return O0Y;};Z$9.Studies.doPostDrawYAxis=function(H_I,i5U){var L4_,K4S,M7M,K6O,J8Y;for(var M5o in H_I.layout.studies){L4_=H_I.layout.studies[M5o];K4S=H_I.panels[L4_.panel];if(!K4S||K4S.hidden)continue;M7M=L4_.getYAxis(H_I);if(M7M!=i5U)continue;K6O=L4_.study;if(i5U.name==L4_.name){if(K6O.yaxis){K6O.yaxis(H_I,L4_);}if(K6O.yAxisFN){K6O.yAxisFN(H_I,L4_);};}Z$9.Studies.drawZones(H_I,L4_);if(!L4_.error){J8Y=K6O.centerline;if(J8Y||J8Y==="0">>64||J8Y!==null&&i5U.highValue>0&&i5U.lowValue<0){Z$9.Studies.drawHorizontal(H_I,L4_,null,J8Y||0,i5U);}}}};Z$9.Studies.displaySeriesAsLine=function(z4g,w5t,R7f){var z66;if(!R7f.length){return;}z66=z4g.panels[w5t.panel];if(!z66||z66.hidden){return;}i6UVR.W3G();for(var v$n in w5t.outputMap){Z$9.Studies.displayIndividualSeriesAsLine(z4g,w5t,z66,v$n,R7f);}};Z$9.Studies.displaySeriesAsHistogram=function(t78,e8m,y3A){var U_n,H84,V88,r0b,K23,u47,L4$,R5c,D1C,f_w,Q0N,E4Z;U_n="overl";U_n+="aid";if(!y3A.length){return;}H84=t78.panels[e8m.panel];if(!H84){return;}if(H84.hidden){return;}V88=[];for(var H64 in e8m.outputMap){r0b="o";r0b+="bj";r0b+="e";r0b+="ct";K23=e8m.outputs[e8m.outputMap[H64]];if(!K23)continue;i6UVR.s$9(1);u47=i6UVR.v$j(0,"0.3");if(_typeof(K23)==r0b){u47=K23.opacity;K23=K23.color;}L4$={field:H64,fill_color_up:K23,border_color_up:K23,fill_color_down:K23,border_color_down:K23};if(e8m.underlay){L4$.opacity_up=L4$.opacity_down=u47||"0.3"-0;}V88.push(L4$);}i6UVR.W5N();R5c=e8m.getYAxis(t78);D1C=e8m.inputs;f_w=D1C.WidthFactor;if(e8m.study&&e8m.study.parameters){Q0N=e8m.study.parameters;if(typeof Q0N.widthFactor!=="undefined"){f_w=Q0N.widthFactor;}}E4Z={name:e8m.name,type:D1C.HistogramType?D1C.HistogramType:U_n,panel:e8m.panel,yAxis:R5c,widthFactor:f_w||0.5,bindToYAxis:!"",highlight:e8m.highlight};t78.drawHistogram(E4Z,V88);};Z$9.Studies.displayIndividualSeriesAsLine=function(D7f,U2R,g5D,V75,U3I){var J7G,B59,v9q,D5B,D29,h9B,h9t,j0r,T8j,t_n,t$n,v9k,f4M,u8J,g_r,h1R,E3S,S74,u4m;J7G="tran";J7G+="s";J7G+="parent";B59="au";i6UVR.W3G();B59+="t";B59+="o";v9q="s";v9q+="t";v9q+="ring";if(!g5D.height){g5D.height=g5D.bottom-g5D.top;}D5B=U2R.getContext(D7f);D29=U2R.outputs[U2R.outputMap[V75]];if(!D29){return;}D5B.save();if(_typeof(D29)===v9q){D29={color:D29,width:1};}D5B.lineWidth=D29.width||1;h9B=D29.color;if(h9B==B59){h9B=D7f.defaultColor;}D5B.strokeStyle=h9B;h9t=D29.pattern;D5B.setLineDash(Z$9.borderPatternToArray(D5B.lineWidth,h9t));D5B.lineDashOffset=0;j0r=0;T8j=U2R.study;t_n=U2R.getYAxis(D7f);j0r=D7f.decimalPlacesFromPriceTick(t_n.priceTick);if(U2R.overlay||U2R.underlay){j0r=null;}if(t_n.decimalPlaces||t_n.decimalPlaces===0){j0r=t_n.decimalPlaces;}t$n=null;if(U2R.parameters){t$n=U2R.parameters.label;}v9k=T8j.parameters;if(!v9k){v9k={};}f4M=v9k.plotType=="step";if(U2R.series){for(var L06 in U2R.series){u8J="s";u8J+="te";u8J+="p";g_r=U2R.series[L06].parameters.type;if(g_r){i6UVR.O_b(72);f4M=i6UVR.V9a(g_r,u8J);}}}if(v9k.noLabels){t$n=![];}if(!U2R.noSlopes&&U2R.noSlopes!==!{}){U2R.noSlopes=v9k.noSlopes;}if(!U2R.extendToEnd&&U2R.extendToEnd!==!{}){U2R.extendToEnd=v9k.extendToEnd;}h1R=t$n||D7f.preferences.labels&&t$n!==![];E3S=U2R.gaplines;if(E3S===!!""){E3S=J7G;}S74=U2R.inputs.Symbol;u4m=E3S?D7f.getGapColorFunction(S74,V75,D29,E3S):null;D7f.plotDataSegmentAsLine(V75,g5D,{yAxis:t_n,skipTransform:D7f.panels[U2R.panel].name!=U2R.chart.name,label:h1R,labelDecimalPlaces:j0r,noSlopes:U2R.noSlopes,step:f4M,alignStepToSide:U2R.alignStepToSide,extendToEndOfLastBar:U2R.extendToEndOfLastBar,width:U2R.lineWidth,extendToEndOfDataSet:U2R.extendToEnd,gapDisplayStyle:E3S,highlight:U2R.highlight},u4m);if(T8j.appendDisplaySeriesAsLine){T8j.appendDisplaySeriesAsLine(D7f,U2R,U3I,V75,g5D);}D5B.restore();};Z$9.Studies.drawHorizontal=function(G84,J30,V57,s01,H58,b9z){var d4y,Z3P,Z20,p$L;d4y="s";d4y+="e";d4y+="gm";d4y+="ent";i6UVR.W5N();Z3P=G84.panels[J30.panel];Z20=G84.getBackgroundCanvas().context;if(!Z3P){return;}if(!b9z){b9z=H58.textStyle;}p$L=G84.pixelFromPrice(s01,Z3P,H58);if(p$L>H58.top&&p$L<H58.bottom){G84.plotLine(Z3P.left,Z3P.right,p$L,p$L,b9z,d4y,Z20,![],{opacity:b9z&&b9z.opacity?b9z.opacity:0.5});}};Z$9.Studies.displayHistogramWithSeries=function(f3z,s1N,m2C){var h$q,I7W;h$q=f3z.panels[s1N.panel];I7W=+"0.5";if(s1N.underlay){I7W=0.3;}Z$9.Studies.createHistogram(f3z,s1N,m2C,![],I7W);Z$9.Studies.displaySeriesAsLine(f3z,s1N,m2C);};Z$9.Studies.drawZones=function(L0o,m4b,l97){var g6N=i6UVR;var n0W,R4g,Q0o,f6r,l1K,G7X,d7t,e64,E5C,s4v,k_G,P4T,C$J,c17,a_P,D0T,M3G,w5E,R9O,B5n,t2Y,J5o,B3Q,C$A,Y0f,G1u,a1F,i4q;n0W="b";n0W+="ord";n0W+="er";R4g="l";R4g+="e";R4g+="f";g6N.W3G();R4g+="t";if(!m4b.parameters||!m4b.parameters.studyOverZonesEnabled){return;}Q0o=parseFloat(m4b.parameters.studyOverSoldValue);f6r=parseFloat(m4b.parameters.studyOverBoughtValue);l1K=m4b.parameters.studyOverSoldColor;G7X=m4b.parameters.studyOverBoughtColor;d7t=m4b.zoneOutput;if(!d7t){d7t="Result";}e64=Z$9.Studies.determineColor(m4b.outputs[d7t]);if(!e64||e64=="auto"||Z$9.isTransparent(e64)){e64=L0o.defaultColor;}if(!l1K){l1K=e64;}if(!l1K||l1K=="auto"||Z$9.isTransparent(l1K)){l1K=L0o.defaultColor;}if(!G7X){G7X=e64;}if(!G7X||G7X=="auto"||Z$9.isTransparent(G7X)){G7X=L0o.defaultColor;}E5C=L0o.panels[m4b.panel];s4v=m4b.getYAxis(L0o);k_G=s4v.displayBorder;if(L0o.axisBorders===!1){k_G=!{};}if(L0o.axisBorders===!![]){k_G=!![];}if(s4v.width===+"0"){k_G=!1;}P4T=L0o.getYAxisCurrentPosition(s4v,E5C);g6N.O_b(72);C$J=g6N.v$j(P4T,R4g);c17=s4v.justifyRight;if(!c17&&c17!==!!0){if(L0o.chart.yAxis.justifyRight||L0o.chart.yAxis.justifyRight===![]){c17=L0o.chart.yAxis.justifyRight;}else{c17=C$J;}}a_P=Math.round(s4v.left+(C$J?s4v.width:+"0"))+0.5;D0T=k_G?3:0;M3G=L0o.getBackgroundCanvas().context;w5E=M3G.fillStyle;M3G.globalAlpha=0.2;L0o.startClip(E5C.name,!0);M3G.beginPath();R9O=Math.round(L0o.pixelFromPrice(f6r,E5C,s4v))+ +"0.5";M3G.strokeStyle=G7X;M3G.moveTo(E5C.left,R9O);M3G.lineTo(E5C.right,R9O);M3G.stroke();M3G.closePath();M3G.beginPath();B5n=Math.round(L0o.pixelFromPrice(Q0o,E5C,s4v))+0.5;M3G.strokeStyle=l1K;M3G.moveTo(E5C.left,B5n);M3G.lineTo(E5C.right,B5n);M3G.stroke();M3G.closePath();t2Y=new Z$9.Plotter();t2Y.newSeries(n0W,"stroke",L0o.canvasStyle("stx_grid_border"));if(k_G){J5o=C$J?a_P-D0T:a_P-0.5;B3Q=C$J?a_P+0.5:a_P+D0T;t2Y.moveTo("border",J5o,R9O);t2Y.lineTo("border",B3Q,R9O);t2Y.moveTo("border",J5o,B5n);t2Y.lineTo("border",B3Q,B5n);}M3G.fillStyle=w5E;C$A={skipTransform:L0o.panels[m4b.panel].name!=m4b.chart.name,panelName:m4b.panel,band:d7t+((6059,7010)>320.6?" ":("x",+"838.29"))+m4b.name,yAxis:s4v,opacity:0.3};if(!m4b.highlight&&L0o.highlightedDraggable){C$A.opacity*=0.3;}Z$9.preparePeakValleyFill(L0o,Z$9.extend(C$A,{threshold:f6r,direction:s4v.flipped?-1:1,color:G7X}));Z$9.preparePeakValleyFill(L0o,Z$9.extend(C$A,{threshold:Q0o,direction:s4v.flipped?1:-1,color:l1K}));M3G.globalAlpha=1;if(!m4b.study||!m4b.study.yaxis){if(k_G){Y0f="b";Y0f+="order";G1u="bor";G1u+="d";G1u+="e";G1u+="r";a1F=Math.round(s4v.bottom)+0.5;t2Y.moveTo(G1u,a_P,s4v.top);t2Y.lineTo("border",a_P,a1F);t2Y.draw(M3G,Y0f);}if(s4v.width!==+"0"){L0o.canvasFont("stx_yaxis",M3G);L0o.canvasColor("stx_yaxis",M3G);M3G.textAlign=c17?"right":"left";if(C$J){i4q=s4v.left+ +"3";if(c17){g6N.s$9(0);var l3h=g6N.v$j(0,3);i4q=s4v.left+s4v.width-D0T-l3h;}}else{g6N.s$9(16);var u_Y=g6N.v$j(8,18,23);i4q=s4v.left+D0T+u_Y;if(c17){i4q=s4v.left+s4v.width;}}M3G.fillStyle=G7X;M3G.fillText(f6r,i4q,R9O);M3G.fillStyle=l1K;M3G.fillText(Q0o,i4q,B5n);M3G.fillStyle=w5E;}}L0o.endClip();M3G.globalAlpha=1;if(s4v.name==m4b.name){s4v.yAxisPlotter=new Z$9.Plotter();}};Z$9.Studies.createHistogram=function(R$K,g0I,I5V,b7n,j4Z){var N$h=i6UVR;var N1v,y3h,i$L,r8c,d9d,e1h,d0f,x9m,I4q,C6d,w8f,z4B,T84,j1A,J8E,y$T,F0N,M4s,H2S;N1v=R$K.panels[g0I.panel];y3h=g0I.getContext(R$K);i$L=g0I.getYAxis(R$K);R$K.startClip(N1v.name);N$h.O_b(24);var X$a=N$h.V9a(17,7,38,16);r8c=R$K.layout.candleWidth-X$a;if(r8c<2){r8c=1;}d9d=R$K.pixelFromPrice(0,N1v,i$L);if(i$L.min>("0"^0)){d9d=R$K.pixelFromPrice(i$L.min,N1v,i$L);}if(b7n){d9d=Math.floor(N1v.top+N1v.height/2);}e1h=g0I.name+"_hist";R$K.canvasColor("stx_histogram");d0f=y3h.fillStyle;if(j4Z||j4Z==="0">>32){y3h.globalAlpha=j4Z;}if(!g0I.highlight&&R$K.highlightedDraggable){y3h.globalAlpha*=0.3;}x9m=null;I4q=null;C6d=g0I.outputs;for(var t3K=0;t3K<I5V.length;t3K++){w8f=I5V[t3K];if(!w8f)continue;if(w8f.candleWidth){r8c=Math.floor(Math.max("1"*1,w8f.candleWidth-2));}z4B=Math.floor(R$K.pixelFromBar(t3K,N1v.chart)-r8c/2);T84=Math.floor(r8c);if(x9m===null){N$h.s$9(117);var k$5=N$h.V9a(13,4,8);j1A=R$K.tickFromPixel(z4B,N1v.chart)-k$5;if(j1A<0){x9m=I4q;}else{x9m=R$K.pixelFromPrice(R$K.chart.dataSet[j1A][e1h],N1v,i$L)-d9d;}}else{x9m=I4q;}I4q=R$K.pixelFromPrice(w8f[e1h],N1v,i$L)-d9d;J8E=Z$9.Studies.determineColor(C6d["Decreasing Bar"]);y$T=Z$9.Studies.determineColor(C6d["Increasing Bar"]);F0N=Z$9.Studies.determineColor(C6d["Positive Bar"]);M4s=Z$9.Studies.determineColor(C6d["Negative Bar"]);H2S=i$L.flipped;y3h.fillStyle=d0f;if(J8E&&(H2S?I4q<x9m:I4q>x9m)){y3h.fillStyle=J8E;}else if(y$T&&(H2S?I4q>x9m:I4q<x9m)){y3h.fillStyle=y$T;}else if(F0N&&(H2S?I4q>0:I4q<0)){y3h.fillStyle=F0N;}else if(M4s&&(H2S?I4q<+"0":I4q>0)){y3h.fillStyle=M4s;}y3h.fillRect(z4B,d9d,T84,Math.floor(I4q));}y3h.globalAlpha=+"1";R$K.endClip();};Z$9.Studies.prettify={Close:4450>=536?6430===(4102,"641"*1)?938.73:"C":!1,Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:U6i,"welles wilder":"smma","true":(4640,"604.43"-0)<=(588.88,+"9667")?4130===(1130,+"306.78")?330.11: false?(undefined):"y":1.52e+3,"false":(1880,1630)>(9360,2500)?(1.60e+3,0xc8d):"n"};Z$9.Studies.prettyRE=/^.*\((.*?)\).*$/;Z$9.Studies.prettyDisplay=function(V4T){var I3L,v1k;I3L=Z$9.Studies.prettyRE.exec(V4T);if(!I3L){return V4T;}v1k=I3L[+"1"];if(v1k){for(var L4w in Z$9.Studies.prettify){v1k=v1k.replace(L4w,Z$9.Studies.prettify[L4w]);}V4T=V4T.replace(I3L[1],v1k);}i6UVR.W3G();return V4T;};Z$9.Studies.getFieldInputs=function(u73){var v1I,j9b;v1I=[];j9b=u73.study.inputs;for(var E6j in j9b){if(j9b[E6j]=="field"){v1I.push(E6j);}}return v1I;};Z$9.Studies.initializeFN=function(u2X,n87,w1G,l_0,j1J,g0o,n8m){var O6j,X9x,B8R,I1y,O9e,m72,E3i,q5B,I7w,z70,f7w,K2b,j_9,k3A,b17,i2m,x0A,j$p,L$u;O6j="st";O6j+="ring";if(!w1G){w1G={};}if(!j1J){j1J={};}if(!w1G.id){w1G.id=Z$9.Studies.generateID(u2X,n87,w1G,j1J.replaceID,j1J.display);}if(!w1G.display){w1G.display=w1G.id;}X9x=new Z$9.Studies.StudyDescriptor(w1G.id,n87,w1G.id,w1G,l_0,j1J);if(w1G.Period){X9x.days=Math.max(1,parseInt(X9x.inputs.Period,10));}if(n8m){if(!n8m.inputs){n8m.inputs=X9x.study.inputs;}if(!n8m.outputs){n8m.outputs=X9x.study.outputs;}X9x.study=n8m;}else{n8m=X9x.study;}if(n8m.display){w1G.display=n8m.display;}if(_typeof(j1J.panelName)==O6j){g0o=j1J.panelName;}if(g0o==w1G.id||g0o&&!u2X.panelExists(g0o)){X9x.underlay=X9x.overlay=!{};}if(g0o=="Own panel"||g0o=="New panel"){g0o=null;}B8R=X9x.overlay||w1G.Overlay||X9x.overlay!==![]&&n8m.overlay;I1y=X9x.underlay||w1G.Underlay||X9x.underlay!==!!0&&n8m.underlay;if(B8R&&j1J.underlayEnabled){I1y=!![];}if(I1y){X9x.underlay=!![];}if(!I1y&&u2X.chart.panel&&g0o==u2X.chart.panel.name){B8R=!!"1";}if(B8R){X9x.overlay=!![];}O9e=u2X.preferences.dragging;if(O9e===!![]||O9e&&O9e.study){X9x.overlay=!![];}if(g0o){j1J.panelName=g0o;}else if(!B8R&&!I1y){g0o=w1G.id;}if(j1J.calculateOnly){if(B8R||I1y){if(u2X.panels[j1J.panelName]){X9x.panel=j1J.panelName;}else{X9x.panel=Z$9.Studies.getPanelFromFieldName(u2X,X9x)||j1J.chartName;}}return X9x;}m72={};E3i=u2X.layout.studies[j1J.replaceID];if(E3i){m72={outputMap:Z$9.clone(E3i.outputMap),panel:E3i.panel};}X9x.panel="";if(g0o){q5B="Ne";q5B+="w pa";q5B+="nel";I7w=Z$9.Studies.smartMovePanel(u2X,X9x.inputs,g0o,j1J.replaceID,j1J.panelName==q5B);if(I7w){X9x.panel=I7w.name;}}else if(B8R||I1y){X9x.panel=Z$9.Studies.getPanelFromFieldName(u2X,X9x)||j1J.chartName;}if(!X9x.panel){z70=n8m.panelHeight||null;f7w=n8m.yAxis||{};f7w.name=X9x.inputs.id;X9x.panel=X9x.inputs.id;u2X.createPanel(X9x.inputs.display,X9x.panel,z70,j1J.chartName,new Z$9.ChartEngine.YAxis(f7w));}if(X9x.parameters&&X9x.parameters.panelName){X9x.parameters.panelName=X9x.panel;}K2b=u2X.panels[X9x.panel];j_9=Z$9.Studies.smartCreateYAxis(u2X,K2b,X9x.inputs.id,j1J.yaxisDisplayValue,j1J.yAxis||n8m.yAxis);k3A=n8m?Z$9.clone(n8m.yAxis):null;b17=k3A||j_9;if(b17){if(b17.ground){b17.initialMarginBottom=0;}if(b17.initialMarginTop||b17.initialMarginTop===0||b17.initialMarginBottom||b17.initialMarginBottom===0){u2X.calculateYAxisMargins(b17);}if(b17.name==j1J.replaceID){b17.name=X9x.inputs.id;}}if(j_9){i2m="de";i2m+="fau";i2m+="l";i2m+="t";x0A="n";x0A+="o";x0A+="ne";j_9.width=j_9.position==x0A?+"0":Z$9.ChartEngine.YAxis.prototype.width;if(j1J.yaxisDisplayValue=="shared"||j1J.yaxisDisplayValue==i2m){delete j1J.yaxisDisplayValue;}else{if(k3A){Z$9.ensureDefaults(j_9,k3A);}else if(j_9.name==X9x.name){if(!j1J.yaxisDisplayColor||j1J.yaxisDisplayColor=="auto"){delete j_9.textStyle;}else{j_9.textStyle=Z$9.colorToHex(j1J.yaxisDisplayColor);}j_9.justifyRight=null;j_9.flipped=j1J.flippedEnabled;}}if(j_9!=K2b.yAxis){j_9.displayGridLines=![];}else if(j_9!=u2X.chart.yAxis){j_9.displayGridLines=u2X.displayGridLinesInStudies;}}u2X.calculateYAxisPositions();if(E3i){j$p=!1;for(var D88 in u2X.drawingObjects){L$u=u2X.drawingObjects[D88];if(m72.outputMap&&m72.outputMap.hasOwnProperty(L$u.field)){L$u.field=L$u.field.replace(j1J.replaceID,X9x.inputs.id);if(X9x.parameters&&X9x.parameters.panelName){L$u.panelName=X9x.parameters.panelName;}else{L$u.panelName=X9x.panel;}j$p=!![];}else if(m72.panel&&m72.panel==L$u.panelName){L$u.panelName=L$u.panelName.replace(j1J.replaceID,X9x.inputs.id);j$p=!"";}}if(j$p){u2X.changeOccurred("vector");}}return X9x;};Z$9.Studies.smartMovePanel=function(w2T,F3d,V3z,w77,h23){var K1Z,u_s,M9e,n5A,h_Y,E3N,J4h;u_s=F3d.id;i6UVR.W3G();if(w77){K1Z=w2T.layout.studies[w77];}if(K1Z){M9e=w2T.panels[K1Z.panel];if(M9e){if(M9e.yAxis.name==w77){if((h23||V3z!=w77)&&!w2T.checkForEmptyPanel(M9e.name,!!{},K1Z)){w2T.electNewPanelOwner(M9e);n5A=K1Z.getYAxis(w2T);if(n5A.name==w77){w2T.electNewYAxisOwner(n5A);};}else if(V3z==w77||!w2T.panels[V3z]){if(u_s!=M9e.name){w2T.modifyPanel(M9e,{name:u_s,display:F3d.display});}V3z=u_s;}}}}h_Y=-1993084428;E3N=-216948721;J4h=2;for(var c$c=1;i6UVR.l5h(c$c.toString(),c$c.toString().length,43741)!==h_Y;c$c++){return w2T.panels[V3z];}if(i6UVR.m6F(J4h.toString(),J4h.toString().length,+"39751")!==E3N){return w2T.panels[V3z];}};Z$9.Studies.smartCreateYAxis=function(g7F,n_5,y6c,D73,m7A){var F8e=i6UVR;var z4n,x7A,n5w,j0X,Y7x,r0E,f3l,z93,d0e,o$m;z4n="l";z4n+="ef";z4n+="t";x7A="sha";x7A+="re";x7A+="d";F8e.W3G();n5w="def";n5w+="a";n5w+="ult";j0X=g7F.getYAxisByName(n_5,y6c);if(!D73&&m7A){D73=m7A.position;}if(D73==n5w||D73==x7A||D73==n_5.yAxis.name){D73="";}if([z4n,"right","none"].indexOf(D73)>-1){if(!j0X||j0X.isShared(g7F)){Y7x=m7A||{};Z$9.extend(Y7x,{name:y6c,position:D73});if(!j0X&&!g7F.currentlyImporting&&n_5!=n_5.chart.panel&&!n_5.yAxis.studies.length&&!n_5.yAxis.renderers.length){j0X=n_5.yAxis;Z$9.extend(j0X,Y7x);}else{r0E=j0X==n_5.yAxis;if(j0X){j0X.name=g7F.electNewYAxisOwner(j0X);}j0X=g7F.addYAxis(n_5,new Z$9.ChartEngine.YAxis(Y7x));if(r0E){n_5.yAxis=j0X;}}}else{j0X.position=D73;}f3l=1792883497;F8e.s$9(29);z93=-F8e.V9a("161301282",0);d0e=2;for(var W$X=1;F8e.m6F(W$X.toString(),W$X.toString().length,85028)!==f3l;W$X++){return j0X;}if(F8e.l5h(d0e.toString(),d0e.toString().length,66069)!==z93){return j0X;}}if(D73){o$m=g7F.getYAxisByName(n_5,D73);if(o$m&&j0X==n_5.yAxis&&!j0X.isShared(g7F)){n_5.yAxis=o$m;}if(j0X&&j0X.isShared(g7F)){j0X.name=g7F.electNewYAxisOwner(j0X);}else{if(j0X!==n_5.yAxis){g7F.deleteYAxisIfUnused(n_5,j0X);}}return o$m;}if(j0X){if(j0X.isShared(g7F)){j0X.name=g7F.electNewYAxisOwner(j0X);}else{delete j0X.position;if(j0X!==n_5.yAxis){g7F.deleteYAxisIfUnused(n_5,j0X);}}}g7F.resizeChart();return n_5.yAxis;};Z$9.Studies.calculateVolume=function(i4G,W3k){var J3e,p6N,U_Q,G1t;J3e="vol und";J3e+="r";if(W3k.type==J3e){if(!i4G||!i4G.chart.dataSet){return;}p6N=i4G.layout;U_Q=W3k.parameters.removeStudy;G1t=p6N.volumeUnderlay;p6N.volumeUnderlay=!U_Q;if(G1t!=p6N.volumeUnderlay){i4G.changeOccurred("layout");}if(U_Q){Z$9.Studies.removeStudy(i4G,W3k);}}W3k.outputMap={};W3k.outputMap.Volume="";};Z$9.Studies.MA=function(q1K,j2E,E4h,p6v,P_k,C8t,Q1U,Y0X){var y4$=i6UVR;var M_X;y4$.s$9(26);var S$D=y4$.v$j(5456,18,5440,5438);y4$.s$9(21);var x6l=y4$.V9a(7,7578,45466);y4$.s$9(118);var h$c=y4$.V9a(2,6355,15,6360,5);y4$.s$9(1);var D1n=y4$.v$j(44165,52998);y4$.s$9(119);var b5G=y4$.V9a(3497,3497,3494);y4$.O_b(16);var J3l=y4$.V9a(20,5863,22);y4$.s$9(58);var v2h=y4$.V9a(440,8,221,884);M_X=new Z$9.Studies.StudyDescriptor(P_k+((S$D,x6l)==(39.39,h$c)?(D1n,904.16)<=(+"665.73",b5G)?(J3l,"D"):(v2h,"u"):" ")+Q1U.name,"ma",Q1U.panel);M_X.chart=Q1U.chart;M_X.days=parseInt(j2E,10);M_X.startFrom=Q1U.startFrom;if(Y0X){M_X.subField=Y0X;}M_X.inputs={};if(q1K){M_X.inputs.Type=q1K;}y4$.W5N();if(E4h){M_X.inputs.Field=E4h;}if(p6v){M_X.inputs.Offset=parseInt(p6v,10);}Z$9.Studies.calculateMovingAverage(C8t,M_X);};Z$9.Studies.movingAverage={conversions:{ma:h0R,sma:"simple",ema:p0k,tma:"triangular",vdma:b84,wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:v8w,vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:Y$e,exponential:C79,tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}};Z$9.Studies.movingAverageHelper=function(O2p,i8W){var H8D;if(i8W=="options"){H8D={};for(var T9d in Z$9.Studies.movingAverage.translations){H8D[T9d]=O2p.translateIf(Z$9.Studies.movingAverage.translations[T9d]);}return H8D;}return Z$9.Studies.movingAverage.conversions[i8W];};Z$9.Studies.createVolumeChart=function(T_V,S0r,Z0t){var p9t=i6UVR;var N3I,a1b,B4N,p41,y6P,X$L,C_L,q42,I72,E4d,x7J,T91,w9a,i$_,w$j,J8L;N3I="rg";N3I+="b(184, ";N3I+="44, 12)";a1b="_";a1b+="do";a1b+="wn";B4N="D";B4N+="own ";B4N+="V";B4N+="olume";p41="Up Volum";p41+="e";y6P=S0r.panel;X$L=S0r.inputs;C_L=S0r.underlay;q42=S0r.overlay;I72=C_L||q42;E4d=Z$9.Studies.determineColor(S0r.outputs[p41]);x7J=Z$9.Studies.determineColor(S0r.outputs[B4N]);T91=C_L?"stx_volume_underlay":"stx_volume";p9t.s$9(0);T_V.setStyle(p9t.v$j(T91,"_up"),"color",E4d);p9t.s$9(0);T_V.setStyle(p9t.V9a(T91,"_down"),"color",x7J);w9a=[{field:S0r.volumeField||"Volume",fill_color_up:T_V.canvasStyle(T91+"_up").color,border_color_up:T_V.canvasStyle(T91+"_up").borderLeftColor,opacity_up:T_V.canvasStyle(T91+"_up").opacity,fill_color_down:T_V.canvasStyle(T91+a1b).color,border_color_down:T_V.canvasStyle(T91+"_down").borderLeftColor,opacity_down:T_V.canvasStyle(T91+"_down").opacity,color_function:S0r.colorFunction}];i$_=w9a[+"0"];if(!C_L&&i$_.border_color_down===N3I){i$_.border_color_down="#000000";i$_.border_color_up="#000000";}w$j=S0r.getYAxis(T_V);J8L={name:"Volume",panel:y6P,yAxis:w$j,widthFactor:1,bindToYAxis:!"",highlight:S0r.highlight};Z$9.extend(J8L,S0r.study.parameters);Z$9.extend(J8L,S0r.parameters);if(T_V.colorByCandleDirection&&!S0r.colorFunction){i$_.color_function=function(h5C){var c6G,b2d;c6G=h5C.Open;b2d=h5C.Close;return{fill_color:c6G>b2d?i$_.fill_color_down:i$_.fill_color_up,border_color:c6G>b2d?i$_.border_color_down:i$_.border_color_up,opacity:c6G>b2d?i$_.opacity_down:i$_.opacity_up};};}T_V.drawHistogram(J8L,w9a);};Z$9.Studies.calculateStandardDeviation=function(w5M,c0c){var B56=i6UVR;var R3j,C4v,G4B,b7i,F5u,x8z,G6Y,J2v,u_q,G19,X90,f_Q,O4k,A_y,Q94,m12;R3j="_";B56.W3G();R3j+="M";R3j+="A";C4v="C";C4v+="los";C4v+="e";G4B="fiel";G4B+="d";b7i=c0c.chart.scrubbed;if(b7i.length<c0c.days+1){c0c.error=!![];return;}F5u=c0c.inputs.Field;if(!F5u||F5u==G4B){F5u=C4v;}x8z=c0c.inputs["Moving Average Type"];if(!x8z){x8z=c0c.inputs.Type;}Z$9.Studies.MA(x8z,c0c.days,F5u,c0c.inputs.Offset,R3j,w5M,c0c);G6Y=0;B56.O_b(1);J2v=B56.v$j(0,"0");u_q=0;G19=Number(c0c.inputs["Standard Deviations"]);if(G19<0){G19=2;}X90=c0c.name;for(var o0_ in c0c.outputs){B56.s$9(35);X90=B56.V9a(" ",X90,o0_);}for(f_Q=c0c.startFrom-1,A_y=0;f_Q>=0&&A_y<c0c.days;f_Q--,A_y++){O4k=b7i[f_Q][F5u];if(O4k&&_typeof(O4k)=="object"){O4k=O4k[c0c.subField];}if(isNaN(O4k)){O4k=0;}G6Y+=Math.pow(O4k,2);J2v+=O4k;}for(f_Q=c0c.startFrom;f_Q<b7i.length;f_Q++){Q94=b7i[f_Q];O4k=Q94[F5u];if(O4k&&_typeof(O4k)=="object"){O4k=O4k[c0c.subField];}if(!O4k&&O4k!==0){O4k=0;}G6Y+=Math.pow(O4k,2);J2v+=O4k;if(f_Q<c0c.days-+"1")continue;if(f_Q>=c0c.days){m12=b7i[f_Q-c0c.days][F5u];if(m12&&_typeof(m12)=="object"){m12=m12[c0c.subField];}if(isNaN(m12)){m12=0;}G6Y-=Math.pow(m12,2);J2v-=m12;}u_q=Q94["_MA "+c0c.name];if(u_q||u_q===0){B56.s$9(56);var D8t=B56.v$j(5,35,20,15,10);B56.s$9(16);var H1X=B56.V9a(4,0,2);Q94[X90]=Math.sqrt((G6Y+c0c.days*Math.pow(u_q,D8t)-H1X*u_q*J2v)/c0c.days)*G19;}}};Z$9.Studies.calculateMovingAverage=function(J8k,t1Y){var A2U,L5o,y16,E3I,s05,m_k,H3M,d70,I9A,C$2,B9a,c3y,K7l,k_m,g0F,D6C,R7Y,j60;if(!t1Y.chart.scrubbed){return;}A2U=t1Y.inputs.Type;if(A2U=="ma"||A2U=="sma"||!A2U){A2U="simple";}L5o=Z$9.Studies.movingAverage.typeMap;if(A2U in L5o){return Z$9.Studies["calculateMovingAverage"+L5o[A2U]](J8k,t1Y);}else if(A2U!=="simple"){return;}y16=t1Y.chart.scrubbed;E3I=+"0";s05=[];m_k=t1Y.name;for(var z4k in t1Y.outputs){i6UVR.O_b(35);m_k=i6UVR.V9a(" ",m_k,z4k);}i6UVR.W5N();H3M=t1Y.inputs.Field;if(!H3M||H3M=="field"){H3M="Close";}d70=parseInt(t1Y.inputs.Offset,10);if(isNaN(d70)){d70=0;}c3y=t1Y.startFrom;K7l=d70;for(I9A=t1Y.startFrom-1;I9A>=0;I9A--){C$2=y16[I9A][H3M];if(C$2&&_typeof(C$2)=="object"){C$2=C$2[t1Y.subField];}if(!C$2&&C$2!=="0"-0)continue;if(K7l>0){K7l--;c3y=I9A;continue;}if(s05.length==t1Y.days-1)break;E3I+=C$2;s05.unshift(C$2);}if(s05.length<t1Y.days-1){s05=[];c3y=0;;}k_m=[];for(I9A=c3y;I9A<y16.length;I9A++){g0F=y16[I9A];C$2=g0F[H3M];if(C$2&&_typeof(C$2)=="object"){C$2=C$2[t1Y.subField];}D6C=I9A+d70>=0&&I9A+d70<y16.length;R7Y=D6C?y16[I9A+d70]:null;if(!C$2&&C$2!=="0"-0){if(R7Y){R7Y[m_k]=null;}else if(I9A+d70>=y16.length){B9a={};B9a[m_k]=null;k_m.push(B9a);}continue;}E3I+=C$2;s05.push(C$2);if(s05.length>t1Y.days){E3I-=s05.shift();}j60=s05.length==t1Y.days?E3I/t1Y.days:null;if(R7Y){R7Y[m_k]=j60;}else if(I9A+d70>=y16.length){B9a={};B9a[m_k]=j60;k_m.push(B9a);}}t1Y.appendFutureTicks(J8k,k_m);};Z$9.Studies.calculateMovingAverageExponential=function(T8n,D7E){var X1v=i6UVR;var f6y,k$M,C0x,S4y,J0j,W7S,d4i,u8D,D8O,S4E,S1U,C_Z,G6x,L7d,X6j,x24,U4C,F4S,b$V,M4b,y$A;f6y="fi";f6y+="e";f6y+="ld";k$M=D7E.inputs.Type;C0x=D7E.chart.scrubbed;X1v.s$9(39);S4y=X1v.v$j("0",0);J0j=0;W7S=0;X1v.W5N();X1v.O_b(24);var c8K=X1v.v$j(11,2,30,19);X1v.s$9(19);var c0Q=X1v.V9a(10,5,0,10,6);d4i=c8K/(D7E.days+c0Q);if(k$M==="welles wilder"||k$M==="smma"){X1v.s$9(7);var J5S=X1v.v$j(11,1,6,16);d4i=J5S/D7E.days;}u8D=null;D8O=D7E.name;for(var G9R in D7E.outputs){X1v.s$9(35);D8O=X1v.V9a( true?(157.03,538)<=(1084,3281)?9140>"633.5"-0?" ":+"194.26":!!0:(undefined),D8O,G9R);}S4E=D7E.inputs.Field;if(!S4E||S4E==f6y){S4E="Close";}S1U=parseInt(D7E.inputs.Offset,10);if(isNaN(S1U)){S1U=0;}L7d=D7E.startFrom;X6j=S1U;for(C_Z=D7E.startFrom-1;C_Z>=0;C_Z--){G6x=C0x[C_Z][D8O];if(!G6x&&G6x!==0)continue;if(u8D===null){u8D=G6x;}W7S=D7E.days;if(X6j<=("0"^0))break;X6j--;L7d=C_Z;}if(u8D===null){u8D=L7d=0;}x24=[];for(C_Z=L7d;C_Z<C0x.length;C_Z++){U4C=C0x[C_Z];G6x=U4C[S4E];if(G6x&&_typeof(G6x)=="object"){G6x=G6x[D7E.subField];}F4S=C_Z+S1U>=0&&C_Z+S1U<C0x.length;b$V=F4S?C0x[C_Z+S1U]:null;if(!G6x&&G6x!==0){M4b=null;}else{if(W7S==D7E.days-1){S4y+=G6x;J0j=S4y/D7E.days;M4b=J0j;}else if(W7S<D7E.days-1){S4y+=G6x;X1v.s$9(120);J0j=X1v.V9a(S4y,1,W7S);M4b=null;}else if(W7S===0){S4y+=G6x;J0j=S4y;M4b=null;}else if(u8D||u8D===0){X1v.s$9(22);J0j=X1v.V9a(u8D,u8D,G6x,d4i);M4b=J0j;}u8D=J0j;W7S++;}if(b$V){b$V[D8O]=M4b;}else if(C_Z+S1U>=C0x.length){y$A={};y$A[D8O]=M4b;x24.push(y$A);}}D7E.appendFutureTicks(T8n,x24);};Z$9.Studies.calculateMovingAverageVIDYA=function(K3f,E1n){var o5o=i6UVR;var R9V,d$e,S9g,f0h,G9b,Q$N,l8E,K8R,m30,w50,H0Q,M3R,F2o,b$0,x0W,A_D,r8P,m9C,k3i,R7y,y5z,A64,y6q,c0R,H_h,M2D;R9V="_MA";R9V+="ST";R9V+="D";d$e="m";d$e+="a";S9g="m";S9g+="a";f0h="s";f0h+="dev";G9b="Clos";G9b+="e";Q$N=E1n.inputs.Type;l8E=E1n.chart.scrubbed;o5o.s$9(121);var d4$=o5o.V9a(5,7,492,0,14);K8R=d4$/(E1n.days+ +"1");m30=null;w50=E1n.name;for(var L6c in E1n.outputs){o5o.O_b(35);w50=o5o.v$j(" ",w50,L6c);}H0Q=E1n.inputs.Field;if(!H0Q||H0Q=="field"){H0Q=G9b;}E1n.std=new Z$9.Studies.StudyDescriptor(E1n.name,f0h,E1n.panel);E1n.std.chart=E1n.chart;E1n.std.days=5;E1n.std.startFrom=E1n.startFrom;E1n.std.inputs={Field:H0Q,"Standard Deviations":1,Type:S9g};E1n.std.outputs={_STD:null};Z$9.Studies.calculateStandardDeviation(K3f,E1n.std);Z$9.Studies.MA(d$e,20,"_STD "+E1n.name,0,R9V,K3f,E1n);M3R=parseInt(E1n.inputs.Offset,"10"<<0);if(isNaN(M3R)){M3R=0;}A_D=E1n.startFrom;r8P=M3R;for(F2o=E1n.startFrom-("1"<<32);F2o>=+"0";F2o--){b$0=l8E[F2o][w50];if(!b$0&&b$0!==0)continue;if(m30===null){m30=b$0;}if(r8P<=0)break;r8P--;A_D=F2o;}if(m30===null){m30=A_D=0;}m9C=[];for(F2o=A_D;F2o<l8E.length;F2o++){k3i="_S";k3i+="TD ";R7y="_MA";R7y+="S";R7y+="TD";R7y+=" ";y5z="ob";y5z+="ject";A64=l8E[F2o];b$0=A64[H0Q];if(b$0&&_typeof(b$0)==y5z){b$0=b$0[E1n.subField];}y6q=F2o+M3R>=0&&F2o+M3R<l8E.length;c0R=y6q?l8E[F2o+M3R]:null;if(!b$0&&b$0!==0){if(c0R){c0R[w50]=null;}else if(F2o+M3R>=l8E.length){x0W={};x0W[w50]=null;m9C.push(x0W);}continue;}if(!A64["_MASTD "+E1n.name]&&A64[R7y+E1n.name]!==0)continue;H_h=A64[k3i+E1n.name]/A64["_MASTD "+E1n.name];o5o.s$9(122);M2D=o5o.V9a(m30,b$0,H_h,K8R,H_h,K8R,1);m30=M2D;if(F2o<E1n.days){M2D=null;}if(c0R){c0R[w50]=M2D;}else if(F2o+M3R>=l8E.length){x0W={};x0W[w50]=M2D;m9C.push(x0W);}}E1n.appendFutureTicks(K3f,m9C);};Z$9.Studies.calculateMovingAverageTriangular=function(W$C,G$0){var u9G=i6UVR;var q1q,f40,k$i,x3$,X5Q,m2w,g7L,Y8$,K5d,Q9f,m6Y,i81,N9G,k1q;q1q="T";q1q+="RI";q1q+="2";f40=G$0.chart.scrubbed;k$i=G$0.inputs.Field;if(!k$i||k$i=="field"){k$i="Close";}x3$=Math.ceil(G$0.days/2);Z$9.Studies.MA("simple",x3$,k$i,0,"TRI1",W$C,G$0);if(G$0.days%2===0){x3$++;}Z$9.Studies.MA("simple",x3$,"TRI1 "+G$0.name,0,q1q,W$C,G$0);X5Q=G$0.name;for(var J_y in G$0.outputs){u9G.O_b(35);X5Q=u9G.v$j(" ",X5Q,J_y);}m2w=parseInt(G$0.inputs.Offset,10);g7L=-1347157408;Y8$=-+"257006189";K5d=2;for(var l$_=1;u9G.l5h(l$_.toString(),l$_.toString().length,64376)!==g7L;l$_++){if(isNaN(m2w)){m2w=3;}Q9f=m2w;u9G.s$9(1);K5d+=u9G.V9a(0,"2");}if(u9G.m6F(K5d.toString(),K5d.toString().length,83165)!==Y8$){if(isNaN(m2w)){m2w=7;}Q9f=m2w;}if(isNaN(m2w)){m2w=0;}Q9f=m2w;for(var Q$c=G$0.startFrom-1;Q$c>=+"0";Q$c--){m6Y=f40[Q$c][X5Q];if(!m6Y&&m6Y!==0)continue;if(Q9f>0){Q9f--;continue;}break;}i81=[];for(Q$c++;Q$c<f40.length;Q$c++){if(Q$c+m2w>=0){if(Q$c+m2w<f40.length){u9G.s$9(0);f40[u9G.V9a(Q$c,m2w)][X5Q]=f40[Q$c]["TRI2 "+G$0.name];}else{N9G="T";N9G+="R";N9G+="I2";N9G+=" ";k1q={};k1q[X5Q]=f40[Q$c][N9G+G$0.name];i81.push(k1q);}}}G$0.appendFutureTicks(W$C,i81);};Z$9.Studies.calculateMovingAverageWeighted=function(i52,f9G){var i60=i6UVR;var M$R,N5$,V_o,t$P,m2g,f3u,n7h,b2K,s8d,K4u,U6f,p_v,y7B,J9O,l7h,R_Y,I8W,D8p,I8E,w9X,G4X,S8v,f2I;M$R="Clo";M$R+="se";N5$=f9G.chart.scrubbed;V_o=0;t$P=+"0";m2g=f9G.inputs.Field;if(!m2g||m2g=="field"){m2g=M$R;}i60.O_b(1);var d7W=i60.v$j(16,17);i60.W5N();i60.O_b(1);var d80=i60.V9a(30,32);f3u=f9G.days*(f9G.days+d7W)/d80;n7h=f9G.name;for(var p82 in f9G.outputs){i60.O_b(35);n7h=i60.V9a((2620,4190)>+"6230"?(0x18c4,"A"):" ",n7h,p82);}b2K=parseInt(f9G.inputs.Offset,10);if(isNaN(b2K)){b2K=0;}p_v=[];y7B=f9G.startFrom;J9O=b2K;for(s8d=f9G.startFrom-1;s8d>=0;s8d--){l7h="ob";l7h+="je";l7h+="c";l7h+="t";K4u=N5$[s8d][m2g];if(K4u&&_typeof(K4u)==l7h){K4u=K4u[f9G.subField];}if(!K4u&&K4u!==0)continue;if(J9O>0){J9O--;y7B=s8d;continue;}if(p_v.length==f9G.days-1)break;p_v.unshift(K4u);}if(p_v.length<f9G.days-1){p_v=[];R_Y=-533472951;i60.O_b(2);I8W=i60.V9a(1,"179969968");D8p=2;for(var f67=1;i60.m6F(f67.toString(),f67.toString().length,+"31410")!==R_Y;f67++){y7B=2;D8p+=2;}if(i60.l5h(D8p.toString(),D8p.toString().length,61882)!==I8W){y7B=0;};}for(s8d=0;s8d<p_v.length;s8d++){i60.O_b(0);var S9X=i60.v$j(3,29);V_o+=(s8d+("1"<<S9X))*p_v[s8d];t$P+=p_v[s8d];}I8E=[];for(s8d=y7B;s8d<N5$.length;s8d++){w9X=N5$[s8d];K4u=w9X[m2g];if(K4u&&_typeof(K4u)=="object"){K4u=K4u[f9G.subField];}G4X=s8d+b2K>=0&&s8d+b2K<N5$.length;S8v=G4X?N5$[s8d+b2K]:null;if(!K4u&&K4u!==0){if(S8v){S8v[n7h]=null;}else if(s8d+b2K>=N5$.length){U6f={};U6f[n7h]=null;I8E.push(U6f);}continue;}p_v.push(K4u);if(p_v.length>f9G.days){V_o-=t$P;t$P-=p_v.shift();}V_o+=p_v.length*K4u;t$P+=K4u;f2I=s8d<f9G.days-1?null:V_o/f3u;if(S8v){S8v[n7h]=f2I;}else if(s8d+b2K>=N5$.length){U6f={};U6f[n7h]=f2I;I8E.push(U6f);}}f9G.appendFutureTicks(i52,I8E);};Z$9.Studies.calculateStudyATR=function(Q3Z,G57){var e1c=i6UVR;var d_J,L2F,o2T,E7F,s$Y,Y2n,J5R,k9H,L5v;d_J=G57.chart.scrubbed;L2F=G57.days;if(d_J.length<L2F+1){G57.error=!!{};return;}o2T=0;E7F=G57.name;for(var k4j=Math.max(G57.startFrom,1);k4j<d_J.length;k4j++){s$Y="A";s$Y+="T";s$Y+="R";s$Y+=" ";Y2n="Tr";Y2n+="ue R";Y2n+="ange";Y2n+=" ";J5R=d_J[k4j];e1c.s$9(1);k9H=d_J[e1c.v$j(1,k4j)];L5v=J5R.trueRange;if(k9H["Sum True Range "+E7F]){e1c.O_b(0);o2T=k9H[e1c.v$j("Sum True Range ",E7F)];}o2T+=L5v;if(k4j>L2F){e1c.s$9(1);o2T-=d_J[e1c.v$j(L2F,k4j)][e1c.V9a(Y2n,E7F,e1c.s$9(0))];}e1c.s$9(0);J5R[e1c.v$j("True Range ",E7F)]=L5v;e1c.O_b(0);J5R[e1c.v$j("Sum True Range ",E7F)]=o2T;if(k4j==L2F){e1c.s$9(0);J5R[e1c.V9a("ATR ",E7F)]=e1c.v$j(o2T,L2F,e1c.s$9(9));}else if(k4j>L2F){e1c.s$9(23);var N$$=e1c.V9a(4,3);e1c.O_b(0);J5R[e1c.v$j(s$Y,E7F)]=(k9H["ATR "+E7F]*(L2F-N$$)+L5v)/L2F;}}};Z$9.Studies.displayPSAR2=function(l7C,u7O,u4V){var k0B=i6UVR;var a37,K_v,r0D,g_0,r3q,c65,l0p,T8T,D15,p1t,R6v,J3J,o91;a37=l7C.panels[u7O.panel];K_v=u7O.getYAxis(l7C);r0D=K_v==l7C.chart.panel.yAxis;l7C.startClip(a37.name);k0B.W5N();g_0=u7O.getContext(l7C);r3q=u7O.inputs["Plot Type"]=="squarewave";for(var S18 in u7O.outputs){k0B.O_b(123);var C3u=k0B.v$j(6,15,1391370,6,38850);k0B.s$9(0);var m9z=k0B.V9a(570,3420);k0B.O_b(1);var w29=k0B.V9a(18340,20960);k0B.O_b(0);var c3x=k0B.v$j(5227,13);k0B.O_b(124);var o94=k0B.v$j(11,23606,2155,12,141636);c65=S18+("297"-0<=360.51?(C3u,m9z)>=533.74?" ": false?(undefined):(![],+"611.03"):(!!1,o94))+u7O.name;g_0.beginPath();l0p=l7C.layout.candleWidth;T8T=Math.max(3,Math.floor(l7C.chart.tmpWidth/2));for(var T5C=0;T5C<u4V.length;T5C++){D15=u4V[T5C];if(!D15||!D15[c65]&&D15[c65]!==+"0")continue;if(D15.candleWidth){l0p=D15.candleWidth;}if(r0D&&D15.transform){D15=D15.transform;}p1t=l7C.pixelFromBar(T5C,a37.chart);if(r3q){k0B.O_b(9);p1t-=k0B.v$j(l0p,2);}R6v=l7C.pixelFromTransformedValue(D15[u7O.referenceOutput?u7O.referenceOutput+((569,938)<3358?(648.08,9040)>=(5480,+"5510")?(2537,693.69)>4560?250.45:" ":+"0x1232":"D")+u7O.name:c65],a37,K_v);if(T5C===0||!u4V[T5C-("1">>64)]||!u4V[T5C-1][c65]&&u4V[T5C-1][c65]!==0){g_0.moveTo(p1t,R6v);}if(r3q){g_0.lineTo(p1t,R6v);k0B.O_b(0);g_0.lineTo(k0B.V9a(p1t,l0p),R6v);if(u4V[T5C+1]){k0B.s$9(0);J3J=u4V[k0B.v$j(T5C,1)];if(r0D&&J3J.transform){J3J=J3J.transform;}if(!J3J[c65]&&J3J[c65]!==0){k0B.O_b(0);g_0.lineTo(k0B.V9a(p1t,l0p),l7C.pixelFromTransformedValue(J3J[u7O.referenceOutput?u7O.referenceOutput+((644.32,4.73)<=(627.18,4230)?" ": false?undefined:295.27>=6140?(9.36e+3,"7.69e+2"^0):("Q",8.52e+3))+u7O.name:c65],l7C.panels[u7O.panel],K_v));}}}else{k0B.s$9(125);g_0.moveTo(k0B.V9a("2",p1t,T8T,0),R6v);k0B.s$9(126);g_0.lineTo(k0B.V9a(p1t,T8T,0,"2"),R6v);}}g_0.lineWidth=+"1";if(u7O.highlight){g_0.lineWidth=3;}o91=Z$9.Studies.determineColor(u7O.outputs[S18]);if(o91=="auto"){o91=l7C.defaultColor;}g_0.strokeStyle=o91;if(!u7O.highlight&&l7C.highlightedDraggable){g_0.globalAlpha*=0.3;}g_0.stroke();g_0.closePath();g_0.lineWidth=+"1";}l7C.endClip();};Z$9.Studies.inputAttributeDefaultGenerator=function(u8k){if(!u8k&&u8k!==0){return{};}if(u8k.constructor==Number){if(Math.floor(u8k)==u8k){if(u8k>"0"<<0){return{min:1,step:1};}return{step:1};;}if(u8k>0){return{min:0,step:0.01};}return{step:0.01};;}return{};};Z$9.Studies.getMarketOffset=function(_ref18){var H9U=_ref18.stx,x95=_ref18.localQuoteDate,b6O=_ref18.shiftToDateBoundary;var m$y=i6UVR;var O_z,Y6e,e_9,W7N,M02,n52,r1p;O_z="U";O_z+="T";O_z+="C";Y6e="Marke";Y6e+="t.Symbolog";Y6e+="y.isForexMeta";Y6e+="l";if(arguments.length>1){H9U=arguments[+"0"];x95=arguments[1];e_9=arguments[2];}var N2C=H9U.chart.symbol;W7N=Z$9.getFn(Y6e)(N2C);if(e_9===undefined){e_9=Z$9.getFn("Market.Symbology.isForexSymbol")(N2C);}if(!H9U.chart.market){M02=null;}else{M02=e_9?"America/New_York":H9U.chart.market.market_tz;}m$y.s$9(21);var M9g=m$y.V9a(3,60018,120054);n52=new Date(x95.getTime()+x95.getTimezoneOffset()*M9g);if(!M02||M02.indexOf("UTC")==-1){n52=Z$9.convertTimeZone(n52,O_z,M02);}r1p=new Date(n52.getFullYear(),n52.getMonth(),n52.getDate(),n52.getHours(),n52.getMinutes(),n52.getSeconds(),n52.getMilliseconds()).getTime()-x95.getTime();if(b6O&&e_9){m$y.O_b(127);r1p+=m$y.v$j(60,W7N?"6"^0:7,60,1000);}return r1p;};Z$9.Studies.getStudyList=function(G4D){var K0y,j8U;K0y={};j8U={};Z$9.extend(j8U,G4D);for(var V_p in Z$9.Studies.studyLibrary){if(!j8U[V_p]){K0y[Z$9.Studies.studyLibrary[V_p].name]=V_p;}}i6UVR.W5N();return K0y;};Z$9.Studies.determineColor=function(p5w){var c4B;c4B="o";c4B+="bj";c4B+="e";c4B+="ct";if(!p5w){return null;}else if(_typeof(p5w)===c4B){return p5w.color;}return p5w;};Z$9.Studies.calculateGenericEnvelope=function(q4t,z$u,b_f,a1D,i0B,l1m){var Y7K=i6UVR;var u$a,k5d,d4c,b85,k2N,P3c,V3Y,D72,B1j,u2r,c5B,z5H,p52;if(!b_f){b_f=+"0";}if(!l1m){l1m=0;}if(!a1D||a1D=="field"){a1D="Close";}u$a=411440343;k5d=1925983378;Y7K.O_b(42);d4c=Y7K.v$j("2",0);for(var r8R=1;Y7K.l5h(r8R.toString(),r8R.toString().length,94873)!==u$a;r8R++){if(!i0B){i0B=a1D;}d4c+=2;}if(Y7K.l5h(d4c.toString(),d4c.toString().length,40467)!==k5d){if(+i0B){i0B=a1D;}}b85=z$u.chart.scrubbed;k2N=z$u.inputs.Field;if(!k2N||k2N==="field"){k2N="Close";}for(var O9U=z$u.startFrom;b85&&O9U<b85.length;O9U++){P3c="%";P3c+="b";P3c+=" ";V3Y="ob";V3Y+="j";V3Y+="e";V3Y+="ct";D72="objec";D72+="t";B1j=b85[O9U];if(!B1j)continue;if(!B1j[a1D])continue;u2r=B1j[k2N];if(u2r&&_typeof(u2r)==D72){u2r=u2r.Close;}c5B=B1j[a1D];if(c5B&&_typeof(c5B)=="object"){c5B=c5B[z$u.subField];}z5H=B1j[i0B];if(z5H&&_typeof(z5H)==V3Y){z5H=z5H[z$u.subField];}Y7K.s$9(63);p52=Y7K.v$j(b_f,z5H,l1m);Y7K.s$9(0);B1j[z$u.type+" Top "+z$u.name]=Y7K.v$j(c5B,p52);Y7K.s$9(1);B1j[z$u.type+" Bottom "+z$u.name]=Y7K.V9a(p52,c5B);B1j[z$u.type+" Median "+z$u.name]=c5B;B1j["Bandwidth "+z$u.name]=c5B?200*p52/c5B:"0">>32;Y7K.O_b(128);B1j[P3c+z$u.name]=Y7K.V9a(u2r,c5B,50,1,p52);}};Z$9.Studies.displayChannel=function(H2V,k6F,L6H){var S1y=i6UVR;S1y.W5N();var D_P,L1Z,z4d;if(k6F.inputs["Channel Fill"]){D_P={panelName:k6F.panel};for(var Z2E in k6F.outputs){L1Z=Z2E.split(+"807.79">=9157?(4.58e+3,"7.02e+3"|40):(8630,8783)===(8220,2848)?("7.80e+3"^0,0x49d):" ").pop();if(L1Z=="Top"||L1Z=="High"){S1y.s$9(129);var H86=S1y.V9a(152694,14,32160,5,16);S1y.s$9(130);var I8u=S1y.V9a(2258,17,27240,115770,8);S1y.s$9(0);var w3a=S1y.V9a(979,7);S1y.O_b(119);var b6f=S1y.V9a(4853,4853,4836);S1y.O_b(131);var j5t=S1y.v$j(829,4976,15,10);S1y.O_b(132);var H5H=S1y.v$j(8,14,15,6,14);D_P.topBand=Z2E+((H86,I8u)>=(w3a,b6f)?(642.95,j5t):+"837.71"<"666.53"*H5H?(191.39,!!{}):" ")+k6F.name;}else if(L1Z=="Bottom"||L1Z=="Low"){S1y.s$9(133);var B5U=S1y.V9a(4,1,5023,13,1);S1y.O_b(111);var R1M=S1y.v$j(1,6417,12834,711);S1y.s$9(131);var Y02=S1y.V9a(4780,8,2,4);D_P.bottomBand=Z2E+((773.7,734.27)>="625.78"-0?" ":B5U!==R1M?16.94!=Y02?958.92:"t":("Z",!""))+k6F.name;}else if(L1Z=="Median"||L1Z=="Channel"){D_P.color=Z$9.Studies.determineColor(k6F.outputs[Z2E]);}}if(k6F.parameters&&k6F.parameters.opacity){D_P.opacity=k6F.parameters.opacity;}else{D_P.opacity=+"0.2";}z4d=H2V.panels[k6F.panel];D_P.skipTransform=z4d.name!=k6F.chart.name;D_P.yAxis=k6F.getYAxis(H2V);if(!k6F.highlight&&H2V.highlightedDraggable){D_P.opacity*=0.3;}Z$9.prepareChannelFill(H2V,D_P);}Z$9.Studies.displaySeriesAsLine(H2V,k6F,L6H);};Z$9.Studies.initAnchorHandle=function(U7y,S6W){var o2$;var t5s=S6W.handle;if(t5s){return;}if(!U7y.controls.anchorHandles){U7y.controls.anchorHandles={};}if(U7y.controls.anchorHandles[S6W.uniqueId]){t5s=U7y.controls.anchorHandles[S6W.uniqueId].handle;}else{o2$="stx_anc";o2$+="h";o2$+="or_handle";t5s=document.createElement("div");t5s.classList.add(o2$);t5s.setAttribute(S6W.uniqueId,"");U7y.controls.anchorHandles[S6W.uniqueId]={handle:t5s,sd:S6W};U7y.controls.chartControls.parentElement.appendChild(t5s);}S6W.anchorHandle=t5s;};Z$9.Studies.removeAnchorHandle=function(w3x,g$1){var _ref19=(w3x.controls.anchorHandles||{})[g$1.uniqueId]||{},m6J=_ref19.handle;if(m6J){delete w3x.controls.anchorHandles[g$1.uniqueId];m6J.remove();}};Z$9.Studies.repositionAnchor=function(G9l,w31){var Z8_,c4G,m3d,V8j,Q4I,e6D,q00;var W0D=w31.currentAnchorTime,I7Y=w31.uniqueId;var _ref20=G9l.repositioningAnchorSelector||{},f5q=_ref20.hoverTick;var _G9l$chart=G9l.chart,J1e=_G9l$chart.dataSet,f1m=_G9l$chart.market;var X4Y=G9l.controls.anchorHandles;i6UVR.W3G();Z8_={};if(f5q||f5q===+"0"){if(f5q>=J1e.length){return;}c4G=!w31.inputs["Anchor Date"];m3d=J1e[f5q].DT;V8j=Z$9.Studies.getMarketOffset({stx:G9l,localQuoteDate:m3d,shiftToDateBoundary:!!{}});if(c4G&&new Date(m3d.getTime()+V8j).getDate()!==new Date(W0D.getTime()+V8j).getDate()){return;}if(f1m.market_def){m3d=new U7d.Date(m3d,f1m.market_def.market_tz);}Q4I=!c4G&&Z$9.dateToStr(m3d,"YYYY-MM-dd");e6D=Z$9.dateToStr(m3d,"HH:mm:ss");Z8_={"Anchor Time":e6D};if(Q4I){Z8_["Anchor Date"]=Q4I;}}q00=Z$9.Studies.replaceStudy(G9l,w31.inputs.id,w31.type,Object.assign(w31.inputs,Z8_),w31.outputs,w31.parameters,w31.panel);X4Y[I7Y].sd=q00;G9l.draw();};Z$9.Studies.displayAnchorHandleAndLine=function(Y6a,A1h,w4P){var _g0p;var T_Q=i6UVR;var s24,d81,G0O,r59,l2O,V4d,Q27,a5m,r_g,w2S,J8c,R08,X32,y5V,r8F,T0m,g0p,L1M,P5M,K$4,D_q,j$K;s24="s";s24+="ol";s24+="i";s24+="d";d81="Ancho";d81+="r Time";G0O="stx_anc";G0O+="ho";G0O+="r";G0O+="_handle";r59=(Y6a.repositioningAnchorSelector||{}).sd===A1h;var _ref21=r59&&Y6a.repositioningAnchorSelector,U0U=_ref21.hoverTick;var V1W=Y6a.chart,U7c=Y6a.panels,z4u=Y6a.xaxisHeight;var _V1W$market=V1W.market,w8t=_V1W$market===void 0?{}:_V1W$market,y$Z=V1W.symbol;l2O=U7c[A1h.panel];var _l2O=l2O,x5M=_l2O.top,W2W=_l2O.bottom,Q4E=_l2O.right,E21=_l2O.left,a_1=_l2O.height;var l7k=A1h.inputs,O20=A1h.anchorHandle,g6c=A1h.currentAnchorTime;var _Y6a$canvasStyle=Y6a.canvasStyle(G0O),a_G=_Y6a$canvasStyle.backgroundColor,h3h=_Y6a$canvasStyle.borderLeftColor;var _split=(l7k[d81]||"").split(":"),_split2=_slicedToArray(_split,3),v7k=_split2[0],s1c=_split2[1],_split2$=_split2[2],v8F=_split2$===void 0?0:_split2$;V4d=!l7k["Anchor Date"];Q27=Z$9.getFn("Market.Symbology.isForexSymbol")(y$Z);a5m=(U0U||U0U===0)&&(Y6a.chart.dataSet[U0U]||{}).DT;r_g=Z$9.Studies.getMarketOffset({stx:Y6a,localQuoteDate:w4P[w4P.length-1].DT,shiftToDateBoundary:!""});w2S=a5m&&V4d&&new Date(a5m.getTime()+r_g).getDate()!==new Date(g6c.getTime()+r_g).getDate();var t03=Y6a.controls.anchorHandles[A1h.uniqueId].highlighted;var _w8t$getNormalOpen$sp=w8t.getNormalOpen().split(":").map(function(a3r){T_Q.W5N();return parseInt(a3r);}),_w8t$getNormalOpen$sp2=_slicedToArray(_w8t$getNormalOpen$sp,2),g_4=_w8t$getNormalOpen$sp2[0],C$5=_w8t$getNormalOpen$sp2[1];J8c=function J8c(A9i){var L31;T_Q.W5N();L31=A9i?Y6a.tickFromDate(A9i,null,null,!![]):U0U;return[Y6a.pixelFromTick(L31,V1W),L31];};R08=-188731529;X32=437500950;y5V=2;for(var T53=1;T_Q.m6F(T53.toString(),T53.toString().length,"88249"*1)!==R08;T53++){r8F=V4d?new Date(w4P[w4P.length/0].DT):Z$9.strToDate(l7k[""]);y5V+=2;}if(T_Q.m6F(y5V.toString(),y5V.toString().length,+"36812")!==X32){r8F=V4d?new Date(w4P[w4P.length-1].DT):Z$9.strToDate(l7k["Anchor Date"]);}if(w8t.market_def){r8F=new U7d.Date(r8F,w8t.market_def.market_tz);}r8F.setHours(v7k,s1c,v8F);T0m=Q27&&(r8F.getHours()>g_4||r8F.getHours()===g_4&&r8F.getMinutes()>=C$5);if(T0m){r8F.setDate(r8F.getDate()-("1"<<64));}var _J8c=J8c(),_J8c2=_slicedToArray(_J8c,1),s7h=_J8c2[0];var _J8c3=J8c(r8F),_J8c4=_slicedToArray(_J8c3,2),t0o=_J8c4[0],O9r=_J8c4[1];g0p=new Date(r8F);(_g0p=g0p).setHours.apply(_g0p,_toConsumableArray(w8t.getNormalClose().split(":")));if(T0m){g0p.setDate(g0p.getDate()+ +"1");}var _ref22=g0p&&J8c(g0p)||[],_ref23=_slicedToArray(_ref22,1),o$1=_ref23[0];if(V4d&&(t0o>Q4E||o$1>Q4E)){L1M=new Date(r8F);do{L1M.setDate(L1M.getDate()-1);}while(w8t&&!w8t.isMarketDate(L1M));var _J8c5=J8c(L1M),_J8c6=_slicedToArray(_J8c5,2),Q7M=_J8c6[0],C9T=_J8c6[1];if(Q7M>E21){r8F=L1M;t0o=Q7M;O9r=C9T;}}P5M={y0:x5M,y1:W2W,type:"line",confineToPanel:l2O};Y6a.plotLine(Object.assign(P5M,{x0:t0o,x1:t0o,color:a_G,pattern:s24,lineWidth:t03?"3"<<64:2,opacity:1}));Y6a.plotLine(Object.assign(P5M,{x0:s7h,x1:s7h,color:w2S?h3h:a_G,pattern:[6,6],lineWidth:+"2",opacity:w2S?0.5:1}));T_Q.s$9(104);var Q8g=T_Q.v$j(2,12,1,10);O20.style.height=[8,a_1/4,50].sort(function(h57,C0Z){T_Q.O_b(1);T_Q.W3G();return T_Q.v$j(C0Z,h57);})[Q8g]+"px";var _O20$getBoundingClien=O20.getBoundingClientRect(),s6M=_O20$getBoundingClien.height,n5C=_O20$getBoundingClien.width;K$4=Math.round(W2W)===Y6a.height?z4u:0;D_q=l2O.name==="chart"?35:"0"<<32;T_Q.s$9(134);j$K=T_Q.V9a(D_q,s6M,"10",K$4);T_Q.s$9(33);O20.style.top=T_Q.V9a(W2W,"px",j$K);O20.style.left=U0U||U0U===0?s7h:t0o-n5C/2+"px";A1h.currentAnchorTime=r8F;A1h.currentAnchorTick=O9r;};Z$9.Studies.studyScriptLibrary={};Z$9.Studies.studyLibrary=Z$9.Studies.studyLibrary||{};Z$9.extend(Z$9.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!![],calculateFN:Z$9.Studies.calculateMovingAverage,inputs:{Period:+"50",Field:"field",Type:j8B,Offset:+"0"},outputs:{MA:K8D}},"STD Dev":{name:"Standard Deviation",calculateFN:Z$9.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"True Range":{name:"True Range",calculateFN:Z$9.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":b9Y}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!![],initialMarginTop:0,zoom:0},seriesFN:Z$9.Studies.createVolumeChart,calculateFN:Z$9.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":t8f}}});};G6=function G6(y0j){var F8a;F8a=typeof _CIQ!=="undefined"?_CIQ:y0j.CIQ;if(!F8a.ChartEngine.Driver){console.error("symbolLookupBase feature requires first activating quoteFeed feature.");}else{F8a.ChartEngine.Driver.Lookup=function(b$T){};F8a.ChartEngine.Driver.Lookup.prototype.acceptText=function(j6s,g1S,a5k,P8b){if(!this.cb){return;}};}};k$=function k$(e6m){var q8q;q8q=typeof _CIQ!=="undefined"?_CIQ:e6m.CIQ;q8q.ThemeHelper=q8q.ThemeHelper||function(D_h){var o1H,X$A,W53,K4K,X4d,Q90,d9N,M3A;o1H="Can";o1H+="dle/Bar";X$A="stx";X$A+="_candle_down";W53="Candle/Ba";W53+="r";K4K="C";K4K+="andle/Bar";X4d="Candle/";X4d+="Ba";X4d+="r";Q90="Grid";Q90+=" Divide";Q90+="rs";this.params=D_h;d9N=D_h.stx;M3A="#FFFFFF";if(d9N.chart.container){M3A=getComputedStyle(d9N.chart.container).backgroundColor;if(q8q.isTransparent(M3A)){M3A=d9N.containerColor;}}this.settings.chart.Background.color=q8q.hexToRgba(M3A);this.settings.chart["Grid Lines"].color=q8q.hexToRgba(d9N.canvasStyle("stx_grid").color);this.settings.chart[Q90].color=q8q.hexToRgba(d9N.canvasStyle("stx_grid_dark").color);this.settings.chart["Axis Text"].color=q8q.hexToRgba(d9N.canvasStyle("stx_xaxis").color);this.settings.chartTypes[X4d].up.color=q8q.hexToRgba(d9N.canvasStyle("stx_candle_up").color);this.settings.chartTypes[K4K].down.color=q8q.hexToRgba(d9N.canvasStyle("stx_candle_down").color);this.settings.chartTypes["Candle/Bar"].up.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes["Candle/Bar"].down.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_down").color);this.settings.chartTypes["Candle/Bar"].even.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes[W53].up.border=q8q.hexToRgba(d9N.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes["Candle/Bar"].down.border=q8q.hexToRgba(d9N.canvasStyle("stx_candle_down").borderLeftColor);if(q8q.isTransparent(d9N.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(q8q.isTransparent(d9N.canvasStyle(X$A).borderLeftColor)){this.settings.chartTypes[o1H].down.border=null;}this.settings.chartTypes.Line.color=q8q.hexToRgba(d9N.canvasStyle("stx_line_chart").color);this.settings.chartTypes.Mountain.color=q8q.hexToRgba(d9N.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=q8q.hexToRgba(d9N.canvasStyle("stx_mountain_chart").color);};q8q.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};q8q.ThemeHelper.prototype.update=function(U1F){var W5R,d3T,N6F,d14,L0x,i$V,G6y,S2g,L_a,z1n,m8_;W5R="stx_mo";W5R+="unta";W5R+="in_chart";d3T="bo";d3T+="rder";d3T+="LeftColor";N6F="stx_candle";N6F+="_up";d14="c";d14+="o";d14+="l";d14+="or";L0x="stx_";L0x+="candle_";L0x+="up";i$V="A";i$V+="xis";function c7C(F1a,m3N,W2O){var M4E;M4E=z1n[F1a];for(var T2T in M4E){U1F.setStyle(T2T,m3N,W2O);}}i$V+=" Text";G6y="Grid Divide";G6y+="rs";S2g="c";S2g+="olor";L_a="c";L_a+="ol";L_a+="o";L_a+="r";if(!U1F){U1F=this.params.stx;}z1n={stx_candle_up:{stx_candle_up:!![],stx_bar_up:!!{},stx_hollow_candle_up:!"",stx_line_up:!![],stx_baseline_up:!![]},stx_candle_down:{stx_candle_down:!!"1",stx_bar_down:!"",stx_hollow_candle_down:!![],stx_line_down:!!"1",stx_baseline_down:!!"1"},stx_candle_even:{stx_hollow_candle_even:!"",stx_bar_even:!""},stx_shadow_up:{stx_candle_shadow_up:!!{}},stx_shadow_down:{stx_candle_shadow_down:!""},stx_shadow_even:{stx_candle_shadow_even:!!"1"},stx_line_chart:{stx_bar_chart:!"",stx_line_chart:!0},stx_grid:{stx_grid:!!"1"},stx_grid_dark:{stx_grid_dark:!![]},stx_xaxis:{stx_xaxis_dark:!![],stx_xaxis:!!{},stx_yaxis:!![],stx_yaxis_dark:!"",stx_grid_border:!!{}},stx_mountain_chart:{stx_mountain_chart:!!"1"},stx_market_session:{stx_market_session:!!{}}};U1F.chart.container.style.backgroundColor=this.settings.chart.Background.color;U1F.defaultColor="";c7C("stx_grid",L_a,this.settings.chart["Grid Lines"].color);c7C("stx_grid_dark",S2g,this.settings.chart[G6y].color);c7C("stx_xaxis","color",this.settings.chart[i$V].color);m8_=this.settings.chartTypes["Candle/Bar"];if(!m8_.even){m8_.even={color:null,wick:q8q.hexToRgba(U1F.canvasStyle("stx_candle_shadow_even").color),border:null};}c7C(L0x,"color",m8_.up.color);c7C("stx_candle_down","color",m8_.down.color);c7C("stx_candle_even","color",m8_.even.color);c7C("stx_shadow_up","color",m8_.up.wick);c7C("stx_shadow_down",d14,m8_.down.wick);c7C("stx_shadow_even","color",m8_.even.wick);U1F.setStyle(N6F,d3T,m8_.up.border);U1F.setStyle("stx_candle_down","borderLeftColor",m8_.down.border);c7C("stx_line_chart","color",this.settings.chartTypes.Line.color);U1F.setStyle("stx_mountain_chart","borderTopColor",q8q.hexToRgba(this.settings.chartTypes.Mountain.color,1));U1F.setStyle("stx_mountain_chart","backgroundColor",q8q.hexToRgba(this.settings.chartTypes.Mountain.color,+"0.5"));U1F.setStyle(W5R,"color",q8q.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));U1F.draw();};q8q.ChartEngine.prototype.setThemeSettings=function(n3B){var W6v;this.styles={};this.chart.container.style.backgroundColor="";this.defaultColor="";if(n3B){W6v=new q8q.ThemeHelper({stx:this});W6v.settings=n3B;W6v.update();}this.updateListeners("theme");this.changeOccurred("theme");if(this.displayInitialized){this.headsUpHR();this.clearPixelCache();this.updateListeners("theme");this.draw();}};};w6=function w6(b$d){var N21=i6UVR;var q0S,D4e,A8f,I1R,D9A,X_u,r1w,T81,A0f,r6W,O1M,j9r,h6K,n6p,e9C,n3D,w9h,N0g,k_T,v3$,M7J,o1M,O6V,t6Y,W4C,F_1,i_p,C6p,P1k,i0W,k1W,F3M,E8A,l9t,C1a,G_v,u9$,C0F,y6S,x60,W4T,x1S,D5t,k24,E2o,J9S,N$l,w8v,c9b,b$R,E2$,y89,A7B,I7M,r_d,I0u,l2_,s4A,y5Z,P0x,x_H,p$a,d5q,x3H,w_r,D1l,x1h,S8A,O5a,P84,R8V,b19,W5Y,y7G,O74,x14,t2c,S5M,p0N,H3r,l8k,f7L,U$1,E5T,x1n,O3M,j1K,S4s,o$3,O1L,r1U,f5a,K2T,v0F,Z3$,q0N,K2H,r6h,l1b,q8U,H$3,s4B,f8C,n01,t5D,N9I,L_r,g93,s3a,y9O,O_k,q8j,V$5,B_4,T9x,F71,F6D,O$l,Y4g,o1y,I$z,K8$,z_O,H1Q,Y$3,g8c,E9a,P1g,q5m,q16,x3q,U4m,R8s,z3m,G6_,X5y,K8j,d5a,g6y,K$D,L8m,S_F,z75,U8F,z2l,H9H,A5c,I7R,Y0y,h_V,u3Q,q9h,g9I,x4u,H9Y,N49,R5w,I23,L7a,m3S,O_f,r9Q,E_1,f_l,R5$,e50,u3L,G7h,k5I,f$y,f$6,r9_,l5Y,R6B,n5r,N0K;q0S="M";q0S+="a";q0S+="r";D4e="m";D4e+="ax";A8f="A";A8f+="p";A8f+="r";I1R="S";I1R+="un>=";I1R+="9";D9A="o";D9A+="n";D9A+="l";D9A+="y";X_u="F";X_u+="e";X_u+="b";r1w="S";r1w+="un>=15";T81="S";T81+="un>=";T81+="1";A0f="N";A0f+="o";A0f+="v";r6W="m";r6W+="a";r6W+="x";O1M="Sun>=";O1M+="8";j9r="Su";j9r+="n>=8";h6K="N";h6K+="o";h6K+="v";n6p="ma";n6p+="x";e9C="Sun";e9C+=">";e9C+="=";e9C+="1";n3D="Ma";n3D+="r";w9h="m";w9h+="a";w9h+="x";N0g="m";N0g+="ax";k_T="M";k_T+="a";k_T+="r";v3$="M";v3$+="a";v3$+="r";M7J="m";M7J+="ax";o1M="O";o1M+="c";o1M+="t";O6V="M";O6V+="a";O6V+="r";t6Y="S";t6Y+="e";t6Y+="p";W4C="Su";W4C+="n>=1";F_1="m";F_1+="a";F_1+="x";i_p="S";i_p+="u";i_p+="n>=8";C6p="No";C6p+="v";P1k="2";P1k+="0";i0W="o";i0W+="nly";k1W="Su";k1W+="n";k1W+=">";k1W+="=1";F3M="Su";F3M+="n>=1";E8A="S";E8A+="un";E8A+=">";E8A+="=1";l9t="A";l9t+="p";l9t+="r";C1a="A";C1a+="p";C1a+="r";G_v="Sun";G_v+=">=1";u9$="m";u9$+="ax";C0F="Sun";C0F+=">=1";y6S="A";y6S+="p";y6S+="r";x60="ma";x60+="x";W4T="O";W4T+="ct";x1S="ma";x1S+="x";D5t="O";D5t+="c";D5t+="t";k24="o";k24+="nly";E2o="M";E2o+="a";E2o+="r";J9S="Sa";J9S+="t>=";J9S+="24";N$l="Sat>";N$l+="=2";N$l+="4";w8v="M";w8v+="a";w8v+="r";c9b="m";c9b+="a";c9b+="x";b$R="l";b$R+="astFr";b$R+="i";E2$="las";E2$+="tT";N21.W3G();E2$+="hu";y89="M";y89+="ar";A7B="O";A7B+="c";A7B+="t";I7M="M";I7M+="a";I7M+="r";r_d="2";r_d+="1";I0u="2";I0u+="1";l2_="on";l2_+="ly";s4A="M";s4A+="a";s4A+="r";y5Z="2";y5Z+="1";P0x="M";P0x+="a";P0x+="r";x_H="2";x_H+="1";p$a="m";p$a+="ax";d5q="la";d5q+="st";d5q+="S";d5q+="un";x3H="M";x3H+="a";x3H+="r";w_r="m";w_r+="ax";D1l="m";D1l+="a";D1l+="x";x1h="Ma";x1h+="r";S8A="W";S8A+="A";S8A+="T";O5a="2";O5a+="3";P84="1";P84+="4";R8V="A";R8V+="pr";b19="on";b19+="l";b19+="y";W5Y="o";W5Y+="n";W5Y+="l";W5Y+="y";y7G="M";y7G+="a";y7G+="y";O74="on";O74+="l";O74+="y";x14="Ap";x14+="r";t2c="3";t2c+="1";S5M="A";S5M+="p";S5M+="r";p0N="J";p0N+="u";p0N+="n";H3r="on";H3r+="ly";l8k="Ju";l8k+="n";f7L="1";f7L+="3";U$1="M";U$1+="a";U$1+="y";E5T="J";E5T+="u";E5T+="l";x1n="Ma";x1n+="r";O3M="-0";O3M+="3/-02";j1K="-";j1K+="0";j1K+="2";S4s="-";S4s+="0";S4s+="3";o$3="Ch";o$3+="il";o$3+="e";O1L="E%s";O1L+="T";r1U="Cu";r1U+="ba";f5a="M%s";f5a+="T";K2T="Mexi";K2T+="c";K2T+="o";v0F="Ca";v0F+="nada";Z3$="HS";Z3$+="T";q0N="U";q0N+="S";K2H="P%s";K2H+="T";r6h="U";r6h+="S";l1b="E";l1b+="%";l1b+="s";l1b+="T";q8U="+";q8U+="1";q8U+="1";H$3="+";H$3+="10";s4B="+";s4B+="08";f8C="+";f8C+="07";n01="+";n01+="0";n01+="6";t5D="+0";t5D+="3";N9I="M";N9I+="S";N9I+="K";L_r="E";L_r+="ET";g93="C";g93+="E%sT";s3a="EE%s";s3a+="T";y9O="A";y9O+="%s";y9O+="T";O_k="C";O_k+="E%";O_k+="s";O_k+="T";q8j="E";q8j+="U";V$5="E";V$5+="i";V$5+="re";B_4="G";B_4+="MT/BST";T9x="E";T9x+="U";F71="Et";F71+="c/UTC";F6D="To";F6D+="nga";O$l="+12";O$l+="45/";O$l+="+1345";Y4g="Chat";Y4g+="ham";o1y="NZ%";o1y+="sT";I$z="F";I$z+="iji";K8$="A";K8$+="W";z_O="A";z_O+="W";H1Q="S";H1Q+="yr";H1Q+="ia";Y$3="+";Y$3+="0";Y$3+="3";g8c="EE";g8c+="%sT";E9a="R";E9a+="O";E9a+="K";P1g="E";P1g+="E%";P1g+="sT";q5m="Jord";q5m+="an";q16="I";q16+="ran";x3q="EE";x3q+="%sT";U4m="H";U4m+="K";R8s="C";R8s+="%";R8s+="s";R8s+="T";z3m="+";z3m+="06";z3m+="/+07";G6_="Dhak";G6_+="a";X5y="A";X5y+="ze";X5y+="r";K8j="C";K8j+="E%";K8j+="s";K8j+="T";d5a="N";d5a+="amib";d5a+="i";d5a+="a";g6y="un";g6y+="defi";g6y+="ne";g6y+="d";K$D="Pacific/Kir";K$D+="itimati";L8m="Pac";L8m+="ific";L8m+="/Chatha";L8m+="m";S_F="Asia/Kam";S_F+="c";S_F+="hatka";z75="As";z75+="ia/Sred";z75+="nekolyms";z75+="k";U8F="P";U8F+="acific/Noumea";z2l="Asia/Vladivo";z2l+="stok";H9H="Pa";H9H+="cific";H9H+="/Guam";A5c="Austr";A5c+="al";A5c+="ia";A5c+="/Darwin";I7R="Asia";I7R+="/Yakutsk";Y0y="A";Y0y+="sia/Pyon";Y0y+="gyang";h_V="Au";h_V+="strali";h_V+="a";h_V+="/Perth";u3Q="Asia/No";u3Q+="vosibi";u3Q+="rsk";q9h="Asia/Novok";q9h+="uznetsk";g9I="Eur";g9I+="o";g9I+="pe/Sama";g9I+="ra";x4u="Asia/Dub";x4u+="a";x4u+="i";H9Y="Europe";H9Y+="/Mosc";H9Y+="ow";N49="A";N49+="sia/Riy";N49+="ad";N49+="h";R5w="Euro";R5w+="pe/Istanbul";I23="Asi";I23+="a/";I23+="Jerus";I23+="alem";L7a="Asia";L7a+="/N";L7a+="icosia";m3S="Euro";m3S+="pe/Helsink";m3S+="i";O_f="Eu";O_f+="rope/Buch";O_f+="arest";r9Q="Eur";r9Q+="ope/Bru";r9Q+="sse";r9Q+="ls";E_1="Afric";E_1+="a/C";E_1+="asabla";E_1+="nca";f_l="Atlantic/Azore";f_l+="s";R5$="A";R5$+="mer";R5$+="ica/";R5$+="Sao_Paulo";e50="Ame";e50+="rica/Sant";e50+="iago";u3L="America";u3L+="/Bo";u3L+="gota";G7h="America";G7h+="/Costa_Rica";k5I="Americ";k5I+="a/Chih";k5I+="uahua";f$y="Amer";f$y+="ica/";f$y+="Juneau";f$6="undefi";f$6+="n";f$6+="ed";r9_=(typeof _CIQ==="undefined"?"undefined":_typeof(_CIQ))!==f$6?_CIQ:b$d.CIQ;l5Y=typeof _timezoneJS!=="undefined"?_timezoneJS:b$d.timezoneJS;r9_.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":f$y,"(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":k5I,"(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":G7h,"(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":u3L,"(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":e50,"(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":R5$,"(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":f_l,"(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":E_1,"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":r9Q,"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":O_f,"(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":m3S,"(UTC+02:00) Cyprus":L7a,"(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":I23,"(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":R5w,"(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":N49,"(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":H9Y,"(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":x4u,"(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":g9I,"(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":q9h,"(UTC+07:00) Barnaul, Novosibirsk, Tomsk":u3Q,"(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":h_V,"(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":Y0y,"(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":I7R,"(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":A5c,"(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":H9H,"(UTC+10:00) Ust-Nera, Vladivostok":z2l,"(UTC+11:00) Noumea, Solomon Islands":U8F,"(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":z75,"(UTC+12:00) Anadyr, Kamchatka":S_F,"(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":L8m,"(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":K$D};(function(){var j98,A9U,j6k,P27,d$f,s9H,P2b,g_n,L1_,N5a,w4H,e$X,R6d,U$n,B2g,k$S,G0A;j98="O";j98+="ctob";j98+="e";j98+="r";A9U="Septem";A9U+="ber";j6k="Febru";j6k+="ary";P27="S";P27+="at";P27+="urd";P27+="ay";d$f="Frid";d$f+="ay";"use strict";s9H=typeof window!=="undefined"?window:null;P2b=s9H||(typeof global!=="undefined"?global:{});l5Y.VERSION="0.4.11";g_n=P2b.$||P2b.jQuery||P2b.Zepto;L1_=P2b.fleegix;N5a=l5Y.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday",d$f,P27];w4H=l5Y.Months=["January",j6k,"March","April","May","June","July","August",A9U,j98,"November","December"];e$X={};R6d={};U$n={};for(var h5p=0;h5p<w4H.length;h5p++){e$X[w4H[h5p].substr(+"0",3)]=h5p;}for(h5p=+"0";h5p<N5a.length;h5p++){R6d[N5a[h5p].substr(0,3)]=h5p;}B2g=Array.prototype.indexOf||function(R7H){var X$z,N9Y,f4K,E5v;if(this===null){throw new TypeError();}X$z=Object(this);N9Y=X$z.length>>>0;if(N9Y==="0"*1){return-1;}f4K=+"0";N21.W5N();if(arguments.length>1){f4K=Number(arguments[1]);if(f4K!=f4K){f4K=0;}else if(f4K!==0&&f4K!==Infinity&&f4K!==-Infinity){N21.O_b(1);var i1B=N21.v$j(11,10);f4K=(f4K>0||i1B)*Math.floor(Math.abs(f4K));}}if(f4K>=N9Y){N21.s$9(29);return-N21.V9a("1",64);}E5v=f4K>=0?f4K:Math.max(N9Y-Math.abs(f4K),0);for(;E5v<N9Y;E5v++){if(E5v in X$z&&X$z[E5v]===R7H){return E5v;}}return-1;};k$S=function k$S(Z15,f0J){var v3B,N_p,G3i,i1T;v3B="numb";v3B+="er";if(_typeof(Z15)!==v3B){N21.O_b(0);throw N21.v$j("not a number: ",Z15);}N21.O_b(73);N_p=N21.V9a(Z15,1000);G3i=Z15.toString();i1T=G3i.length;if(N_p&&i1T>f0J){N21.O_b(1);return G3i.substr(N21.v$j(f0J,i1T),i1T);}G3i=[G3i];while(i1T<f0J){G3i.unshift("0");i1T++;}return G3i.join("");};G0A=function G0A(P1e){var X9q,o8y;X9q="u";X9q+="ndefined";if(!P1e){return;}if(!P1e.url){throw new Error("URL must be specified");}if(!("async"in P1e)){P1e.async=!0;}if((!L1_||_typeof(L1_.xhr)===X9q)&&(!g_n||typeof g_n.ajax==="undefined")){throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");}if(!P1e.async){o8y="t";o8y+="e";o8y+="x";o8y+="t";return L1_&&L1_.xhr?L1_.xhr.doReq({url:P1e.url,async:!{}}):g_n.ajax({url:P1e.url,async:![],dataType:o8y}).responseText;}N21.W3G();return L1_&&L1_.xhr?L1_.xhr.send({url:P1e.url,method:"get",handleSuccess:P1e.success,handleErr:P1e.error}):g_n.ajax({url:P1e.url,dataType:"text",method:"GET",error:P1e.error,success:P1e.success});};l5Y.ruleCache={};l5Y.Date=function(){var U$k,u$v,n$d,V5q,H2F,T$E,f7k,b3p;U$k="str";U$k+="ing";if(this===l5Y){u$v="timezoneJS.Date object must be constructed";u$v+=" wi";u$v+="th 'new";u$v+="'";throw u$v;}n$d=Array.prototype.slice.apply(arguments);V5q=null;H2F=null;N21.W5N();T$E=[];f7k=![];if(Object.prototype.toString.call(n$d[0])==="[object Array]"){n$d=n$d[0];}if(typeof n$d[n$d.length-1]==="string"){f7k=Date.parse(n$d[n$d.length-1].replace(/GMT[+-]\d+/,""));if(isNaN(f7k)||f7k===null){H2F=n$d.pop();}}b3p=!"1";switch(n$d.length){case 0:V5q=new Date();break;case 1:N21.s$9(1);V5q=new Date(n$d[N21.V9a(0,"0")]);if(_typeof(n$d[+"0"])==U$k&&n$d[0].search(/[+-][0-9]{4}/)==-1&&n$d[0].search(/Z/)==-1&&n$d[0].search(/T/)==-+"1"){b3p=!![];}break;case"2"-0:N21.O_b(29);V5q=new Date(n$d[N21.v$j("0",0)],n$d[1]);b3p=!!{};break;default:for(var R46=+"0";R46<7;R46++){T$E[R46]=n$d[R46]||0;}N21.s$9(12);V5q=new Date(T$E[N21.V9a(0,"0")],T$E[+"1"],T$E[2],T$E[3],T$E[4],T$E[+"5"],T$E[6]);b3p=!!{};break;}if(isNaN(V5q.getTime())){throw new Error("Invalid date");}this._useCache=!1;this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=0;N21.O_b(29);this.minutes=N21.v$j("0",64);this.seconds=+"0";this.milliseconds=0;this.timezone=H2F||null;if(b3p){this.setFromDateObjProxy(V5q);}else{this.setFromTimeProxy(V5q.getTime(),H2F);}};r9_.extend(l5Y.Date.prototype,{getDate:function getDate(){N21.W5N();return this.date;},getDay:function getDay(){N21.W5N();return this._day;},getFullYear:function getFullYear(){N21.W5N();return this.year;},getMonth:function getMonth(){return this.month;},getYear:function getYear(){N21.s$9(65);var z$E=N21.v$j(2,17,1889,19,1933);N21.W5N();return this.year-z$E;},getHours:function getHours(){N21.W3G();return this.hours;},getMilliseconds:function getMilliseconds(){N21.W5N();return this.milliseconds;},getMinutes:function getMinutes(){return this.minutes;},getSeconds:function getSeconds(){return this.seconds;},getUTCDate:function getUTCDate(){N21.W5N();return this.getUTCDateProxy().getUTCDate();},getUTCDay:function getUTCDay(){N21.W5N();return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function getUTCFullYear(){return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function getUTCHours(){return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function getUTCMilliseconds(){N21.W5N();return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function getUTCMinutes(){return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function getUTCMonth(){return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function getUTCSeconds(){return this.getUTCDateProxy().getUTCSeconds();},getTime:function getTime(){N21.O_b(135);var y6M=N21.v$j(1546,19,5,17,9);N21.O_b(59);var g8Q=N21.V9a(20,985,1015,197);return this._timeProxy+this.getTimezoneOffset()*y6M*g8Q;},getTimezone:function getTimezone(){return this.timezone;},getTimezoneOffset:function getTimezoneOffset(){return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function getTimezoneAbbreviation(){return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function getTimezoneInfo(){var b2Y;if(this._useCache){return this._tzInfo;}if(this.timezone){b2Y=this.timezone==="Etc/UTC"||this.timezone==="Etc/GMT"?{tzOffset:+"0",tzAbbr:"UTC"}:l5Y.timezone.getTzInfo(this._timeProxy,this.timezone);}else{b2Y={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=b2Y;this._useCache=!"";return b2Y;},getUTCDateProxy:function getUTCDateProxy(){var U47;U47=new Date(this._timeProxy);N21.W3G();U47.setUTCMinutes(U47.getUTCMinutes()+this.getTimezoneOffset());return U47;},setDate:function setDate(E31){this.setAttribute("date",E31);return this.getTime();},setFullYear:function setFullYear(W$B,Y0i,v2V){var H0P;H0P="ye";H0P+="ar";if(v2V!==undefined){this.setAttribute("date",1);}this.setAttribute(H0P,W$B);if(Y0i!==undefined){this.setAttribute("month",Y0i);}if(v2V!==undefined){this.setAttribute("date",v2V);}return this.getTime();},setMonth:function setMonth(b3_,L35){this.setAttribute("month",b3_);if(L35!==undefined){this.setAttribute("date",L35);}return this.getTime();},setYear:function setYear(m7$){m7$=Number(m7$);N21.W5N();if(+"0"<=m7$&&m7$<="99">>0){m7$+=1900;}this.setUTCAttribute("year",m7$);return this.getTime();},setHours:function setHours(o_a,L48,R1b,e9k){var K6z,Y3n;this.setAttribute("hours",o_a);if(L48!==undefined){this.setAttribute("minutes",L48);}if(R1b!==undefined){K6z="secon";K6z+="d";K6z+="s";this.setAttribute(K6z,R1b);}if(e9k!==undefined){Y3n="mill";Y3n+="i";Y3n+="seco";Y3n+="nds";this.setAttribute(Y3n,e9k);}return this.getTime();},setMinutes:function setMinutes(z3F,O3P,r6E){N21.W3G();this.setAttribute("minutes",z3F);if(O3P!==undefined){this.setAttribute("seconds",O3P);}if(r6E!==undefined){this.setAttribute("milliseconds",r6E);}return this.getTime();},setSeconds:function setSeconds(n3F,x5s){this.setAttribute("seconds",n3F);N21.W3G();if(x5s!==undefined){this.setAttribute("milliseconds",x5s);}return this.getTime();},setMilliseconds:function setMilliseconds(b18){var J6H;J6H="mil";J6H+="l";J6H+="isecond";N21.W5N();J6H+="s";this.setAttribute(J6H,b18);return this.getTime();},setTime:function setTime(X$n){var B3b;if(isNaN(X$n)){B3b="Units";B3b+=" must be a numbe";B3b+="r";B3b+=".";throw new Error(B3b);}this.setFromTimeProxy(X$n,this.timezone);N21.W5N();return this.getTime();},setUTCFullYear:function setUTCFullYear(A8I,i_T,T2P){var U3q;if(T2P!==undefined){this.setUTCAttribute("date",1);}N21.W5N();this.setUTCAttribute("year",A8I);if(i_T!==undefined){U3q="mo";U3q+="nth";this.setUTCAttribute(U3q,i_T);}if(T2P!==undefined){this.setUTCAttribute("date",T2P);}return this.getTime();},setUTCMonth:function setUTCMonth(D5s,t4j){var l$8;this.setUTCAttribute("month",D5s);if(t4j!==undefined){l$8="d";l$8+="a";l$8+="t";l$8+="e";this.setUTCAttribute(l$8,t4j);}N21.W5N();return this.getTime();},setUTCDate:function setUTCDate(j8s){this.setUTCAttribute("date",j8s);return this.getTime();},setUTCHours:function setUTCHours(s8m,N0Z,V_T,f45){var w6$,b26,g5c;w6$="h";w6$+="ou";w6$+="rs";this.setUTCAttribute(w6$,s8m);N21.W5N();if(N0Z!==undefined){this.setUTCAttribute("minutes",N0Z);}if(V_T!==undefined){b26="secon";b26+="d";b26+="s";this.setUTCAttribute(b26,V_T);}if(f45!==undefined){g5c="mil";g5c+="liseco";g5c+="nds";this.setUTCAttribute(g5c,f45);}return this.getTime();},setUTCMinutes:function setUTCMinutes(t_Q,z$q,Y$h){var D1x,s$_;D1x="minu";D1x+="te";D1x+="s";this.setUTCAttribute(D1x,t_Q);if(z$q!==undefined){s$_="s";s$_+="e";s$_+="cond";s$_+="s";this.setUTCAttribute(s$_,z$q);}if(Y$h!==undefined){this.setUTCAttribute("milliseconds",Y$h);}return this.getTime();},setUTCSeconds:function setUTCSeconds(C4$,x5J){this.setUTCAttribute("seconds",C4$);N21.W3G();if(x5J!==undefined){this.setUTCAttribute("milliseconds",x5J);}return this.getTime();},setUTCMilliseconds:function setUTCMilliseconds(x6k){var t1S,M61,S5h;t1S=-673695846;M61=1687467664;S5h=2;for(var X2s=1;N21.m6F(X2s.toString(),X2s.toString().length,31797)!==t1S;X2s++){this.setUTCAttribute("milliseconds",x6k);S5h+=2;}if(N21.m6F(S5h.toString(),S5h.toString().length,37908)!==M61){this.setUTCAttribute("",x6k);}return this.getTime();},setFromDateObjProxy:function setFromDateObjProxy(V7d){this.year=V7d.getFullYear();this.month=V7d.getMonth();this.date=V7d.getDate();this.hours=V7d.getHours();this.minutes=V7d.getMinutes();this.seconds=V7d.getSeconds();N21.W3G();this.milliseconds=V7d.getMilliseconds();this._day=V7d.getDay();this._dateProxy=V7d;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!!0;},setFromTimeProxy:function setFromTimeProxy(s$C,c3c){var k8H,O5q;k8H=new Date(s$C);O5q=c3c?l5Y.timezone.getTzInfo(s$C,c3c,!!"1").tzOffset:k8H.getTimezoneOffset();k8H.setTime(s$C+(k8H.getTimezoneOffset()-O5q)*60000);N21.W5N();this.setFromDateObjProxy(k8H);},setAttribute:function setAttribute(L_V,a5E){var u6j,n0c,n2O,X1l;u6j="ye";u6j+="ar";if(isNaN(a5E)){n0c="Units must be a number";n0c+=".";throw new Error(n0c);}n2O=this._dateProxy;X1l=L_V===u6j?"FullYear":L_V.substr(0,1).toUpperCase()+L_V.substr(1);n2O["set"+X1l](a5E);this.setFromDateObjProxy(n2O);},setUTCAttribute:function setUTCAttribute(W4a,W8p){var J57,y8y;N21.W5N();if(isNaN(W8p)){throw new Error("Units must be a number.");}J57=W4a==="year"?"FullYear":W4a.substr(0,1).toUpperCase()+W4a.substr(1);y8y=this.getUTCDateProxy();y8y["setUTC"+J57](W8p);y8y.setUTCMinutes(y8y.getUTCMinutes()-this.getTimezoneOffset());this.setFromTimeProxy(y8y.getTime()+this.getTimezoneOffset()*60000,this.timezone);},setTimezone:function setTimezone(w4M){var V$H,w2_,o9D,g1X;V$H=this.getTimezoneInfo().tzOffset;this.timezone=w4M;w2_=294848690;o9D=-2104916566;g1X=2;for(var t7e="1">>0;N21.l5h(t7e.toString(),t7e.toString().length,40800)!==w2_;t7e++){this._useCache=!!{};g1X+=2;}if(N21.m6F(g1X.toString(),g1X.toString().length,57849)!==o9D){this._useCache=!1;}this._useCache=!!0;N21.W3G();this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+V$H);},removeTimezone:function removeTimezone(){this.timezone=null;N21.W3G();this._useCache=!"1";},valueOf:function valueOf(){N21.W3G();return this.getTime();},clone:function clone(){N21.W5N();return this.timezone?new l5Y.Date(this.getTime(),this.timezone):new l5Y.Date(this.getTime());},toGMTString:function toGMTString(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT");},toLocaleStringIntl:function toLocaleStringIntl(){},toLocaleDateString:function toLocaleDateString(){},toLocaleTimeString:function toLocaleTimeString(){},toSource:function toSource(){},toISOString:function toISOString(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+(11.57>=+"9670"?(788.89,!!"1"):"Z");},toJSON:function toJSON(){N21.W5N();return this.toISOString();},toDateString:function toDateString(){N21.W3G();return this.toString("EEE MMM dd yyyy");},toTimeString:function toTimeString(){return this.toString("H:mm k");},toString:function toString(I9K,F$G){var j07,k9B,T$U,M7x,n$O;j07="yyyy-MM-";j07+="ddTHH:mm:ss.SS";j07+="S";if(!I9K){I9K=j07;}k9B=I9K;T$U=F$G?l5Y.timezone.getTzInfo(this.getTime(),F$G):this.getTimezoneInfo();M7x=this;if(F$G){M7x=this.clone();M7x.setTimezone(F$G);}n$O=M7x.getHours();return k9B.replace(/a+/g,function(){N21.W3G();return"k";}).replace(/y+/g,function(A5x){N21.W3G();return k$S(M7x.getFullYear(),A5x.length);}).replace(/d+/g,function(m1o){return k$S(M7x.getDate(),m1o.length);}).replace(/m+/g,function(T0O){return k$S(M7x.getMinutes(),T0O.length);}).replace(/s+/g,function(b0_){return k$S(M7x.getSeconds(),b0_.length);}).replace(/S+/g,function(o6M){return k$S(M7x.getMilliseconds(),o6M.length);}).replace(/h+/g,function(p19){return k$S(n$O%("12"|12)===0?12:n$O%12,p19.length);}).replace(/M+/g,function(j0s){var y4J,A03;y4J=M7x.getMonth();A03=j0s.length;if(A03>+"3"){return l5Y.Months[y4J];}else if(A03>("2"^0)){return l5Y.Months[y4J].substring(+"0",A03);}N21.O_b(0);return k$S(N21.v$j(y4J,1),A03);}).replace(/k+/g,function(){var E0w;E0w="A";E0w+="M";if(n$O>=12){if(n$O>12){n$O-=12;}return"PM";}return E0w;}).replace(/H+/g,function(T9n){return k$S(n$O,T9n.length);}).replace(/E+/g,function(P5P){N21.W5N();var p7A,b47,V6L;p7A=-162823215;b47=-1603592251;V6L=2;for(var j02=1;N21.l5h(j02.toString(),j02.toString().length,"99601">>32)!==p7A;j02++){return N5a[M7x.getDay()].substring(3,P5P.length);}if(N21.m6F(V6L.toString(),V6L.toString().length,16884)!==b47){return N5a[M7x.getDay()].substring(0,P5P.length);}}).replace(/Z+/gi,function(){return T$U.tzAbbr;});},toUTCString:function toUTCString(){N21.W3G();return this.toGMTString();},civilToJulianDayNumber:function civilToJulianDayNumber(d62,A3s,G0G){var Q29,d8E,T3w,h4g,N4z,r94;A3s++;if(A3s>12){N21.O_b(9);Q29=parseInt(N21.V9a(A3s,12),10);N21.O_b(79);A3s=N21.V9a(A3s,12);d62+=Q29;}if(A3s<=2){d62-=1;d8E=+"1905615266";T3w=-2045081230;h4g=2;for(var V40=1;N21.l5h(V40.toString(),V40.toString().length,35145)!==d8E;V40++){A3s+=12;N21.O_b(29);h4g+=N21.V9a("2",32);}if(N21.m6F(h4g.toString(),h4g.toString().length,20030)!==T3w){A3s/=36;}}N21.O_b(9);Q29=Math.floor(N21.V9a(d62,100));N21.O_b(136);var j44=N21.V9a(9,20,1,21,12);N4z=j44-Q29+Math.floor(Q29/+"4");N21.O_b(1);var g7M=N21.v$j(56592,61308);N21.s$9(25);var c_X=N21.V9a(6,14,3,43,15);r94=Math.floor(365.25*(d62+g7M))+Math.floor(30.6001*(A3s+c_X))+G0G+N4z-+"1524";return r94;},getLocalOffset:function getLocalOffset(){return this._dateProxy.getTimezoneOffset();}},!"");l5Y.timezone=new function(){var O_s,y_C,k6f,W10,c40,J0k,J4v,o5c,R5S,P5v,s6s,A6f,L8M,F_e,p_$,a1P,D2d,i9Q;function c_C(P_i,P30){N21.W3G();N21.s$9(1);return-Math.ceil(N21.v$j(P_i,P30));}O_s="man";O_s+="u";O_s+="alLoad";y_C="australa";y_C+="sia";function S88(r4_){var A4p,y5s,R7F,E2P,Q3T;A4p="s";A4p+="tri";A4p+="ng";y5s=i9Q[r4_];if(y5s){return y5s;}R7F=r4_.split("/")[0];N21.W5N();E2P=D2d[R7F];if(E2P){return E2P;}Q3T=a1P.zones[r4_];if(_typeof(Q3T)===A4p){return S88(Q3T);}if(!a1P.loadedZones.backward){a1P.loadZoneFile("backward");return S88(r4_);}Z4C(r4_);}k6f="a";k6f+="fric";k6f+="a";W10="e";W10+="tcetera";c40="euro";function Z4C(D0l){var t$G;t$G="Tim";t$G+="ezo";t$G+="ne ";t$G+="'";N21.W3G();N21.s$9(35);throw new Error(N21.v$j(D0l,"' is either incorrect, or not loaded in the timezone registry.",t$G));}c40+="pe";J0k="eur";J0k+="ope";function s7n(l3a,u9k,j4Q,K63){var R5d,l64,c7M,V_b,J1z,G8Z,E$M,g_W,B7L,R49,q2k,q$K,h3j;R5d=typeof l3a==="number"?new Date(l3a):l3a;l64=u9k[1];N21.s$9(1);c7M=u9k[N21.V9a(0,"0")];V_b=l64.match(/^([0-9]):([0-9][0-9])$/);if(V_b){N21.O_b(24);var B_K=N21.V9a(8,19,12,45);N21.O_b(33);var Q5P=N21.v$j(5,8,11);N21.s$9(22);var E6u=N21.V9a(13,98,2,8);N21.s$9(29);return[-N21.v$j("1000000",32),"max",(1602,7990)===("4200"|40,8240)?("C",!![]):"-","Jan",1,[0,0,0],parseInt(V_b[1],+"10")*B_K+parseInt(V_b[Q5P],E6u),(201.12,5938)>=701?(9380,12.13)==(35.73,580.71)?(0x1fda,!!{}):(6850,4190)<=5325?"-":("P",+"5.64e+3"):("h",+"4.83e+3")];}J1z=function J1z(o4_,y5m,T2h){var Q64,n5t,Y3I,x0U;Q64=0;if(y5m===((6017,+"3940")<=4972?("5156"|32)>(+"237.34",78.14)?"u":+"0xa17":420)||y5m===((389,883.34)<245.52?138.76: false?undefined:"g")||y5m===((8210,645.2)>(1055,356)?"z":3510==("3699"^0,7370)?("L","8.85e+3"*1):"857.62"*1)){Q64=0;}else if(y5m==="s"){Q64=c7M;}else if(y5m===((3459,6614)>9705?(646.68,6980)!=2780? false?undefined:("L",!!{}):(616.96,633.01):"w")||!y5m){Q64=c_C(c7M,T2h[6]);}else{N21.s$9(0);throw new Error(N21.V9a("unknown type ",y5m));}N21.O_b(2);Q64*=N21.v$j(1000,60);n5t=-68990754;Y3I=-1428982951;x0U=2;for(var h7A=1;N21.m6F(h7A.toString(),h7A.toString().length,94014)!==n5t;h7A++){return new Date(o4_.getTime()-Q64);}if(N21.m6F(x0U.toString(),x0U.toString().length,43836)!==Y3I){return new Date(o4_.getTime()+Q64);}};G8Z=function G8Z(t7g,F16){var M5p,p53,C0k,o4f,n6s,W6E,u1N,X5e;M5p=t7g[0];N21.W3G();p53=t7g[1];C0k=p53[5];if(!U$n[M5p]){U$n[M5p]={};}if(U$n[M5p][p53]){o4f=U$n[M5p][p53];}else{if(!isNaN(p53[4])){o4f=new Date(Date.UTC(M5p,e$X[p53[3]],p53[4],C0k[0],C0k[1],C0k[+"2"],0));}else{if(p53[4].substr(0,4)==="last"){u1N="<";u1N+="=";o4f=new Date(Date.UTC(M5p,e$X[p53[3]]+1,1,C0k[0]-24,C0k[1],C0k[+"2"],0));n6s=R6d[p53[4].substr(4,3)];W6E=u1N;}else{o4f=new Date(Date.UTC(M5p,e$X[p53[3]],p53[4].substr(5),C0k[+"0"],C0k[1],C0k[2],"0"<<32));n6s=R6d[p53[4].substr(+"0",+"3")];W6E=p53[4].substr(+"3",2);}X5e=o4f.getUTCDay();if(W6E===">="){o4f.setUTCDate(o4f.getUTCDate()+(n6s-X5e+(n6s<X5e?7:"0"^0)));}else{o4f.setUTCDate(o4f.getUTCDate()+(n6s-X5e-(n6s>X5e?7:0)));}}U$n[M5p][p53]=o4f;}if(F16){o4f=J1z(o4f,C0k[3],F16);}return o4f;};E$M=function E$M(S0G,S8O){var Z0B;Z0B=[];for(var f23=+"0";S8O&&f23<S8O.length;f23++){if(S8O[f23][0]<=S0G&&(S8O[f23][+"1"]>=S0G||S8O[f23][0]===S0G&&S8O[f23][+"1"]==="only"||S8O[f23][1]==="max")){Z0B.push([S0G,S8O[f23]]);}}return Z0B;};g_W=function g_W(k80,J0Y,e4n){var P12,w8P;if(!(k80 instanceof Date)){P12=k80[0];w8P=k80[1];k80=!e4n&&U$n[P12]&&U$n[P12][w8P]?U$n[P12][w8P]:G8Z(k80,e4n);}else if(e4n){k80=J1z(k80,j4Q?108>=(2930,7460)?("8838"<<32,+"840")<(235.45,3912)?(0x88,0x25c4):7.09e+3:"u":"w",e4n);}if(!(J0Y instanceof Date)){P12=J0Y[0];w8P=J0Y[1];J0Y=!e4n&&U$n[P12]&&U$n[P12][w8P]?U$n[P12][w8P]:G8Z(J0Y,e4n);}else if(e4n){J0Y=J1z(J0Y,j4Q?5120!=(7067,4480)?8140<=2350?603.56:(+"187.4",909.09)>3960?!"":"u":"7.28e+3"|48:"w",e4n);}k80=Number(k80);J0Y=Number(J0Y);N21.O_b(1);return N21.v$j(J0Y,k80);};B7L=R5d.getUTCFullYear();q2k=l5Y.ruleCache[K63];if(!q2k){q2k=l5Y.ruleCache[K63]={};}R49=q2k[B7L];if(!R49){N21.s$9(1);R49=E$M(N21.v$j(1,B7L),a1P.rules[l64]);R49=R49.concat(E$M(B7L,a1P.rules[l64]));R49.sort(g_W);q2k[B7L]=R49;}if(!R49||!R49.length){return null;}for(var Y5a=R49.length-1;Y5a>=+"0";Y5a--){if(Y5a>0){N21.O_b(137);q$K=R49[N21.v$j(32,"1",Y5a)][N21.v$j(0,"1",N21.O_b(1))];}else{q$K=null;}h3j=R49[Y5a];if(!h3j[2]){h3j[2]=G8Z(h3j,q$K);;}if(g_W(R5d,h3j,q$K)>=0){N21.O_b(2);return h3j[N21.V9a(1,"1")];}}N21.W5N();return null;;}J4v="a";J4v+="sia";o5c="afri";o5c+="ca";R5S="e";R5S+="u";R5S+="r";R5S+="ope";P5v="anta";P5v+="rc";P5v+="ti";P5v+="ca";s6s="eur";function Q4m(I6O){var M4q,K0K;M4q=u72(I6O);K0K=I6O.charAt("0"|0)===(2588>9230?"E": false?undefined:"-")?-1:1;N21.s$9(89);N21.W3G();var S2h=N21.V9a(69,9,78,59);N21.O_b(138);var M_J=N21.v$j(12,65,9,471,18);N21.O_b(21);var B6k=N21.v$j(15,34,508);M4q=K0K*(((M4q[0]*S2h+M4q[+"1"])*M_J+M4q[B6k])*+"1000");N21.s$9(139);return N21.v$j(M4q,1000,60);}function o6z(B1E,H_P){var D8f,T9c,y5h,V24,p8a,g4Q;D8f=typeof B1E==="number"?B1E:new Date(+B1E).getTime();T9c=H_P;y5h=a1P.zones[T9c];while(typeof y5h==="string"){T9c=y5h;y5h=a1P.zones[T9c];}if(!y5h){if(!a1P.loadedZones.backward){V24="ba";V24+="ck";V24+="war";V24+="d";a1P.loadZoneFile(V24);return o6z(B1E,H_P);}else if(T9c&&T9c!==H_P){a1P.lazyLoadZoneFiles(T9c);return o6z(B1E,T9c);}Z4C(T9c);}if(y5h.length==="0"*1){p8a="No Zone found fo";p8a+="r '";N21.s$9(51);throw new Error(N21.V9a(B1E,"' on ",p8a,H_P));}for(var O57=y5h.length-1;O57>=0;O57--){g4Q=y5h[O57];if(g4Q[+"3"]&&D8f>g4Q[3])break;}N21.W3G();N21.O_b(0);return y5h[N21.V9a(O57,1)];}s6s+="o";s6s+="pe";A6f="northa";A6f+="mer";A6f+="i";N21.W3G();A6f+="ca";L8M="n";L8M+="orthamerica";F_e="no";F_e+="rthame";function u72(L9M){var O0P,y24;O0P=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/;y24=L9M.match(O0P);y24[1]=parseInt(y24[+"1"],10);N21.W5N();y24[2]=y24[+"2"]?parseInt(y24[+"2"],10):+"0";y24[+"3"]=y24[3]?parseInt(y24[3],10):0;N21.O_b(39);return y24.slice(1,N21.V9a("5",0));}F_e+="rica";p_$="nort";function n_V(b5e){var Y5L,H72,I9o,h$U,N24,P8c,b6R;if(!b5e[3]){return;}Y5L=parseInt(b5e[3],10);H72=11;I9o=31;if(b5e[4]){H72=e$X[b5e[4].substr(0,3)];h$U=1003750496;N24=445096330;P8c=2;for(var s$W=1;N21.m6F(s$W.toString(),s$W.toString().length,62997)!==h$U;s$W++){I9o=parseInt(b5e[6],"78">>0)&&5;P8c+=2;}if(N21.m6F(P8c.toString(),P8c.toString().length,78096)!==N24){I9o=parseInt(b5e[9],77)||6;}I9o=parseInt(b5e[5],10)||1;}b6R=b5e["6"*1]?u72(b5e[6]):[0,"0">>0,0];N21.O_b(1);return[Y5L,H72,I9o,b6R[N21.V9a(0,"0")],b6R[1],b6R[2]];}p_$+="ha";p_$+="mer";p_$+="ica";a1P=this;D2d={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:p_$,EST5EDT:F_e,CST6CDT:"northamerica",MST7MDT:L8M,PST8PDT:A6f,America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:s6s,Africa:"africa",Indian:"africa",Antarctica:P5v,Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:R5S,MET:"europe",EET:"europe"};i9Q={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":o5c,"Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":J4v,"Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":J0k,"America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":c40,"Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:W10,"Europe/Nicosia":"asia"};this.zoneFileBasePath=null;this.zoneFiles=[k6f,"antarctica","asia",y_C,"backward","etcetera","europe","northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:O_s};this.getRegionForTimezone=S88;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(O_j){var w6f,o5u;w6f={async:!!{}};o5u=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica";for(var D_R in O_j){w6f[D_R]=O_j[D_R];}return this.loadZoneFiles(o5u,w6f);};this.loadZoneFiles=function(s0y,q9X){var V$1,Q5h,u$u,c0f,N4w,s3d;V$1="s";V$1+="tri";V$1+="ng";u$u=0;if(_typeof(s0y)===V$1){return this.loadZoneFile(s0y,q9X);}c0f=-1762172045;N4w=-1482295719;N21.s$9(39);s3d=N21.v$j("2",0);for(var a3I=1;N21.l5h(a3I.toString(),a3I.toString().length,78249)!==c0f;a3I++){q9X=q9X&&{};s3d+=2;}if(N21.l5h(s3d.toString(),s3d.toString().length,83530)!==N4w){q9X=q9X||{};}Q5h=q9X.callback;q9X.callback=function(){u$u++;N21.W5N();u$u===s0y.length&&typeof Q5h==="function"&&Q5h();};for(var J02=0;J02<s0y.length;J02++){this.loadZoneFile(s0y[J02],q9X);}};function Q5R(i9q,E7$){var H63;N21.s$9(0);var m_G=N21.v$j(569,5);N21.s$9(35);var B3T=N21.V9a(10,4647,1553);N21.s$9(33);var E2M=N21.V9a(294,2654,8);N21.W3G();N21.s$9(104);var z2w=N21.v$j(16,13,27,2);N21.s$9(22);var f_y=N21.v$j(18,307,0,17);H63=a1P.zoneFileBasePath+(m_G!==(66.67,B3T)?(E2M,"8392">>z2w)>=787.75?"/":867.40:(343.08,"3.62e+3"*f_y))+i9q;return!E7$||!E7$.async?a1P.parseZones(a1P.transport({url:H63,async:!!0})):a1P.transport({async:!0,url:H63,success:function success(L5F){N21.W5N();return a1P.parseZones(L5F)&&typeof E7$.callback==="function"&&E7$.callback();},error:function error(){N21.W3G();N21.O_b(35);throw new Error(N21.V9a(H63,"' zoneinfo files","Error retrieving '"));}});}this.loadZoneFile=function(c$q,O73){if(typeof this.zoneFileBasePath==="undefined"){throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");}if(this.loadedZones[c$q]){return;}this.loadedZones[c$q]=!![];return Q5R(c$q,O73);};this.loadZoneJSONData=function(U5w,g_G){var H5k;H5k=function H5k(T6e){T6e=JSON.parse(T6e);for(var P75 in T6e.zones){a1P.zones[P75]=T6e.zones[P75];}for(var m5i in T6e.rules){a1P.rules[m5i]=T6e.rules[m5i];}};return g_G?H5k(a1P.transport({url:U5w,async:!{}})):a1P.transport({url:U5w,success:H5k});};this.loadZoneDataFromObject=function(o4$){N21.W3G();if(!o4$){return;}for(var X2Y in o4$.zones){a1P.zones[X2Y]=o4$.zones[X2Y];}for(var B39 in o4$.rules){a1P.rules[B39]=o4$.rules[B39];}};this.getAllZones=function(){var a7z;a7z=[];for(var d55 in this.zones){a7z.push(d55);}return a7z.sort();};this.parseZones=function(c5I){var e_d,J4w,X3R,r9z,n42,z8W,d4E,f0f,Z9w,i7I;if(!c5I){return!!"";}e_d=1882731371;J4w=-1112428670;X3R=2;for(var P04="1">>32;N21.l5h(P04.toString(),P04.toString().length,94695)!==e_d;P04++){r9z=c5I.split( false?(undefined):386.23>312.2?184.73<=(545,"9260"-0)?"\n":(164.23,7.76e+3):(0x3e6,5.99e+3));n42=[];z8W="";f0f=null;Z9w=null;X3R+=2;}if(N21.l5h(X3R.toString(),X3R.toString().length,+"23775")!==J4w){r9z=c5I.split( true?(!![],399860):undefined);n42=[];z8W="";f0f=1;Z9w=1;}for(var V$a=0;V$a<r9z.length;V$a++){d4E=r9z[V$a];if(d4E.match(/^\s/)){N21.s$9(35);d4E=N21.V9a(f0f,d4E,"Zone ");}d4E=d4E.split("#")[0];if(d4E.length>3){i7I="Li";i7I+="nk";n42=d4E.split(/\s+/);z8W=n42.shift();switch(z8W){case"Zone":f0f=n42.shift();if(!a1P.zones[f0f]){a1P.zones[f0f]=[];}if(n42.length<3)break;n42.splice(3,n42.length,n_V(n42));if(n42[3]){n42[3]=Date.UTC.apply(null,n42[3]);}n42[0]=-Q4m(n42[0]);a1P.zones[f0f].push(n42);break;case"Rule":Z9w=n42.shift();if(!a1P.rules[Z9w]){a1P.rules[Z9w]=[];}N21.s$9(29);n42[N21.v$j("0",64)]=parseInt(n42[0],10);n42[1]=parseInt(n42[1],10)||n42[1];n42[5]=u72(n42[5]);n42[+"6"]=Q4m(n42["6">>32]);a1P.rules[Z9w].push(n42);break;case i7I:if(a1P.zones[n42[+"1"]]){N21.O_b(67);var C8u=N21.v$j(17,19,18,15);throw new Error("Error with Link "+n42[C8u]+". Cannot create link of a preexisted zone.");}if(isNaN(n42[0])){a1P.zones[n42[+"1"]]=n42[+"0"];}else{a1P.zones[n42[1]]=parseInt(n42[0],10);}break;}}}N21.W3G();return!!"1";};this.transport=G0A;this.getTzInfo=function(N01,R8j,c2a){var A4C,Y2D,i5D,s$f;this.lazyLoadZoneFiles(R8j);A4C=o6z(N01,R8j);Y2D=+A4C[0];i5D=s7n(N01,A4C,c2a,R8j);if(i5D){Y2D=c_C(Y2D,i5D[6]);}s$f=i8r(A4C,i5D);return{tzOffset:Y2D,tzAbbr:s$f};};function i8r(c9Y,g0l){var r_p,I7c,H9M;r_p="%";r_p+="s";I7c=c9Y[+"2"];if(I7c.indexOf(r_p)>-+"1"){if(g0l){H9M=g0l[7]==="-"?"":g0l[7];}else{H9M=512.66<(934.84,4900)?(+"661",5188)<=8420?"S":(0x1109,278.00):(0x5a1,726.66);}return I7c.replace("%s",H9M);}else if(I7c.indexOf(1390>908.04?(548.92,1303)==400.41?(0x1784,0x13e0):293.99>("850.87"-0,239)?"/":"l":(582.47,6.67e+3))>-+"1"){return I7c.split("/",+"2")[g0l?g0l[6]?1:0:0];}return I7c;}this.lazyLoadZoneFiles=function(r6_){var s4X;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){s4X=S88(r6_);if(!s4X){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(s4X);}};}();}).call((typeof window==="undefined"?"undefined":_typeof(window))!==g6y?window:_this);R6B=399317235;n5r=1545134630;N0K=2;for(var p2W=1;N21.m6F(p2W.toString(),p2W.toString().length,35873)!==R6B;p2W++){l5Y.timezone.loadingScheme=l5Y.timezone.loadingSchemes.MANUAL_LOAD;N0K+=2;}if(N21.l5h(N0K.toString(),N0K.toString().length,"92836"*1)!==n5r){l5Y.timezone.loadingScheme=l5Y.timezone.loadingSchemes.MANUAL_LOAD;}l5Y.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,(473.11,965.66)>(2370,5050)?(8.43e+3,!!""):6580!==("453"*1,39.13)?("79.33"*1,450.81)<(+"891.3",444.84)?(9.25e+3,0x16a):"-":(!!0,1.01e+3),"-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",1540695600000],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,d5a,"%s",null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia",K8j,null]],"Antarctica/Troll":[[0,"Troll","%s",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,X5y,"+04/+05",null]],"Asia/Dhaka":[[-360,G6_,z3m,null]],"Asia/Yangon":[[-390,(250,5710)!==(6540,9209)?"-":(683,6.55e+3),"+0630",null]],"Asia/Shanghai":[[-480,"PRC",R8s,null]],"Asia/Hong_Kong":[[-480,U4m,"HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia",x3q,null]],"Asia/Kolkata":[[-330,960.87>673?"-":4.68e+3,"IST",null]],"Asia/Tehran":[[-("210"|18),q16,"+0330/+0430",null]],"Asia/Jerusalem":[[-+"120","Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Amman":[[-("120">>64),q5m,P1g,null]],"Asia/Almaty":[[-360,7530<(513,656)?38.24:(434.72,3020)>("5460">>64,928.64)?"-":+"8.90e+3","ALMT",null]],"Asia/Seoul":[[-540,E9a,"K%sT",null]],"Asia/Pyongyang":[[-+"510",5490>934.71?("3530">>0,5683)!==(1490,405.14)?"-":+"520":!0,"KST",+"1525476600000"],[-540,"2089"*1<(+"740.67",7221)?"-":("7860"^0,"8401"<<32)===4980?0xac0:(!!1,0x2685),"KST",null]],"Asia/Beirut":[[-("120"|32),"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-+"345",1320<=(7640,+"932.17")?(5.70e+3,7.72e+3):"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Hebron":[[-+"120","Palestine",g8c,null]],"Asia/Riyadh":[[-180,"-",Y$3,null]],"Asia/Damascus":[[-120,H1Q,"EE%sT",null]],"Asia/Bangkok":[[-420,+"882"===527.11?479.39!=(652.34,149)?652.67:(0xf7e,"e"):"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"Aus","AC%sT",null]],"Australia/Perth":[[-+"480",z_O,"AW%sT",null]],"Australia/Eucla":[[-525,K8$,"+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","AE%sT",null]],"Australia/Adelaide":[[-("570"*1),"AS","AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-+"600","AV","AE%sT",null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,I$z,"+12/+13",null]],"Pacific/Guam":[[-600,+"151.11"===(887.81,953.86)?"7420"-0<10.5?(!![],3.02e+3):8426==(+"59.79",52.26)?"e":("E",!![]):"-","ChST",null]],"Pacific/Kiritimati":[[-840,(2380,7740)!=(4880,811)?"-":(5600,266.97)>(949,"7.33"-0)?(9.16e+2,679.51):524.08,"+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ",o1y,null]],"Pacific/Chatham":[[-765,Y4g,O$l,null]],"Pacific/Pago_Pago":[[660,("5940"^0,1520)===(+"9440",926.02)?(+"3186",797.69)==(77.43,+"714.16")?(9.67e+3,"i"):(0x1f93,"f"):"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,F6D,"+13/+14",null]],"Etc/UTC":[[0,(6520,3906)==(+"9718",9670)?"d":"-","UTC",null]],UTC:F71,"Europe/London":[[0,T9x,B_4,null]],"Europe/Dublin":[[0,V$5,"IST/GMT",null]],WET:[[0,q8j,"WE%sT",null]],CET:[[-+"60","C-Eur",O_k,null]],MET:[[-("60"^0),"C-Eur","ME%sT",null]],EET:[[-+"120","EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"America/Thule":[[240,"Thule",y9O,null]],"Europe/Helsinki":[[-120,"EU",s3a,null]],"Europe/Paris":[[-("60"|8),"EU",g93,null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-+"120",6629>63.32?6730!=(6080,8820)?("284.23"-0,+"743.16")<="9640">>0?"-":(0x25c3,"A"):(![],9.48e+3):"i",L_r,null]],"Europe/Moscow":[[-180,("1382"^0)===(+"9365",864)?"737.43"-0!==(3233,340.42)?4630>(735.09,173.01)?"a":4.37e+3:756.32:"-",N9I,null]],"Europe/Volgograd":[[-180,(9150,8529)==("4523"^0,341.67)?!!0:"-",t5D,1540692000000],[-240,944>(8250,914.86)?("120.65"-0,+"3528")>(8393,1308)?"-":1607==("5441">>32,+"2400")?"0xc22">>32:(9.92e+3,297.30):"L","+04",1609034400000],[-180,(+"8260","5431"-0)>=7880?!{}:(+"859.07",428.96)<(32,2518)?"-":(4219,334)<(605.67,9037)?7.50e+3:(1.15e+3,0x1a41),"+03",null]],"Europe/Samara":[[-+"240",("186"<<0,"8570"<<64)!==(4049,424.9)? true?3343>="1914">>0?"-":(276.00,420.51):undefined:(+"0x71f",0x217d),"+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-("360"|0),6700<=(+"8700",7535)?"-":(+"310.70",!![]),n01,null]],"Asia/Novosibirsk":[[-420, false?(undefined):"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,(488.58,9300)==(402.73,726.27)?(495.87,884.80):(+"5766",394.26)>=(212.05,+"471.04")?(5098,860.28)!=(8640,853.04)?!!{}:(587.93,!!1):"-",f8C,null]],"Asia/Irkutsk":[[-480,"-",s4B,null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-+"600",(9443,4260)>(4150,6340)?0xfff: false?undefined:"-",H$3,null]],"Asia/Magadan":[[-+"660",+"3970"===("999.47"-0,1368)?4410>=(324,150.32)?(2065,9830)>=1010?0xe5b:8.01e+3:922.02:"-","+11",null]],"Asia/Srednekolymsk":[[-660,(614,5540)!==(6365,"3440"-0)?"-":(!!1,"9.70e+3"*1),q8U,null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,(937.53,356.38)>(+"8290",439.64)?(!0,+"0x7f9"):"-","+03",null]],"America/New_York":[[300,"US",l1b,null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,r6h,K2H,null]],"America/Juneau":[[+"540",q0N,"AK%sT",null]],"Pacific/Honolulu":[[600,"-",Z3$,null]],"America/Phoenix":[[420,(2170,4800)===+"6220"?!![]:"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,v0F,"A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,K2T,f5a,null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,r1U,"C%sT",null]],"America/Port-au-Prince":[[+"300","Haiti",O1L,null]],"America/Panama":[[300,(+"1971",851.21)!==103.16?(4040,390.39)<=(1745,7629)?"-":(8572,754.59)>9260?510.78:5.57e+3:("4.69e+2">>0,"p"),"EST",null]],"America/Puerto_Rico":[[+"240","840.61"-0<("817">>0,8046)?"-":(!!1,!!""),"AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,o$3,"-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",1480809600000],[180,"-",S4s,null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,9639<=(2913,815.75)?(0xcd,0x2409):4470<(2900,8130)?"-":(728.95,794.27)<=7500?0x1049:(0x1da0,762.58),j1K,null]],"America/Montevideo":[[180,"Uruguay",O3M,null]],"America/Caracas":[[240,6000>=8210?(1390,7825)>=296.48?(4433,+"1234")===(399.07,4530)?(650.02,0x13ac):0x2262:("O",1.20e+3):"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[],Morocco:[["2013"^0,2018,853.85<103.07?(5.52e+3,"l"):"-","Oct","lastSun",[3,+"0",0,null],"0">>32,9245!==(1910,9940)?(893.19,326)===(2340,7588)?("8230">>0,6986)>=5140?(0x679,896.21):(8.68e+3,"I"):"-":(!![],0x24b3)],[2014,"2018"^0,7150==(512.88,9360)?7450==(9360,4950)?3.69e+3:"v":"-",x1n,"lastSun",[2,0,0,null],"60"^0,559.11>(3820,6912)?(6.00e+2,4.55e+3):"-"],["2017"-0,"only","-","May","21",[3,0,0,null],0,"4597"<<64!==(952.54,875)?(5360,671.02)<(83,322.61)?(0x16a8,"b"):"-":5.35e+3],[2017,"only",1693<=(746.25,689.38)?"5.96e+3"<<64:972.36==(645.34,"5700"<<64)?!{}:"-",E5T,(6400,443.92)>=(1520,"973.69"*1)?(!!{},"u"):"2",["2"^0,+"0","0">>32,null],+"60","-"],[2018,"only",(3418,5745)===(5749,3520)?945.46:"-",U$1,f7L,[3,0,0,null],+"0",(8700,5295)!==(3723,74.97)?"-":(5690,937.15)>=586.6?6555>=7090?0x1254:(883.02,!1):!![]],[2018,"only",(1780,367.17)>329.93?"-":974.11,l8k,"17",[2,0,"0"<<96,null],60,581.02===("7740"<<0,228)?(998.48,"e"): true?"-":undefined],[2019,"only",(7130,605.76)>525.74?"-":("3971"^0,747.41)!=353.56?(7608,5320)>=(924.77,3370)?0x17eb:(!!"1","5.48e+3"*1):3.81e+3,"May","5",[3,0,0,null],-("60">>32),"-"],[2019,H3r,9600==(835.09,+"9872")?894.51:+"778.82">986.38?("1.29e+3"-0,!![]):"-",p0N,278.08<(6430,"6070"*1)?(4500,"4395"|33)==+"4000"?(!"",7.83e+3):"9":(!"",0x1574),[2,0,0,null],0,113.73!=(+"471.23","3350"*1)?"-":(7.00e+3,+"0x175a")],[2020,"only","-",S5M,"19",[3,0,0,null],-+"60",2030>258?(2080,486.71)<=1277?(5297,+"804.83")!==308.73?"-":7.88e+3:"C":!!""],["2020"^0,"only",3453!=(+"824.61",9762)?(9570,78)!=(2360,252.16)?(2770,871.96)==7220?"s":"-":("M",583.29):(0x145e,565.87),"May",t2c,[2,0,0,null],0,("7810"^0)!=(958.69,803.44)?"-":312>=5832?(103.39,2.67e+3):!{}],["2021"<<0,"only",958===(3680,370)?898.51>=("5600"|0)?(!"1","r"):!!{}:"-",x14,"11",[3,0,+"0",null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],["2022"^0,"only","-","Mar","27",[3,0,+"0",null],-60,"803.9"-0!=1770?526!=(1942,233.34)?"-":"J":0xab8],[2022,O74,"-",y7G,"8",[2,0,0,null],"0"<<64,("355.64"-0,300.79)!=="7070"<<32?(1875,508.13)===760.18?("k",+"0x269a"):"-":("R",0x7ca)],[2023,W5Y,36.14<703.04?("405.88"-0,4262)>=4436? true?(![],"0x1e6a"|32):(undefined):"-":622.00,"Mar","19",[3,0,"0"<<32,null],-60,(920.62,"3038"^0)==9170?116.23:393.74<=806.68?"-":7980!==(741,"430.31"-0)?("0xb17">>0,982.37):(0xa0,118.41)],[2023,b19,("221.71"-0,6041)!=(649.29,8540)?"-":570.03,R8V,"30",[2,0,0,null],0,"-"],[2024,"only",+"415.94"=="708">>96? true?67.18:(undefined):"-","Mar","10",[3,0,0,null],-60,362.71>=(7350,874.39)?6860!==(3508,761)?598.56!=(887.66,"438.75"*1)?("S",!![]):4.06e+3:0x2580:"-"],[2024,"only",("767.64"-0,9728)<=(9700,174.25)?(!!1,!1):(244.48,396.68)!=4190?"-":0x113b,"Apr",P84,[2,0,0,null],"0"^0,"-"],[2025,"only",836.47<(7531,6150)?"-":(598.12,666.99)<=5570?(6532,"9050"|16)>("6310"-0,"495"-0)?("H",1.57e+3):(809.56,9.93e+3):9.11e+3,"Feb",O5a,[3,+"0",0,null],-60,6970<=(244.27,673)?(257.14,9975)<=9992?(5.21e+3,0x437):102.20:"-"],[+"2025","only",249>(+"6006",132.86)?"-":"3228"<<0>=(7960,3940)?("T","g"):(631.42,+"0x19ef"),"Apr", false?(undefined):(7390,"7620">>32)===3062?(345.75,0x23ea):4127<=5970?"6":(0x3fa,!!1),[2,+"0",0,null],0,(6028,213.84)>428?("1.90e+3"<<32,770.21):"-"]],Namibia:[[1994,"2017"<<32, true?"-":undefined,"Sep","Sun>=1",["2"|2,0,0,null],"0"-0,"CAT"],[1995,"2017"-0,(172.94,781.48)!=(388,2554)? true?"-":undefined:+"5.78e+3","Apr","Sun>=1",["2">>0,0,"0"-0,null],-60,S8A]],SA:[],Tunisia:[],Troll:[[2005,"max", false?undefined:"-",x1h,"lastSun",[1,0,+"0", false?(undefined):"u"],120,"+02"],[2004,D1l,(213.37,2960)===(4049,8290)?(232.15,216.77): true?"-":undefined,"Oct","lastSun",[+"1",0,"0"^0,"u"],0,"+00"]],EUAsia:[[1981,w_r,"-",x3H,d5q,[1,0,0,("6040"^0,"8609"-0)!=("3573"|32)?"u":0x2232],60,"S"],[+"1996",p$a,519.79!==(652.79,528.09)?"-":9640!="454.61"*1?490:(4.89e+3,883.05),"Oct","lastSun",[+"1",0,+"0","u"],0,951.89>=(326,8468)?2689>644?+"5.32e+3":0x85b:"-"]],Azer:[],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2017,+"2019","-","Mar","21",[24,0,0,null],+"60","-"],[2017,2019,"-","Sep",x_H,[24,0,0,null],0,3823<=(537,1616)?+"6.72e+3":("4520"^0,7283)>=2930?+"7663"===99.01?("3.10e+3"-0,!!{}):"-":("G",287.92)],[2020,"only",180.43===(+"857.41",4769)?!!"1":(556,525.6)<=(6280,5697)?"-":(+"7470",8440)==(9560,960.36)?!![]:(24.43,1.34e+3),P0x,"20",[24,0,0,null],60,(3290,329.54)>9428?(1600,"9420"*1)<=913?(![],"F"):"7331">>64<"4340"<<32?(353.50,6.36e+3):![]:"-"],[2020,"only","-","Sep","20",[24,0,0,null],0,("9740"|0,"715.38"*1)===4850?1760<177?(9.61e+3,85.36):("L",+"0x12f8"):"-"],[2021,2023,"-","Mar","21",[+"24",0,"0"<<64,null],60,(151,4550)<=(155.93,+"484")?!!1:"-"],[2021,2023,"-","Sep",y5Z,[24,"0"*1,0,null],+"0","-"],[+"2024","only","-",s4A,"20",["24"<<96,"0"|0,0,null],60,(318.99,801)<=3240?2390<(387.1,8684)?(848.15,7882)<=(+"74.17","8164">>64)?"-":!!1:("b","V"):884.28],[2024,l2_,"8703"-0>=194.69?3680!=(2960,503.77)?(794,+"4606")==8142?(!{},859.05):"-":(!![],"P"):("P",!![]),"Sep","20",[24,0,+"0",null],+"0","-"],[2025,2027,(643.48,+"546.53")<("8600"*1,499.65)?"301.67"-0===(472.16,+"6664")?"z":"362.84"*1:"-","Mar",I0u,[24,0,0,null],60,"-"],[2025,2027,(65,475.79)>(6280,482)?(+"588.46",553.44)>(7654,7560)?("v",622.08):("i",0x797):"-","Sep",r_d,[24,0,0,null],0,(2110,+"2974")!=(387,+"261.47")?"-":799.1!==(333,4690)?564>=952.44?(0x102a,0x1260):(0x17f7,0x23ef):(89.90,!!"1")]],Zion:[[2013,"max",(697.23,368.95)!==(901.23,9650)?"-":("u",!1),I7M,"Fri>=23",["2"-0,0,+"0",null],60,1120==(7869,5370)?0xf6b:(586.31,9323)!=(4777,2420)?"D":(0x1554,"e")],["2013"^0,"max",4661>("3040">>64,2920)?"-":(255.95,5125)>=(5893,"262.26"-0)?(2.16e+3,"0x1997">>64):(773.55,!1),A7B,"lastSun",[2,0,0,null],0,"S"]],Japan:[],Jordan:[[2014,"max",1234!=="3190"-0?(505.69,9090)>=1.86?("4700"^0,5610)!=(2510,990)?"-":(290.80,!{}):300.51:(0x1e4b,8.70e+3),y89,E2$,[24,0,0,null],60,"S"],["2014"*1,"max",41.83>(2520,609.87)?("p","8.24e+2"-0):"-","Oct",b$R,[0,0,0,60.64==(880.82,4938)?(5400,394.95)!==(782.36,"9721"|8)?(4123,586.49)>=(3147,928.96)?0x82b:(0xcac,0x1b40):("0x26ed"*1,0x703):"s"],0,(2310,+"264.59")<102.46?(!!0,0x1d93):(1230,6969)!=="499.06"-0?5657<103.06?(!!0,"A"):"-":!{}]],ROK:[],Lebanon:[[1993,c9b,(7820,6948)===(3540,9961)?9991>=(+"974.83","3178"*1)?(3850,2960)<=(8130,+"542.7")?(421,"g"):(!"1","a"):450.11:"-","Mar","lastSun",[0,0,0,null],60,"S"],["1999">>64,"max", true?(7130,3270)===(1920,3992)?6.78e+3:"-":(undefined),"Oct","lastSun",[0,0,0,null],0,"-"]],Mongol:[],Pakistan:[],Palestine:[[2016,"2018"*1,"-",w8v,N$l,["1">>64,0,0,null],60,7994>6430?"S":+"7468"===(897,+"50")?"P":7300<(3540,5840)?(0x865,221.93):6.39e+3],[2016,2018,"-","Oct",J9S,[1,0,0,null],"0"*1,("651"^0,4413)!==(3941,78.98)?187.88>=("6487"-0,686.79)?+"4.85e+3":"-":(!![],"5.78e+3"|4)],[2019,"only",("691.67"*1,2121)!=(159.05,7200)?"-":128.35,E2o,"29",[0,0,"0">>64,null],60, false?undefined:"S"],[2019,k24,(182.63,+"1320")>=(33.53,8207)?124.31:"-",D5t,"Sat>=24",["0"|0,"0"<<0,0,null],60,(598.45,9770)>=("264.61"-0,2055)?"-":(3536,703)===118?("i",+"0x2632"):("O",0x1719)],["2020"^0,x1S,"-","Mar","Sat>=24",[0,0,0,null],60,"S"],["2020"|64,"max",3390==="9470"*1?"J":"-","Oct","Sat>=24",[1,0,0,null],60,1360<=("4448"|0)?"-":385.64<(696.32,7336)?0x2553:(+"6.34e+2",!![])]],Syria:[[2012,"max",(7039,8470)<=8685?"-":("0x19bf"*1,957.42),"Mar","lastFri",[0,+"0",0,null],60,(1990,249.36)<=+"38.08"?0x1a32:"S"],[2009,"max","-",W4T,"lastFri",[0,0,0,null],0, true?"-":undefined]],Aus:[],AW:[],AQ:[],AS:[[2008,x60,(8450,+"192.77")==(8790,7760)?3750>(342.32,5654)?!"":0x7f9:"-",y6S,C0F,[2,+"0",0,(7835,318)>322.27?809.25==(929.99,4940)?(+"0x19bf",0x2502):("m",![]):"s"],0,1450!=(465.53,+"141")?523.78>=9501?5890<=+"631.31"?(+"0x17b4","v"):(0xf0e,760.03):"S":("U",766.15)],[2008,u9$,"-","Oct","Sun>=1",[2,0,0,(398.59,469.97)!==5906?5143===(+"8790",+"667.72")?!!{}:"s":!!{}],"60"^0,5170>(456.88,4750)?"D":(86,3670)>=3470?+"992">3040?(0xdc9,8.64e+3):0x258c:"a"]],AT:[[2001,"max",(+"246.74",5260)==(7502,"8499">>32)?(+"0x13f0",627.64):6220!=(7885,514.26)?"-":+"934.15"<531.06?(0x2425,"P"):0x1769,"Oct",G_v,[+"2","0"-0,0,"s"],"60">>64,(5020,4600)<=(2355,6342)?+"758.3"!==(+"8352",7114)?(2490,5936)<=2?(+"304.43","J"):"D":(!"1","a"):706.99],[2008,"max",(8289,216.65)<8547?"-":(!"1",920.19),C1a,"Sun>=1",[2,0,0,"s"],0,(272.74,784.51)<=(37.31,3661)?"S":2726>+"5581"?!!0:7263!==(2150,54)?"m":("l",!!"1")]],AV:[[2008,"max","-","Apr","Sun>=1",[2,0,0,(5770,1039)!==(504.26,287.13)?"s":(689.32,1460)>6987?"L":139.57>(5600,4250)?(+"0x187c",0x248a):![]],0,2431!==("454.34"*1,201.72)?7260!==(7440,460.23)?"S":!{}:(0x2eb,2.99e+3)],[2008,"max",8794>(536.51,3810)?"-":(0xcca,8.52e+3),"Oct","Sun>=1",[2,0,0,398.3<=7993?(54.98,6970)!==(5234,+"392.34")?"s":(!!"",5.24e+3):0x123a],60,"D"]],AN:[[2008,"max",616.32==(8630,"5460"-0)?!![]:"-",l9t,"Sun>=1",[2,"0"^0,0, true?"s":undefined],0,(634.38,+"6774")>(9450,913)?("336.45"-0,1275)!==(5549,949.08)?(9678,101.72)!=(+"2780",657.14)?"S":"k":("f",7.86e+3):"d"],["2008"*1,"max",("2440">>96,787.97)==(765.81,8096)?("j",0x2135):"-","Oct","Sun>=1",[2,0,0,"s"],60,(573,6670)==(+"671",6917)?("2690"|0,4950)!=6357?436.76:(![],0x1ac7):"D"]],LH:[[2008,"max",(1180,+"3667")==(4776,2950)?(8.78e+3,0x170a):"-","Apr",E8A,[2,"0"*1,0,null],0,(519.64,281)>8810?193.94:910.82<=(586.15,363.87)?(!!{},"4.31e+3"*1):"-"],[2008,"max",(9670,3811)==1580?(!{},"704.50"*1):"-","Oct",F3M,[2,0,0,null],"30"|12,(+"250",9506)>=(9720,9110)?"-":825.6>=857.75?"S":"E"]],Fiji:[[2014,2018,("3696"-0,"160"<<0)===784?(2933,8197)<=(429.42,114.92)?(0x148e,!1):+"9164">=+"610.86"?(![],"188.47"*1):7.03e+2:"-","Nov",k1W,[2,0,0,null],+"60","-"],["2015"*1,"max",5028<(6108,5797)?"-":(+"8.68e+3",0x1448),"Jan","Sun>=12",[+"3",0,0,null],0,"-"],[2019,"only",("594.66"-0,569.1)===7438?(!!"1",0x2266):"-","Nov","Sun>=8",[2,0,0,null],60,(6070,+"615.89")!==(7086,435.1)?"-":(498.32,!!{})],[2020,i0W,"-","Dec",P1k,[2,0,"0">>64,null],+"60","-"],[2021,"max",686.6!==(8530,"9100">>32)?(4559,2270)<=2386?"-":("k","H"):0x1b4b,C6p,i_p,[2,"0"<<64,0,null],60,+"188.27">126.4?"-":5.21e+3]],NC:[],NZ:[[2007,"max",("6715"^0)>=(746.69,7960)?(709.44,9441)>=(+"2130",6611)?"T":!{}:"-","Sep","lastSun",[2,+"0",0,"s"],60,"D"],[2008,F_1,6110<(5449,"487.36"-0)?(386.31,4.44e+3):292.39>2795?("8007"<<96,4)>=(+"4622",2434)?!"1":("A",5.36e+3):"-","Apr","Sun>=1",[2,+"0",0,"s"],"0"<<32,(2296,7730)!=(708,616)?3764<(9798,5326)?"S":("366.44"*1,58.62):(!![],0x1e40)]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,(7480,5417)<=8210?"s":(0x1026,"602.42"-0)],60,(261.87,+"445")>"14"*1?"-":(2,4819)>=3980?(376.48,!!0):("0x1e46"*1,0x9a9)],["2008"<<64,"max", false?(undefined):(7018,8364)<=4040?7.78e+3:"-","Apr","Sun>=1",[2,45,"0"|0,(3990,7430)<"764.76"-0?25.02!=(124.97,+"8840")?"3600"*1>(7580,9060)?0x21ea:(239.77,375.05):!!"":"s"],0, false?undefined:"-"]],WS:[[2012,"max",8791<8950?"5010"*1>(7680,7870)?723.16>=("774.2"-0,4660)?(261,0x1dd2):"3.16e+3"^0:"-":4.81e+3,"Apr",W4C,[+"4",0,0,null],0,"-"],[2012,"max",440.6>863?(!!"","S"):4799<=("9800">>32,1940)?(9.81e+3,!![]):8110<=3390?(+"5.89e+3",0x2570):"-",t6Y,"lastSun",[3,+"0",0,null],60,"-"]],Tonga:[[2016,"only","-","Nov","Sun>=1",[2,0,0,null],+"60",(754.88,4284)===(4701,"5410"<<64)?(!!0,+"168.39"):(684.86,2260)>(718,+"595.43")?"-":(!![],!"")],[2017,"only",(6260,+"6822")>=(934.69,2582)?938.8===(342.99,316.81)?(939.21,!{}):"-":"V","Jan","Sun>=15",[+"3","0"*1,0,null],0,"-"]],Eire:[[1981,"max",807.91>(+"5461","478.14"-0)?(8879,3520)<(+"6760",533)?(873.85,51.24):+"388.98"!==4590?"-":(346.84,"B"):("0x8dc"<<32,!{}),O6V,"lastSun",[1,+"0",0,"u"],0,988<(5510,7510)?"-":(3770,3173)==(907.45,645.01)?(!!"1",9.21e+3):(591.97,1540)!="917.07"*1?"p":"k"],[1996,"max",(5380,9990)>(946.4,1450)?(848,"374"*1)<5370?"-":797.66:(+"976.58",0x1931),"Oct","lastSun",["1"-0,0,0, true?"u":undefined],-60,+"322">(4370,433.06)?7480===(8870,7630)?!0:!!"1":"-"]],EU:[[+"1981","max","-","Mar","lastSun",[1,0,0,("2240"|0)>=399? false?(undefined):196<(18.84,1216)?"u":(0x24,0x246):(5.22e+3,"6.91e+3"*1)],60, false?undefined:"S"],[1996,"max",7.55<(3690,152.46)?(9250,47)>(810.69,4650)?(769.87,757.95)<=(+"2020",+"4987")?![]:7.17e+3:"-":("r","t"),o1M,"lastSun",[1,0,0,10.08===(188.19,"803.16"*1)?!{}: false?undefined:"u"],0,(5546,8243)==(110.82,366)?(4.75e+3,"e"):"-"]],"C-Eur":[[1981,"max",(525.24,8400)<=(3646,+"4040")?("5870"<<0,558.52)!=3660?!![]:"0x2af"|5:"-","Mar","lastSun",[2,0,0,2740<(7790,863.19)?(226.32,8500)<=(675.96,3814)?(0x2406,"0x75f"*1):644.97<"365.98"-0?(![],896.28):!"1":"s"],60,1440<1992?"S":"94.68"-0],[+"1996","max","-","Oct","lastSun",[2,0,0,556.78<=3271?"s":109.74],0,"-"]],Thule:[[2007,M7J,7460>=7070?"-":(2.60e+3,![]),v3$,"Sun>=8",[2,"0"|0,"0"-0,null],60,"D"],[2007,"max",(7491,8390)>=(2575,+"7380")?"-":(1903,+"492.26")===(5892,"5820"<<32)?"b":(3410,7550)<4047?("g",!!""):0x1316,"Nov","Sun>=1",[2,0,+"0",null],0, true?"S":(undefined)]],US:[[2007,"max",5621==(134.08,722.71)?991.68:2050>=(9000,"4860"^0)?("Z","7.19e+3"-0):(+"7260",4890)>5080?"f":"-",k_T,"Sun>=8",[2,0,0,null],60,315.47>6000?(!!0,!!{}):"D"],[+"2007",N0g,(1030,+"3910")==(3613,725.27)?(!!1,!"1"):(522,6920)!=(576.7,136.96)?(4756,+"9420")<=(+"2628",8729)?!![]:"-":165.89,"Nov","Sun>=1",[2,+"0","0"*1,null],0,4340===(9580,3530)?6.01e+3:"S"]],Canada:[[2007,w9h, false?undefined:(6812,"6000"^0)<=(8000,"681.41"-0)?854>("229.29"-0,108.98)?"e":(![],!![]):"-",n3D,"Sun>=8",[2,0,0,null],"60">>0,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[["2002"*1,"max", false?undefined:"-","Apr",e9C,[2,0,0,null],60,(6320,6610)==(4100,"322"-0)?!!"":"D"],[+"2002","max",593<=("542"|16,"286.08"-0)?(522,!{}):(8940,+"761.73")!==(1320,9300)?"-":"S","Oct","lastSun",["2"^0,0,0,null],+"0",(8222,9340)!=(822.71,+"455")?"S":(596.12,5960)!==182.97?5593<4593?"E":"k":("j",!!"")]],CR:[],Cuba:[[2012,n6p,(2091,9454)!==219.38?644.78=="19.24"-0?(9254,9158)==4818?6.74e+3:!!0:"-":(711.10,!0),h6K,"Sun>=1",[0,0,0,"778.81"-0==(595.52,"2132"<<64)?3.98e+3:(616.64,6810)!==502.75?"702.21"-0<=(196.5,289.99)?("0x243d"*1,"I"):"s":"208.10"*1],"0"-0, true?"S":(undefined)],[2013,"max",(2612,7991)<7410?(4581,8380)<=256.05?(8.36e+3,0x215a):("4436"-0,715.67)!=9940?!{}:!!"1":"-","Mar",j9r,[0,0,0,"s"],+"60","D"]],Haiti:[[2017,"max",("6700"|8)<(451.96,2873)?"F":(+"136",384)!=(257,914.17)?"-":(6360,753)!==9241?(0x2449,+"4.22e+3"):0x2327,"Mar",O1M,["2"|0,0,0,null],+"60","D"],[+"2017",r6W,(1358,69.42)===(9610,1100)?(6270,9859)==(2431,7260)?+"0x12bb":136.7!==(422.9,3778)?(0x79d,34.93):("r",0x1e98):"-",A0f,T81,[2,0,0,null],"0"|0,700>=(4740,4855)?837.14:3160>=1862?"S":6657==(+"2220",5450)?("h",!!"1"):(+"2.77","i")]],Arg:[],Brazil:[[2008,2017,"-","Oct",r1w,[0,0,0,null],"60"<<32,"-"],[2016,2019,195.84===(6679,9333)?(+"8232",2701)>618.58?2.75e+3:(8.22e+3,0x5c2):"-",X_u,"Sun>=15",[0,0,0,null],0,"-"],["2018"*1,D9A,"-","Nov","Sun>=1",[0,0,0,null],"60">>0,("3840"^0)==(7384,1000)?(932,"N"):"-"]],Chile:[[2016,"2018">>64,"-","May",I1R,[3,0,0,"u"],0,67.95!=="603.57"-0?(5312,5670)<430.95?"f":8236<2974?20.66:"-":0xa9],["2016">>64,2018,(292,+"871")!==(410.92,179.64)?"-":"S","Aug","Sun>=9",[4,0,0,"u"],+"60",6684!="945"*1?(425,98)!==(1419,2400)?"3943"-0==4538?"s":"-":"k":(259.35,0x19da)],[2019,"max","8939">>0<8310?0x175d:"-",A8f,"Sun>=2",[3,0,+"0","u"],0,+"344.38"===478.13?8.36e+3:"-"],[2019,D4e,"-","Sep","Sun>=2",[4,0,0,("7666"-0,825.06)>=+"5362"?("O",+"0x1dd8"):"u"],60,"-"]],CO:[],Para:[[2010,"max",8569>=+"356.95"?"-":+"4.44e+3","Oct","Sun>=1",["0"^0,0,"0"*1,null],60,(9130,2808)>=(4882,530.23)?"-":(5500,"9984"<<64)>4880?2430!=("942.54"*1,976.68)?+"0x13c5":0xbef:4.47e+3],[2013,"max",5627<(7184,1100)?0x921:(4884,2053)<(428.53,+"2982")?"-":(!!0,!![]),q0S,"Sun>=22",[0,0,0,null],0,311.42!=(97,"6550"-0)?"-":+"7740"<(8707,86.37)?(622.41,!!{}):(2240,8222)===602.08?(748.31,!""):("k",!"")]],Uruguay:[]}});};q2=function q2(p4k){var W76,u5p;W76=typeof _CIQ!=="undefined"?_CIQ:p4k.CIQ;W76.ChartEngine.prototype.touchSingleClick=function(X$G,U43,J93){i6UVR.W3G();var O9d,t4k;O9d=this;t4k=arguments;return function(){(function(){var B71,v4E,S2z,x0F,D$a;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",t4k)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(U43<this.left||U43>this.right||J93<this.top||J93>this.bottom){return;}B71=this.backOutY(W76.ChartEngine.crosshairY);v4E=this.backOutX(W76.ChartEngine.crosshairX);this.currentPanel=this.whichPanel(B71);S2z=this.currentVectorParameters.vectorType;if(!W76.Drawing||!S2z||!W76.Drawing[S2z]||!new W76.Drawing[S2z]().dragToDraw){if(!this.drawingClick(this.currentPanel,v4E,B71)){f1u(this,U43,J93);}if(!this.currentVectorParameters.vectorType){x0F="t";x0F+="a";x0F+="p";D$a=this.activeMarker&&this.activeMarker.click({cx:v4E,cy:B71,panel:this.currentPanel});if(!D$a){this.dispatch(x0F,{stx:this,panel:this.currentPanel,x:v4E,y:B71});}}}}this.runAppend("touchSingleClick",t4k);}).apply(O9d,t4k);};};W76.ChartEngine.prototype.touchDoubleClick=function(l_C,u2k,L9X){var R9N,C_N;R9N="do";R9N+="ubleTap";if(this.runPrepend("touchDoubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(W76.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}f1u(this,u2k,L9X);C_N=this.activeMarker&&this.activeMarker.doubleClick({cx:u2k,cy:L9X,panel:this.currentPanel});if(!C_N){this.dispatch(R9N,{stx:this,finger:l_C,x:u2k,y:L9X});}this.runAppend("touchDoubleClick",arguments);};W76.ChartEngine.prototype.startProxy=function(K1O){var D7j;D7j="tou";D7j+="ch";this.touchPointerType=K1O.pointerType;i6UVR.W3G();if(this.touchPointerType!=D7j){this.mouseMode=!"";return;}this.mouseMode=![];this.touches[this.touches.length]={pointerId:K1O.pointerId,pageX:K1O.clientX,pageY:K1O.clientY,clientX:K1O.clientX,clientY:K1O.clientY};this.changedTouches=[{pointerId:K1O.pointerId,pageX:K1O.clientX,pageY:K1O.clientY,clientX:K1O.clientX,clientY:K1O.clientY}];if(this.touches.length==+"1"){this.gesturePointerId=K1O.pointerId;}this.touchstart(K1O);};W76.ChartEngine.prototype.moveProxy=function(g9R){var c36;c36="to";c36+="u";c36+="ch";if(g9R.pointerType&&g9R.pointerType!=c36){this.mouseMode=!![];return;}this.mouseMode=!{};this.touchmove(g9R);};function f1u(H6k,j4V,e5T){var G_x;if(!H6k.layout.crosshair){W76.ChartEngine.crosshairY=0;W76.ChartEngine.crosshairX=0;H6k.cx=H6k.backOutX(0);H6k.cy=H6k.backOutY(0);H6k.findHighlights(null,!![]);W76.ChartEngine.crosshairY=e5T;W76.ChartEngine.crosshairX=j4V;G_x=H6k.container.getBoundingClientRect();H6k.top=G_x.top;H6k.left=G_x.left;H6k.right=H6k.left+H6k.width;H6k.bottom=H6k.top+H6k.height;H6k.cx=H6k.backOutX(j4V);H6k.cy=H6k.backOutY(e5T);if(H6k.currentPanel&&H6k.currentPanel.chart.dataSet){H6k.crosshairTick=H6k.tickFromPixel(H6k.cx,H6k.currentPanel.chart);H6k.crosshairValue=H6k.adjustIfNecessary(H6k.currentPanel,H6k.crosshairTick,H6k.valueFromPixel(H6k.cy,H6k.currentPanel));}H6k.headsUpHR();}H6k.findHighlights(!![]);i6UVR.W5N();H6k.draw();}W76.ChartEngine.prototype.endProxy=function(H1n){i6UVR.W3G();var L8z;if(this.touchPointerType!="touch"){this.mouseMode=!0;return;}this.mouseMode=![];L8z=this.touches.length;for(var F3h=0;F3h<this.touches.length;F3h++){if(this.touches[F3h].pointerId==H1n.pointerId){this.touches.splice(F3h,1);break;}}if(F3h==L8z){this.touches=[];this.grabbingScreen=![];this.touching=!"1";return;}this.changedTouches=[{pointerId:H1n.pointerId,pageX:H1n.clientX,pageY:H1n.clientY,clientX:H1n.clientX,clientY:H1n.clientY}];this.touchend(H1n);};W76.ChartEngine.prototype.msMouseMoveProxy=function(k2M){i6UVR.W3G();if(this.touches.length||!this.mouseMode){return;}this.mousemove(k2M);};W76.ChartEngine.prototype.msMouseDownProxy=function(K16){if(!this.mouseMode){return;}this.mousedown(K16);};W76.ChartEngine.prototype.msMouseUpProxy=function(e8O){if(!this.mouseMode){return;}this.mouseup(e8O);};W76.ChartEngine.prototype.iosMouseMoveProxy=function(X8v){if(this.touching){return;}this.mousemove(X8v);};W76.ChartEngine.prototype.iosMouseDownProxy=function(Q32){i6UVR.W5N();if(this.touching){this.mouseMode=!"1";return;}this.mouseMode=!!{};this.mousedown(Q32);};W76.ChartEngine.prototype.iosMouseUpProxy=function(I4j){if(this.touching){return;}i6UVR.W5N();this.mouseup(I4j);};W76.ChartEngine.prototype.touchmove=function(r2w){var S67=i6UVR;var A$G,N$X,h4f,e8k,u43,R31,e6I,H_5,h14,z5D,V91,R1U,b1u,W7_,b4Q,a7U,S9H,M1j,p3P,Y_A,w9Y,c4_,B0s,X0T,y8s,R3Y,w_8,y42,p29,d_t,u4N,s3p,x71,W34,E$i,n_I,t3h,g_u,U9P,Z_5,J6v;A$G="p";A$G+="e";A$G+="n";if(!this.displayInitialized){return;}if(this.openDialog!==""){return;}if(W76.ChartEngine.ignoreTouch===!!{}){return;}N$X=[];S67.W5N();if(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!="none"){if(r2w&&r2w.preventDefault&&r2w.cancelable&&this.captureTouchEvents){r2w.preventDefault();}if(r2w){r2w.stopPropagation();}}h4f=new Date().getTime();if(this.clicks.s2MS==-1){this.clicks.e1MS=h4f;if(this.clicks.e1MS-this.clicks.s1MS<25){return;}}else{this.clicks.e2MS=h4f;if(this.clicks.e2MS-this.clicks.s2MS<+"25"){return;}}if(!r2w.pointerType){r2w.pointerType=this.touchPointerType;}if(W76.isSurface){if(this.mouseMode){return;}if(!r2w.pointerId){r2w.pointerId=this.gesturePointerId;}for(var i1u=+"0";i1u<this.touches.length;i1u++){if(this.touches[i1u].pointerId==r2w.pointerId){e8k=Math.abs(this.touches[i1u].pageX-r2w.clientX);u43=Math.abs(this.touches[i1u].pageY-r2w.clientY);S67.s$9(41);R31=Math.sqrt(S67.V9a(u43,e8k,u43,e8k));if(!R31){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS-this.clicks.s1MS<("50"^0)){return;}if(this.touches[i1u].pageX==r2w.clientX&&this.touches[i1u].pageY==r2w.clientY){return;}this.touches[i1u].pageX=this.touches[i1u].clientX=r2w.clientX;this.touches[i1u].pageY=this.touches[i1u].clientY=r2w.clientY;break;}}if(i1u===+"0"){this.movedPrimary=!!{};}else{this.movedSecondary=!!{};}if(i1u==this.touches.length){return;}this.changedTouches=[{pointerId:r2w.pointerId,pageX:r2w.clientX,pageY:r2w.clientY,clientX:r2w.clientX,clientY:r2w.clientY}];N$X=this.touches.length?this.touches:this.changedTouches;}else{N$X=r2w.touches;this.changedTouches=r2w.changedTouches;}if(N$X.length==1){if(Math.pow(this.clicks.x-N$X[0].clientX,+"2")+Math.pow(this.clicks.y-N$X[0].clientY,+"2")<=16){return;}}e6I=this.crosshairXOffset;H_5=this.crosshairYOffset;h14=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";z5D=!this.layout.crosshair&&!h14&&!this.touchNoPan;if(r2w.pointerType==A$G||z5D||this.activeDrawing&&this.activeDrawing.name=="freeform"){S67.s$9(29);e6I=H_5=S67.v$j("0",64);}if(this.runPrepend("touchmove",arguments)){return;}if(W76.ChartEngine.resizingPanel){S67.O_b(1);b1u=N$X[S67.V9a(0,"0")];V91=b1u.clientX;R1U=b1u.clientY;S67.s$9(0);this.mousemoveinner(S67.v$j(V91,e6I),S67.V9a(R1U,H_5));return;}if(this.moveB!=-1){this.touchMoveTime=new Date();}this.moveA=this.moveB;W7_=-9927941;b4Q=-2105591087;a7U=2;for(var B6J=+"1";S67.m6F(B6J.toString(),B6J.toString().length,+"54783")!==W7_;B6J++){this.moveB=N$X["0"|0].pageX;a7U+=2;}if(S67.m6F(a7U.toString(),a7U.toString().length,95998)!==b4Q){this.moveB=N$X[9].pageX;}if(N$X.length==1&&!this.twoFingerStart){M1j=N$X[0];V91=M1j.clientX;R1U=M1j.clientY;this.pinchingScreen=0;S67.O_b(0);this.mousemoveinner(S67.V9a(V91,e6I),S67.v$j(R1U,H_5));p3P=this.whichPanel(R1U);Y_A=this.xAxisAsFooter===!0?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=R1U<=this.top+Y_A&&R1U>=Y_A-this.xaxisHeight+this.top&&this.insideChart;if(!p3P){this.overYAxis=!{};}else{this.overYAxis=(V91>=p3P.right||V91<=p3P.left)&&this.insideChart;}}else if(N$X.length==2&&this.allowZoom){if(!this.displayCrosshairs){return;}w9Y=N$X[0];c4_=w9Y.clientX;B0s=w9Y.clientY;X0T=N$X[1];y8s=X0T.clientX;R3Y=X0T.clientY;S67.O_b(140);S9H=Math.sqrt(S67.V9a(y8s,B0s,c4_,B0s,y8s,c4_,R3Y,R3Y));S67.O_b(22);var N8v=S67.V9a(19,287,0,15);this.pinchingCenter=(Math.min(c4_,y8s)-Math.max(c4_,y8s))/N8v;w_8=Math.round(this.gestureStartDistance-S9H);if(z5D){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen<2){if(W76.isSurface&&(!this.movedPrimary||!this.movedSecondary)){return;}if(c4_<this.pt.x1&&y8s<this.pt.x2||c4_>this.pt.x1&&y8s>this.pt.x2||B0s<this.pt.y1&&R3Y<this.pt.y2||B0s>this.pt.y1&&R3Y>this.pt.y2){S67.s$9(1);this.pinchingScreen=S67.V9a(0,"0");}else{this.pinchingScreen++;if(this.pinchingScreen<2){return;}}}this.pt={x1:c4_,x2:y8s,y1:B0s,y2:R3Y};if(this.pinchingScreen===0){this.grabMode="pan";S67.s$9(0);this.mousemoveinner(S67.V9a(c4_,e6I),S67.V9a(B0s,H_5));this.gestureStartDistance=S9H;}else{y42=Math.asin((Math.max(R3Y,B0s)-Math.min(R3Y,B0s))/S9H);if(Math.abs(w_8)<+"12"&&!z5D){this.moveCount++;if(this.moveCount==4){this.pinchingScreen=0;this.moveCount=0;return;}}else{this.moveCount=0;}if(y42<1||!this.goneVertical&&y42<"1.37"*1){if(!this.currentPanel){return;}p29=this.currentPanel.chart;this.goneVertical=!{};S9H=this.pt.x2-this.pt.x1;d_t=this.grabStartValues.t2-this.grabStartValues.t1;S67.s$9(23);var Q8w=S67.v$j(13,11);u4N=this.grabStartValues.t1+d_t/Q8w;S67.O_b(9);s3p=S67.v$j(S9H,d_t);if(p29.allowScrollFuture===!{}&&p29.allowScrollPast===!{}){s3p=Math.max(s3p,p29.width/p29.dataSet.length);}x71=this.layout.candleWidth;this.setCandleWidth(s3p,p29);if(p29.maxTicks<this.minimumZoomTicks){this.setCandleWidth(x71,p29);return;}this.micropixels=0;W34=this.pixelFromTick(Math.round(u4N),p29);E$i=this.pt.x1-this.left+Math.round(S9H/+"2");S67.s$9(1);n_I=S67.V9a(E$i,W34);S67.s$9(9);t3h=S67.v$j(n_I,s3p);g_u=Math.round(t3h);p29.scroll-=g_u;S67.s$9(1);this.microscroll=S67.v$j(t3h,g_u);this.micropixels=s3p*this.microscroll;this.draw();}else{U9P=this.grabStartYAxis;this.goneVertical=!"";if(U9P){U9P.zoom=this.grabStartZoom+(this.gestureStartDistance-S9H);if(this.grabStartZoom<U9P.height){if(U9P.zoom>=U9P.height){S67.s$9(141);var J3L=S67.V9a(1,16,8,8,16);U9P.zoom=U9P.height-J3L;}}else{if(U9P.zoom<=U9P.height){S67.O_b(26);var F1Q=S67.v$j(4,14,3,5);U9P.zoom=U9P.height+F1Q;}}this.draw();;}}this.updateChartAccessories();}}else if(N$X.length==+"3"&&W76.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}Z_5=N$X[0];J6v=Z_5.clientX;S9H=this.grabStartX-J6v;S67.s$9(1);var Y5J=S67.V9a(16,26);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(S9H/Y5J);if(this.grabEndPeriodicity<1){this.grabEndPeriodicity=1;}}this.runAppend("touchmove",arguments);};W76.ChartEngine.prototype.touchstart=function(U08){var M2k=i6UVR;var Z_v,H0J,H6h,n5z,O0u,c6N,D53,p3Q,S9C,n2s,K_j,q43,P_R,c$E,M9X,c8q,R$P,V93,N6N,A6Y,r8I,n0Z,H_x,F7z,z_q,U_H,G5q;Z_v="p";Z_v+="e";Z_v+="n";if(W76.ChartEngine.ignoreTouch){return;}if(W76.isSurface){this.movedPrimary=!!0;this.movedSecondary=![];}else{if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!!{};this.touches=U08.touches;this.changedTouches=U08.changedTouches;}if(W76.ChartEngine.resizingPanel){return;}H0J=this.crosshairXOffset;H6h=this.crosshairYOffset;if(this.touchPointerType==Z_v){H0J=H6h=+"0";}if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse&&U08&&U08.preventDefault&&U08.cancelable&&this.captureTouchEvents){U08.preventDefault();}this.hasDragged=![];this.doubleFingerMoves=0;M2k.s$9(42);this.moveCount=M2k.v$j("0",0);this.twoFingerStart=![];if(this.touches.length==+"1"||this.touches.length==("2"|0)){this.touchMoveTime=Date.now();S9C=this.touches[0];c6N=S9C.clientX;D53=S9C.clientY;this.moveA=c6N;this.moveB=-1;if(this.openDialog===""){this.registerPointerEvent({x:c6N,y:D53,time:this.touchMoveTime},"down");if(this.changedTouches.length==1&&!this.isDoubleClick(!!1)){W76.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY});}}n2s=this.container.getBoundingClientRect();this.top=n2s.top;this.left=n2s.left;this.right=this.left+this.width;this.bottom=this.top+this.height;if(this.touches.length==1){K_j=this.backOutY(D53);this.currentPanel=this.whichPanel(K_j);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}p3Q=this.currentPanel;if(c6N>=this.left&&c6N<=this.right&&D53>=this.top&&D53<=this.bottom){this.insideChart=!!1;q43=this.xAxisAsFooter===!!{}?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=D53<=this.top+q43&&D53>=this.top+q43-this.xaxisHeight;this.overYAxis=c6N>=this.left+p3Q.right||c6N<=this.left+p3Q.left;P_R=-1;this.cy=this.backOutY(D53);this.cx=this.backOutX(c6N);this.crosshairTick=this.tickFromPixel(this.cx,p3Q.chart);this.crosshairValue=this.adjustIfNecessary(p3Q,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var H9N=0;H9N<this.drawingObjects.length;H9N++){c$E=this.drawingObjects[H9N];if(c$E.highlighted){if(P_R<0){P_R=H9N;}M9X=c$E.highlighted;this.findHighlights(!!{});if(H9N==P_R&&c$E.highlighted&&!c$E.permanent){if(this.clicks.s2MS==-1){this.activateRepositioning(c$E);;}else{this.findHighlights(![],!!{});;}return;}this.anyHighlighted=!!{};c$E.highlighted=M9X;}}}else{this.insideChart=![];}c8q=this.currentVectorParameters.vectorType&&this.currentVectorParameters.vectorType!=="";if(!this.layout.crosshair&&!(this.layout.headsUp&&this.layout.headsUp.floating)&&!c8q&&this.insideChart&&!this.touchNoPan){H0J=H6h=0;var D08=this.baselineHelper;if(D08.size){if(this.findBaselineHandle(U08,!![])){return;}}if(this.controls.anchorHandles){R$P=Object.values(this.controls.anchorHandles);V93=!!0;for(var a1c=0;a1c<R$P.length;a1c++){N6N=R$P[a1c];var _N6N=N6N,l5j=_N6N.handle,V1H=_N6N.sd;A6Y=this.resolveX(this.cx);r8I=this.resolveY(this.cy);var _l5j$getBoundingClien=l5j.getBoundingClientRect(),S5f=_l5j$getBoundingClien.left,S$q=_l5j$getBoundingClien.top,V3n=_l5j$getBoundingClien.right,i8M=_l5j$getBoundingClien.bottom;S5f-=10;V3n+=10;if(W76.boxIntersects(S5f,S$q,V3n,i8M,A6Y,r8I,A6Y,r8I)){N6N.highlighted=!"";this.repositioningAnchorSelector={sd:V1H};l5j.classList.add("stx-grab");V93=!!{};}if(N6N.highlighted===!!"1"){N6N.highlighted=!{};}}if(V93){return;}}for(n5z in this.panels){O0u=this.panels[n5z];if(O0u.highlighted){this.grabHandle(O0u);return;}}this.grabbingScreen=!![];if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}p3Q.chart.spanLock=![];this.yToleranceBroken=!{};M2k.s$9(0);this.grabStartX=M2k.V9a(c6N,H0J);M2k.s$9(0);this.grabStartY=M2k.V9a(D53,H6h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=p3Q.chart.scroll;this.grabStartScrollY=p3Q.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(p3Q.chart);}this.grabStartYAxis=this.whichYAxis(p3Q,this.backOutX(c6N));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;setTimeout(function(C3m){return function(){M2k.W3G();C3m.grabbingHand();};}(this),100);}else{this.grabbingScreen=!1;if(this.insideChart&&p3Q.subholder===U08.target){n0Z=this.currentVectorParameters.vectorType;if(W76.Drawing&&n0Z&&W76.Drawing[n0Z]&&new W76.Drawing[n0Z]().dragToDraw){this.userPointerDown=!"";W76.ChartEngine.crosshairX=c6N;W76.ChartEngine.crosshairY=D53;if(p3Q&&p3Q.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(W76.ChartEngine.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(p3Q,this.crosshairTick,this.valueFromPixel(this.backOutY(W76.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(p3Q,this.backOutX(c6N),this.backOutY(D53));this.headsUpHR();return;}}}if(this.touches.length===1&&this.layout.crosshair&&!c8q&&p3Q.subholder===U08.target){M2k.s$9(0);this.mousemoveinner(M2k.v$j(c6N,H0J),M2k.V9a(D53,H6h));}}if(this.touches.length==2){this.cancelLongHold=!!{};this.swipe.end=!![];if(!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart){return;}H_x=this.touches[1];F7z=H_x.clientX;z_q=H_x.clientY;for(n5z in this.panels){O0u=this.panels[n5z];if(O0u.highlighted){this.grabHandle(O0u);return;}}p3Q=this.currentPanel;M2k.s$9(140);this.gestureStartDistance=Math.sqrt(M2k.v$j(F7z,D53,c6N,D53,F7z,c6N,z_q,z_q));this.pt={x1:c6N,x2:F7z,y1:D53,y2:z_q};this.grabbingScreen=!!1;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}p3Q.chart.spanLock=!{};M2k.s$9(0);this.grabStartX=M2k.v$j(c6N,H0J);M2k.s$9(0);this.grabStartY=M2k.V9a(D53,H6h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=p3Q.chart.scroll;this.grabStartScrollY=p3Q.yAxis.scroll;this.grabStartPanel=p3Q;if(this.swipeStart){this.swipeStart(p3Q.chart);}this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(p3Q,this.backOutX((c6N+F7z)/2))||p3Q.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:"0"|0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,p3Q),y2:this.valueFromPixel(this.pt.y2-this.top,p3Q),t1:this.tickFromPixel(this.pt.x1-this.left,p3Q.chart),t2:this.tickFromPixel(this.pt.x2-this.left,p3Q.chart)};this.twoFingerStart=!!{};setTimeout(function(h3A){return function(){M2k.W3G();h3A.grabbingHand();};}(this),100);}else if(this.touches.length==3){if(!this.displayCrosshairs){return;}U_H=this.touches[0];G5q=U_H.clientX;this.grabStartX=G5q;this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length==1&&!this.layout.crosshair){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime||this.longHoldTime===0){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};W76.ChartEngine.prototype.touchend=function(J3j){var M6a=i6UVR;var V$w,S$M,v1G,a0X,W_e,u1q,v7d,r28,e5_,C7g,t88,g1V,u0$,d39,j5e;V$w="t";V$w+="ouchend";if(W76.ChartEngine.ignoreTouch){return;}this.swipe.end=!0;if(W76.isSurface){}else{this.touches=J3j.touches;S$M=848413121;v1G=1614484767;a0X=2;for(var n8_=1;M6a.m6F(n8_.toString(),n8_.toString().length,13841)!==S$M;n8_++){this.changedTouches=J3j.changedTouches;a0X+=2;}if(M6a.l5h(a0X.toString(),a0X.toString().length,69418)!==v1G){this.changedTouches=J3j.changedTouches;}}if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!!{};if(this.touches.length<=1){if(this.layout.crosshair||this.currentVectorParameters.vectorType){if(!this.touches.length||!this.twoFingerStart){this.grabbingScreen=!{};}}}if(this.touches.length){this.grabStartX=-1;this.grabStartY=-1;}W_e=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!this.touches.length){this.touchingEvent=setTimeout(function(Y0O){return function(){M6a.W5N();Y0O.touching=!"1";};}(this),500);if(W76.ChartEngine.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!0;this.grabbingScreen=!!"";this.grabMode="";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else{if(W76.ChartEngine.resizingPanel){return;}}M6a.O_b(1);var N6v=M6a.v$j(13,14);u1q=this.touches.length+N6v;if(this.changedTouches.length==1){if(this.repositioningDrawing){this.changeOccurred("vector");W76.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType){this.findHighlights(!{},!![]);}return;}if(this.repositioningBaseline){v7d="mo";v7d+="unta";v7d+="in";this.repositioningBaseline=null;this.controls.baselineHandle.classList.remove("stx-grab");r28=this.mainSeriesRenderer||{};if(r28.params&&r28.params.baseline&&r28.params.type!=v7d){;}this.draw();return;}if(this.repositioningAnchorSelector){W76.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(function(_ref24){var q_X=_ref24.handle;M6a.W3G();return q_X.classList.remove("stx-grab");});return;}e5_=Date.now();if(this.openDialog===""&&J3j.changedTouches.length){C7g=J3j.changedTouches[0];this.registerPointerEvent({x:C7g.clientX,y:C7g.clientY,time:e5_},"up");}if(this.clicks.s2MS==-1){this.clicks.e1MS=e5_;t88=this.currentVectorParameters.vectorType;if(!W76.Drawing||!t88||!W76.Drawing[t88]||!new W76.Drawing[t88]().dragToDraw){if(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)){setTimeout(this.touchSingleClick(u1q,this.clicks.x,this.clicks.y),this.doubleClickTime+ +"1");;}else{this.clicks={s1MS:-1,e1MS:-("1"<<32),s2MS:-1,e2MS:-+"1"};}}this.userPointerDown=!!0;g1V=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset;u0$=this.backOutX(this.changedTouches[+"0"].pageX)+this.crosshairXOffset;d39=this.currentPanel;j5e=d39&&d39.subholder===J3j.target;if(W76.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&j5e){this.drawingClick(d39,u0$,g1V);return;}if(this.isDoubleClick(!!1)&&(j5e||this.overYAxis||this.overXAxis)){this.touchDoubleClick(u1q,this.clicks.x,this.clicks.y);}}else{this.clicks.e2MS=e5_;this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity!=-("1"^0)&&!isNaN(this.grabEndPeriodicity)){if(W76.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&u1q==1||this.twoFingerStart&&!W_e&&!this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!"1",!"");}if(W_e&&this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!!1);}}if(!this.touches.length){this.twoFingerStart=!{};}this.runAppend(V$w,arguments);};u5p=![];W76.ChartEngine.prototype.mousemoveinner=W76.ChartEngine.prototype.mousemoveinner||function(E1C,K9u){var e5l;e5l="touch feature requires acti";e5l+="vating movement ";i6UVR.W5N();e5l+="feature.";if(!u5p){console.error(e5l);}u5p=!![];};};K_=function K_(k2F){var p9R;p9R=typeof _CIQ!=="undefined"?_CIQ:k2F.CIQ;p9R.Visualization=p9R.Visualization||function(y7R){var n7$;if(!y7R){n7$="CIQ.V";n7$+="isualization() miss";n7$+="ing attributes argument.";console.log(n7$);return;}if(typeof y7R.renderFunction!=="function"){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;this.attributes=y7R;this.data=null;this.object=null;};p9R.extend(p9R.Visualization.prototype,{destroy:function destroy(r_m){var V$V;V$V=this.container;p9R.resizeObserver(V$V,null,V$V.resizeHandle);if(V$V.autoGenerated){V$V.remove();delete this.container;}else{V$V.innerHTML="";}if(r_m){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function draw(R9d){var F3U=i6UVR;var X9w,Q4l,V9m,n2m,x$c,U6E,E_Y,l56,A7Y,e_M,n5l,y4x;if(!this.data||_typeof(this.data)!=="object"){console.log("CIQ.Visualization.draw() missing data.");X9w=1535042138;Q4l=+"1684975138";F3U.O_b(39);V9m=F3U.V9a("2",0);for(var z5A=1;F3U.m6F(z5A.toString(),z5A.toString().length,"73626">>0)!==X9w;z5A++){return;}if(F3U.l5h(V9m.toString(),V9m.toString().length,"45784"<<0)!==Q4l){return;}return;}n2m=this.attributes;x$c=n2m.container||this.container;F3U.O_b(2);U6E=F3U.v$j(1,"1152923535");E_Y=-651944491;l56=2;for(var h27=1;F3U.l5h(h27.toString(),h27.toString().length,"48714"^0)!==U6E;h27++){if(~x$c!==""){x$c=document.querySelector(x$c);}l56+=2;}if(F3U.l5h(l56.toString(),l56.toString().length,53662)!==E_Y){if(+x$c!=""){x$c=document.querySelector(x$c);}}if(typeof x$c==="string"){x$c=document.querySelector(x$c);}if(!x$c){A7Y="d";A7Y+="iv";x$c=document.createElement(A7Y);x$c.style.height=x$c.style.width="300px";document.body.appendChild(x$c);x$c.autoGenerated=!"";}if(n2m.stx){e_M=n2m.stx.chart.canvasShim;if(n2m.useCanvasShim&&e_M&&e_M!==x$c&&e_M!==x$c.parentNode){if(!x$c.autoGenerated){x$c=x$c.cloneNode();x$c.id="";x$c.autoGenerated=!!1;}e_M.appendChild(x$c);}}if(this.container&&this.container!==x$c){this.destroy(!![]);}if(!x$c.resizeHandle){n5l=function n5l(q8p){F3U.W5N();return function(){if(q8p.data&&q8p.container&&document.body.contains(q8p.container)){q8p.draw.call(q8p,!!"1");}};};x$c.resizeHandle=p9R.resizeObserver(x$c,n5l(this),null,100);}this.container=x$c;this.attributes=n2m;function z72(m1r,U6J){F3U.W5N();return m1r.index<U6J.index?-("1"|1):m1r.index>U6J.index?1:0;}n2m=p9R.ensureDefaults({container:this.container},this.attributes);y4x=n2m.renderFunction(Object.values(this.data).sort(z72),n2m);F3U.W3G();if(y4x){if(n2m.id){y4x.id=n2m.id;}if(R9d||n2m.forceReplace){this.container.innerHTML="";this.container.appendChild(y4x);}}this.attributes=n2m;this.object=y4x;},setAttributes:function setAttributes(P6a,X_a){var C3L,F2k,M3e,I55,r1l,O_w,u7i;C3L="o";C3L+="bje";C3L+="ct";F2k="i";F2k+="d";M3e="useCanvasShi";M3e+="m";I55="s";I55+="t";I55+="x";r1l=["renderFunction","container",I55,M3e,F2k,"forceReplace"];O_w=![];u7i=P6a;if(typeof P6a=="string"){u7i={};u7i[P6a]=X_a;}if(_typeof(u7i)==C3L){for(var l7v in u7i){if(this.attributes[l7v]!==u7i[l7v]&&r1l.indexOf(l7v)!==-1){O_w=!!{};}this.attributes[l7v]=u7i[l7v];}}this.draw(O_w);},updateData:function updateData(y04,f$x){var i8q,Y0Z,i6x,D1o,Q97,Y5R,n_L;i6x=Array.isArray(y04)?y04.reduce(function(J$I,a_f){i6UVR.W3G();J$I[a_f.name]=a_f;return J$I;},{}):p9R.shallowClone(y04);for(i8q in i6x){D1o="[objec";D1o+="t";D1o+=" Object";D1o+="]";Y0Z=i6x[i8q];if(Object.prototype.toString.call(Y0Z)!==D1o){i6x[i8q]={value:Y0Z};}if(!i6x[i8q].name){i6x[i8q].name=i8q;}if(!i6x[i8q].value){i6x[i8q].value=0;}}Q97=1047076763;Y5R=1195307784;n_L=2;for(var M$X=1;i6UVR.l5h(M$X.toString(),M$X.toString().length,"26416">>32)!==Q97;M$X++){if(-f$x){f$x="";}n_L+=2;}if(i6UVR.m6F(n_L.toString(),n_L.toString().length,71509)!==Y5R){if(!f$x){f$x="replace";}}switch(f$x.toLowerCase()){case"delete":for(i8q in i6x){delete this.data[i8q];}break;case"replace":this.data={};case"update":case"add":for(i8q in i6x){if(!this.data[i8q]){this.data[i8q]={name:i8q};}Y0Z=i6x[i8q].value;if(Object.prototype.toString.call(Y0Z)=="[object Number]"){if(!this.data[i8q].value||f$x=="update"){this.data[i8q].value=0;}this.data[i8q].value+=Y0Z;}else{this.data[i8q].value=Y0Z;}for(var s9h in i6x[i8q]){if(s9h!=="value"){this.data[i8q][s9h]=i6x[i8q][s9h];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}i6UVR.W5N();this.draw(this.attributes.forceReplace);return this;}});p9R.ChartEngine.prototype.embedVisualization=function(c9S){if(!c9S){c9S={};}c9S.stx=this;c9S.useCanvasShim=!"";c9S.translator=function(p5G){return c9S.stx.translateIf(p5G);};return new p9R.Visualization(c9S);};};D5=function D5(K0J){var g7f,m6$;g7f=typeof _CIQ!=="undefined"?_CIQ:K0J.CIQ;if(!g7f.Studies){m6$="medianPrice feature requires first activating stu";m6$+="d";m6$+="ies feature.";console.error(m6$);}else{g7f.Studies.calculateTypicalPrice=function(n38,C3E){var P2K=i6UVR;var z3H,C_x,K7T,X11,r2M,B5B;z3H="h";z3H+="l/2";C_x=C3E.chart.scrubbed;K7T=C3E.days;if(C_x.length<K7T+1){if(!C3E.overlay){C3E.error=!"";}return;}X11=C3E.name;for(var h0h in C3E.outputs){P2K.O_b(35);X11=P2K.v$j(" ",X11,h0h);}r2M="hlc/3";if(C3E.type=="Med Price"){r2M=z3H;}else if(C3E.type=="Weighted Close"){r2M="hlcc/4";}B5B=0;if(C3E.startFrom<=K7T){C3E.startFrom=0;}for(var G7Q=C3E.startFrom;G7Q<C_x.length;G7Q++){if(G7Q&&C_x[G7Q-1][X11]){P2K.s$9(131);var a8c=P2K.V9a(32,24,5,13);B5B=C_x[G7Q-("1">>a8c)][X11]*K7T;}B5B+=C_x[G7Q][r2M];if(G7Q>=K7T){P2K.O_b(1);B5B-=C_x[P2K.V9a(K7T,G7Q)][r2M];P2K.s$9(9);C_x[G7Q][X11]=P2K.v$j(B5B,K7T);}}};g7f.Studies.studyLibrary=g7f.extend(g7f.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:g7f.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};S8=function S8(e32){var g_m;g_m=typeof _CIQ!=="undefined"?_CIQ:e32.CIQ;if(!g_m.Studies){console.error("momentum feature requires first activating studies feature.");}else{g_m.Studies.calculateRateOfChange=function(Y0Q,b6P){var S4u=i6UVR;var z3$,d1j,f7M,N2i,x2C,R13,u5P,N7G;z3$=b6P.chart.scrubbed;if(z3$.length<b6P.days+1){b6P.error=!!"1";return;}S4u.W5N();d1j=b6P.inputs.Field;if(!d1j||d1j=="field"){d1j="Close";}if(b6P.parameters.isVolume){d1j="Volume";}f7M=b6P.name;for(var N7m in b6P.outputs){S4u.s$9(35);f7M=S4u.V9a(" ",f7M,N7m);}N2i=b6P.inputs["Center Line"];if(!N2i){N2i=0;}else{N2i=parseInt(N2i,10);}for(var I32=Math.max(b6P.startFrom,b6P.days);I32<z3$.length;I32++){x2C="obje";x2C+="c";x2C+="t";R13=z3$[I32][d1j];if(R13&&_typeof(R13)==x2C){R13=R13[b6P.subField];}u5P=z3$[I32-b6P.days][d1j];if(u5P&&_typeof(u5P)=="object"){u5P=u5P[b6P.subField];}if(b6P.type=="Momentum"){S4u.s$9(33);z3$[I32][f7M]=S4u.V9a(R13,N2i,u5P);}else{N7G=u5P;if(N7G){S4u.O_b(142);z3$[I32][f7M]=S4u.V9a(N2i,R13,N7G,100,1);}}}};g_m.Studies.studyLibrary=g_m.extend(g_m.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:g_m.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:g_m.Studies.calculateRateOfChange,inputs:{Period:+"14"},centerline:0}});}};V4=function V4(a28){var E0u;E0u=typeof _CIQ!=="undefined"?_CIQ:a28.CIQ;if(!E0u.Studies){console.error("priceRelative feature requires first activating studies feature.");}else{E0u.Studies.initPriceRelative=function(Z7Q,l6V,L_4,O_y,E73,G15){var U6X,D4C;U6X=E0u.Studies.initializeFN(Z7Q,l6V,L_4,O_y,E73,G15);D4C=[U6X.inputs["Comparison Symbol"].toUpperCase()];E0u.Studies.fetchAdditionalInstruments(Z7Q,U6X,D4C);i6UVR.W3G();return U6X;};E0u.Studies.calculatePriceRelative=function(m$v,v6S){var w65,n3x,O7i,z_Z,R6w,a6J,v41;w65="]";w65+="/";w65+="[";n3x=v6S.chart.scrubbed;O7i=v6S.inputs["Comparison Symbol"].toUpperCase();if(!O7i){O7i=v6S.study.inputs["Comparison Symbol"];}z_Z={};R6w=m$v.chart.symbol||"";R6w=R6w.replace(/[=+\-*\\%]/g,"");z_Z[R6w]=n3x.slice(v6S.startFrom);if(!z_Z[R6w].length){return;}if(R6w!=O7i){z_Z[O7i]=null;}i6UVR.s$9(75);a6J=E0u.computeEquationChart(i6UVR.v$j(O7i,R6w,"[", true?+"6924"==560.73?(837.63,299.24)<=(6293,"2300"|72)?4.36e+3:"a":"]":undefined,w65),z_Z);v41=+"0";for(var E3p=v6S.startFrom;E3p<n3x.length&&v41<a6J.length;E3p++){while(v41<a6J.length&&n3x[E3p].DT.getTime()>a6J[v41].DT.getTime()){v41++;}if(n3x[E3p].DT.getTime()<a6J[v41].DT.getTime())continue;n3x[E3p]["Result "+v6S.name]=a6J[v41].Close;v41++;}};E0u.Studies.displayVsComparisonSymbol=function(g2p,o_V,r9i){var N29,N92,z77,e8t,I70;N29="C";N29+="o";N29+="m";N29+="parison Symbol";N92=o_V.inputs[N29].toUpperCase();if(!g2p.getSeries({symbol:N92,chart:o_V.chart}).length){g2p.displayErrorAsWatermark(o_V.panel,g2p.translateIf(o_V.study.name)+": "+g2p.translateIf("Not Available"));return;}z77={skipTransform:g2p.panels[o_V.panel].name!=o_V.chart.name,panelName:o_V.panel,band:"Result "+o_V.name,threshold:o_V.study.centerline,yAxis:o_V.getYAxis(g2p),gapDisplayStyle:!!"1"};e8t=z77.yAxis?z77.yAxis.flipped:g2p.panels[o_V.panel].yAxis.flipped;i6UVR.W5N();I70=0.3;if(!o_V.highlight&&g2p.highlightedDraggable){I70*=0.3;}for(var y5N=r9i.length-("1"|0);y5N>=0;y5N--){if(r9i[y5N]&&r9i[y5N][N92]){E0u.Studies.displaySeriesAsLine(g2p,o_V,r9i);if(o_V.study.centerline||o_V.study.centerline===("0"|0)){if(o_V.outputs.Gain){E0u.preparePeakValleyFill(g2p,E0u.extend(z77,{direction:e8t?-1:1,color:E0u.Studies.determineColor(o_V.outputs.Gain),opacity:I70}));}if(o_V.outputs.Loss){E0u.preparePeakValleyFill(g2p,E0u.extend(z77,{direction:e8t?1:-1,color:E0u.Studies.determineColor(o_V.outputs.Loss),opacity:I70}));}}return;}}};E0u.Studies.fetchAdditionalInstruments=function(U9F,C7Z,x76,F4y){var G30,j4q,J0z,n9h,M17,R84,a5_;if(!U9F.quoteDriver){G30="CIQ.Studies.fetchAdditionalInstruments: No quotefee";G30+="d to fet";G30+="ch symbol";console.log(G30);return;}j4q=U9F.panels[C7Z.panel].chart;function m__(){U9F.createDataSet();U9F.draw();}C7Z.symbols=x76;for(J0z=0;J0z<x76.length;J0z++){n9h=M17=x76[J0z];if(_typeof(M17)=="object"){n9h=M17.symbol;}else{M17={symbol:n9h};}R84={symbol:n9h,symbolObject:M17,bucket:"study",studyName:C7Z.name,chartName:j4q.name,action:"add-study"};E0u.extend(R84,F4y);a5_=R84.loadData;if(U9F.currentlyImporting){R84.loadData=![];}if(!C7Z.series){C7Z.series={};}C7Z.series[n9h]=U9F.addSeries(null,R84,m__);C7Z.series[n9h].parameters.loadData=a5_;}};E0u.Studies.studyLibrary=E0u.extend(E0u.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:E0u.Studies.initPriceRelative,seriesFN:E0u.Studies.displayVsComparisonSymbol,calculateFN:E0u.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}});}};U$=function U$(b4S){var h1g,N$E,r7P,F$x,V_J,C5f,x4Z,o9M,a5z,S0I;h1g="un";h1g+="d";h1g+="ef";h1g+="ined";N$E=(typeof _CIQ==="undefined"?"undefined":_typeof(_CIQ))!==h1g?_CIQ:b4S.CIQ;if(!N$E.Studies){r7P="vwap feature requires first activating studies ";r7P+="fea";r7P+="ture.";console.error(r7P);}else{F$x="#f";F$x+="ff69";F$x+="e";V_J="#";V_J+="85c";V_J+="99e";C5f="#e";C5f+="1e";C5f+="1";C5f+="e1";x4Z="h";x4Z+="h";x4Z+=":mm:s";x4Z+="s";o9M="#85c";o9M+="99e";a5z="#e1e";a5z+="1e1";S0I="#";S0I+="F";S0I+="F0";S0I+="000";N$E.Studies.calculateVWAP=function(A4N,Y75){var S_r=i6UVR;var Y$p,F30,w3K,b8e,p9L,M7t,F5$,G2H,Q6P,M0S,W4$,V5O,n6M,M7m,V2t,W$O,Y0B,f25,h9q,Q4k,s9b,Q0A,p$v,R_i,i6n,t8P,Y5Q,e9D,o7B;Y$p="A";Y$p+="V";Y$p+="WA";S_r.W3G();Y$p+="P";F30=Y75.type==Y$p;w3K=Y75.chart.scrubbed;if(!F30&&N$E.ChartEngine.isDailyInterval(A4N.layout.interval)){Y75.error="VWAP is Intraday Only";return;}b8e="hlc/3";if(F30){b8e=Y75.inputs.Field;if(!b8e||b8e=="field"){p9L="h";p9L+="l";p9L+="c/";p9L+="3";b8e=Y75.inputs.Field=p9L;A4N.changeOccurred("layout");}}M7t=null;F5$=0;G2H=0;Q6P=+"0";M0S=!!"";if(Y75.startFrom>1){W4$="_";W4$+="V";W4$+=" ";F5$=w3K[Y75.startFrom-1][W4$+Y75.name]||0;G2H=w3K[Y75.startFrom-1]["_VxP "+Y75.name]||0;Q6P=w3K[Y75.startFrom-1]["_VxP2 "+Y75.name]||0;}if(F30){V5O="An";V5O+="cho";V5O+="r Time";n6M="Anc";n6M+="hor D";n6M+="ate";M7m=Y75.inputs[n6M].replace(/-/g,"");if(M7m.search(/^\d{8}$/)){Y75.error="Invalid Anchor Date";return;}V2t=Y75.inputs[V5O].replace(/:/g,"");if(!V2t.search(/^\d{4,6}$/)){M7m+=V2t;}M7m=N$E.strToDateTime(M7m.replace(/\D/g,""));if(!Y75.startFrom&&M7m>=w3K["0"|0].DT){Y75.startFrom=A4N.tickFromDate(M7m,A4N.chart,null,!"");}if(Y75.inputs["Anchor Selector"]){N$E.Studies.initAnchorHandle(A4N,Y75);}else{N$E.Studies.removeAnchorHandle(A4N,Y75);}}for(var I0X=Y75.startFrom;I0X<w3K.length;I0X++){W$O="VWA";W$O+="P ";Y0B="_S";Y0B+="DVWAP ";if(!F30){if(M7t===null){M7t=N$E.Studies.getMarketOffset({stx:A4N,localQuoteDate:w3K[I0X].DT,shiftToDateBoundary:!![]});}if(w3K[I0X-1]&&w3K[I0X-1].DT){f25=new Date(new Date(+w3K[I0X].DT).setMilliseconds(w3K[I0X].DT.getMilliseconds()+M7t));h9q=new Date(new Date(+w3K[I0X-1].DT).setMilliseconds(w3K[I0X-1].DT.getMilliseconds()+M7t));if(h9q.getDate()!=f25.getDate()&&A4N.chart.market.isMarketDate(f25)){M7t=null;F5$=G2H=Q6P=0;}}}Q4k=w3K[I0X][b8e];s9b=w3K[I0X].Volume;if(F30&&!s9b){s9b=1;}F5$+=s9b;S_r.O_b(2);G2H+=S_r.V9a(Q4k,s9b);S_r.s$9(143);Q6P+=S_r.V9a(Q4k,Q4k,s9b);if(!F30&&!F5$)continue;w3K[I0X]["_V "+Y75.name]=F5$;w3K[I0X]["_VxP "+Y75.name]=G2H;w3K[I0X]["_VxP2 "+Y75.name]=Q6P;Q0A=w3K[I0X][Y0B+Y75.name]=Math.sqrt(Math.max("0">>32,Q6P/F5$-Math.pow(G2H/F5$,"2"^0)));S_r.s$9(9);p$v=w3K[I0X][W$O+Y75.name]=S_r.V9a(G2H,F5$);for(var Y9y=1;Y9y<=3;Y9y++){S_r.s$9(46);w3K[I0X]["SDVWAP"+Y9y+"+ "+Y75.name]=S_r.V9a(Y9y,p$v,Q0A);S_r.s$9(90);w3K[I0X]["SDVWAP"+Y9y+"- "+Y75.name]=S_r.v$j(Q0A,Y9y,p$v);}M0S=!"";}for(var i6X="1"^0;i6X<=3;i6X++){if(Y75.inputs["Display "+i6X+" Standard Deviation ("+i6X+"\u03C3)"]){R_i="\u03C3";R_i+=")";i6n=" Standard Devi";i6n+="ation (";t8P="+";t8P+=" ";S_r.O_b(51);Y75.outputMap["SDVWAP"+i6X+t8P+Y75.name]=S_r.V9a("\u03C3)",i6X,i6X," Standard Deviation (");S_r.s$9(51);Y75.outputMap["SDVWAP"+i6X+"- "+Y75.name]=S_r.V9a(R_i,i6X,i6X,i6n);}}if(!F30&&!M0S){S_r.O_b(29);Y5Q=S_r.V9a("1262758872",32);e9D=-1311081374;o7B=2;for(var A_Q=+"1";S_r.m6F(A_Q.toString(),A_Q.toString().length,71139)!==Y5Q;A_Q++){Y75.error="VWAP Requires Volume";o7B+=2;}if(S_r.m6F(o7B.toString(),o7B.toString().length,73285)!==e9D){Y75.error="";}}};N$E.Studies.initAnchoredVWAP=function(u9M,V8c,O5X,l47,E4f,P$f){i6UVR.W5N();var E8f,V9t;if(!O5X["Anchor Date"]&&!O5X["Anchor Time"]){var Z1G=u9M.chart.dataSegment;for(var H3p=0;Z1G&&H3p<Z1G.length;H3p++){if(Z1G[H3p]){E8f="H";E8f+="H";E8f+=":";E8f+="mm:ss";var z8m=Z1G[H3p].DT;O5X["Anchor Date"]=N$E.dateToStr(z8m,"YYYY-MM-dd");O5X["Anchor Time"]=N$E.dateToStr(z8m,E8f);break;}}}V9t=N$E.Studies.initializeFN(u9M,V8c,O5X,l47,E4f,P$f);return V9t;};N$E.Studies.displayVWAP=function(y_J,W2D,G14){var g5E,j2w,l0O,h8a,K7b,N9o,x0$,S5v,D56,z6t,y6m,V45,F$V;N$E.Studies.displaySeriesAsLine(y_J,W2D,G14);g5E=1321979554;j2w=1566726702;l0O=2;for(var A8J=1;i6UVR.m6F(A8J.toString(),A8J.toString().length,28827)!==g5E;A8J++){h8a=W2D.inputs["Display 1 Standard Deviation (1\u03C3)"];l0O+=2;}if(i6UVR.l5h(l0O.toString(),l0O.toString().length,+"36888")!==j2w){h8a=W2D.inputs[""];}K7b=W2D.inputs["Display 2 Standard Deviation (2\u03C3)"];N9o=W2D.inputs["Display 3 Standard Deviation (3\u03C3)"];if((h8a||K7b||N9o)&&W2D.inputs.Shading){x0$="V";x0$+="WAP ";S5v=y_J.panels[W2D.panel];D56={opacity:W2D.parameters.opacity?W2D.parameters.opacity:0.2,skipTransform:S5v.name!=W2D.chart.name,yAxis:W2D.getYAxis(y_J)};if(!W2D.highlight&&y_J.highlightedDraggable){D56.opacity*=0.3;}z6t=x0$+W2D.name;y6m="VWAP "+W2D.name;if(h8a){V45="SDVW";V45+="AP1";V45+="+";V45+=" ";N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP1+ "+W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP1+ "+W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP1- "+W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP1- "+W2D.name]])},D56));z6t=V45+W2D.name;y6m="SDVWAP1- "+W2D.name;}if(K7b){F$V="S";F$V+="DVWAP2- ";N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP2+ "+W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP2+ "+W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP2- "+W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP2- "+W2D.name]])},D56));z6t="SDVWAP2+ "+W2D.name;y6m=F$V+W2D.name;}if(N9o){N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP3+ "+W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP3+ "+W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP3- "+W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP3- "+W2D.name]])},D56));}}if(W2D.anchorHandle){N$E.Studies.displayAnchorHandleAndLine(y_J,W2D,G14);}};N$E.Studies.studyLibrary=N$E.extend(N$E.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!!{},calculateFN:N$E.Studies.calculateVWAP,seriesFN:N$E.Studies.displayVWAP,initializeFN:N$E.Studies.initAnchoredVWAP,removeFN:N$E.Studies.removeAnchorHandle,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!"1",Shading:![],"Anchor Selector":!!"1"},outputs:{VWAP:S0I,"1 Standard Deviation (1\u03C3)":a5z,"2 Standard Deviation (2\u03C3)":o9M,"3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:x4Z,step:1}}},VWAP:{name:"VWAP",overlay:!!{},calculateFN:N$E.Studies.calculateVWAP,seriesFN:N$E.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!{},Shading:!{}},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":C5f,"2 Standard Deviation (2\u03C3)":V_J,"3 Standard Deviation (3\u03C3)":F$x},parameters:{init:{opacity:0.2}}}});}};v8=function v8(b$_){var O6S=i6UVR;var I1W,i3p;O6S.W5N();I1W=typeof _CIQ!=="undefined"?_CIQ:b$_.CIQ;if(!I1W.Studies){console.error("zigzag feature requires first activating studies feature.");}else{i3p="Z";i3p+="igZag";I1W.Studies.calculateZigZag=function(r$p,w6S){var p7o,c7D,S4a,b9R,d4W,F5v,b_8,A8D,j8$,b4n,A8L,S6s,d5j,S0O,O7v,D0b,Z_f,N8x,V6P,k3I,i1a,G8$,G6O;p7o="_";p7o+="state ";c7D="L";c7D+="o";c7D+="w";S4a=w6S.chart.scrubbed;if(!S4a||!S4a.length){return;}b9R=w6S.highLowChart;d4W=null;F5v=null;b_8=w6S.inputs["Distance(%)"];function F6f(P6u,E5p){var W_B;for(var s_w=P6u+1;s_w<E5p;s_w++){W_B="Re";W_B+="s";W_B+="u";W_B+="lt ";S4a[s_w]["ShadowResult "+w6S.name]=(S4a[E5p][W_B+w6S.name]-S4a[P6u]["Result "+w6S.name])*(s_w-P6u)/(E5p-P6u)+S4a[P6u]["Result "+w6S.name];delete S4a[s_w]["Result "+w6S.name];}}A8D=0;j8$=+"0";b4n=0;A8L=null;S6s=null;d5j=+"0";for(var o4P=Math.min(S4a.length-("1">>0),w6S.startFrom);o4P>=+"0";o4P--){d5j=o4P;if(S4a[o4P]["_state "+w6S.name]){S0O=S4a[o4P]["_state "+w6S.name];d4W=S0O[0];F5v=S0O[1];A8D=S0O[+"2"];j8$=S0O[+"3"];b4n=S0O[4];A8L=S0O[5];S6s=S0O[6];break;}}for(var A2d=d5j;A2d<S4a.length;A2d++){O7v="Clo";O7v+="s";O7v+="e";D0b=S4a[A2d][b9R?"High":O7v];Z_f=S4a[A2d][b9R?"Low":"Close"];if(F5v===null||F5v<D0b){F5v=D0b;if(A8D<0){d4W=Z_f;}O6S.O_b(144);A8L=O6S.V9a(b_8,1,F5v,100);if(A8D>-1){if(S6s!==null&&F5v>S6s){N8x="Clo";N8x+="se";V6P="L";V6P+="o";V6P+="w";S4a[j8$]["Result "+w6S.name]=S4a[j8$][b9R?V6P:N8x];F6f(b4n,j8$);A8D=-1;d4W=Z_f;b4n=j8$;j8$=A2d;continue;}}else{j8$=A2d;}}if(d4W===null||d4W>Z_f){d4W=Z_f;if(A8D>+"0"){F5v=D0b;}O6S.O_b(145);S6s=O6S.V9a(b_8,100,d4W,"1");if(A8D<1){if(A8L!==null&&d4W<A8L){k3I="Hi";k3I+="g";k3I+="h";i1a="Res";i1a+="ult";i1a+=" ";S4a[j8$][i1a+w6S.name]=S4a[j8$][b9R?k3I:"Close"];F6f(b4n,j8$);A8D=+"1";F5v=D0b;b4n=j8$;j8$=A2d;continue;}}else{j8$=A2d;}}}S4a[j8$]["Result "+w6S.name]=S4a[j8$][b9R?A8D==1?c7D:"High":"Close"];S4a[j8$][p7o+w6S.name]=[d4W,F5v,A8D,j8$,b4n,A8L,S6s];F6f(b4n,j8$);G8$=S4a.length-1;while(G8$>j8$){if(S4a[G8$].Close||S4a[G8$].Close===0){G6O="Resul";G6O+="t";G6O+=" ";S4a[G8$][G6O+w6S.name]=S4a[G8$][b9R?A8D==1?"High":"Low":"Close"];break;}G8$--;}F6f(j8$,G8$);};I1W.Studies.displayZigZag=function(i$j,f$C,E2V){var r13,V7R,o9t,g_a,S4t,r0j,U7_,T$d,D57,C9a,h2y,K4j;r13=i$j.chart.highLowBars;if(f$C.highLowChart!=r13){f$C.highLowChart=r13;f$C.startFrom=0;f$C.study.calculateFN(i$j,f$C);}V7R=i$j.chart;for(var M5a=0;M5a<E2V.length;M5a++){o9t=E2V[M5a];if(o9t){g_a="_sh";g_a+="ad";g_a+="o";g_a+="wCopy ";if(o9t[g_a+f$C.name]){S4t="Result";S4t+=" ";delete o9t[S4t+f$C.name];delete o9t["_shadowCopy "+f$C.name];}if(!o9t["Result "+f$C.name]){r0j="R";r0j+="e";r0j+="s";r0j+="ult ";if(o9t.transform){delete o9t.transform[r0j+f$C.name];}}}}O6S.s$9(42);U7_=E2V[O6S.V9a("0",0)];O6S.O_b(16);var f0M=O6S.V9a(8,0,7);T$d=E2V[E2V.length-f0M];if(U7_&&U7_["ShadowResult "+f$C.name]){D57="_";D57+="shadowC";D57+="opy";D57+=" ";C9a="S";C9a+="hado";C9a+="wResult";C9a+=" ";U7_["Result "+f$C.name]=U7_["ShadowResult "+f$C.name];if(U7_.transform){U7_.transform["Result "+f$C.name]=V7R.transformFunc(i$j,V7R,U7_[C9a+f$C.name]);}U7_[D57+f$C.name]=1;}if(T$d&&T$d["ShadowResult "+f$C.name]){h2y="S";h2y+="h";h2y+="adowResu";h2y+="lt ";K4j="R";K4j+="e";K4j+="sul";K4j+="t ";T$d[K4j+f$C.name]=T$d[h2y+f$C.name];if(T$d.transform){T$d.transform["Result "+f$C.name]=V7R.transformFunc(i$j,V7R,T$d["ShadowResult "+f$C.name]);}T$d["_shadowCopy "+f$C.name]=1;}I1W.Studies.displaySeriesAsLine(i$j,f$C,E2V);};I1W.Studies.studyLibrary=I1W.extend(I1W.Studies.studyLibrary,{ZigZag:{name:i3p,overlay:!![],seriesFN:I1W.Studies.displayZigZag,calculateFN:I1W.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!{}}},attributes:{"Distance(%)":{min:0.1,step:0.1}}}});}};I3={CIQ:_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["CIQ"],SplinePlotter:_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["SplinePlotter"],timezoneJS:_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["timezoneJS"],$$:_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$"],$$$:_js_chartiq_js__WEBPACK_IMPORTED_MODULE_0__["$$$"]};if((typeof __TREE_SHAKE__==="undefined"?"undefined":_typeof(__TREE_SHAKE__))===f6ulV||!__TREE_SHAKE__){I3.CIQ.activateImports(N,u,X,S,P,I,Q,V,M,T,R,W,Y,g,K,A,G,G6,k$,w6,q2,K_,D5,S8,V4,U$,v8,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ })

}]);
//# sourceMappingURL=chartiq-2cb749.smartcharts.js.map