/*! For license information please see core.main~acf22cc3.a3b86fe8db82a354fb06.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[5258],{37762:(t,e,r)=>{"use strict";var n,o,i,u=r(12788),c=r(32735),a=(r(45e3),r(94947),r(32957)),l=r(61823),s=r(47461),f=r(68722),y=r(89474);r(94434);if((null!==(n=window)&&void 0!==n&&null!==(o=(i=n.localStorage).getItem)&&void 0!==o&&o.call(i,"debug_service_worker")||!window.location.hostname.startsWith("localhost")&&!/binary\.sx/.test(window.location.hostname)||"deriv-app.binary.sx"===window.location.hostname)&&(0,a.Z)(),window.localStorage.getItem("exchange_rates")&&window.localStorage.removeItem("exchange_rates"),!(0,f.checkAndSetEndpointFromUrl)()){var p=(0,l.Z)(y.Z),b=document.getElementById("deriv_app");b&&u.render(c.createElement(s.Z,{useSuspense:!1,root_store:p}),b)}},21787:(t,e,r)=>{"use strict";r.r(e),r.d(e,{useAccountTransferVisible:()=>i,useActiveWallet:()=>T,useAuthorize:()=>b,useAvailableWallets:()=>B,useCFDAccounts:()=>z,useCFDAllAccounts:()=>K,useCFDCanGetMoreMT5Accounts:()=>X,useCFDDemoAccounts:()=>H,useCFDRealAccounts:()=>$,useCashierLocked:()=>Z,useContentFlag:()=>Y,useCountdown:()=>rt,useCryptoTransactions:()=>pt,useCurrencyConfig:()=>h,useCurrentAccountDetails:()=>bt,useCurrentCurrencyConfig:()=>dt,useDepositCryptoAddress:()=>St,useDepositFiatAddress:()=>At,useDepositLocked:()=>Ut,useExchangeRate:()=>Lt,useExistingCFDAccounts:()=>Ht,useFeatureFlags:()=>qt,useFiatAccountList:()=>Xt,useFileUploader:()=>ce,useGetMFAccountStatus:()=>ae,useHasActiveRealAccount:()=>le,useHasCryptoCurrency:()=>se,useHasFiatCurrency:()=>fe,useHasMFAccountDeposited:()=>ge,useHasMaltaInvestAccount:()=>o,useHasP2PSupportedCurrencies:()=>Te,useHasSetCurrency:()=>xe,useHasSvgAccount:()=>Ue,useHasSwapFreeAccount:()=>Me,useHasUSDCurrency:()=>Le,useInputATMFormatter:()=>Be,useInputDecimalFormatter:()=>Re,useIsAccountStatusPresent:()=>Ge,useIsClientHighRiskForMT5:()=>Q,useIsP2PEnabled:()=>Qe,useIsRealAccountNeededForCashier:()=>qe,useIsSystemMaintenance:()=>Xe,useLandingCompanyDetails:()=>or,useLocalStorageData:()=>cr,useMFAccountStatus:()=>ar,useMT5SVGEligibleToMigrate:()=>yr,useNeedAuthentication:()=>It,useNeedFinancialAssessment:()=>Ct,useNeedPOI:()=>pr,useNeedTNC:()=>xt,useNotificationEvent:()=>Or,useOnrampVisible:()=>_r,useP2PAdvertInfo:()=>Er,useP2PAdvertList:()=>Ur,useP2PAdvertiserPaymentMethods:()=>Vr,useP2PCompletedOrdersNotification:()=>qr,useP2PConfig:()=>Pe,useP2PExchangeRate:()=>Xr,useP2PNotificationCount:()=>tn,useP2POrderList:()=>Qr,useP2PPaymentMethods:()=>ln,usePaymentAgentList:()=>dn,usePaymentAgentTransferVisible:()=>hn,usePlatformAccounts:()=>Tn,usePlatformDemoAccount:()=>Dn,usePlatformRealAccounts:()=>Cn,useRealSTPAccount:()=>Tt,useServiceToken:()=>Nn,useStatesList:()=>Hn,useStoreLinkedWalletsAccounts:()=>to,useStoreWalletAccountsList:()=>Yn,useTotalAccountBalance:()=>ro,useTransferBetweenAccounts:()=>fo,useVerifyEmail:()=>bo,useWalletMigration:()=>vo,useWalletTransactions:()=>Po,useWalletTransfer:()=>To,useWalletsList:()=>C});var n=r(59472);const o=function(){return(0,n.useStore)().client.active_accounts.some((function(t){return"maltainvest"===t.landing_company_shortcode}))};const i=function(){var t=(0,n.useStore)().client,e=t.landing_company_shortcode,r=t.residence,i=o();return"im"!==r&&("malta"!==e||i)};var u=r(32735),c=r(85987);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var l=["data"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const b=function(t){var e,r=(0,n.useStore)().client,o=r.accounts,i=r.loginid,a=null===(e=o[(void 0===i?"":i)||""])||void 0===e?void 0:e.token,s=(0,c.useFetch)("authorize",{payload:{authorize:null!=t?t:a},options:{enabled:Boolean(null!=t?t:a)}}),y=s.data,b=p(s,l),d=(0,u.useMemo)((function(){return f({},null==y?void 0:y.authorize)}),[null==y?void 0:y.authorize]);return f({data:d},b)};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var v=["data"];function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const h=function(){var t,e,r=(0,c.useFetch)("website_status").data,n=(0,c.useFetch)("crypto_config"),o=n.data,i=_(n,v),a=(0,u.useMemo)((function(){var t;if(null!=r&&null!==(t=r.website_status)&&void 0!==t&&t.currencies_config){var e=r.website_status.currencies_config;return Object.keys(e).map((function(t){var r,n=e[t],i=null==o||null===(r=o.crypto_config)||void 0===r?void 0:r.currencies_config[t];return g(g(g({},n),i),{},{is_crypto:"crypto"===(null==n?void 0:n.type),is_fiat:"fiat"===(null==n?void 0:n.type),is_AUD:"AUD"===t,is_USD:"USD"===t,is_EUR:"EUR"===t,is_GBP:"GBP"===t,is_BTC:"BTC"===t,is_ETH:"ETH"===t,is_LTC:"LTC"===t,is_DAI:"DAI"===t,is_IDK:"IDK"===t,is_PAX:"PAX"===t,is_USB:"USB"===t,is_USDT:"UST"===t,is_TUSD:"TUSD"===t,is_BUSD:"BUSD"===t,is_EURS:"EURS"===t,is_eUSDT:"eUSDT"===t,is_tUSDT:"tUSDT"===t,is_USDC:"USDC"===t,is_USDK:"USDK"===t,code:t,display_code:"UST"===t?"USDT":t,icon:"IcCurrency".concat(t[0].toUpperCase()+t.slice(1).toLowerCase())})})).reduce((function(t,e){return g(g({},t),{},O({},e.code,e))}),{})}}),[null==o||null===(t=o.crypto_config)||void 0===t?void 0:t.currencies_config,null==r||null===(e=r.website_status)||void 0===e?void 0:e.currencies_config]);return g({getConfig:(0,u.useCallback)((function(t){return null==a?void 0:a[t]}),[a]),currencies_config:a},i)};function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}var j=["data","isSuccess"];function w(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===S(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var I={Demo:{dark:"IcWalletDerivDemoDark",light:"IcWalletDerivDemoLight"},USD:{dark:"IcWalletCurrencyUsd",light:"IcWalletCurrencyUsd"},EUR:{dark:"IcWalletCurrencyEur",light:"IcWalletCurrencyEur"},AUD:{dark:"IcWalletCurrencyAud",light:"IcWalletCurrencyAud"},GBP:{dark:"IcWalletCurrencyGbp",light:"IcWalletCurrencyGbp"},BTC:{dark:"IcWalletBitcoinDark",light:"IcWalletBitcoinLight"},ETH:{dark:"IcWalletEthereumDark",light:"IcWalletEthereumLight"},USDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},eUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},tUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},UST:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},LTC:{dark:"IcWalletLiteCoinDark",light:"IcWalletLiteCoinLight"},USDC:{dark:"IcWalletUsdCoinDark",light:"IcWalletUsdCoinLight"}};const C=function(){var t,e=(0,n.useStore)(),r=e.ui,o=e.client,i=r.is_dark_mode_on,a=o.is_authorize,l=h().getConfig,s=b(),f=s.data,y=s.isSuccess,p=A(s,j),d=(0,c.useFetch)("balance",{payload:{account:"all"},options:{enabled:a&&y}}).data,v=(0,u.useMemo)((function(){var t;return null==f||null===(t=f.account_list)||void 0===t?void 0:t.filter((function(t){return"wallet"===t.account_category}))}),[null==f?void 0:f.account_list]),m=(0,u.useMemo)((function(){return null==v?void 0:v.map((function(t){var e,r,n;return E(E({},t),{},{balance:(null==d||null===(e=d.balance)||void 0===e||null===(r=e.accounts)||void 0===r||null===(n=r[t.loginid||""])||void 0===n?void 0:n.balance)||0})}))}),[null==d||null===(t=d.balance)||void 0===t?void 0:t.accounts,v]),g=(0,u.useMemo)((function(){return null==m?void 0:m.map((function(t){var e,r=1===t.is_virtual?"Demo":t.currency||"",n="".concat(r.toLowerCase(),"-bg").concat(i?"--dark":""),o=I[r];return E(E({},t),{},{is_selected:t.loginid===(null==f?void 0:f.loginid),is_demo:1===t.is_virtual,wallet_currency_type:r,landing_company_name:null===(e=t.landing_company_name)||void 0===e?void 0:e.replace("maltainvest","malta"),is_malta_wallet:"malta"===t.landing_company_name,gradient_header_class:"wallet-header__".concat(n),gradient_card_class:"wallet-card__".concat(n),currency_config:t.currency?l(t.currency):void 0,icon:i?o.dark:o.light})}))}),[l,i,null==f?void 0:f.loginid,m]),O=(0,u.useMemo)((function(){return g?w(g).sort((function(t,e){var r,n,o;return t.is_virtual!==e.is_virtual?t.is_virtual?1:-1:(null===(r=t.currency_config)||void 0===r?void 0:r.is_crypto)!==(null===(n=e.currency_config)||void 0===n?void 0:n.is_crypto)?null!==(o=t.currency_config)&&void 0!==o&&o.is_crypto?1:-1:(t.currency||"USD").localeCompare(e.currency||"USD")})):[]}),[g]);return E({data:O,has_wallet:O&&O.length>0},p)};const T=function(){var t=C().data;return(0,u.useMemo)((function(){return null==t?void 0:t.find((function(t){return t.is_selected}))}),[t])};function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}var U=["data"];function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===x(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){return function(t){if(Array.isArray(t))return F(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const B=function(){var t=(0,n.useStore)(),e=t.client,r=t.ui.is_dark_mode_on,o=e.is_crypto,i=b().data,a=(0,c.useFetch)("get_account_types",{payload:{company:"virtual"===(null==i?void 0:i.landing_company_name)?"svg":null==i?void 0:i.landing_company_name},options:{enabled:Boolean(null==i?void 0:i.landing_company_name)}}),l=a.data,s=R(a,U),f=C().data,y=u.useMemo((function(){var t;if(!l)return null;var e=(null==l||null===(t=l.get_account_types)||void 0===t?void 0:t.wallet)||{},n=e.crypto,u=e.doughflow,c=null==n?void 0:n.currencies,a=null==u?void 0:u.currencies;if(!c||!a)return null;var s=[].concat(N(a),N(c)),y=null==f?void 0:f.filter((function(t){return!t.is_virtual})),p=null==y?void 0:y.map((function(t){return{currency:t.currency,landing_company_name:t.landing_company_name,is_added:!0,gradient_card_class:t.gradient_card_class}})),b=s.filter((function(t){return!(null!=p&&p.some((function(e){return e.currency===t})))})).map((function(t){return{currency:t,landing_company_name:"virtual"===(null==i?void 0:i.landing_company_name)?"svg":null==i?void 0:i.landing_company_name,is_added:!1,gradient_card_class:"wallet-card__".concat(t.toLowerCase(),"-bg").concat(r?"--dark":"")}}));return null==b||b.sort((function(t,e){return o(t.currency)!==o(e.currency)?o(t.currency)?1:-1:(t.currency||"USD").localeCompare(e.currency||"USD")})),Array.isArray(p)?(null==p||p.sort((function(t,e){return o(t.currency)!==o(e.currency)?o(t.currency)?1:-1:(t.currency||"USD").localeCompare(e.currency||"USD")})),[].concat(N(b),N(p))):N(b)}),[f,l,null==i?void 0:i.landing_company_name,r,o]);return L(L({},s),{},{data:y})};function G(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const K=function(){var t=(0,n.useStore)().client,e=t.dxtrade_accounts_list,r=t.mt5_login_list,o=t.ctrader_accounts_list,i=[];return Array.isArray(r)&&(i=[].concat(G(i),G(r))),Array.isArray(e)&&(i=[].concat(G(i),G(e))),Array.isArray(o)&&(i=[].concat(G(i),G(o))),i};const H=function(){return K().filter((function(t){return"demo"===t.account_type}))};const $=function(){var t=(0,n.useStore)().traders_hub.is_eu_user;return K().filter((function(e){var r="demo"===e.account_type,n="maltainvest"===e.landing_company_short;return!r&&(t?n:!n)}))};const z=function(){return{all:K(),demo:H(),real:$()}};var J=r(68722);const Q=function(){var t=(0,n.useStore)().client.trading_platform_available_accounts,e=t.filter((function(t){return"financial"===t.market_type})),r=t.filter((function(t){return"gaming"===t.market_type}));return 1===e.length&&e.every((function(t){return"svg"===t.shortcode}))&&1===r.length&&r.every((function(t){return"svg"===t.shortcode}))};var q=["synthetic","financial","all"];const X=function(){var t=(0,n.useStore)(),e=t.client.isEligibleForMoreRealMt5,r=t.traders_hub,o=r.is_eu_user,i=r.is_real,u=t.modules.cfd,c=Q();return i&&!o&&q.some((function(t){return function(t){return Object.keys(u.current_list).some((function(e){return e.startsWith("".concat(J.CFD_PLATFORMS.MT5,".real.").concat(t))}))}(t)}))&&q.some((function(t){return e(t)}))&&!c};const Z=function(){var t;return(null===(t=(0,n.useStore)().client.account_status.status)||void 0===t?void 0:t.some((function(t){return"cashier_locked"===t})))||!1};const Y=function(){var t=(0,n.useStore)().traders_hub,e=null==t?void 0:t.content_flag;return{is_low_risk_cr_non_eu:e===J.ContentFlag.LOW_RISK_CR_NON_EU,is_low_risk_cr_eu:e===J.ContentFlag.LOW_RISK_CR_EU,is_high_risk_cr:e===J.ContentFlag.HIGH_RISK_CR,is_cr_demo:e===J.ContentFlag.CR_DEMO,is_eu_demo:e===J.ContentFlag.EU_DEMO,is_eu_real:e===J.ContentFlag.EU_REAL}};function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const rt=function(t){var e=t.from,r=t.to,n=void 0===r?0:r,o=t.increment,i=void 0!==o&&o,c=tt((0,u.useState)(e),2),a=c[0],l=c[1],s=tt((0,u.useState)(!1),2),f=s[0],y=s[1];(0,u.useEffect)((function(){var t;return f&&(t=setTimeout((function(){a===n?p():l((function(t){return i?t+1:t-1}))}),1e3)),function(){return clearTimeout(t)}}),[a,f,n,i]);var p=function(){return y(!1)},b=function(){return l(e)};return{count:a,is_running:f,start:function(){return y(!0)},pause:p,reset:b,stop:function(){p(),b()}}};function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}var ot=["subscribe","data"];function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(Object(r),!0).forEach((function(e){ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ct(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==nt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t){return function(t){if(Array.isArray(t))return ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||st(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||st(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,e){if(t){if("string"==typeof t)return ft(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const pt=function(){var t,e=(0,c.useSubscription)("cashier_payments"),r=e.subscribe,n=e.data,o=yt(e,ot),i=lt((0,u.useState)(),2),a=i[0],l=i[1];(0,u.useEffect)((function(){r()}),[r]),(0,u.useEffect)((function(){l((function(t){var e,r=null==n||null===(e=n.cashier_payments)||void 0===e?void 0:e.crypto;if(!r)return t;if(!t)return r;var o=at(t);return r.forEach((function(t){var e=o.findIndex((function(e){return e.id===t.id}));-1===e?o.push(t):o[e]=t})),o}))}),[null==n||null===(t=n.cashier_payments)||void 0===t?void 0:t.crypto]);var s=(0,u.useMemo)((function(){return null==a?void 0:a.map((function(t){return ut(ut({},t),{},{is_deposit:"deposit"===t.transaction_type,is_withdrawal:"withdrawal"===t.transaction_type})}))}),[a]),f=(0,u.useMemo)((function(){return null==s?void 0:s.sort((function(t,e){return e.submit_date-t.submit_date}))}),[s]),y=s&&s.length>0;return ut({data:f,last_transaction:null==s?void 0:s[0],has_transactions:y,subscribe:r},o)};const bt=function(){var t=(0,n.useStore)().client,e=t.account_list,r=t.loginid;return e.find((function(t){return r===t.loginid}))};const dt=function(){var t=(0,n.useStore)().client.currency;return(0,h().getConfig)(t)};function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}var mt=["data","mutate"];function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach((function(e){_t(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _t(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ht(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const St=function(){var t,e,r=(0,c.useRequest)("cashier"),n=r.data,o=r.mutate,i=ht(r,mt),a="string"!=typeof(null==n?void 0:n.cashier)?null==n||null===(t=n.cashier)||void 0===t||null===(e=t.deposit)||void 0===e?void 0:e.address:void 0,l=(0,u.useCallback)((function(){return o({payload:{cashier:"deposit",provider:"crypto",type:"api"}})}),[o]);return(0,u.useEffect)((function(){l()}),[l]),Ot(Ot({},i),{},{resend:l,data:a})};function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}var wt=["data","mutate"];function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){Et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==jt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const At=function(){var t=(0,n.useStore)().ui.is_dark_mode_on,e=(0,c.useRequest)("cashier"),r=e.data,o=e.mutate,i=kt(e,wt),a=t?"on":"off",l="string"==typeof(null==r?void 0:r.cashier)?"".concat(null==r?void 0:r.cashier,"&DarkMode=").concat(a):void 0,s=(0,u.useCallback)((function(){return o({payload:{cashier:"deposit",provider:"doughflow"}})}),[o]);return(0,u.useEffect)((function(){s()}),[s]),Dt(Dt({},i),{},{resend:s,data:l})};const It=function(){var t=(0,n.useStore)(),e=t.client,r=t.traders_hub,o=e.is_authentication_needed,i=r.is_low_risk_cr_eu_real;return o&&i};const Ct=function(){var t=(0,n.useStore)().client,e=t.is_financial_account,r=t.is_financial_information_incomplete,o=t.is_trading_experience_incomplete;return e&&(r||o)};const Tt=function(){return(0,n.useStore)().client.mt5_login_list.some((function(t){return"real"===t.account_type&&"financial_stp"===t.sub_account_type}))};const xt=function(){var t=(0,n.useStore)().client,e=t.is_eu,r=t.is_tnc_needed,o=Tt();return(e||o)&&r};const Ut=function(){var t=(0,n.useStore)().client,e=t.is_deposit_lock,r=t.is_trading_experience_incomplete,o=t.landing_company_shortcode,i=It(),u=xt(),c=Ct();return e||i||u||("maltainvest"===o?r:c)};var Mt=function(){var t=(0,u.useContext)(n.ExchangeRatesContext);if(!t)throw new Error("useExchangeRate must be used within a ExchangeRatesProvider");return t};const Lt=Mt;function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}var Nt=["data"],Ft=["data"];function Rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(r),!0).forEach((function(e){Gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Kt=function(t){var e=t.cfd_type,r=t.market_type;switch(e){case"mt5":switch(r){case"financial":return"IcRebrandingMt5FinancialDashboard";case"synthetic":return"IcRebrandingMt5DerivedDashboard";case"all":return"IcRebrandingMt5SwapFree";default:return"IcRebrandingDmt5Dashboard"}case"dxtrade":return"IcRebrandingDerivX";default:return""}};const Ht=function(){var t=(0,n.useStore)().traders_hub.combined_cfd_mt5_accounts,e=T(),r=(0,c.useFetch)("mt5_login_list"),o=r.data,i=Vt(r,Nt),a=(0,c.useFetch)("trading_platform_accounts",{payload:{platform:"dxtrade"}}),l=a.data,s=Vt(a,Ft),f=(0,u.useMemo)((function(){var r;return null==o||null===(r=o.mt5_login_list)||void 0===r?void 0:r.map((function(r){return Bt(Bt(Bt({},r),(n=r.login,{platform:null==e||null===(o=e.linked_to)||void 0===o||null===(i=o.find((function(t){return t.loginid===n})))||void 0===i?void 0:i.platform,icon:null==t||null===(u=t.find((function(t){return t.login===n})))||void 0===u?void 0:u.icon,description:null==t||null===(c=t.find((function(t){return t.login===n})))||void 0===c?void 0:c.description,name:null==t||null===(a=t.find((function(t){return t.login===n})))||void 0===a?void 0:a.name,sub_title:null==t||null===(l=t.find((function(t){return t.login===n})))||void 0===l?void 0:l.sub_title,action_type:"multi-action"})),{},{loginid:r.login,transfer_icon:Kt(Bt({cfd_type:"mt5"},r))});var n,o,i,u,c,a,l}))}),[null==o?void 0:o.mt5_login_list,null==e?void 0:e.linked_to,t]),y=(0,u.useMemo)((function(){var t;return null==l||null===(t=l.trading_platform_accounts)||void 0===t?void 0:t.map((function(t){return Bt(Bt({},t),{},{loginid:t.account_id,transfer_icon:Kt({cfd_type:"dxtrade"})})}))}),[null==l?void 0:l.trading_platform_accounts]);return{data:(0,u.useMemo)((function(){return{mt5_accounts:f||[],dxtrade_accounts:y||[]}}),[f,y]),isSuccess:[i.isSuccess,s.isSuccess].every(Boolean)}};function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(r),!0).forEach((function(e){Qt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$t(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const qt=function(){var t=(0,n.useStore)().feature_flags;return(0,u.useMemo)((function(){var e=t.data;return Object.keys(e).reduce((function(t,r){return Jt(Jt({},t),{},Qt({},"is_".concat(r,"_enabled"),Boolean(e[r])))}),{})}),[t.data])};const Xt=function(){var t=(0,n.useStore)().client,e=t.account_list,r=t.is_crypto;return e.filter((function(t){return!t.is_virtual&&!r(t.title||"")}))};var Zt=r(56098),Yt=r.n(Zt);function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){ee=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,u=Object.create(i.prototype),c=new P(o||[]);return n(u,"_invoke",{value:h(t,r,c)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function y(){}function p(){}function b(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(D([])));m&&m!==e&&r.call(m,i)&&(d=m);var g=b.prototype=y.prototype=Object.create(d);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,u,c){var a=s(t[n],t,i);if("throw"!==a.type){var l=a.arg,f=l.value;return f&&"object"==te(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,u,c)}),(function(t){o("throw",t,u,c)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,c)}))}c(a.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function h(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=S(u,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=s(t,e,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function D(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=b,n(g,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:p,configurable:!0}),p.displayName=a(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},O(_.prototype),a(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},O(g),a(g,c,"Generator"),a(g,i,(function(){return this})),a(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function re(t,e,r,n,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,o)}function ne(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){re(i,n,o,u,c,"next",t)}function c(t){re(i,n,o,u,c,"throw",t)}u(void 0)}))}}function oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ue=function(t){return"Unable to read file ".concat(t)};const ce=function(){var t=oe((0,u.useState)(null),2),e=t[0],r=t[1],n=(0,u.useMemo)((function(){return new(Yt())({connection:J.WS.getSocket()})}),[]),o=(0,u.useCallback)(function(){var t=ne(ee().mark((function t(e,o,i){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&e.length){t.next=2;break}return t.abrupt("return",Promise.reject(new Error("No files selected")));case 2:return t.abrupt("return",new Promise((function(t,u){var c=!1,a=null;ne(ee().mark((function l(){var s,f,y,p;return ee().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,J.compressImageFiles)(e);case 3:return s=l.sent,l.next=6,(0,J.readFiles)(s,ue,null!=o?o:{});case 6:if((f=l.sent).forEach((function(t){t&&"message"in t&&(c=!0,a=t.message,u(t.message))})),!c&&f.length){l.next=11;break}return null==i||i(),l.abrupt("return",u(new Error(null!==(y=a)&&void 0!==y?y:"Something went wrong!")));case 11:return l.next=13,n.upload(f[0]);case 13:p=l.sent,t(p),l.next=21;break;case 17:l.prev=17,l.t0=l.catch(0),r(l.t0),u(l.t0);case 21:case"end":return l.stop()}}),l,null,[[0,17]])})))()})));case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[n]);return{error:e,upload:o,uploader_instance:n}};const ae=function(){var t,e,r,o,i,u,c,a=(0,n.useStore)().client.account_status,l=null==a?void 0:a.authentication,s=null==l||null===(t=l.identity)||void 0===t||null===(e=t.services)||void 0===e||null===(r=e.onfido)||void 0===r?void 0:r.status,f=null==l||null===(o=l.identity)||void 0===o||null===(i=o.services)||void 0===i||null===(u=i.manual)||void 0===u?void 0:u.status,y=null==l||null===(c=l.document)||void 0===c?void 0:c.status,p="none",b="verified",d="pending",v=y&&["rejected","expired","suspected"].includes(y),m=y===d,g=y===p,O=[s,f].includes(b),_=[s,f].includes(d)&&!O,h=[s,f].every((function(t){return t===p}));if(y&&s&&f){if(!_&&!h&&!O||v)return"failed";if(h||g)return"needs_verification";if(_||m)return"pending"}return null};const le=function(){return(0,n.useStore)().client.active_accounts.some((function(t){return 0===t.is_virtual}))};const se=function(){var t=(0,n.useStore)().client,e=t.account_list,r=t.is_crypto;return e.some((function(t){return r(t.title||"USD")}))};const fe=function(){var t=(0,n.useStore)().client.account_list,e=h().getConfig;return t.some((function(t){var r;return"Real"!==t.title&&(null===(r=e(t.title||""))||void 0===r?void 0:r.is_fiat)}))};function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}var pe=["data"];function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach((function(e){ve(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ve(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ye(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ye(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function me(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const ge=function(){var t=(0,u.useCallback)((function(t){var e,r=["withdrawal_locked","cashier_locked"];return null!==(e=null==t?void 0:t.some((function(t){return r.includes(t)})))&&void 0!==e&&e}),[]),e=(0,c.useQuery)("get_account_status",{options:{refetchInterval:function(e){var r;return!t(null==e||null===(r=e.get_account_status)||void 0===r?void 0:r.status)&&2e3}}}),r=e.data,n=me(e,pe),o=(0,u.useMemo)((function(){var e,n;if(null!=r&&null!==(e=r.get_account_status)&&void 0!==e&&e.status){var o=t(null==r||null===(n=r.get_account_status)||void 0===n?void 0:n.status);return de(de({},r.get_account_status),{},{has_mf_account_deposited:o})}}),[null==r?void 0:r.get_account_status,t]);return de({data:o,has_mf_account_deposited:null==o?void 0:o.has_mf_account_deposited},n)};function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}var _e=["data"];function he(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?he(Object(r),!0).forEach((function(e){je(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function je(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Oe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Oe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Pe=function(){var t,e=(0,n.useStore)().client,r=e.is_authorize,o=e.loginid,i=(0,c.useFetch)("website_status",{options:{enabled:r}}),a=i.data,l=we(i,_e),s=(0,c.useInvalidateQuery)(),f=u.useMemo((function(){var t,e=null==a||null===(t=a.website_status)||void 0===t?void 0:t.p2p_config;if(e)return Se(Se({},e),{},{is_payment_methods_enabled:Boolean(null==e?void 0:e.payment_methods_enabled)})}),[null==a||null===(t=a.website_status)||void 0===t?void 0:t.p2p_config]);return u.useEffect((function(){s("website_status")}),[s,o]),Se({data:f},l)};function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}var Ee=["data"];function ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(r),!0).forEach((function(e){Ie(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ie(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==De(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===De(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Te=function(){var t=(0,n.useStore)().client.active_accounts,e=Pe(),r=e.data,o=Ce(e,Ee),i=t.filter((function(t){return!t.is_virtual})).map((function(t){var e;return null===(e=t.currency)||void 0===e?void 0:e.toLowerCase()})),u=Boolean(null==r?void 0:r.supported_currencies.some((function(t){return i.includes(t)})));return Ae(Ae({},o),{},{data:u})};const xe=function(){var t=(0,n.useStore)().client.account_list,e=le();return t.filter((function(t){return!t.is_virtual})).some((function(t){return"Real"!==t.title&&"Investment"!==t.title}))||!e};const Ue=function(){return(0,n.useStore)().client.active_accounts.some((function(t){return"svg"===t.landing_company_shortcode}))};const Me=function(){return(0,n.useStore)().client.trading_platform_available_accounts.some((function(t){return"all"===t.market_type}))};const Le=function(){return(0,n.useStore)().client.account_list.some((function(t){return"USD"===t.title}))};var We=r(60323);function Ne(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Re=function(t,e){var r=Ne((0,u.useState)(""),2),n=r[0],o=r[1],i=e||{},c=i.fraction_digits,a=void 0===c?2:c,l=i.with_sign,s=void 0!==l&&l,f=(0,u.useCallback)((function(t){o((function(e){var r,n,o=null!==(r=null==t||null===(n=t.target)||void 0===n?void 0:n.value)&&void 0!==r?r:"";if(""===o)return o;var i=(s?o:o.replaceAll(/[+-]/g,"")).split(".");if(function(t){var e=t[0],r=t.length>1?t[1]:null,n=null!==r&&""!==r;return["-","+","0"].includes(e)&&!n}(i))return o;if(i.length>2||!function(t){return!isNaN(Number(t))}(o))return e;if(function(t,e){var r=t[0].replaceAll(/[+-]/g,""),n=e.includes(".");return r.startsWith("0")&&1!==r.length&&!n}(i,o))return e;if(function(t,e){var r=t.length>1?t[1]:null;return null!==r&&""!==r&&r.length>e}(i,a)){var u=i[0],c=i[1].substring(0,a);return"".concat(u,".").concat(c)}return o}))}),[a,s]);return(0,u.useEffect)((function(){t&&f({target:{value:"".concat(t)}})}),[t,f]),{value:n,onChange:f}};const Be=function(t,e){var r=(0,u.useRef)(!1),n=Re(void 0,e),o=n.value,i=n.onChange,c=e||{},a=c.locale,l=c.fraction_digits,s=void 0===l?2:l,f=(0,u.useMemo)((function(){return"".concat(Number(o).toLocaleString(a,{minimumFractionDigits:s}))}),[s,a,o]),y=(0,u.useCallback)((function(t){var e,n,o,u=(null==t||null===(e=t.target)||void 0===e?void 0:e.value)||"",c=(0,We.B4)(u,a),l=Math.fround(10*c).toFixed(s),f=Math.fround(c/10).toFixed(s),y=(null===(n=c.split("."))||void 0===n||null===(o=n[1])||void 0===o?void 0:o.length)||s;return r.current?(r.current=!1,i({target:{value:c}})):i(y-1===s?{target:{value:l}}:y+1===s?{target:{value:f}}:{target:{value:c}})}),[a,s,i]),p=(0,u.useCallback)((function(t){return r.current="paste"===t.type}),[]);return(0,u.useEffect)((function(){t&&(r.current=!0,y({target:{value:"".concat(Number(t).toLocaleString(a,{minimumFractionDigits:s}))}}))}),[s,t,a,y]),{value:f,onChange:y,onPaste:p}};const Ge=function(t){var e=(0,n.useStore)().client.account_status,r=null==e?void 0:e.status;return u.useMemo((function(){var e;return null!==(e=null==r?void 0:r.includes(t))&&void 0!==e&&e}),[r,t])};function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}var Ke=["data"];function He(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?He(Object(r),!0).forEach((function(e){ze(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ze(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Ve(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ve(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Je(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Qe=function(){var t=(0,n.useStore)(),e=t.client,r=t.traders_hub,o=e.currency,i=e.is_virtual,u=r.is_low_risk_cr_eu_real,c=Pe(),a=c.data,l=Je(c,Ke),s=Boolean(null==a?void 0:a.supported_currencies.includes(o.toLocaleLowerCase()))&&!i&&!u;return $e($e({},l),{},{data:s})};const qe=function(){var t=(0,n.useStore)().traders_hub,e=t.is_eu_user,r=t.is_real,i=Ue(),u=o();return(i&&!u&&e||!i&&u&&!e)&&r};const Xe=function(){var t;return(null===(t=(0,n.useStore)().client.account_status.cashier_validation)||void 0===t?void 0:t.some((function(t){return"system_maintenance"===t})))||!1};function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}var Ye=["data"];function tr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(r),!0).forEach((function(e){rr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Ze(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ze(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const or=function(t){var e=(0,c.useQuery)("landing_company_details",{payload:t,options:{enabled:Boolean(t.landing_company_details)}}),r=e.data,n=nr(e,Ye),o=(0,u.useMemo)((function(){if(null!=r&&r.landing_company_details)return er({},r.landing_company_details)}),[null==r?void 0:r.landing_company_details]);return er({data:o},n)};function ir(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ur(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ur(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const cr=function(t,e){var r,n,o=ir(u.useState(null!==(r=null!==(n=(0,We.$o)(t))&&void 0!==n?n:e)&&void 0!==r?r:null),2),i=o[0],c=o[1];u.useEffect((function(){localStorage.setItem(t,JSON.stringify(i))}),[t,i]);return[i,c,function(){localStorage.removeItem(t),c(null!=e?e:null)}]};const ar=function(){var t=(0,n.useStore)().client.is_eu,e=o(),r=ae();return t&&e&&r&&[J.MT5_ACCOUNT_STATUS.PENDING,J.MT5_ACCOUNT_STATUS.FAILED,J.MT5_ACCOUNT_STATUS.NEEDS_VERIFICATION].includes(r)?r:null};function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function sr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==lr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const yr=function(){var t=(0,n.useStore)(),e=t.client,r=t.traders_hub,o=e.mt5_login_list,i=r.show_eu_related_content;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(r),!0).forEach((function(e){fr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u.useMemo((function(){var t=o.filter((function(t){return t.landing_company_short===J.Jurisdiction.SVG&&!!t.eligible_to_migrate})),e=!!t.length&&!i,r=t.length,n=!!t.filter((function(t){var e;return Object.values(null!==(e=t.eligible_to_migrate)&&void 0!==e?e:{}).includes(J.Jurisdiction.BVI)})).length,u=!!t.filter((function(t){var e;return Object.values(null!==(e=t.eligible_to_migrate)&&void 0!==e?e:{}).includes(J.Jurisdiction.VANUATU)})).length,c=function(){return n?J.Jurisdiction.BVI:u?J.Jurisdiction.VANUATU:void 0},a=(0,J.getFormattedJurisdictionCode)(c()),l=!!t.filter((function(t){var e;return(null===(e=t.eligible_to_migrate)||void 0===e?void 0:e.synthetic)===J.Jurisdiction.BVI})).length,s=!!t.filter((function(t){var e;return(null===(e=t.eligible_to_migrate)||void 0===e?void 0:e.financial)===J.Jurisdiction.BVI})).length,f=!!t.filter((function(t){var e;return(null===(e=t.eligible_to_migrate)||void 0===e?void 0:e.synthetic)===J.Jurisdiction.VANUATU})).length,y=!!t.filter((function(t){var e;return(null===(e=t.eligible_to_migrate)||void 0===e?void 0:e.financial)===J.Jurisdiction.VANUATU})).length,p=l||f;return{eligible_account_to_migrate_label:a,eligible_svg_to_bvi_derived_accounts:l,eligible_svg_to_bvi_financial_accounts:s,eligible_svg_to_vanuatu_derived_accounts:f,eligible_svg_to_vanuatu_financial_accounts:y,getEligibleAccountToMigrate:c,has_derived_and_financial_mt5:p&&(s||y),has_derived_mt5_to_migrate:p,has_svg_accounts_to_migrate:e,no_of_svg_accounts_to_migrate:r,svg_accounts_to_migrate:t}}),[o,i]))};const pr=function(){var t,e=null===(t=(0,n.useStore)().client.account_status)||void 0===t?void 0:t.authentication;return null==e?void 0:e.needs_verification.includes("identity")};function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}var dr=["data","mutate"];function vr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==br(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===br(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Or=function(){var t=(0,c.useMutation)("notification_event"),e=t.data,r=t.mutate,n=gr(t,dr),o=u.useCallback((function(t){return r({payload:t})}),[r]);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vr(Object(r),!0).forEach((function(e){mr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({notification_event:null==e?void 0:e.notification_event,send:o},n)};const _r=function(){var t=(0,n.useStore)().client,e=t.is_virtual,r=t.is_crypto;return!e&&r()};function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}var Sr=["data"];function jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(r),!0).forEach((function(e){Pr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==hr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Er=function(t,e){var r=(0,c.useFetch)("p2p_advert_info",{payload:{id:t},options:e}),n=r.data,o=Dr(r,Sr),i=u.useMemo((function(){var t=null==n?void 0:n.p2p_advert_info;if(t)return wr(wr({},t),{},{is_buy:"buy"===(null==t?void 0:t.type),is_sell:"sell"===(null==t?void 0:t.type)})}),[null==n?void 0:n.p2p_advert_info]);return wr({data:i},o)};function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}var Ar=["data","fetchNextPage"];function Ir(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(r),!0).forEach((function(e){Tr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==kr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===kr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Ur=function(t,e){var r=(0,c.useInfiniteQuery)("p2p_advert_list",{payload:Cr(Cr({},t),{},{offset:(null==t?void 0:t.offset)||0,limit:(null==t?void 0:t.limit)||50}),options:{getNextPageParam:function(t,e){var r;if(null!=t&&null!==(r=t.p2p_advert_list)&&void 0!==r&&r.list)return e.length},enabled:void 0===(null==e?void 0:e.enabled)||e.enabled,refetchOnWindowFocus:!1}}),n=r.data,o=r.fetchNextPage,i=xr(r,Ar),a=u.useMemo((function(){var t,e;if(null!=n&&null!==(t=n.pages)&&void 0!==t&&t.length)return null==n||null===(e=n.pages)||void 0===e?void 0:e.flatMap((function(t){var e;return null==t||null===(e=t.p2p_advert_list)||void 0===e?void 0:e.list}))}),[null==n?void 0:n.pages]),l=u.useMemo((function(){if(null!=a&&a.length)return a.map((function(t){return Cr(Cr({},t),{},{is_floating:"float"===(null==t?void 0:t.rate_type),created_time:null!=t&&t.created_time?new Date(t.created_time):void 0})}))}),[a]);return Cr({data:l,loadMoreAdverts:o},i)};function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}var Lr=["mutate"],Wr=["data"];function Nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nr(Object(r),!0).forEach((function(e){Rr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Mr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Mr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Br(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Gr={bank:"IcCashierBankTransfer",other:"IcCashierOther",ewallet:"IcCashierEwallet"};const Vr=function(){var t=(0,c.useInvalidateQuery)(),e=(0,n.useStore)().client.is_authorize,r=(0,c.useRequest)("p2p_advertiser_payment_methods",{onSuccess:function(){return t("p2p_advertiser_payment_methods")}}),o=r.mutate,i=Br(r,Lr),a=(0,c.useFetch)("p2p_advertiser_payment_methods",{options:{enabled:e}}),l=a.data,s=Br(a,Wr),f=(0,u.useMemo)((function(){var t=null==l?void 0:l.p2p_advertiser_payment_methods;if(t)return Object.keys(t).map((function(e){var r=t[e];return Fr(Fr({},r),{},{icon:Gr[r.type],id:e})}))}),[l]),y=(0,u.useCallback)((function(t){return o({payload:{create:[Fr({},t)]}})}),[o]),p=(0,u.useCallback)((function(t,e){return o({payload:{update:Rr({},t,Fr({},e))}})}),[o]);return Fr(Fr({data:f,create:y,update:p,delete:(0,u.useCallback)((function(t){return o({payload:{delete:[t]}})}),[o])},s),{},{mutation:i})};function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}var Hr=["data"];function $r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Kr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Kr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Qr=function(){var t=(0,c.useSubscription)("p2p_order_list");return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$r(Object(r),!0).forEach((function(e){zr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({data:t.data},Jr(t,Hr))};const qr=function(){var t=Qr(),e=t.subscribe,r=t.data,o=t.unsubscribe,i=t.isSubscribed,c=(0,n.useStore)(),a=c.client,l=c.notifications,s=a.is_authorize,f=a.is_p2p_enabled;u.useEffect((function(){return s&&f&&e({payload:{active:0}}),function(){i&&o()}}),[i,s,f,e,o]),u.useEffect((function(){var t,e,n;if(null!=r&&null!==(t=r.p2p_order_list)&&void 0!==t&&t.list.length&&(null==r||null===(e=r.p2p_order_list)||void 0===e?void 0:e.list)!==l.p2p_completed_orders)l.p2p_completed_orders=r.p2p_order_list.list;else if(null!=r&&r.p2p_order_info&&null!=l&&l.p2p_completed_orders)if(null!=l&&l.p2p_completed_orders.some((function(t){return t.id===r.p2p_order_info.id}))){var o=null==l?void 0:l.p2p_completed_orders.findIndex((function(t){return t.id===r.p2p_order_info.id}));null==l||l.p2p_completed_orders.splice(o,1,r.p2p_order_info)}else null==l||l.p2p_completed_orders.unshift(r.p2p_order_info);null==l||null===(n=l.p2p_completed_orders)||void 0===n||n.sort((function(t,e){return(e.completion_time||0)-(t.completion_time||0)}))}),[r,l])};const Xr=function(t){var e,r,n=Lt(),o=n.handleSubscription,i=n.exchange_rates;return u.useEffect((function(){o("USD",t)}),[t]),null!==(e=null==i||null===(r=i.USD)||void 0===r?void 0:r[t])&&void 0!==e?e:1};function Zr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Yr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const tn=function(){var t,e=Zr((0,u.useState)(JSON.parse(localStorage.getItem("p2p_settings")||"{}")),2),r=e[0],o=e[1],i=(0,n.useStore)().client.loginid,c=i?null===(t=r[i])||void 0===t?void 0:t.notifications:null;return(0,u.useEffect)((function(){var t=function(){var t=localStorage.getItem("p2p_settings");t&&o(JSON.parse(t))};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}}),[]),(null==c?void 0:c.filter((function(t){return!t.is_seen})).length)||0};function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}var rn=["data"];function nn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(r),!0).forEach((function(e){un(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function un(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==en(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===en(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var an={bank:"IcCashierBankTransfer",other:"IcCashierOther",ewallet:"IcCashierEwallet"};const ln=function(){var t=(0,n.useStore)().client.is_authorize,e=(0,c.useFetch)("p2p_payment_methods",{options:{enabled:t}}),r=e.data,o=cn(e,rn),i=u.useMemo((function(){var t=null==r?void 0:r.p2p_payment_methods;if(t)return Object.keys(t).map((function(e){var r=t[e],n=Object.keys(r.fields).map((function(t){return r.fields[t]}));return on(on({},r),{},{fields:n,icon:an[r.type],id:e})}))}),[r]);return on({data:i},o)};function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}var fn=["data"];function yn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==sn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===sn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const dn=function(t){var e,r=(0,n.useStore)().client.residence,o=(0,c.useFetch)("paymentagent_list",{payload:{paymentagent_list:r,currency:t},options:{enabled:Boolean(r)}}),i=o.data,u=bn(o,fn);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(r),!0).forEach((function(e){pn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({data:null==i||null===(e=i.paymentagent_list)||void 0===e?void 0:e.list},u)};function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}var mn=["data"];function gn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function On(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==vn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _n(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const hn=function(){var t,e=(0,n.useStore)().client.is_authorize,r=(0,c.useFetch)("get_settings",{options:{enabled:e}}),o=r.data,i=_n(r,mn);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(r),!0).forEach((function(e){On(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({data:Boolean(null==o||null===(t=o.get_settings)||void 0===t?void 0:t.is_authenticated_payment_agent)},i)};function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function jn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jn(Object(r),!0).forEach((function(e){Pn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Sn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Dn=function(){var t=(0,n.useStore)().client.accounts;return Object.keys(t).map((function(e){return wn(wn({},t[e]),{},{loginid:e})})).find((function(t){return t.is_virtual}))};function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function kn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(r),!0).forEach((function(e){In(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function In(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==En(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==En(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===En(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Cn=function(){var t=(0,n.useStore)(),e=t.client,r=t.traders_hub,o=e.accounts,i=r.is_eu_user;return Object.keys(o).map((function(t){return An(An({},o[t]),{},{loginid:t})})).filter((function(t){var e="landing_company_shortcode"in t&&"maltainvest"===t.landing_company_shortcode;return!t.is_virtual&&(i?e:!e)}))};const Tn=function(){return{demo:Dn(),real:Cn()}};function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}var Un=["data"];function Mn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ln(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==xn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Nn=function(t){var e=(0,c.useQuery)("service_token",{payload:t,options:{retry:3,enabled:Boolean(t)}}),r=e.data,n=Wn(e,Un);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(r),!0).forEach((function(e){Ln(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({service_token:null==r?void 0:r.service_token},n)};function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}var Rn=["data"];function Bn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(r),!0).forEach((function(e){Vn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Fn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const Hn=function(t){var e,r=(0,c.useFetch)("states_list",{payload:{states_list:t}}),n=r.data;return Gn(Gn({},Kn(r,Rn)),{},{data:null!==(e=null==n?void 0:n.states_list)&&void 0!==e?e:[]})};function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function zn(t){return function(t){if(Array.isArray(t))return Jn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Jn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(r),!0).forEach((function(e){Xn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==$n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zn={Demo:{dark:"IcWalletDerivDemoDark",light:"IcWalletDerivDemoLight"},USD:{dark:"IcWalletCurrencyUsd",light:"IcWalletCurrencyUsd"},EUR:{dark:"IcWalletCurrencyEur",light:"IcWalletCurrencyEur"},AUD:{dark:"IcWalletCurrencyAud",light:"IcWalletCurrencyAud"},GBP:{dark:"IcWalletCurrencyGbp",light:"IcWalletCurrencyGbp"},BTC:{dark:"IcWalletBitcoinDark",light:"IcWalletBitcoinLight"},ETH:{dark:"IcWalletEthereumDark",light:"IcWalletEthereumLight"},USDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},eUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},tUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},UST:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},LTC:{dark:"IcWalletLiteCoinDark",light:"IcWalletLiteCoinLight"},USDC:{dark:"IcWalletUsdCoinDark",light:"IcWalletUsdCoinLight"}};const Yn=function(){var t=(0,n.useStore)().client,e=t.accounts,r=t.is_crypto,o=(0,u.useMemo)((function(){var t,n;return null===(t=Object.keys(e))||void 0===t||null===(n=t.filter((function(t){return"wallet"===(null==e?void 0:e[t].account_category)})))||void 0===n?void 0:n.map((function(t){var n,o,i,u,c=null==e?void 0:e[t],a=t,l=c.currency,s=Boolean(c.is_disabled),f=Boolean(c.is_virtual),y=r(l)?"crypto":"fiat",p=f?"demo":y,b=null===(n=c.landing_company_name)||void 0===n?void 0:n.replace("maltainvest","malta"),d="malta"===b,v=null==c||null===(o=c.linked_to)||void 0===o||null===(i=o.find((function(t){return"dtrade"===(null==t?void 0:t.platform)})))||void 0===i?void 0:i.loginid,m=null==e||null===(u=e[null!=v?v:""])||void 0===u?void 0:u.balance,g=f?"Demo":l||"",O=Zn[g],_={header:{dark:"wallet-header__".concat(g.toLowerCase(),"-bg--dark"),light:"wallet-header__".concat(g.toLowerCase(),"-bg")},card:{dark:"wallet-card__".concat(g.toLowerCase(),"-bg--dark"),light:"wallet-card__".concat(g.toLowerCase(),"-bg")}};return qn(qn({},c),{},{dtrade_loginid:v,dtrade_balance:m,icons:O,icon_type:p,is_disabled:s,is_virtual:f,is_malta_wallet:d,landing_company_name:b,loginid:a,gradients:_})}))}),[e,r]),i=(0,u.useMemo)((function(){if(o)return zn(o).sort((function(t,e){return t.is_virtual!==e.is_virtual?t.is_virtual?1:-1:r(t.currency)!==r(e.currency)?r(t.currency)?1:-1:(t.currency||"USD").localeCompare(e.currency||"USD")}))}),[r,o]);return{data:i,has_wallet:i&&i.length>0}};const to=function(){var t=Yn().data;return(0,u.useMemo)((function(){var e={ctrader:[],derivez:[],dtrade:[],dwallet:[],dxtrade:[],mt5:[]};return null==t||t.forEach((function(t){var r=t.linked_to;null==r||r.forEach((function(t){null!=t&&t.platform&&null!=t&&t.loginid&&e[t.platform].push(t)}))})),e}),[t])};const eo=function(){var t=(0,n.useStore)(),e=t.client,r=t.traders_hub,o=e.current_fiat_currency,i=e.is_crypto,u=e.currency,c=e.default_currency,a=r.is_eu_user,l=Tn().real;if(!l.length)return c;var s=l.find((function(t){return!i(t.currency||"USD")}));if(s)return(null==s?void 0:s.currency)||"";var f=a?o||c:l[0].currency;return i()?f:u};const ro=function(t){var e=eo(),r=Mt(),n=r.handleSubscription,o=r.exchange_rates;return t.length?{balance:t.reduce((function(t,r){var i="demo"===(null==r?void 0:r.account_type)?"USD":e||"",u=r.currency||e||"",c=1;return""===i||""===u?c=1:i!==u&&n(i,u),o&&o[i]&&(c=o[i][u]||1),t+(r.balance||0)/c}),0),currency:e}:{balance:0,currency:e}};function no(t){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(t)}var oo=["data"];function io(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?io(Object(r),!0).forEach((function(e){co(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function co(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==no(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==no(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===no(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ao(t){return function(t){if(Array.isArray(t))return lo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function so(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const fo=function(){var t=(0,n.useStore)().ui.is_dark_mode_on,e=T(),r=C().data,o=h().getConfig,i=t?"IcWalletOptionsDark":"IcWalletOptionsLight",a=Ht(),l=a.data,s=l.dxtrade_accounts,f=l.mt5_accounts,y=a.isSuccess,p=(0,c.useFetch)("transfer_between_accounts",{payload:{accounts:"all"},options:{enabled:y}}),b=p.data,d=so(p,oo),v=(0,u.useMemo)((function(){var t,n=[].concat(ao(s),ao(f)),u=null==b||null===(t=b.accounts)||void 0===t?void 0:t.map((function(t){var r,n,i,u,c;return uo(uo({},t),{},{active_wallet_icon:null==e?void 0:e.icon,balance:parseFloat(Number(t.balance).toFixed(null===(r=o(t.currency||""))||void 0===r?void 0:r.fractional_digits)),display_currency_code:null===(n=o(t.currency||""))||void 0===n?void 0:n.display_code,is_demo:Boolean(null==t?void 0:t.demo_account),shortcode:null==e?void 0:e.landing_company_name,type:(i=t.demo_account,u=t.currency,i?"demo":null!==(c=o(u||""))&&void 0!==c&&c.is_crypto?"crypto":"fiat")})}));return{trading_accounts:(null==u?void 0:u.reduce((function(t,r){var o,u;if("wallet"===r.account_category)return t;if(!r.loginid)return t;var c=null===(o=n.find((function(t){var e;return r.loginid&&(null===(e=t.loginid)||void 0===e?void 0:e.includes(r.loginid))})))||void 0===o?void 0:o.transfer_icon;return t[r.loginid]=uo(uo({},r),{},{gradient_class:null==e?void 0:e.gradient_card_class,icon:"trading"===r.account_category?i:c},"mt5"===r.account_type&&{mt5_market_type:null==f||null===(u=f.find((function(t){var e;return r.loginid&&(null===(e=t.loginid)||void 0===e?void 0:e.includes(r.loginid))})))||void 0===u?void 0:u.market_type}),t}),{}))||{},wallet_accounts:(null==u?void 0:u.reduce((function(t,e){if("wallet"!==e.account_category)return t;if(!e.loginid)return t;var n=null==r?void 0:r.find((function(t){return t.loginid===e.loginid}));return t[e.loginid]=uo(uo({},e),{},{icon:null==n?void 0:n.icon,gradient_class:null==n?void 0:n.gradient_card_class}),t}),{}))||{}}}),[null==e?void 0:e.gradient_card_class,null==e?void 0:e.icon,null==e?void 0:e.landing_company_name,null==b?void 0:b.accounts,s,o,f,i,r]),m=(0,u.useMemo)((function(){return null!=e&&e.loginid?uo({},v.wallet_accounts[null==e?void 0:e.loginid]):void 0}),[null==e?void 0:e.loginid,v.wallet_accounts]);return uo(uo({},d),{},{active_wallet:m,trading_accounts:v.trading_accounts,wallet_accounts:v.wallet_accounts})};function yo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return po(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return po(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const bo=function(t){var e=(0,c.useRequest)("verify_email"),r=rt({from:60}),o=(0,n.useStore)().client,i=yo((0,u.useState)(0),2),a=i[0],l=i[1],s=(0,u.useCallback)((function(n){var i=null!=n?n:o.email;i&&(r.is_running||(r.reset(),r.start(),l((function(t){return t+1})),e.mutate({payload:{verify_email:i,type:t}})))}),[e,o.email,r,t]);return{is_loading:e.isLoading,error:e.error,data:e.data,counter:r.count,is_counter_running:r.is_running,sent_count:a,has_been_sent:0!==a,send:s}};const vo=function(){var t,e=(0,n.useStore)().client.is_authorize,r=(0,c.useInvalidateQuery)(),o=(0,c.useRequest)("wallet_migration",{onSuccess:function(){return r("wallet_migration")}}).mutate,i=(0,c.useAuthorize)().isSuccess,a=(0,c.useFetch)("wallet_migration",{payload:{wallet_migration:"state"},options:{refetchInterval:function(t){var e;return"in_progress"===(null==t||null===(e=t.wallet_migration)||void 0===e?void 0:e.state)&&500},enabled:e&&i}}).data,l=(0,u.useCallback)((function(){return o({payload:{wallet_migration:"start"}})}),[o]),s=(0,u.useCallback)((function(){return o({payload:{wallet_migration:"reset"}})}),[o]),f=null==a||null===(t=a.wallet_migration)||void 0===t?void 0:t.state;return{state:f,is_ineligible:"ineligible"===f,is_eligible:"eligible"===f,is_in_progress:"in_progress"===f,is_migrated:"migrated"===f,is_failed:"failed"===f,start_migration:l,reset_migration:s}};function mo(t){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(t)}function go(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?go(Object(r),!0).forEach((function(e){_o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):go(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==mo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ho(t){return function(t){if(Array.isArray(t))return So(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return So(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return So(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jo={standard:"Deriv Apps",mt5:"MT5",dxtrade:"Deriv X",binary:"Binary"},wo={svg:"SVG",malta:"Malta"};const Po=function(t){var e=(0,n.useStore)(),r=e.client,o=r.loginid,i=r.landing_company_shortcode,c=e.ui.is_dark_mode_on,a=C().data,l=T(),s=Tn().demo,f=Tn().real;s={account_category:"trading",account_type:"standard",currency:"USD",loginid:"VRTCMOCK0001",is_virtual:1,landing_company_shortcode:i,token:""},f.push({account_category:"trading",account_type:"standard",currency:"USD",loginid:"CRMOCK0001",is_virtual:0,landing_company_shortcode:i,token:""}),a&&l&&a.push({account_type:"crypto",balance:0,currency:"BTC",gradient_header_class:"wallet-header__btc-bg",gradient_card_class:"wallet-card__btc-bg".concat(c?"--dark":""),is_demo:!!l.is_virtual,is_disabled:0,is_malta_wallet:!1,is_selected:!1,is_virtual:l.is_virtual,landing_company_name:"svg",loginid:"CRWMOCK00042",currency_config:void 0,icon:"IcWalletCurrencyBtc",wallet_currency_type:"BTC"});var y=(0,u.useMemo)((function(){return[s].concat(ho(f))}),[s,f]),p=h().getConfig,b=(0,u.useCallback)((function(t,e,r){return"".concat(jo[t]," ").concat(e?"Demo":"(".concat(wo[r],")")," account")}),[]),d=null!=l&&l.is_virtual?[{action_type:"transfer",amount:5,from:{loginid:o},to:{loginid:"VRTCMOCK0001"},app_id:{},balance_after:9995,transaction_id:17494415484,transaction_time:1685942139},{action_type:"reset_balance",amount:350,balance_after:1e4,transaction_id:13693003421,transaction_time:1685942138},{action_type:"transfer",amount:200,from:{loginid:"VRTCMOCK0001"},to:{loginid:o},balance_after:9650,transaction_id:17494415483,transaction_time:1685855740},{action_type:"transfer",amount:550,from:{loginid:o},to:{loginid:"VRTCMOCK0001"},app_id:{},balance_after:9450,transaction_id:17494415482,transaction_time:1685855739},{action_type:"initial_fund",amount:1e4,balance_after:1e4,transaction_id:13693011401,transaction_time:1685855738}]:[{action_type:"transfer",amount:5,from:{loginid:o},to:{loginid:"CRMOCK0001"},balance_after:0,transaction_id:17494117541,transaction_time:1685942138},{action_type:"transfer",amount:20,from:{loginid:o},to:{loginid:"CRWMOCK00042"},balance_after:5,transaction_id:17494415489,transaction_time:1685942137},{action_type:"deposit",amount:25,balance_after:25,transaction_id:17494415481,transaction_time:1685942136},{action_type:"withdrawal",amount:750,balance_after:0,transaction_id:17494415480,transaction_time:1685942135},{action_type:"transfer",amount:100,from:{loginid:"CRMOCK0001"},to:{loginid:o},balance_after:750,transaction_id:17494415479,transaction_time:1685855738},{action_type:"transfer",amount:200,from:{loginid:"CRWMOCK00042"},to:{loginid:o},balance_after:650,transaction_id:17494117541,transaction_time:1685855737},{action_type:"transfer",amount:550,from:{loginid:o},to:{loginid:"CRMOCK0001"},balance_after:450,transaction_id:17494117540,transaction_time:1685855736},{action_type:"deposit",amount:1e3,balance_after:1e3,transaction_id:17494117539,transaction_time:1685769338}],v=(0,u.useMemo)((function(){return d.filter((function(e){return!t||e.action_type===t}))}),[t,d]),m=(0,u.useCallback)((function(t){if("wallet"===t.account_category){var e=null==a?void 0:a.find((function(e){return e.loginid===t.loginid}));return"".concat(null!=e&&e.is_virtual?"Demo ":"").concat(null==e?void 0:e.currency," ","Wallet")}return b(t.account_type,!!t.is_virtual,t.landing_company_shortcode)}),[b,a]);return{transactions:(0,u.useMemo)((function(){return a&&l?v.map((function(t){if(void 0===t.amount||void 0===t.balance_after||void 0===t.action_type)return null;var e="wallet",r=l.account_type,n="".concat(l.is_virtual?"Demo ":"").concat(l.currency," ","Wallet"),i=l.currency,u=l.gradient_card_class,a=(0,We.$T)(l.is_virtual?"demo":l.currency||"USD",c);if("transfer"===t.action_type){var s,f,b,d,v=(null===(s=t.to)||void 0===s?void 0:s.loginid)===o?null===(f=t.from)||void 0===f?void 0:f.loginid:null===(b=t.to)||void 0===b?void 0:b.loginid;if(!v)return null;var g=y.find((function(t){return(null==t?void 0:t.loginid)===v}));if(null==g||!g.currency||null==g||!g.account_type)return null;e=g.account_category||"wallet",i=g.currency,n=m(g),r=g.account_type,u="wallet-card__".concat(1===g.is_virtual?"demo":null==g||null===(d=g.currency)||void 0===d?void 0:d.toLowerCase(),"-bg").concat(c?"--dark":""),a=(0,We.$T)(g.is_virtual?"demo":g.currency||"",c,!1)}var O=p(i||""),_=(null==O?void 0:O.is_crypto)||l.is_virtual?"crypto":"fiat";return Oo(Oo({},t),{},{account_category:e,account_currency:i,account_name:n,account_type:r,gradient_class:u,icon:a,icon_type:_})})).filter((function(t){return null!==t})):[]}),[y,l,p,m,c,o,v,a]),isLoading:!1,isSuccess:!0}};function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Eo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ko(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(r),!0).forEach((function(e){Ao(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ao(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Do(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Do(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Io(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Co(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Co(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const To=function(){var t=fo(),e=t.active_wallet,r=t.trading_accounts,n=t.wallet_accounts,o=t.isLoading,i=Io((0,u.useState)(),2),c=i[0],a=i[1],l=Io((0,u.useState)(),2),s=l[0],f=l[1],y=(0,u.useMemo)((function(){return null!=c&&c.loginid&&null!=e&&e.loginid?(null==c?void 0:c.loginid)===(null==e?void 0:e.loginid)?{trading_accounts:r,wallet_accounts:Object.fromEntries(Object.entries(n).filter((function(t){var r=Io(t,1)[0];return(null==e?void 0:e.loginid)&&!r.includes(null==e?void 0:e.loginid)})))}:{trading_accounts:{},wallet_accounts:Ao({},null==e?void 0:e.loginid,e)}:{trading_accounts:{},wallet_accounts:{}}}),[e,null==c?void 0:c.loginid,r,n]);return(0,u.useEffect)((function(){a((function(t){return null!=t&&t.loginid?ko(ko({},r),n)[null==t?void 0:t.loginid]:void 0})),f((function(t){return null!=t&&t.loginid?ko(ko({},r),n)[null==t?void 0:t.loginid]:void 0}))}),[a,f,r,n]),{active_wallet:e,is_accounts_loading:o,from_account:c,to_account:s,to_account_list:y,transfer_accounts:{trading_accounts:r,wallet_accounts:n},setFromAccount:a,setToAccount:f}}},45503:()=>{}}]);
//# sourceMappingURL=core.main~acf22cc3.a3b86fe8db82a354fb06.js.map