/*! For license information please see core.cfd~bde52cb3.e959ac65cd380c5c50fe.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[9586],{39144:(e,t)=>{t.Od=function(e){return e.replace(/[^\u0000-\u007e]/g,(function(e){return n[e]||e}))};for(var r=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n={},o=0;o<r.length;o+=1)for(var a=r[o].chars,i=0;i<a.length;i+=1)n[a[i]]=r[o].base},54582:(e,t,r)=>{"use strict";const n=r(99911),o=r(39144).Od,a={},i={},s={},c={},u={};function l(e){return String("000"+(e||"")).slice(-3)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){switch(e){case"official":return Array.isArray(t)?t[0]:t;case"all":return"string"==typeof t?[t]:t;case"alias":return Array.isArray(t)?t[1]||t[0]:t;default:throw new TypeError("LocaleNameType must be one of these: all, official, alias!")}}function h(e){return s[e]}function p(e){return i[e]}function m(e){const t=l(e);return p(c[t])}function v(e){const t=l(e);return c[t]}function y(e){if("string"==typeof e){if(/^[0-9]*$/.test(e))return v(e);if(2===e.length)return e.toUpperCase();if(3===e.length)return h(e.toUpperCase())}if("number"==typeof e)return v(e)}n.forEach((function(e){const t=e;i[t[0]]=t[1],s[t[1]]=t[0],c[t[2]]=t[0],u[t[0]]=t[2]})),t.registerLocale=function(e){if(!e.locale)throw new TypeError("Missing localeData.locale");if(!e.countries)throw new TypeError("Missing localeData.countries");a[e.locale]=e.countries},t.alpha3ToAlpha2=h,t.alpha2ToAlpha3=p,t.alpha3ToNumeric=function(e){return u[h(e)]},t.alpha2ToNumeric=function(e){return u[e]},t.numericToAlpha3=m,t.numericToAlpha2=v,t.toAlpha3=function(e){if("string"==typeof e){if(/^[0-9]*$/.test(e))return m(e);if(2===e.length)return p(e.toUpperCase());if(3===e.length)return e.toUpperCase()}if("number"==typeof e)return m(e)},t.toAlpha2=y,t.getName=function(e,t,r={}){"select"in r||(r.select="official");try{const n=a[t.toLowerCase()][y(e)];return d(r.select,n)}catch(e){return}},t.getNames=function(e,t={}){"select"in t||(t.select="official");const r=a[e.toLowerCase()];return void 0===r?{}:function(e,t){return Object.keys(e).reduce((function(r,n){const o=e[n];return r[n]=t(o,n),r}),{})}(r,(function(e){return d(t.select,e)}))},t.getAlpha2Code=function(e,t){const r=e=>e.toLowerCase(),n=(e,t)=>r(e)===r(t);try{const r=a[t.toLowerCase()];for(const t in r)if(f(r,t)){if("string"==typeof r[t]&&n(r[t],e))return t;if(Array.isArray(r[t]))for(const o of r[t])if(n(o,e))return t}return}catch(e){return}},t.getSimpleAlpha2Code=function(e,t){const r=e=>o(e.toLowerCase()),n=(e,t)=>r(e)===r(t);try{const r=a[t.toLowerCase()];for(const t in r)if(f(r,t)){if("string"==typeof r[t]&&n(r[t],e))return t;if(Array.isArray(r[t]))for(const o of r[t])if(n(o,e))return t}return}catch(e){return}},t.getAlpha2Codes=function(){return i},t.getAlpha3Code=function(e,r){const n=t.getAlpha2Code(e,r);return n?t.toAlpha3(n):void 0},t.getSimpleAlpha3Code=function(e,r){const n=t.getSimpleAlpha2Code(e,r);return n?t.toAlpha3(n):void 0},t.getAlpha3Codes=function(){return s},t.getNumericCodes=function(){return c},t.langs=function(){return Object.keys(a)},t.isValid=function(e){if(!e)return!1;const t=e.toString().toUpperCase();return f(s,t)||f(i,t)||f(c,t)}},78152:(e,t,r)=>{var n;self,n=(e,t,r,n,o,a,i,s,c,u,l,f,d,h)=>(()=>{"use strict";var p,m,v,y,S={"@deriv/account/dist/account/css/reset-trading-password-modal.css":t=>{t.exports=e},"@deriv/account/dist/account/js/poi-poa-docs-submitted":e=>{e.exports=t},"@deriv/account/dist/account/js/reset-trading-password-modal":e=>{e.exports=r},"@deriv/account/dist/account/js/sent-email-modal":e=>{e.exports=n},"@deriv/account/src/Sections/Verification/ProofOfAddress/proof-of-address-form":e=>{e.exports=o},"@deriv/account/src/Sections/Verification/ProofOfIdentity/proof-of-identity-container-for-mt5.jsx":e=>{e.exports=a},"@deriv/components":e=>{e.exports=i},"@deriv/shared":e=>{e.exports=s},"@deriv/translations":e=>{e.exports=c},mobx:e=>{e.exports=u},react:e=>{e.exports=l},"react-dom":e=>{e.exports=f},"react-router":e=>{e.exports=d},"react-router-dom":e=>{e.exports=h}},b={};function g(e){var t=b[e];if(void 0!==t)return t.exports;var r=b[e]={id:e,loaded:!1,exports:{}};return S[e].call(r.exports,r,r.exports,g),r.loaded=!0,r.exports}g.m=S,g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},g.d=(e,t)=>{for(var r in t)g.o(t,r)&&!g.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},g.f={},g.e=e=>Promise.all(Object.keys(g.f).reduce(((t,r)=>(g.f[r](e,t),t)),[])),g.u=e=>"cfd/js/cfd."+e+"."+{404:"5e1b315d0b81b3a402c8","vendors-node_modules_binary-com_binary-document-uploader_DocumentUploader_js-node_modules_der-fdc684":"5f405c757da35ac88d03","cfd-app":"d0a7dd95f427708eabc1"}[e]+".js",g.miniCssF=e=>"cfd/css/cfd."+e+".bb7abf7672f74fd9c31a.css",g.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p={},m="@deriv/cfd:",g.l=(e,t,r,n)=>{if(p[e])p[e].push(t);else{var o,a;if(void 0!==r)for(var i=document.getElementsByTagName("script"),s=0;s<i.length;s++){var c=i[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==m+r){o=c;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,g.nc&&o.setAttribute("nonce",g.nc),o.setAttribute("data-webpack",m+r),o.src=e),p[e]=[t];var u=(t,r)=>{o.onerror=o.onload=null,clearTimeout(l);var n=p[e];if(delete p[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),a&&document.head.appendChild(o)}},g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),g.p="/",v=e=>new Promise(((t,r)=>{var n=g.miniCssF(e),o=g.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(i=r[n]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var i;if((o=(i=a[n]).getAttribute("data-href"))===e||o===t)return i}})(n,o))return t();((e,t,r,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=a=>{if(o.onerror=o.onload=null,"load"===a.type)r();else{var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,o.parentNode.removeChild(o),n(c)}},o.href=t,document.head.appendChild(o)})(e,o,t,r)})),y={cfd:0},g.f.miniCss=(e,t)=>{y[e]?t.push(y[e]):0!==y[e]&&{"cfd-app":1}[e]&&t.push(y[e]=v(e).then((()=>{y[e]=0}),(t=>{throw delete y[e],t})))},(()=>{var e={cfd:0};g.f.j=(t,r)=>{var n=g.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var a=g.p+g.u(t),i=new Error;g.l(a,(r=>{if(g.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,n[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,i,s]=r,c=0;if(a.some((t=>0!==e[t]))){for(n in i)g.o(i,n)&&(g.m[n]=i[n]);s&&s(g)}for(t&&t(r);c<a.length;c++)o=a[c],g.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_deriv_cfd=self.webpackChunk_deriv_cfd||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var O={};return(()=>{g.d(O,{default:()=>o});var e=g("react"),t=g.n(e),r=g("@deriv/shared"),n=g("@deriv/components");const o=(0,r.makeLazyLoader)((function(){return Promise.all([g.e("vendors-node_modules_binary-com_binary-document-uploader_DocumentUploader_js-node_modules_der-fdc684"),g.e("cfd-app")]).then(g.bind(g,"./src/app.tsx"))}),(function(){return t().createElement(n.Loading,null)}))()})(),O.default})(),e.exports=n(r(8464),r(57465),r(7826),r(60946),r(42695),r(25970),r(47108),r(51417),r(44850),r(31025),r(32735),r(12788),r(39796),r(56149))},15854:(e,t,r)=>{"use strict";r.d(t,{M5:()=>o});var n=r(44850);var o=function(){return[{text:(0,n.localize)("Employed"),value:"Employed"},{text:(0,n.localize)("Pensioner"),value:"Pensioner"},{text:(0,n.localize)("Self-Employed"),value:"Self-Employed"},{text:(0,n.localize)("Student"),value:"Student"},{text:(0,n.localize)("Unemployed"),value:"Unemployed"}]}},42695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(32735),o=r(71838),a=r(47108),i=r(51417),s=r(94500),c=r(44850),u=r(95562),l=r(17522),f=r(43268),d=r(57164),h=r(52190),p=r(5164),m=r(14936),v=r(24374),y=r(52272),S=r(21797),b=r(84314);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),s=new A(o||[]);return n(i,"_invoke",{value:I(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&r.call(y,a)&&(m=y);var S=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,a,i,s){var c=l(e[n],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==g(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function I(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(S,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},b(_.prototype),c(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function _(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=[{key:"utility_bill",value:n.createElement(c.Localize,{i18n_default_text:"Utility bill: electricity, water, gas, or landline phone bill."})},{key:"financial_legal_government_document",value:n.createElement(c.Localize,{i18n_default_text:"Financial, legal, or government document: recent bank statement, affidavit, or government-issued letter."})},{key:"home_rental_agreement",value:n.createElement(c.Localize,{i18n_default_text:"Home rental agreement: valid and current agreement."})}],T=(0,s.observer)((function(){var e=(0,s.useStore)().ui.is_mobile;return n.createElement("div",{className:"files-description"},n.createElement(a.Text,{size:e?"xxs":"xs",as:"div",className:"files-description__title",weight:"bold"},n.createElement(c.Localize,{i18n_default_text:"We accept only these types of documents as proof of your address. The document must be recent (issued within last 6 months) and include your name and address:"})),n.createElement("ul",null,x.map((function(t){return n.createElement("li",{key:t.key},n.createElement(a.Text,{size:e?"xxs":"xs"},t.value))}))))}));const N=(0,s.observer)((function(e){var t=e.is_resubmit,r=e.is_for_cfd_modal,g=e.onSubmit,I=e.onSubmitForCFDModal,E=e.step_index,A=(0,s.useStore)(),x=A.client,N=A.notifications,M=A.ui,C=x.account_settings,P=x.fetchResidenceList,G=x.fetchStatesList,j=x.getChangeableFields,R=x.states_list,B=N.addNotificationMessageByKey,k=N.removeNotificationMessage,F=N.removeNotificationByKey,U=M.is_mobile,D=L(n.useState([]),2),K=D[0],Z=D[1],V=L(n.useState(null),2),H=V[0],W=V[1],Y=L(n.useState(!0),2),z=Y[0],J=Y[1],Q=L(n.useState({address_line_1:"",address_line_2:"",address_city:"",address_state:"",address_postcode:""}),2),X=Q[0],$=Q[1],q=L(n.useState(null),2),ee=q[0],te=q[1],re=L(n.useState({is_btn_loading:!1,is_submit_success:!1,should_allow_submit:!0,should_show_form:!0}),2),ne=re[0],oe=re[1],ae=(0,b.useFileUploader)().upload;n.useEffect((function(){null==P||P().then((function(){Promise.all([G(),i.WS.wait("get_settings")]).then((function(){var e,t,r,n,o;$({address_line_1:null!==(e=C.address_line_1)&&void 0!==e?e:"",address_line_2:null!==(t=C.address_line_2)&&void 0!==t?t:"",address_city:null!==(r=C.address_city)&&void 0!==r?r:"",address_state:null!==(n=C.address_state)&&void 0!==n?n:"",address_postcode:null!==(o=C.address_postcode)&&void 0!==o?o:""}),J(!1)}))}))}),[C,P,G]);var ie=j(),se=function(e){oe(w(w({},ne),{should_show_form:e}))},ce=function(){var e,t=(e=O().mark((function e(t,n){var o,a,s,c,u,l,f,d,h,p,m,v,y,b,_,L;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.setStatus,a=n.setSubmitting,o({msg:""}),oe(w(w({},ne),{is_btn_loading:!0})),s=w({},t),t.address_state&&R.length&&(s.address_state=(0,i.getLocation)(R,t.address_state,"value")||""),e.next=7,i.WS.setSettings(s);case 7:if(!(c=e.sent).error){e.next=13;break}return o({msg:c.error.message}),oe(w(w({},ne),{is_btn_loading:!1})),a(!1),e.abrupt("return");case 13:return e.next=15,i.WS.authorized.storage.getSettings();case 15:if(!(u=e.sent).error){e.next=20;break}return te(u.error.message),a(!1),e.abrupt("return");case 20:return l=u.get_settings,f=l.address_line_1,d=l.address_line_2,h=l.address_city,p=l.address_state,m=l.address_postcode,$({address_line_1:f,address_line_2:d,address_city:h,address_state:p,address_postcode:m}),e.prev=23,e.next=26,ae(K);case 26:if(null==(v=e.sent)||!v.warning){e.next=31;break}return o({msg:null==v?void 0:v.message}),oe(w(w({},ne),{is_btn_loading:!1})),e.abrupt("return");case 31:return e.next=33,i.WS.authorized.getAccountStatus();case 33:if(!(y=e.sent).error){e.next=38;break}return te(y.error.message),a(!1),e.abrupt("return");case 38:b=y.get_account_status,oe(w(w({},ne),{is_submit_success:!0,is_btn_loading:!1})),_=b.authentication.needs_verification,L=Boolean(_.length)&&_.includes("identity"),null==g||g(L),["authenticate","needs_poa","poa_expired"].forEach((function(e){k({key:e}),F({key:e})})),L&&B("needs_poi"),e.next=50;break;case 47:e.prev=47,e.t0=e.catch(23),(0,S.o7)(e.t0)&&(o({msg:e.t0.message}),oe(w(w({},ne),{is_btn_loading:!1})));case 50:return e.prev=50,a(!1),oe(w(w({},ne),{is_btn_loading:!1})),e.finish(50);case 54:r&&void 0!==E&&(null==I||I(E,t));case 55:case"end":return e.stop()}}),e,null,[[23,47,50,54]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,s,"next",e)}function s(e){_(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),ue={address_line_1:X.address_line_1,address_line_2:X.address_line_2,address_city:X.address_city,address_state:X.address_state,address_postcode:X.address_postcode};if(ee)return n.createElement(h.Z,{error_message:ee});if(z)return n.createElement(a.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(ue.address_state){var le=(0,i.getLocation)(R,ue.address_state,"text");ue.address_state=R.length&&le?le:ue.address_state}else ue.address_state="";var fe=function(e){var t=null!=e&&e.msg?"200px":"154px";return U&&!r?t:"80px"};return n.createElement(o.Formik,{initialValues:ue,onSubmit:ce,validate:function(e){Object.entries(e).forEach((function(t){var r=L(t,2),n=r[0],o=r[1];return e[n]=o.trim()})),oe(w(w({},ne),{should_allow_submit:!1}));var t={};(0,S.Gu)(t,e)((function(e){return e}),["address_line_1","address_city"],(0,c.localize)("This field is required"));var r=(0,i.validAddress)(e.address_line_1,{is_required:!0});r.is_ok||(t.address_line_1=r.message);var n=(0,i.validAddress)(e.address_line_2);n.is_ok||(t.address_line_2=n.message);var o=(0,c.localize)("Only letters, space, hyphen, period, and apostrophe are allowed.");return e.address_city&&!(0,i.validLetterSymbol)(e.address_city)&&(t.address_city=o),e.address_state&&!(0,i.validLetterSymbol)(e.address_state)&&(null==R?void 0:R.length)<1&&(t.address_state=o),e.address_postcode&&((0,i.validLength)(e.address_postcode,{min:0,max:20})?(0,i.validPostCode)(e.address_postcode)||(t.address_postcode=(0,c.localize)("Only letters, numbers, space, and hyphen are allowed.")):t.address_postcode=(0,c.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,c.localize)("Postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}})),t},enableReinitialize:!0},(function(e){var o=e.status,i=e.handleSubmit,s=e.isSubmitting,h=e.isValid;return n.createElement(n.Fragment,null,n.createElement(p.Z,{onDirty:U?se:void 0}),ne.should_show_form&&n.createElement("form",{noValidate:!0,className:"account-form account-form_poa",onSubmit:i},n.createElement(a.ThemedScrollbars,{height:"572px",is_bypassed:!r||U},n.createElement(l.Z,{scroll_offset:fe(o)},(null==o?void 0:o.msg)&&n.createElement(a.HintBox,{className:"account-form_poa-submit-error",icon:"IcAlertDanger",icon_height:16,icon_width:16,message:n.createElement(a.Text,{as:"p",size:U?"xxxs":"xs"},o.msg),is_danger:!0}),t&&n.createElement(a.Text,{size:U?"xxs":"xs",align:"left",color:"loss-danger"},n.createElement(c.Localize,{i18n_default_text:"We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type."})),n.createElement(d.Z,{title:(0,c.localize)("Address"),title_text_size:"s"}),n.createElement(y.Z,{is_qualified_for_poa:!0,editable_fields:ie,states_list:R}),n.createElement(d.Z,{title:(0,c.localize)("Document submission"),title_text_size:"s"}),n.createElement(f.Z,null,n.createElement(m.Z,{onFileDrop:function(e){Z(e)},onError:W,files_description:n.createElement(T,null),examples:n.createElement(v.Z,null)})))),r?n.createElement(a.Modal.Footer,{has_separator:!0},n.createElement(a.FormSubmitButton,{is_disabled:s||!h||K&&K.length<1||!!H,label:(0,c.localize)("Continue"),is_absolute:U,is_loading:s,form_error:null==o?void 0:o.msg})):n.createElement(u.Z,{className:"account-form__footer-poa"},n.createElement(a.Button,{className:"account-form__footer-btn",type:"submit",is_disabled:s||!h||K&&K.length<1||!!H,has_effect:!0,is_loading:ne.is_btn_loading,is_submit_success:ne.is_submit_success,text:(0,c.localize)("Save and submit"),primary:!0}))))}))}))},93905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(32735),o=r(54582),a=r(4390),i=r(47108),s=r(51417),c=r(44850),u=r(20568),l=r(46049),f=r(58727),d=r(93345),h=r(40841),p=r.n(h);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y=function(e){var t=e.is_onfido_disabled,r=e.is_onfido_container_hidden,o=e.onfido_element_id,s=void 0===o?"onfido":o,u=e.is_confirmed,l=e.data_testid,f=e.is_onfido_initialized,d=m(n.useState(!1),2),h=d[0],v=d[1],y=n.useRef(),S=n.useRef();return n.useEffect((function(){u&&(y.current=setTimeout((function(){v(!0)}),800),S.current=setTimeout((function(){v(!1)}),4650))}),[u]),n.useEffect((function(){return function(){clearTimeout(y.current),clearTimeout(S.current)}}),[]),n.createElement("div",{className:"onfido-container-view_wrapper"},n.createElement("div",{className:p()({"onfido-container__status-message_container":!t})},n.createElement(a.Z,{appear:h,in:h,timeout:{exit:350},classNames:{exit:"onfido-container__status-message--exit"},unmountOnExit:!0},n.createElement(i.HintBox,{className:"onfido-container__status-message",icon:"IcAlertAnnounce",icon_height:16,icon_width:16,message:n.createElement(i.Text,{as:"p",size:"xxxs"},n.createElement(c.Localize,{i18n_default_text:"Your personal details have been saved successfully."})),is_info:!0}))),t&&f&&n.createElement(i.HintBox,{className:"onfido-container__info-message",icon:"IcInfoBlue",icon_height:16,icon_width:16,message:n.createElement(i.Text,{as:"p",size:"xxxs"},n.createElement(c.Localize,{i18n_default_text:"Hit the checkbox above to choose your document."})),is_info:!0}),n.createElement("div",{"data-testid":l,id:s,className:p()({"onfido-container__disabled":t,"onfido-container__hidden":r})}))};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),s=new A(o||[]);return n(i,"_invoke",{value:I(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&r.call(y,a)&&(m=y);var g=p.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,a,i,s){var c=l(e[n],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function I(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},O(_.prototype),c(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(g),c(g,s,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function g(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const I=function(e){var t=e.account_settings,r=e.country_code,h=e.documents_supported,p=e.getChangeableFields,m=e.handleViewComplete,v=e.height,S=e.is_default_enabled,_=O(n.useState(),2),I=_[0],w=_[1],E=O(n.useState(""),2),L=E[0],A=E[1],x=O(n.useState(!0),2),T=x[0],N=x[1],M=O(n.useState(0),2),C=M[0],P=M[1],G=O(n.useState(!0),2),j=G[0],R=G[1],B=n.useRef(),k=O(n.useState(!1),2),F=k[0],U=k[1],D=O(n.useState(!1),2),K=D[0],Z=D[1],V=3!==r.length?o.alpha2ToAlpha3(r.toUpperCase()):r,H=2!==r.length?o.alpha3ToAlpha2(r.toUpperCase()):r,W=Array.isArray(h)?h:Object.keys(h).map((function(e){return h[e].display_name})),Y=n.useRef();n.useEffect((function(){S&&R(!1)}),[S]);var z,J=n.useCallback((function(e){var t;null==Y||null===(t=Y.current)||void 0===t||t.tearDown();var r=Object.keys(e).map((function(t){var r;return null===(r=e[t])||void 0===r?void 0:r.id}));s.WS.notificationEvent({notification_event:1,category:"authentication",event:"poi_documents_uploaded",args:{documents:r}}).then((function(){m()}))}),[m]),Q=n.useCallback(function(){var e,t=(e=b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.Onfido.init({containerId:"onfido",language:{locale:(0,c.getLanguage)().toLowerCase()||"en",phrases:(0,l.Z)(),mobilePhrases:(0,l.Z)()},token:t,useModal:!1,useMemoryHistory:!0,onComplete:J,steps:[{type:"document",options:{documentTypes:{passport:W.some((function(e){return/Passport/g.test(e)})),driving_licence:!!W.some((function(e){return/Driving Licence/g.test(e)}))&&{country:V},national_identity_card:!!W.some((function(e){return/National Identity Card/g.test(e)}))&&{country:V}},hideCountrySelection:!0}},"face"]});case 5:Y.current=e.sent,Z(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),w(e.t0),R(!0),Y.current=void 0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,s,"next",e)}function s(e){g(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[J,W,V]),X=n.useCallback((function(){return new Promise((function(e){s.WS.serviceToken({service_token:1,service:"onfido",country:H}).then((function(t){var r;if(t.error)e({error:t.error});else if(null!==(r=t.service_token)&&void 0!==r&&r.onfido){var n=t.service_token.onfido.token;e(n)}}))}))}),[H]),$=(0,n.useCallback)((function(){U(!0),R(!1)}),[]);if(n.useEffect((function(){var e=function(){Y.current||X().then((function(e){"string"!=typeof e&&null!=e&&e.error?(!function(e){switch(e.code){case"MissingPersonalDetails":A("all");break;case"InvalidPostalCode":A("postal_code");break;default:w(e)}}(e.error),N(!1),P(C+1),Y.current=void 0):"string"==typeof e&&Q(e).then((function(){N(!1)})),B.current&&clearTimeout(B.current)}))};return 0===C?e():0!==C&&C<3&&(B.current=setTimeout((function(){e()}),Math.pow(2,C)+1e3*(0,s.cryptoMathRandom)())),function(){clearTimeout(B.current)}}),[X,Q,C]),T)z=n.createElement(i.Loading,{is_fullscreen:!1});else if(L)z=n.createElement(f.Z,{has_invalid_postal_code:"postal_code"===L,from:"proof_of_identity"});else if(C>=3&&I){var q;z=n.createElement(u.Z,{error_message:null!==(q=null==I?void 0:I.message)&&void 0!==q?q:I})}return n.createElement(i.ThemedScrollbars,{is_bypassed:(0,s.isMobile)(),height:v},n.createElement("div",{className:"onfido-container"},z||n.createElement(a.Z,{appear:j,in:j,timeout:{exit:350},classNames:{exit:"account-form__poi-confirm-example_wrapper--exit"},unmountOnExit:!0},n.createElement("div",{className:"account-form__poi-confirm-example_wrapper account-form__poi-confirm-example_container"},n.createElement(d.Z,{account_settings:t,getChangeableFields:p,onFormConfirm:$}))),n.createElement(y,{is_onfido_disabled:j,is_confirmed:F,is_onfido_container_hidden:!!z,is_onfido_initialized:K})))}},25970:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(32735),o=r(47108),a=r(51417),i=r(44850),s=r(94500),c=r(20568),u=r(97852),l=r(81064),f=r(93905),d=r(60758),h=r(68949),p=r(21797);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),s=new A(o||[]);return n(i,"_invoke",{value:I(e,r,s)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var y={};c(y,a,(function(){return this}));var S=Object.getPrototypeOf,b=S&&S(S(x([])));b&&b!==t&&r.call(b,a)&&(y=b);var g=p.prototype=d.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(n,a,i,s){var c=l(e[n],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==m(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,s)}))}s(c.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function I(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},O(_.prototype),c(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(g),c(g,s,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const E=(0,s.observer)((function(e){var t=e.idv,r=e.is_idv_disallowed,i=e.onfido,c=e.onStateChange,u=e.citizen_data,m=e.has_idv_error,y=e.residence_list,b=_(n.useState(),2),I=b[0],w=b[1],E=_(n.useState(),2),L=E[0],A=E[1],x=(0,s.useStore)(),T=x.client,N=x.notifications,M=x.traders_hub,C=T.account_settings,P=T.getChangeableFields,G=N.refreshNotifications,j=M.is_eu_user;n.useEffect((function(){if(u){var e=t.submissions_left,n=i.submissions_left,o=(0,a.isVerificationServiceSupported)(y,C,"idv"),s=(0,a.isVerificationServiceSupported)(y,C,"onfido");o&&Number(e)>0&&!r&&!j?A(d.vL.idv):A(n&&s?d.vL.onfido:d.vL.manual),w(d.DR.submitting)}}),[u]);var R=function(){c&&"function"==typeof c&&c(d.Yy.pending),a.WS.authorized.getAccountStatus().then((function(){G()}))},B=function(){var e,t=(e=v().mark((function e(t,r){var n,o,i,s,c,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,o=r.setErrors,n(!0),i=(0,p.cf)(t,g(P())),e.next=5,a.WS.setSettings(i);case 5:if(!(s=e.sent).error){e.next=10;break}return o({error_message:s.error.message}),n(!1),e.abrupt("return");case 10:if(!(c=a.WS.authorized.storage.getSettings()).error){e.next=15;break}return o({error_message:c.error.message}),n(!1),e.abrupt("return");case 15:l=S({identity_verification_document_add:1},(0,a.formatIDVFormValues)(t,u.value)),a.WS.send(l).then((function(e){n(!1),e.error?o({error_message:e.error.message}):R()}));case 17:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,s,"next",e)}function s(e){O(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();if(I!==d.DR.submitting)return null;switch(L){case d.vL.idv:return n.createElement(h.G,{citizen_data:u,onNext:B,has_idv_error:m,getChangeableFields:P,account_settings:C});case d.vL.onfido:var k=u.value,F=u.identity.services.onfido.documents_supported,U=Object.keys(F).map((function(e){return F[e].display_name}));return n.createElement(o.AutoHeightWrapper,{default_height:620,height_offset:50},(function(e){var t=e.setRef,r=e.height;return n.createElement("div",{ref:t,style:{height:r}},n.createElement(f.Z,{account_settings:C,getChangeableFields:P,country_code:k,documents_supported:U,handleViewComplete:R,height:r}))}));case d.vL.manual:return n.createElement(l.Z,{onfido:i,country_code:u.value,is_mt5:!0,handlePOIforMT5Complete:R});default:return null}}));function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const x=(0,s.observer)((function(e){var t=e.onStateChange,r=e.citizen_data,l=L(n.useState(),2),f=l[0],h=l[1],p=L(n.useState(),2),m=p[0],v=p[1],y=L(n.useState(!0),2),S=y[0],b=y[1],g=(0,s.useStore)().client,O=g.account_status,_=g.fetchResidenceList,I=g.is_switching,w=g.is_virtual;if(n.useEffect((function(){I||a.WS.authorized.getAccountStatus().then((function(e){if(e.error)return h(e.error),void b(!1);_().then((function(e){e.error?h(e.error):v(e.residence_list),b(!1)}))}))}),[_,I]),S||I)return n.createElement(o.Loading,{is_fullscreen:!1});if(w)return n.createElement(u.Z,{icon:"IcPoaVerified",message:(0,i.localize)("Switch to your real account to submit your documents"),has_button:!0});if(f)return n.createElement(c.Z,{error_message:(null==f?void 0:f.message)||f});var A=function(e){var t=e.authentication,r=t.attempts,n=t.document,o=t.identity,a=t.needs_verification,i=o.status,s=n.status,c=e.status.some((function(e){return"allow_document_upload"===e})),u=e.status.some((function(e){return"allow_poi_resubmission"===e})),l=e.status.some((function(e){return"allow_poa_resubmission"===e})),f=e.status.some((function(e){return"age_verification"===e})),d=e.status.some((function(e){return"idv_disallowed"===e})),h=e.status.some((function(e){return"poa_address_mismatch"===e})),p=!(n&&"none"===n.status),m=!(o&&"none"===o.status),v="pending"===s&&!l,y=Boolean(a.length)&&a.includes("document"),S=Boolean(a.length)&&a.includes("identity"),b=o.services,g=b.idv,O=b.onfido,_=b.manual,I=r.latest;return{allow_document_upload:c,allow_poa_resubmission:l,allow_poi_resubmission:u,has_attempted_idv:Boolean(r.history.length&&r.history.find((function(e){return"idv"===e.service}))),has_poa:p,has_poi:m,has_submitted_poa:v,identity_last_attempt:I,identity_status:i,document_status:s,idv:g,is_age_verified:f,is_idv_disallowed:d,manual:_,needs_poa:y,needs_poi:S,needs_verification:a,onfido:O,poa_address_mismatch:h}}(O),x=A.idv,T=A.identity_last_attempt,N=A.is_idv_disallowed,M=A.onfido,C=(null==T?void 0:T.service)&&d.vL.idv&&["rejected","suspected","expired"].includes(x.status);return n.createElement(E,{idv:x,is_idv_disallowed:N,onfido:M,onStateChange:t,residence_list:m,citizen_data:r,has_idv_error:C})}))},60758:(e,t,r)=>{"use strict";r.d(t,{DR:()=>o,Yy:()=>n,vL:()=>a});var n={none:"none",pending:"pending",rejected:"rejected",verified:"verified",expired:"expired",suspected:"suspected"},o={selecting:"selecting",submitting:"submitting",complete:"complete"},a={idv:"idv",onfido:"onfido",manual:"manual"}},99911:e=>{"use strict";e.exports=JSON.parse('[["AF","AFG","004","ISO 3166-2:AF"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["MK","MKD","807","ISO 3166-2:MK"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["AX","ALA","248","ISO 3166-2:AX"],["BQ","BES","535","ISO 3166-2:BQ"],["CW","CUW","531","ISO 3166-2:CW"],["GG","GGY","831","ISO 3166-2:GG"],["IM","IMN","833","ISO 3166-2:IM"],["JE","JEY","832","ISO 3166-2:JE"],["ME","MNE","499","ISO 3166-2:ME"],["BL","BLM","652","ISO 3166-2:BL"],["MF","MAF","663","ISO 3166-2:MF"],["RS","SRB","688","ISO 3166-2:RS"],["SX","SXM","534","ISO 3166-2:SX"],["SS","SSD","728","ISO 3166-2:SS"],["XK","XKX","983","ISO 3166-2:XK"]]')}}]);
//# sourceMappingURL=core.cfd~bde52cb3.e959ac65cd380c5c50fe.js.map